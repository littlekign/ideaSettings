<application>
  <component name="VimEditorSettings">
    <editor />
  </component>
  <component name="VimHistorySettings">
    <history>
      <history-search />
      <history-cmd>
        <entry>action QuickJavaDoc</entry>
        <entry>w</entry>
        <entry>action $Redo</entry>
        <entry>action FindNext</entry>
        <entry>action Find</entry>
        <entry>action AceJumpAction</entry>
      </history-cmd>
      <history-expr />
      <history-input />
    </history>
  </component>
  <component name="VimKeySettings">
    <shortcut-conflicts>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed O</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed I</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed R</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed D</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed F</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed T</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed E</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed K</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed J</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed P</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed V</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed N</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed A</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed M</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed B</text>
      </shortcut-conflict>
    </shortcut-conflicts>
  </component>
  <component name="VimMarksSettings">
    <globalmarks />
    <filemarks>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/vo/UserBean.java" timestamp="1595738857144">
        <mark key="[" line="4" column="0" />
        <mark key="]" line="4" column="0" />
        <mark key="." line="4" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/controller/UserController.java" timestamp="1595745472309">
        <mark key="[" line="318" column="0" />
        <mark key="]" line="318" column="0" />
        <mark key="." line="318" column="0" />
        <mark key="^" line="323" column="75" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/webapp/WEB-INF/pages/index.jsp" timestamp="1595753835334">
        <mark key="e" line="32" column="21" />
        <mark key="'" line="100" column="0" />
        <mark key="[" line="3" column="80" />
        <mark key="]" line="4" column="15" />
        <mark key="." line="4" column="14" />
        <mark key="^" line="4" column="15" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/webapp/WEB-INF/pages/user/edit.jsp" timestamp="1595749455269">
        <mark key="[" line="48" column="0" />
        <mark key="]" line="48" column="0" />
        <mark key="." line="48" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/interceptor/AdminInterceptor.java" timestamp="1595738904579">
        <mark key="[" line="8" column="0" />
        <mark key="]" line="8" column="0" />
        <mark key="." line="8" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/dao/BaseDao.java" timestamp="1595738852811">
        <mark key="[" line="4" column="0" />
        <mark key="]" line="4" column="0" />
        <mark key="." line="4" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/dao/UserDao.java" timestamp="1595738873136">
        <mark key="[" line="7" column="0" />
        <mark key="]" line="7" column="0" />
        <mark key="." line="7" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/util/UploadImg.java" timestamp="1595744251323">
        <mark key="[" line="40" column="56" />
        <mark key="]" line="40" column="56" />
        <mark key="." line="40" column="56" />
        <mark key="^" line="43" column="49" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/service/UserService.java" timestamp="1595738893683">
        <mark key="[" line="8" column="0" />
        <mark key="]" line="8" column="0" />
        <mark key="." line="8" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/dao/imp/UserDaoImp.java" timestamp="1595738877142">
        <mark key="[" line="13" column="0" />
        <mark key="]" line="13" column="0" />
        <mark key="." line="13" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/vo/MessageJsonBean.java" timestamp="1595738861049">
        <mark key="[" line="2" column="0" />
        <mark key="]" line="2" column="0" />
        <mark key="." line="2" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/vo/MessageBean.java" timestamp="1595738865343">
        <mark key="[" line="2" column="0" />
        <mark key="]" line="2" column="0" />
        <mark key="." line="2" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/service/imp/UserServiceImp.java" timestamp="1595738897248">
        <mark key="[" line="13" column="0" />
        <mark key="]" line="13" column="0" />
        <mark key="." line="13" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/controller/AdminController.java" timestamp="1595738886017">
        <mark key="[" line="21" column="0" />
        <mark key="]" line="21" column="0" />
        <mark key="." line="21" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/interceptor/UserInterceptor.java" timestamp="1595738900949">
        <mark key="[" line="8" column="0" />
        <mark key="]" line="8" column="0" />
        <mark key="." line="8" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/model/User.java" timestamp="1595738881058">
        <mark key="[" line="10" column="0" />
        <mark key="]" line="10" column="0" />
        <mark key="." line="10" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/dao/MessageDao.java" timestamp="1595738869293">
        <mark key="[" line="7" column="0" />
        <mark key="]" line="7" column="0" />
        <mark key="." line="7" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/webapp/WEB-INF/static/tinymce.min.js" timestamp="1595752662852">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="1" column="0" />
        <mark key="." line="1" column="0" />
        <mark key="^" line="1" column="0" />
      </file>
      <file name="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/java/com/licyun/service/MessageService.java" timestamp="1595738890200">
        <mark key="[" line="8" column="0" />
        <mark key="]" line="8" column="0" />
        <mark key="." line="8" column="0" />
      </file>
      <file name="/fragment.java" timestamp="1595741149264">
        <mark key="[" line="0" column="0" />
      </file>
    </filemarks>
    <jumps>
      <jump line="16" column="0" filename="$USER_HOME$/Desktop/project/rawjava/src/datastructure/binarytree.java" />
      <jump line="260" column="0" filename="$USER_HOME$/Desktop/project/rawjava/src/datastructure/binarytree.java" />
      <jump line="24" column="16" filename="$USER_HOME$/Desktop/project/springboot/chapter02/src/main/java/gzsc/webapp/controller/HelloController.java" />
      <jump line="0" column="0" filename="$USER_HOME$/Desktop/project/springboot/chapter02/src/main/java/gzsc/webapp/controller/HelloController.java" />
      <jump line="8" column="3" filename="$USER_HOME$/Desktop/project/springboot/chapter02/src/main/java/gzsc/webapp/repositories/AuthorRespostory.java" />
      <jump line="38" column="0" filename="$USER_HOME$/Desktop/project/springboot/chapter02/src/main/java/gzsc/webapp/repositories/AuthorRespostory.java" />
      <jump line="16" column="45" filename="$USER_HOME$/Desktop/project/springbootInjection/src/main/java/com/example/demo/DemoApplication.java" />
      <jump line="11" column="0" filename="$USER_HOME$/Desktop/project/springbootInjection/src/main/java/com/example/demo/DemoApplication.java" />
      <jump line="20" column="0" filename="$USER_HOME$/Desktop/project/springbootInjection/src/main/java/com/example/demo/controller/PropertyInjectedController.java" />
      <jump line="27" column="15" filename="$USER_HOME$/Desktop/live/todoapp/src/main/java/com/todoapp/model/Todo.java" />
      <jump line="28" column="26" filename="$USER_HOME$/Desktop/live/todoapp/src/main/java/com/todoapp/model/Todo.java" />
      <jump line="69" column="17" filename="$USER_HOME$/Desktop/live/todoapp/src/main/java/com/todoapp/model/Todo.java" />
      <jump line="28" column="20" filename="$USER_HOME$/Desktop/live/todoapp/src/main/java/com/todoapp/controller/todolsController.java" />
      <jump line="10" column="0" filename="$USER_HOME$/Desktop/live/todoapp/src/main/java/com/todoapp/controller/todolsController.java" />
      <jump line="8" column="13" filename="$USER_HOME$/Desktop/live/todoapp/src/main/resources/templates/index.html" />
      <jump line="24" column="11" filename="$USER_HOME$/Desktop/SpaceColonies/src/spacecolonies/ColonyReader.java" />
      <jump line="54" column="61" filename="$USER_HOME$/Desktop/SpaceColonies/src/spacecolonies/ProjectRunner.java" />
      <jump line="8" column="0" filename="$USER_HOME$/Desktop/project/JAVA_Projects/SpaceColonies/src/spacecolonies/ColonyReader.java" />
      <jump line="147" column="22" filename="$USER_HOME$/Desktop/SpaceColonies/src/spacecolonies/ColonyReader.java" />
      <jump line="151" column="13" filename="$USER_HOME$/Desktop/SpaceColonies/src/spacecolonies/ColonyReader.java" />
      <jump line="167" column="0" filename="$USER_HOME$/Desktop/SpaceColonies/src/spacecolonies/ColonyReader.java" />
      <jump line="215" column="32" filename="$USER_HOME$/Desktop/project/JAVA_Projects/SpaceColonies/src/spacecolonies/SpaceWindow.java" />
      <jump line="147" column="6" filename="$USER_HOME$/Desktop/project/JAVA_Projects/SpaceColonies/src/spacecolonies/SpaceWindow.java" />
      <jump line="182" column="31" filename="$USER_HOME$/Desktop/project/JAVA_Projects/SpaceColonies/src/spacecolonies/SpaceWindow.java" />
      <jump line="137" column="44" filename="$USER_HOME$/Desktop/SpaceColonies/src/spacecolonies/SpaceWindow.java" />
      <jump line="33" column="19" filename="$USER_HOME$/Desktop/project/webapp/pom.xml" />
      <jump line="21" column="13" filename="$USER_HOME$/Desktop/project/webapp/src/main/java/com/webapp/config/Appconfig.java" />
      <jump line="9" column="0" filename="$USER_HOME$/Desktop/project/webapp/src/main/java/com/webapp/Dao/DepartmentDao.java" />
      <jump line="21" column="10" filename="$USER_HOME$/Desktop/project/webapp/src/main/java/com/webapp/Dao/DepartmentDao.java" />
      <jump line="13" column="0" filename="$USER_HOME$/Desktop/project/webapp/src/main/java/com/webapp/Dao/DaoInfo.java" />
      <jump line="69" column="20" filename="$USER_HOME$/Desktop/project/halo/src/main/java/run/halo/app/model/entity/User.java" />
      <jump line="2" column="0" filename="$USER_HOME$/Desktop/project/springmvc/src/main/com/gz/webapp/resources/spring-servlet.xml" />
      <jump line="24" column="7" filename="$USER_HOME$/Desktop/project/springmvc/src/main/com/gz/webapp/resources/spring-servlet.xml" />
      <jump line="24" column="1" filename="$USER_HOME$/Desktop/project/webapp/src/main/java/com/webapp/Dao/DaoInfo.java" />
      <jump line="66" column="0" filename="$USER_HOME$/Desktop/project/webapp/src/main/java/com/webapp/Dao/DaoInfo.java" />
      <jump line="2" column="27" filename="$USER_HOME$/Desktop/project/todoapp/src/main/resources/application.properties" />
      <jump line="32" column="0" filename="$USER_HOME$/Desktop/project/todoapp/src/test/java/com/todoapp/TodoappApplicationTests.java" />
      <jump line="24" column="8" filename="$USER_HOME$/Desktop/project/todoapp/src/test/java/com/todoapp/TodoappApplicationTests.java" />
      <jump line="4" column="16" filename="$USER_HOME$/Desktop/project/todoapp/src/main/resources/templates/demo/demo.html" />
      <jump line="6" column="0" filename="$USER_HOME$/Desktop/project/todoapp/pom.xml" />
      <jump line="23" column="24" filename="$USER_HOME$/Desktop/project/shiro/spring-shiro/pom.xml" />
      <jump line="12" column="25" filename="$USER_HOME$/Desktop/project/shiro/spring-shiro/src/main/resources/templates/index.html" />
      <jump line="16" column="12" filename="$USER_HOME$/Desktop/project/shiro/spring-shiro/src/main/java/com/controller/LoginController.java" />
      <jump line="54" column="8" filename="$USER_HOME$/Desktop/project/shiro/spring-shiro/src/main/java/com/config/ShiroConfig.java" />
      <jump line="53" column="4" filename="$USER_HOME$/Desktop/project/shiro/spring-shiro/src/main/java/com/config/ShiroConfig.java" />
      <jump line="37" column="0" filename="$USER_HOME$/Desktop/project/shiro/spring-shiro/src/main/java/com/controller/IndexController.java" />
      <jump line="9" column="15" filename="$USER_HOME$/Desktop/project/shiro/spring-shiro/src/main/java/com/pojo/User.java" />
      <jump line="62" column="26" filename="$USER_HOME$/Desktop/project/shiro/spring-shiro/src/main/resources/application.yml" />
      <jump line="72" column="38" filename="$USER_HOME$/Desktop/4-29/ssm图书管理系统/ssm图书管理系统/src/resources/applicationContext.xml" />
      <jump line="835" column="0" filename="$USER_HOME$/Desktop/4-29/ssm图书管理系统/ssm图书管理系统/src/java/dao/Query.java" />
      <jump line="790" column="8" filename="$USER_HOME$/Desktop/4-29/ssm图书管理系统/ssm图书管理系统/out/artifacts/ssm_war_exploded/WEB-INF/lib/mapper-3.5.3.jar!/tk/mybatis/mapper/entity/Example.class" />
      <jump line="29" column="17" filename="$USER_HOME$/Desktop/project/todoapp/springboot-todoapp/src/main/java/com/springboottodoapp/entity/TodoList.java" />
      <jump line="9" column="15" filename="$USER_HOME$/Desktop/project/todoapp/springboot-todoapp/src/main/java/com/springboottodoapp/entity/TodoList.java" />
      <jump line="14" column="99" filename="$USER_HOME$/Desktop/project/todoapp/springboot-todoapp/src/test/java/com/springboottodoapp/entity/TodoListTest.java" />
      <jump line="6" column="27" filename="$USER_HOME$/Desktop/untitled folder/WeClass/src/main/java/com/zechuan/WeClass/Application.java" />
      <jump line="100" column="43" filename="$USER_HOME$/Desktop/untitled folder/WeClass/pom.xml" />
      <jump line="1023" column="16" filename="$USER_HOME$/Downloads/projects/通3俄罗斯方块/nbproject/build-imp.xml" />
      <jump line="36" column="25" filename="$USER_HOME$/Downloads/projects/通3俄罗斯方块/nbproject/build-impl.xml" />
      <jump line="18" column="21" filename="$USER_HOME$/Downloads/projects/通3俄罗斯方块/build.xml" />
      <jump line="29" column="0" filename="$USER_HOME$/Downloads/6.3/untitled/demo/src/main/java/com/example/controller/IndexController.java" />
      <jump line="16" column="21" filename="$USER_HOME$/Downloads/6.3/untitled/demo/src/main/java/com/example/pojo/Feeling.java" />
      <jump line="56" column="51" filename="$USER_HOME$/Downloads/6.3/untitled/demo/src/main/java/com/example/pojo/Feeling.java" />
      <jump line="17" column="0" filename="$USER_HOME$/Downloads/6.3/untitled/demo/src/main/java/com/example/pojo/Feeling.java" />
      <jump line="58" column="0" filename="$USER_HOME$/Downloads/6.3/untitled/demo/src/main/java/com/example/pojo/Feeling.java" />
      <jump line="20" column="22" filename="$USER_HOME$/Downloads/6.3/untitled/demo/src/main/resources/templates/index.html" />
      <jump line="11" column="17" filename="$USER_HOME$/Downloads/work-space/ordersystem/bak/crateTable.sql" />
      <jump line="14" column="71" filename="$USER_HOME$/Downloads/work-space/mental/mental/src/main/resources/logback.xml" />
      <jump line="95" column="21" filename="$USER_HOME$/Downloads/work-space/mental/mental/src/main/java/com/caseinfo/controller/IndexController.java" />
      <jump line="20" column="22" filename="$USER_HOME$/Downloads/work-space/mental/mental/src/main/webapp/WEB-INF/view/public/menu.jsp" />
      <jump line="182" column="0" filename="$USER_HOME$/Downloads/work-space/mental/mental/src/main/java/com/caseinfo/util/SensitiveFilter.java" />
      <jump line="15" column="43" filename="$USER_HOME$/Downloads/work-space/mental/mental/src/main/java/com/caseinfo/util/Test.java" />
      <jump line="106" column="57" filename="$USER_HOME$/Downloads/work-space/Lhfly-BBS/src/main/java/controller/UserController.java" />
      <jump line="32" column="24" filename="$USER_HOME$/Downloads/work-space/Lhfly-BBS/src/main/java/Listener/onLineListener.java" />
      <jump line="234" column="0" filename="$USER_HOME$/Downloads/work-space/Lhfly-BBS/src/main/java/Listener/onLineListener.java" />
      <jump line="74" column="0" filename="$USER_HOME$/Downloads/work-space/Lhfly-BBS/src/main/java/Listener/onLineListener.java" />
      <jump line="115" column="65" filename="$USER_HOME$/Downloads/work-space/directory/WebContent/WEB-INF/page/loginExt.jsp" />
      <jump line="26" column="34" filename="$USER_HOME$/Downloads/struct2_wechat 2/myproject/src/com/ideabobo/model/Choose.java" />
      <jump line="785" column="0" filename="$APPLICATION_HOME_DIR$/lib/intellij-xml.jar!/resources/html5-schema/html5/aria.rnc" />
      <jump line="39" column="0" filename="$USER_HOME$/Downloads/qimo/src/login/MyFrame.java" />
      <jump line="128" column="25" filename="$USER_HOME$/Downloads/qimo/src/login/login.java" />
      <jump line="160" column="26" filename="$USER_HOME$/Downloads/qimo/src/login/login.java" />
      <jump line="16" column="8" filename="$USER_HOME$/Downloads/qimo/src/login/login.java" />
      <jump line="161" column="0" filename="$USER_HOME$/Downloads/qimo/src/login/login.java" />
      <jump line="10" column="43" filename="$USER_HOME$/Downloads/qimo/src/login/login.java" />
      <jump line="147" column="31" filename="$USER_HOME$/Downloads/qimo/src/login/login.java" />
      <jump line="238" column="14" filename="$USER_HOME$/Downloads/qimo/src/login/MyFrame.java" />
      <jump line="17" column="0" filename="$USER_HOME$/Downloads/qimo/src/login/login.java" />
      <jump line="32" column="51" filename="$USER_HOME$/Downloads/qimo/src/login/MyFrame.java" />
      <jump line="36" column="35" filename="$USER_HOME$/Downloads/qimo/src/login/MyFrame.java" />
      <jump line="44" column="43" filename="$USER_HOME$/Downloads/qimo/src/login/login.java" />
      <jump line="40" column="0" filename="$USER_HOME$/Downloads/qimo/src/login/login.java" />
      <jump line="164" column="0" filename="$USER_HOME$/Downloads/qimo/src/login/login.java" />
      <jump line="149" column="7" filename="$USER_HOME$/Downloads/qimo/src/login/login.java" />
      <jump line="32" column="4" filename="$USER_HOME$/Downloads/新建文件夹/src/com/gugu/servlet/RegServlet.java" />
      <jump line="838" column="28" filename="/Library/Java/JavaVirtualMachines/jdk1.8.0_241.jdk/Contents/Home/src.zip!/java/sql/ResultSet.java" />
      <jump line="172" column="23" filename="$USER_HOME$/Downloads/新建文件夹/WebContent/WEB-INF/web.xml" />
      <jump line="63" column="18" filename="$USER_HOME$/Downloads/新建文件夹/WebContent/resetPassword.jsp" />
      <jump line="20" column="19" filename="$USER_HOME$/Downloads/work-space/Hotel/pom.xml" />
      <jump line="14" column="45" filename="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/webapp/WEB-INF/pages/admin/login.jsp" />
      <jump line="99" column="0" filename="$USER_HOME$/Downloads/learn/springMVCgbook/src/main/webapp/WEB-INF/pages/index.jsp" />
    </jumps>
  </component>
  <component name="VimRegisterSettings">
    <registers>
      <register name="&quot;" type="4">
        <text>#</text>
      </register>
      <register name="-" type="4">
        <text>#</text>
      </register>
      <register name="0" type="2">
        <text encoding="base64">PHNjcmlwdCBzcmM9IiR7cGFnZUNvbnRleHQucmVxdWVzdC5jb250ZXh0UGF0aH0vc3RhdGljL3BhZ2Vqc29uLmpzIj48L3NjcmlwdD4K</text>
      </register>
      <register name="1" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="2" type="2">
        <text encoding="base64">ICAgICAgICBtb2RlOiJzcGVjaWZpY190ZXh0YXJlYXMiLAo=</text>
      </register>
      <register name="3" type="2">
        <text encoding="base64">ICAgICAgICB2Cg==</text>
      </register>
      <register name="4" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="5" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="6" type="2">
        <text encoding="base64">ICAgIAo=</text>
      </register>
      <register name="7" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="8" type="2">
        <text encoding="base64">PHNjcmlwdCBzcmM9IiR7cGFnZUNvbnRleHQucmVxdWVzdC5jb250ZXh0UGF0aH0vc3RhdGljL3RpbnltY2UubWluLmpzIj48L3NjcmlwdD4K</text>
      </register>
      <register name="9" type="4">
        <text encoding="base64">IWZ1bmN0aW9uKFYpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1mdW5jdGlvbihlKXtpZihudWxsPT09ZSlyZXR1cm4ibnVsbCI7aWYoZT09PXVuZGVmaW5lZClyZXR1cm4idW5kZWZpbmVkIjt2YXIgdD10eXBlb2YgZTtyZXR1cm4ib2JqZWN0Ij09dCYmKEFycmF5LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpfHxlLmNvbnN0cnVjdG9yJiYiQXJyYXkiPT09ZS5jb25zdHJ1Y3Rvci5uYW1lKT8iYXJyYXkiOiJvYmplY3QiPT10JiYoU3RyaW5nLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpfHxlLmNvbnN0cnVjdG9yJiYiU3RyaW5nIj09PWUuY29uc3RydWN0b3IubmFtZSk/InN0cmluZyI6dH0sdD1mdW5jdGlvbihlKXtyZXR1cm57ZXE6ZX19LHM9dChmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dH0pLGk9ZnVuY3Rpb24obyl7cmV0dXJuIHQoZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj1lLmxlbmd0aCxyPTA7cjxuO3IrKylpZighby5lcShlW3JdLHRbcl0pKXJldHVybiExO3JldHVybiEwfSl9LGM9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbj1pKGUpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ZSxuPXIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkuc29ydChuKTt2YXIgdCxufSx0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uZXEobyhlKSxvKHQpKX0pO3ZhciBuLG99LHU9ZnVuY3Rpb24odSl7cmV0dXJuIHQoZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKSxyPU9iamVjdC5rZXlzKHQpO2lmKCFjKHMpLmVxKG4scikpcmV0dXJuITE7Zm9yKHZhciBvPW4ubGVuZ3RoLGk9MDtpPG87aSsrKXt2YXIgYT1uW2ldO2lmKCF1LmVxKGVbYV0sdFthXSkpcmV0dXJuITF9cmV0dXJuITB9KX0sbD10KGZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuITA7dmFyIG49cihlKTtyZXR1cm4gbj09PXIodCkmJigtMSE9PVsidW5kZWZpbmVkIiwiYm9vbGVhbiIsIm51bWJlciIsInN0cmluZyIsImZ1bmN0aW9uIiwieG1sIiwibnVsbCJdLmluZGV4T2Yobik/ZT09PXQ6ImFycmF5Ij09PW4/aShsKS5lcShlLHQpOiJvYmplY3QiPT09biYmdShsKS5lcShlLHQpKX0pLGY9ZnVuY3Rpb24oKXt9LGE9ZnVuY3Rpb24obixyKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIG4oci5hcHBseShudWxsLGUpKX19LHg9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlfTtmdW5jdGlvbiBOKHIpe2Zvcih2YXIgbz1bXSxlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKylvW2UtMV09YXJndW1lbnRzW2VdO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgbj1vLmNvbmNhdChlKTtyZXR1cm4gci5hcHBseShudWxsLG4pfX12YXIgZSxuLGQsbT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIXQoZSl9fSxwPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihlKX19LGc9eCghMSksaD14KCEwKSx2PWZ1bmN0aW9uKCl7cmV0dXJuIHl9LHk9KGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNOb25lKCl9LHtmb2xkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUoKX0saXM6Zyxpc1NvbWU6Zyxpc05vbmU6aCxnZXRPcjpkPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxnZXRPclRodW5rOm49ZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0sZ2V0T3JEaWU6ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKGV8fCJlcnJvcjogZ2V0T3JEaWUgY2FsbGVkIG9uIG5vbmUuIil9LGdldE9yTnVsbDp4KG51bGwpLGdldE9yVW5kZWZpbmVkOngodW5kZWZpbmVkKSxvcjpkLG9yVGh1bms6bixtYXA6dixlYWNoOmYsYmluZDp2LGV4aXN0czpnLGZvcmFsbDpoLGZpbHRlcjp2LGVxdWFsczplLGVxdWFsc186ZSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuW119LHRvU3RyaW5nOngoIm5vbmUoKSIpfSksYj1mdW5jdGlvbihuKXt2YXIgZT14KG4pLHQ9ZnVuY3Rpb24oKXtyZXR1cm4gb30scj1mdW5jdGlvbihlKXtyZXR1cm4gZShuKX0sbz17Zm9sZDpmdW5jdGlvbihlLHQpe3JldHVybiB0KG4pfSxpczpmdW5jdGlvbihlKXtyZXR1cm4gbj09PWV9LGlzU29tZTpoLGlzTm9uZTpnLGdldE9yOmUsZ2V0T3JUaHVuazplLGdldE9yRGllOmUsZ2V0T3JOdWxsOmUsZ2V0T3JVbmRlZmluZWQ6ZSxvcjp0LG9yVGh1bms6dCxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIGIoZShuKSl9LGVhY2g6ZnVuY3Rpb24oZSl7ZShuKX0sYmluZDpyLGV4aXN0czpyLGZvcmFsbDpyLGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZShuKT9vOnl9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm5bbl19LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuInNvbWUoIituKyIpIn0sZXF1YWxzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlzKG4pfSxlcXVhbHNfOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZm9sZChnLGZ1bmN0aW9uKGUpe3JldHVybiB0KG4sZSl9KX19O3JldHVybiBvfSxCPXtzb21lOmIsbm9uZTp2LGZyb206ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHxlPT09dW5kZWZpbmVkP3k6YihlKX19LEM9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuPXR5cGVvZih0PWUpLChudWxsPT09dD8ibnVsbCI6Im9iamVjdCI9PW4mJihBcnJheS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZih0KXx8dC5jb25zdHJ1Y3RvciYmIkFycmF5Ij09PXQuY29uc3RydWN0b3IubmFtZSk/ImFycmF5Ijoib2JqZWN0Ij09biYmKFN0cmluZy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZih0KXx8dC5jb25zdHJ1Y3RvciYmIlN0cmluZyI9PT10LmNvbnN0cnVjdG9yLm5hbWUpPyJzdHJpbmciOm4pPT09cjt2YXIgdCxufX0sdz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09dH19LFM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZX19LHE9Qygic3RyaW5nIiksRT1DKCJvYmplY3QiKSxrPUMoImFycmF5IiksXz1TKG51bGwpLFQ9dygiYm9vbGVhbiIpLFI9Uyh1bmRlZmluZWQpLEE9dygiZnVuY3Rpb24iKSxEPXcoIm51bWJlciIpLE89QXJyYXkucHJvdG90eXBlLnNsaWNlLFA9QXJyYXkucHJvdG90eXBlLmluZGV4T2YsTD1BcnJheS5wcm90b3R5cGUucHVzaCxJPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFAuY2FsbChlLHQpfSxNPWZ1bmN0aW9uKGUsdCl7cmV0dXJuLTE8SShlLHQpfSxGPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKXtpZih0KGVbbl0sbikpcmV0dXJuITB9cmV0dXJuITF9LFU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5sZW5ndGgscj1uZXcgQXJyYXkobiksbz0wO288bjtvKyspe3ZhciBpPWVbb107cltvXT10KGksbyl9cmV0dXJuIHJ9LHo9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspe3QoZVtuXSxuKX19LGo9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5sZW5ndGgtMTswPD1uO24tLSl7dChlW25dLG4pfX0sSD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPTAsbz1lLmxlbmd0aDtyPG87cisrKXt2YXIgaT1lW3JdO3QoaSxyKSYmbi5wdXNoKGkpfXJldHVybiBufSwkPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaihlLGZ1bmN0aW9uKGUpe249dChuLGUpfSksbn0sVz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHooZSxmdW5jdGlvbihlKXtuPXQobixlKX0pLG59LEs9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9ZVtyXTtpZih0KGkscikpcmV0dXJuIEIuc29tZShpKTtpZihuKGkscikpYnJlYWt9cmV0dXJuIEIubm9uZSgpfShlLHQsZyl9LFg9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspe2lmKHQoZVtuXSxuKSlyZXR1cm4gQi5zb21lKG4pfXJldHVybiBCLm5vbmUoKX0sWT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wLHI9ZS5sZW5ndGg7bjxyOysrbil7aWYoIWsoZVtuXSkpdGhyb3cgbmV3IEVycm9yKCJBcnIuZmxhdHRlbiBpdGVtICIrbisiIHdhcyBub3QgYW4gYXJyYXksIGlucHV0OiAiK2UpO0wuYXBwbHkodCxlW25dKX1yZXR1cm4gdH0oVShlLHQpKX0sRz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyOysrbil7aWYoITAhPT10KGVbbl0sbikpcmV0dXJuITF9cmV0dXJuITB9LEo9ZnVuY3Rpb24oZSl7dmFyIHQ9Ty5jYWxsKGUsMCk7cmV0dXJuIHQucmV2ZXJzZSgpLHR9LFE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSChlLGZ1bmN0aW9uKGUpe3JldHVybiFNKHQsZSl9KX0sWj1mdW5jdGlvbihlKXtyZXR1cm4gMD09PWUubGVuZ3RoP0Iubm9uZSgpOkIuc29tZShlWzBdKX0sZWU9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLmxlbmd0aD9CLm5vbmUoKTpCLnNvbWUoZVtlLmxlbmd0aC0xXSl9LHRlPUEoQXJyYXkuZnJvbSk/QXJyYXkuZnJvbTpmdW5jdGlvbihlKXtyZXR1cm4gTy5jYWxsKGUpfSxuZT1PYmplY3Qua2V5cyxyZT1PYmplY3QuaGFzT3duUHJvcGVydHksb2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49bmUoZSkscj0wLG89bi5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9bltyXTt0KGVbaV0saSl9fSxpZT1mdW5jdGlvbihlLG4pe3JldHVybiBhZShlLGZ1bmN0aW9uKGUsdCl7cmV0dXJue2s6dCx2Om4oZSx0KX19KX0sYWU9ZnVuY3Rpb24oZSxyKXt2YXIgbz17fTtyZXR1cm4gb2UoZSxmdW5jdGlvbihlLHQpe3ZhciBuPXIoZSx0KTtvW24ua109bi52fSksb30sdWU9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7blt0XT1lfX0sc2U9ZnVuY3Rpb24oZSxuLHIsbyl7cmV0dXJuIG9lKGUsZnVuY3Rpb24oZSx0KXsobihlLHQpP3I6bykoZSx0KX0pLHt9fSxjZT1mdW5jdGlvbihlLHQpe3ZhciBuPXt9LHI9e307cmV0dXJuIHNlKGUsdCx1ZShuKSx1ZShyKSkse3Q6bixmOnJ9fSxsZT1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybiBzZShlLHQsdWUobiksZiksbn0sZmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG49ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHI9W10sb2UoZSxmdW5jdGlvbihlLHQpe3IucHVzaChuKGUsdCkpfSkscjt2YXIgbixyfSxkZT1mdW5jdGlvbihlLHQpe3JldHVybiBtZShlLHQpP0IuZnJvbShlW3RdKTpCLm5vbmUoKX0sbWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcmUuY2FsbChlLHQpfSxwZT1BcnJheS5pc0FycmF5LGdlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvO2lmKCFlKXJldHVybiAwO2lmKG49bnx8ZSxlLmxlbmd0aCE9PXVuZGVmaW5lZCl7Zm9yKHI9MCxvPWUubGVuZ3RoO3I8bztyKyspaWYoITE9PT10LmNhbGwobixlW3JdLHIsZSkpcmV0dXJuIDB9ZWxzZSBmb3IociBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikmJiExPT09dC5jYWxsKG4sZVtyXSxyLGUpKXJldHVybiAwO3JldHVybiAxfSxoZT1mdW5jdGlvbihuLHIpe3ZhciBvPVtdO3JldHVybiBnZShuLGZ1bmN0aW9uKGUsdCl7by5wdXNoKHIoZSx0LG4pKX0pLG99LHZlPWZ1bmN0aW9uKG4scil7dmFyIG89W107cmV0dXJuIGdlKG4sZnVuY3Rpb24oZSx0KXtyJiYhcihlLHQsbil8fG8ucHVzaChlKX0pLG99LHllPWZ1bmN0aW9uKGUsdCl7dmFyIG4scjtpZihlKWZvcihuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxiZT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz0wO2Zvcihhcmd1bWVudHMubGVuZ3RoPDMmJihuPWVbMF0pO288ZS5sZW5ndGg7bysrKW49dC5jYWxsKHIsbixlW29dLG8pO3JldHVybiBufSxDZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsbztmb3Iocj0wLG89ZS5sZW5ndGg7cjxvO3IrKylpZih0LmNhbGwobixlW3JdLHIsZSkpcmV0dXJuIHI7cmV0dXJuLTF9LHdlPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UubGVuZ3RoLTFdfSx4ZT1mdW5jdGlvbigpe3JldHVybih4ZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0xLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tuXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIFNlKCl7Zm9yKHZhciBlPTAsdD0wLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWUrPWFyZ3VtZW50c1t0XS5sZW5ndGg7dmFyIHI9QXJyYXkoZSksbz0wO2Zvcih0PTA7dDxuO3QrKylmb3IodmFyIGk9YXJndW1lbnRzW3RdLGE9MCx1PWkubGVuZ3RoO2E8dTthKyssbysrKXJbb109aVthXTtyZXR1cm4gcn12YXIgTmUsRWUsa2UsX2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO2lmKHIudGVzdCh0KSlyZXR1cm4gcn1yZXR1cm4gdW5kZWZpbmVkfShlLHQpO2lmKCFuKXJldHVybnttYWpvcjowLG1pbm9yOjB9O3ZhciByPWZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIodC5yZXBsYWNlKG4sIiQiK2UpKX07cmV0dXJuIFJlKHIoMSkscigyKSl9LFRlPWZ1bmN0aW9uKCl7cmV0dXJuIFJlKDAsMCl9LFJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJue21ham9yOmUsbWlub3I6dH19LEFlPXtudTpSZSxkZXRlY3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbj1TdHJpbmcodCkudG9Mb3dlckNhc2UoKTtyZXR1cm4gMD09PWUubGVuZ3RoP1RlKCk6X2UoZSxuKX0sdW5rbm93bjpUZX0sRGU9IkZpcmVmb3giLE9lPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY3VycmVudCxuPWUudmVyc2lvbixyPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0PT09ZX19O3JldHVybntjdXJyZW50OnQsdmVyc2lvbjpuLGlzRWRnZTpyKCJFZGdlIiksaXNDaHJvbWU6cigiQ2hyb21lIiksaXNJRTpyKCJJRSIpLGlzT3BlcmE6cigiT3BlcmEiKSxpc0ZpcmVmb3g6cihEZSksaXNTYWZhcmk6cigiU2FmYXJpIil9fSxCZT17dW5rbm93bjpmdW5jdGlvbigpe3JldHVybiBPZSh7Y3VycmVudDp1bmRlZmluZWQsdmVyc2lvbjpBZS51bmtub3duKCl9KX0sbnU6T2UsZWRnZTp4KCJFZGdlIiksY2hyb21lOngoIkNocm9tZSIpLGllOngoIklFIiksb3BlcmE6eCgiT3BlcmEiKSxmaXJlZm94OngoRGUpLHNhZmFyaTp4KCJTYWZhcmkiKX0sUGU9IldpbmRvd3MiLExlPSJBbmRyb2lkIixJZT0iU29sYXJpcyIsTWU9IkZyZWVCU0QiLEZlPSJDaHJvbWVPUyIsVWU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jdXJyZW50LG49ZS52ZXJzaW9uLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQ9PT1lfX07cmV0dXJue2N1cnJlbnQ6dCx2ZXJzaW9uOm4saXNXaW5kb3dzOnIoUGUpLGlzaU9TOnIoImlPUyIpLGlzQW5kcm9pZDpyKExlKSxpc09TWDpyKCJPU1giKSxpc0xpbnV4OnIoIkxpbnV4IiksaXNTb2xhcmlzOnIoSWUpLGlzRnJlZUJTRDpyKE1lKSxpc0Nocm9tZU9TOnIoRmUpfX0semU9e3Vua25vd246ZnVuY3Rpb24oKXtyZXR1cm4gVWUoe2N1cnJlbnQ6dW5kZWZpbmVkLHZlcnNpb246QWUudW5rbm93bigpfSl9LG51OlVlLHdpbmRvd3M6eChQZSksaW9zOngoImlPUyIpLGFuZHJvaWQ6eChMZSksbGludXg6eCgiTGludXgiKSxvc3g6eCgiT1NYIiksc29sYXJpczp4KEllKSxmcmVlYnNkOngoTWUpLGNocm9tZW9zOngoRmUpfSxqZT1mdW5jdGlvbihlLHQpe3ZhciBuPVN0cmluZyh0KS50b0xvd2VyQ2FzZSgpO3JldHVybiBLKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2VhcmNoKG4pfSl9LEhlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGplKGUsbikubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PUFlLmRldGVjdChlLnZlcnNpb25SZWdleGVzLG4pO3JldHVybntjdXJyZW50OmUubmFtZSx2ZXJzaW9uOnR9fSl9LFZlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGplKGUsbikubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PUFlLmRldGVjdChlLnZlcnNpb25SZWdleGVzLG4pO3JldHVybntjdXJyZW50OmUubmFtZSx2ZXJzaW9uOnR9fSl9LHFlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuLTEhPT1lLmluZGV4T2YodCl9LCRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49ZSxvPTAsIiI9PT0ocj10KXx8bi5sZW5ndGg+PXIubGVuZ3RoJiZuLnN1YnN0cihvLG8rci5sZW5ndGgpPT09cjt2YXIgbixyLG99LFdlPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKHQsIiIpfX0sS2U9V2UoL15ccyt8XHMrJC9nKSxYZT1XZSgvXlxzKy9nKSxZZT1XZSgvXHMrJC9nKSxHZT0vLio/dmVyc2lvblwvXCA/KFswLTldKylcLihbMC05XSspLiovLEplPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gcWUoZSx0KX19LFFlPVt7bmFtZToiRWRnZSIsdmVyc2lvblJlZ2V4ZXM6Wy8uKj9lZGdlXC8gPyhbMC05XSspXC4oWzAtOV0rKSQvXSxzZWFyY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHFlKGUsImVkZ2UvIikmJnFlKGUsImNocm9tZSIpJiZxZShlLCJzYWZhcmkiKSYmcWUoZSwiYXBwbGV3ZWJraXQiKX19LHtuYW1lOiJDaHJvbWUiLHZlcnNpb25SZWdleGVzOlsvLio/Y2hyb21lXC8oWzAtOV0rKVwuKFswLTldKykuKi8sR2VdLHNlYXJjaDpmdW5jdGlvbihlKXtyZXR1cm4gcWUoZSwiY2hyb21lIikmJiFxZShlLCJjaHJvbWVmcmFtZSIpfX0se25hbWU6IklFIix2ZXJzaW9uUmVnZXhlczpbLy4qP21zaWVcID8oWzAtOV0rKVwuKFswLTldKykuKi8sLy4qP3J2OihbMC05XSspXC4oWzAtOV0rKS4qL10sc2VhcmNoOmZ1bmN0aW9uKGUpe3JldHVybiBxZShlLCJtc2llIil8fHFlKGUsInRyaWRlbnQiKX19LHtuYW1lOiJPcGVyYSIsdmVyc2lvblJlZ2V4ZXM6W0dlLC8uKj9vcGVyYVwvKFswLTldKylcLihbMC05XSspLiovXSxzZWFyY2g6SmUoIm9wZXJhIil9LHtuYW1lOiJGaXJlZm94Iix2ZXJzaW9uUmVnZXhlczpbLy4qP2ZpcmVmb3hcL1wgPyhbMC05XSspXC4oWzAtOV0rKS4qL10sc2VhcmNoOkplKCJmaXJlZm94Iil9LHtuYW1lOiJTYWZhcmkiLHZlcnNpb25SZWdleGVzOltHZSwvLio/Y3B1IG9zIChbMC05XSspXyhbMC05XSspLiovXSxzZWFyY2g6ZnVuY3Rpb24oZSl7cmV0dXJuKHFlKGUsInNhZmFyaSIpfHxxZShlLCJtb2JpbGUvIikpJiZxZShlLCJhcHBsZXdlYmtpdCIpfX1dLFplPVt7bmFtZToiV2luZG93cyIsc2VhcmNoOkplKCJ3aW4iKSx2ZXJzaW9uUmVnZXhlczpbLy4qP3dpbmRvd3NcIG50XCA/KFswLTldKylcLihbMC05XSspLiovXX0se25hbWU6ImlPUyIsc2VhcmNoOmZ1bmN0aW9uKGUpe3JldHVybiBxZShlLCJpcGhvbmUiKXx8cWUoZSwiaXBhZCIpfSx2ZXJzaW9uUmVnZXhlczpbLy4qP3ZlcnNpb25cL1wgPyhbMC05XSspXC4oWzAtOV0rKS4qLywvLipjcHUgb3MgKFswLTldKylfKFswLTldKykuKi8sLy4qY3B1IGlwaG9uZSBvcyAoWzAtOV0rKV8oWzAtOV0rKS4qL119LHtuYW1lOiJBbmRyb2lkIixzZWFyY2g6SmUoImFuZHJvaWQiKSx2ZXJzaW9uUmVnZXhlczpbLy4qP2FuZHJvaWRcID8oWzAtOV0rKVwuKFswLTldKykuKi9dfSx7bmFtZToiT1NYIixzZWFyY2g6SmUoIm1hYyBvcyB4IiksdmVyc2lvblJlZ2V4ZXM6Wy8uKj9tYWNcIG9zXCB4XCA/KFswLTldKylfKFswLTldKykuKi9dfSx7bmFtZToiTGludXgiLHNlYXJjaDpKZSgibGludXgiKSx2ZXJzaW9uUmVnZXhlczpbXX0se25hbWU6IlNvbGFyaXMiLHNlYXJjaDpKZSgic3Vub3MiKSx2ZXJzaW9uUmVnZXhlczpbXX0se25hbWU6IkZyZWVCU0QiLHNlYXJjaDpKZSgiZnJlZWJzZCIpLHZlcnNpb25SZWdleGVzOltdfSx7bmFtZToiQ2hyb21lT1MiLHNlYXJjaDpKZSgiY3JvcyIpLHZlcnNpb25SZWdleGVzOlsvLio/Y2hyb21lXC8oWzAtOV0rKVwuKFswLTldKykuKi9dfV0sZXQ9e2Jyb3dzZXJzOngoUWUpLG9zZXM6eChaZSl9LHR0PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1LHMsYyxsLGYsZCxtLHA9ZXQuYnJvd3NlcnMoKSxnPWV0Lm9zZXMoKSxoPUhlKHAsZSkuZm9sZChCZS51bmtub3duLEJlLm51KSx2PVZlKGcsZSkuZm9sZCh6ZS51bmtub3duLHplLm51KTtyZXR1cm57YnJvd3NlcjpoLG9zOnYsZGV2aWNlVHlwZToocj1oLG89ZSxpPXQsYT0obj12KS5pc2lPUygpJiYhMD09PS9pcGFkL2kudGVzdChvKSx1PW4uaXNpT1MoKSYmIWEscz1uLmlzaU9TKCl8fG4uaXNBbmRyb2lkKCksYz1zfHxpKCIocG9pbnRlcjpjb2Fyc2UpIiksbD1hfHwhdSYmcyYmaSgiKG1pbi1kZXZpY2Utd2lkdGg6NzY4cHgpIiksZj11fHxzJiYhbCxkPXIuaXNTYWZhcmkoKSYmbi5pc2lPUygpJiYhMT09PS9zYWZhcmkvaS50ZXN0KG8pLG09IWYmJiFsJiYhZCx7aXNpUGFkOngoYSksaXNpUGhvbmU6eCh1KSxpc1RhYmxldDp4KGwpLGlzUGhvbmU6eChmKSxpc1RvdWNoOngoYyksaXNBbmRyb2lkOm4uaXNBbmRyb2lkLGlzaU9TOm4uaXNpT1MsaXNXZWJWaWV3OngoZCksaXNEZXNrdG9wOngobSl9KX19LG50PWZ1bmN0aW9uKGUpe3JldHVybiBWLndpbmRvdy5tYXRjaE1lZGlhKGUpLm1hdGNoZXN9LHJ0PShrZT0hKE5lPWZ1bmN0aW9uKCl7cmV0dXJuIHR0KFYubmF2aWdhdG9yLnVzZXJBZ2VudCxudCl9KSxmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4ga2V8fChrZT0hMCxFZT1OZS5hcHBseShudWxsLGUpKSxFZX0pLG90PWZ1bmN0aW9uKCl7cmV0dXJuIHJ0KCl9LGl0PVYubmF2aWdhdG9yLnVzZXJBZ2VudCxhdD1vdCgpLHV0PWF0LmJyb3dzZXIsc3Q9YXQub3MsY3Q9YXQuZGV2aWNlVHlwZSxsdD0vV2ViS2l0Ly50ZXN0KGl0KSYmIXV0LmlzRWRnZSgpLGZ0PSJGb3JtRGF0YSJpbiBWLndpbmRvdyYmIkZpbGVSZWFkZXIiaW4gVi53aW5kb3cmJiJVUkwiaW4gVi53aW5kb3cmJiEhVi5VUkwuY3JlYXRlT2JqZWN0VVJMLGR0PS0xIT09aXQuaW5kZXhPZigiV2luZG93cyBQaG9uZSIpLG10PXtvcGVyYTp1dC5pc09wZXJhKCksd2Via2l0Omx0LGllOiEoIXV0LmlzSUUoKSYmIXV0LmlzRWRnZSgpKSYmdXQudmVyc2lvbi5tYWpvcixnZWNrbzp1dC5pc0ZpcmVmb3goKSxtYWM6c3QuaXNPU1goKXx8c3QuaXNpT1MoKSxpT1M6Y3QuaXNpUGFkKCl8fGN0LmlzaVBob25lKCksYW5kcm9pZDpzdC5pc0FuZHJvaWQoKSxjb250ZW50RWRpdGFibGU6ITAsdHJhbnNwYXJlbnRTcmM6ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBNyIsY2FyZXRBZnRlcjohMCxyYW5nZTpWLndpbmRvdy5nZXRTZWxlY3Rpb24mJiJSYW5nZSJpbiBWLndpbmRvdyxkb2N1bWVudE1vZGU6dXQuaXNJRSgpP1YuZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw3OjEwLGZpbGVBcGk6ZnQsY2VGYWxzZTohMCxjYWNoZVN1ZmZpeDpudWxsLGNvbnRhaW5lcjpudWxsLGV4cGVyaW1lbnRhbFNoYWRvd0RvbTohMSxjYW5IYXZlQ1NQOiF1dC5pc0lFKCksZGVza3RvcDpjdC5pc0Rlc2t0b3AoKSx3aW5kb3dzUGhvbmU6ZHQsYnJvd3Nlcjp7Y3VycmVudDp1dC5jdXJyZW50LHZlcnNpb246dXQudmVyc2lvbixpc0Nocm9tZTp1dC5pc0Nocm9tZSxpc0VkZ2U6dXQuaXNFZGdlLGlzRmlyZWZveDp1dC5pc0ZpcmVmb3gsaXNJRTp1dC5pc0lFLGlzT3BlcmE6dXQuaXNPcGVyYSxpc1NhZmFyaTp1dC5pc1NhZmFyaX0sb3M6e2N1cnJlbnQ6c3QuY3VycmVudCx2ZXJzaW9uOnN0LnZlcnNpb24saXNBbmRyb2lkOnN0LmlzQW5kcm9pZCxpc0Nocm9tZU9TOnN0LmlzQ2hyb21lT1MsaXNGcmVlQlNEOnN0LmlzRnJlZUJTRCxpc2lPUzpzdC5pc2lPUyxpc0xpbnV4OnN0LmlzTGludXgsaXNPU1g6c3QuaXNPU1gsaXNTb2xhcmlzOnN0LmlzU29sYXJpcyxpc1dpbmRvd3M6c3QuaXNXaW5kb3dzfSxkZXZpY2VUeXBlOntpc0Rlc2t0b3A6Y3QuaXNEZXNrdG9wLGlzaVBhZDpjdC5pc2lQYWQsaXNpUGhvbmU6Y3QuaXNpUGhvbmUsaXNQaG9uZTpjdC5pc1Bob25lLGlzVGFibGV0OmN0LmlzVGFibGV0LGlzVG91Y2g6Y3QuaXNUb3VjaCxpc1dlYlZpZXc6Y3QuaXNXZWJWaWV3fX0scHQ9L15ccyp8XHMqJC9nLGd0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8ZT09PXVuZGVmaW5lZD8iIjooIiIrZSkucmVwbGFjZShwdCwiIil9LGh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/ISgiYXJyYXkiIT09dHx8IXBlKGUpKXx8dHlwZW9mIGU9PT10OmUhPT11bmRlZmluZWR9LHZ0PWZ1bmN0aW9uKGUsbixyLG8pe289b3x8dGhpcyxlJiYociYmKGU9ZVtyXSksZ2UoZSxmdW5jdGlvbihlLHQpe2lmKCExPT09bi5jYWxsKG8sZSx0LHIpKXJldHVybiExO3Z0KGUsbixyLG8pfSkpfSx5dD17dHJpbTpndCxpc0FycmF5OnBlLGlzOmh0LHRvQXJyYXk6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU7aWYoIXBlKGUpKWZvcihyPVtdLHQ9MCxuPWUubGVuZ3RoO3Q8bjt0Kyspclt0XT1lW3RdO3JldHVybiByfSxtYWtlTWFwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtmb3IodD10fHwiLCIsInN0cmluZyI9PXR5cGVvZihlPWV8fFtdKSYmKGU9ZS5zcGxpdCh0KSksbj1ufHx7fSxyPWUubGVuZ3RoO3ItLTspbltlW3JdXT17fTtyZXR1cm4gbn0sZWFjaDpnZSxtYXA6aGUsZ3JlcDp2ZSxpbkFycmF5OnllLGhhc093bjpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sZXh0ZW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO2Zvcih2YXIgaSBpbiBvKWlmKG8uaGFzT3duUHJvcGVydHkoaSkpe3ZhciBhPW9baV07YSE9PXVuZGVmaW5lZCYmKGVbaV09YSl9fXJldHVybiBlfSxjcmVhdGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhPXRoaXMsdT0wLHM9KGU9L14oKHN0YXRpYykgKT8oW1x3Ll0rKSg6KFtcdy5dKykpPy8uZXhlYyhlKSlbM10ubWF0Y2goLyhefFwuKShcdyspJC9pKVsyXSxjPWEuY3JlYXRlTlMoZVszXS5yZXBsYWNlKC9cLlx3KyQvLCIiKSxuKTtpZighY1tzXSl7aWYoInN0YXRpYyI9PT1lWzJdKXJldHVybiBjW3NdPXQsdm9pZCh0aGlzLm9uQ3JlYXRlJiZ0aGlzLm9uQ3JlYXRlKGVbMl0sZVszXSxjW3NdKSk7dFtzXXx8KHRbc109ZnVuY3Rpb24oKXt9LHU9MSksY1tzXT10W3NdLGEuZXh0ZW5kKGNbc10ucHJvdG90eXBlLHQpLGVbNV0mJihyPWEucmVzb2x2ZShlWzVdKS5wcm90b3R5cGUsbz1lWzVdLm1hdGNoKC9cLihcdyspJC9pKVsxXSxpPWNbc10sY1tzXT11P2Z1bmN0aW9uKCl7cmV0dXJuIHJbb10uYXBwbHkodGhpcyxhcmd1bWVudHMpfTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudD1yW29dLGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjW3NdLnByb3RvdHlwZVtzXT1jW3NdLGEuZWFjaChyLGZ1bmN0aW9uKGUsdCl7Y1tzXS5wcm90b3R5cGVbdF09clt0XX0pLGEuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7clt0XT9jW3NdLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudD1yW3RdLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTp0IT09cyYmKGNbc10ucHJvdG90eXBlW3RdPWUpfSkpLGEuZWFjaCh0WyJzdGF0aWMiXSxmdW5jdGlvbihlLHQpe2Nbc11bdF09ZX0pfX0sd2Fsazp2dCxjcmVhdGVOUzpmdW5jdGlvbihlLHQpe3ZhciBuLHI7Zm9yKHQ9dHx8Vi53aW5kb3csZT1lLnNwbGl0KCIuIiksbj0wO248ZS5sZW5ndGg7bisrKXRbcj1lW25dXXx8KHRbcl09e30pLHQ9dFtyXTtyZXR1cm4gdH0scmVzb2x2ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI7Zm9yKHQ9dHx8Vi53aW5kb3csbj0wLHI9KGU9ZS5zcGxpdCgiLiIpKS5sZW5ndGg7bjxyJiYodD10W2Vbbl1dKTtuKyspO3JldHVybiB0fSxleHBsb2RlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIWV8fGh0KGUsImFycmF5Iik/ZTpoZShlLnNwbGl0KHR8fCIsIiksZ3QpfSxfYWRkQ2FjaGVTdWZmaXg6ZnVuY3Rpb24oZSl7dmFyIHQ9bXQuY2FjaGVTdWZmaXg7cmV0dXJuIHQmJihlKz0oLTE9PT1lLmluZGV4T2YoIj8iKT8iPyI6IiYiKSt0KSxlfX0sYnQ9ZnVuY3Rpb24oZSl7aWYobnVsbD09PWV8fGU9PT11bmRlZmluZWQpdGhyb3cgbmV3IEVycm9yKCJOb2RlIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCIpO3JldHVybntkb206eChlKX19LEN0PXtmcm9tSHRtbDpmdW5jdGlvbihlLHQpe3ZhciBuPSh0fHxWLmRvY3VtZW50KS5jcmVhdGVFbGVtZW50KCJkaXYiKTtpZihuLmlubmVySFRNTD1lLCFuLmhhc0NoaWxkTm9kZXMoKXx8MTxuLmNoaWxkTm9kZXMubGVuZ3RoKXRocm93IFYuY29uc29sZS5lcnJvcigiSFRNTCBkb2VzIG5vdCBoYXZlIGEgc2luZ2xlIHJvb3Qgbm9kZSIsZSksbmV3IEVycm9yKCJIVE1MIG11c3QgaGF2ZSBhIHNpbmdsZSByb290IG5vZGUiKTtyZXR1cm4gYnQobi5jaGlsZE5vZGVzWzBdKX0sZnJvbVRhZzpmdW5jdGlvbihlLHQpe3ZhciBuPSh0fHxWLmRvY3VtZW50KS5jcmVhdGVFbGVtZW50KGUpO3JldHVybiBidChuKX0sZnJvbVRleHQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj0odHx8Vi5kb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoZSk7cmV0dXJuIGJ0KG4pfSxmcm9tRG9tOmJ0LGZyb21Qb2ludDpmdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5kb20oKTtyZXR1cm4gQi5mcm9tKHIuZWxlbWVudEZyb21Qb2ludCh0LG4pKS5tYXAoYnQpfX0sd3Q9KCJ1bmRlZmluZWQiIT10eXBlb2YgVi53aW5kb3c/Vi53aW5kb3c6RnVuY3Rpb24oInJldHVybiB0aGlzOyIpKCksZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCkubm9kZU5hbWUudG9Mb3dlckNhc2UoKX0pLHh0PWZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpLm5vZGVUeXBlfSxTdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHh0KGUpPT09dH19LE50PVN0KDEpLEV0PVN0KDMpLGt0PVN0KDkpLF90PVN0KDExKSxUdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPWZ1bmN0aW9uKGUpe3JldHVybiBuLnB1c2goZSksdChlKX0sbz10KGUpOyhvPW8uYmluZChyKSkuaXNTb21lKCk7KTtyZXR1cm4gbn0sUnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbSgpO2lmKDEhPT1uLm5vZGVUeXBlKXJldHVybiExO3ZhciByPW47aWYoci5tYXRjaGVzIT09dW5kZWZpbmVkKXJldHVybiByLm1hdGNoZXModCk7aWYoci5tc01hdGNoZXNTZWxlY3RvciE9PXVuZGVmaW5lZClyZXR1cm4gci5tc01hdGNoZXNTZWxlY3Rvcih0KTtpZihyLndlYmtpdE1hdGNoZXNTZWxlY3RvciE9PXVuZGVmaW5lZClyZXR1cm4gci53ZWJraXRNYXRjaGVzU2VsZWN0b3IodCk7aWYoci5tb3pNYXRjaGVzU2VsZWN0b3IhPT11bmRlZmluZWQpcmV0dXJuIHIubW96TWF0Y2hlc1NlbGVjdG9yKHQpO3Rocm93IG5ldyBFcnJvcigiQnJvd3NlciBsYWNrcyBuYXRpdmUgc2VsZWN0b3JzIil9LEF0PWZ1bmN0aW9uKGUpe3JldHVybiAxIT09ZS5ub2RlVHlwZSYmOSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8MD09PWUuY2hpbGRFbGVtZW50Q291bnR9LER0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZG9tKCk9PT10LmRvbSgpfSxPdD1mdW5jdGlvbihlLHQpe3JldHVybiBuPWUuZG9tKCkscj10LmRvbSgpLG89bixpPXIsYT1WLk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZLDAhPShvLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGkpJmEpO3ZhciBuLHIsbyxpLGF9LEJ0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG90KCkuYnJvd3Nlci5pc0lFKCk/T3QoZSx0KToobj10LHI9ZS5kb20oKSxvPW4uZG9tKCksciE9PW8mJnIuY29udGFpbnMobykpO3ZhciBuLHIsb30sUHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEN0LmZyb21Eb20oZS5kb20oKS5vd25lckRvY3VtZW50KX0sTHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGt0KGUpP2U6UHQoZSl9LEl0PWZ1bmN0aW9uKGUpe3JldHVybiBDdC5mcm9tRG9tKGUuZG9tKCkub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyl9LE10PWZ1bmN0aW9uKGUpe3JldHVybiBCLmZyb20oZS5kb20oKS5wYXJlbnROb2RlKS5tYXAoQ3QuZnJvbURvbSl9LEZ0PWZ1bmN0aW9uKGUpe3JldHVybiBCLmZyb20oZS5kb20oKS5wcmV2aW91c1NpYmxpbmcpLm1hcChDdC5mcm9tRG9tKX0sVXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEIuZnJvbShlLmRvbSgpLm5leHRTaWJsaW5nKS5tYXAoQ3QuZnJvbURvbSl9LHp0PWZ1bmN0aW9uKGUpe3JldHVybiBKKFR0KGUsRnQpKX0sanQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFR0KGUsVXQpfSxIdD1mdW5jdGlvbihlKXtyZXR1cm4gVShlLmRvbSgpLmNoaWxkTm9kZXMsQ3QuZnJvbURvbSl9LFZ0PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb20oKS5jaGlsZE5vZGVzO3JldHVybiBCLmZyb20oblt0XSkubWFwKEN0LmZyb21Eb20pfSxxdD1mdW5jdGlvbihlKXtyZXR1cm4gVnQoZSwwKX0sJHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFZ0KGUsZS5kb20oKS5jaGlsZE5vZGVzLmxlbmd0aC0xKX0sV3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIF90KGUpfSxLdD1BKFYuRWxlbWVudC5wcm90b3R5cGUuYXR0YWNoU2hhZG93KSYmQShWLk5vZGUucHJvdG90eXBlLmdldFJvb3ROb2RlKT9mdW5jdGlvbihlKXtyZXR1cm4gQ3QuZnJvbURvbShlLmRvbSgpLmdldFJvb3ROb2RlKCkpfTpMdCxYdD1mdW5jdGlvbihlKXtyZXR1cm4gV3QoZSk/ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmRvbSgpLmhlYWQ7aWYobnVsbD09PXR8fHQ9PT11bmRlZmluZWQpdGhyb3cgbmV3IEVycm9yKCJIZWFkIGlzIG5vdCBhdmFpbGFibGUgeWV0Iik7cmV0dXJuIEN0LmZyb21Eb20odCl9KEx0KGUpKX0sWXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEN0LmZyb21Eb20oZS5kb20oKS5ob3N0KX0sR3Q9ZnVuY3Rpb24odCxuKXtNdCh0KS5lYWNoKGZ1bmN0aW9uKGUpe2UuZG9tKCkuaW5zZXJ0QmVmb3JlKG4uZG9tKCksdC5kb20oKSl9KX0sSnQ9ZnVuY3Rpb24oZSx0KXtVdChlKS5mb2xkKGZ1bmN0aW9uKCl7TXQoZSkuZWFjaChmdW5jdGlvbihlKXtadChlLHQpfSl9LGZ1bmN0aW9uKGUpe0d0KGUsdCl9KX0sUXQ9ZnVuY3Rpb24odCxuKXtxdCh0KS5mb2xkKGZ1bmN0aW9uKCl7WnQodCxuKX0sZnVuY3Rpb24oZSl7dC5kb20oKS5pbnNlcnRCZWZvcmUobi5kb20oKSxlLmRvbSgpKX0pfSxadD1mdW5jdGlvbihlLHQpe2UuZG9tKCkuYXBwZW5kQ2hpbGQodC5kb20oKSl9LGVuPWZ1bmN0aW9uKHQsZSl7eihlLGZ1bmN0aW9uKGUpe1p0KHQsZSl9KX0sdG49ZnVuY3Rpb24oZSl7ZS5kb20oKS50ZXh0Q29udGVudD0iIix6KEh0KGUpLGZ1bmN0aW9uKGUpe25uKGUpfSl9LG5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tKCk7bnVsbCE9PXQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpfSxybj1mdW5jdGlvbihlKXt2YXIgdCxuPUh0KGUpOzA8bi5sZW5ndGgmJih0PWUseihuLGZ1bmN0aW9uKGUpe0d0KHQsZSl9KSksbm4oZSl9LG9uPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGk9RXQoZSk/ZS5kb20oKS5wYXJlbnROb2RlOmUuZG9tKCk7cmV0dXJuIGkhPT11bmRlZmluZWQmJm51bGwhPT1pJiZudWxsIT09aS5vd25lckRvY3VtZW50JiYocj1DdC5mcm9tRG9tKGkpLG89S3QociksKFd0KG8pP0Iuc29tZShvKTpCLm5vbmUoKSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBpLm93bmVyRG9jdW1lbnQuYm9keS5jb250YWlucyhpKX0sKHQ9b24sbj1ZdCxmdW5jdGlvbihlKXtyZXR1cm4gdChuKGUpKX0pKSl9LGFuPWZ1bmN0aW9uKG4scil7cmV0dXJue2xlZnQ6eChuKSx0b3A6eChyKSx0cmFuc2xhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYW4obitlLHIrdCl9fX0sdW49YW4sc249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSE9PXVuZGVmaW5lZD9lOnQhPT11bmRlZmluZWQ/dDowfSxjbj1mdW5jdGlvbihlKXt2YXIgdCxuPWUuZG9tKCkscj1uLm93bmVyRG9jdW1lbnQuYm9keTtyZXR1cm4gcj09PW4/dW4oci5vZmZzZXRMZWZ0LHIub2Zmc2V0VG9wKTpvbihlKT8odD1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHVuKHQubGVmdCx0LnRvcCkpOnVuKDAsMCl9LGxuPWZ1bmN0aW9uKGUpe3ZhciB0PWUhPT11bmRlZmluZWQ/ZS5kb20oKTpWLmRvY3VtZW50LG49dC5ib2R5LnNjcm9sbExlZnR8fHQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQscj10LmJvZHkuc2Nyb2xsVG9wfHx0LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7cmV0dXJuIHVuKG4scil9LGZuPWZ1bmN0aW9uKGUsdCxuKXsobiE9PXVuZGVmaW5lZD9uLmRvbSgpOlYuZG9jdW1lbnQpLmRlZmF1bHRWaWV3LnNjcm9sbFRvKGUsdCl9LGRuPWZ1bmN0aW9uKGUsdCl7b3QoKS5icm93c2VyLmlzU2FmYXJpKCkmJkEoZS5kb20oKS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKT9lLmRvbSgpLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoITEpOmUuZG9tKCkuc2Nyb2xsSW50b1ZpZXcodCl9LG1uPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybnt4OmUseTp0LHdpZHRoOm4saGVpZ2h0OnIscmlnaHQ6ZStuLGJvdHRvbTp0K3J9fSxwbj1mdW5jdGlvbihlKXt2YXIgdCxuLHI9ZT09PXVuZGVmaW5lZD9WLndpbmRvdzplLG89ci5kb2N1bWVudCxpPWxuKEN0LmZyb21Eb20obykpO3JldHVybiBuPSh0PXIpPT09dW5kZWZpbmVkP1Yud2luZG93OnQsQi5mcm9tKG4udmlzdWFsVmlld3BvcnQpLmZvbGQoZnVuY3Rpb24oKXt2YXIgZT1yLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0PWUuY2xpZW50V2lkdGgsbj1lLmNsaWVudEhlaWdodDtyZXR1cm4gbW4oaS5sZWZ0KCksaS50b3AoKSx0LG4pfSxmdW5jdGlvbihlKXtyZXR1cm4gbW4oTWF0aC5tYXgoZS5wYWdlTGVmdCxpLmxlZnQoKSksTWF0aC5tYXgoZS5wYWdlVG9wLGkudG9wKCkpLGUud2lkdGgsZS5oZWlnaHQpfSl9LGduPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hIWUmJmUubm9kZVR5cGU9PT10fX0saG49ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYhT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfSx2bj1nbigxKSx5bj1mdW5jdGlvbihlKXt2YXIgbj1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfSk7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGUmJmUubm9kZU5hbWUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gTShuLHQpfXJldHVybiExfX0sYm49ZnVuY3Rpb24ocixlKXt2YXIgbz1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ7aWYodm4oZSkpZm9yKHQ9MDt0PG8ubGVuZ3RoO3QrKyl7dmFyIG49ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKTtpZigobj9uLmdldFByb3BlcnR5VmFsdWUocik6bnVsbCk9PT1vW3RdKXJldHVybiEwfXJldHVybiExfX0sQ249ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB2bihlKSYmZS5oYXNBdHRyaWJ1dGUodCl9fSx3bj1mdW5jdGlvbihlKXtyZXR1cm4gdm4oZSkmJmUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpfSx4bj1mdW5jdGlvbihlKXtyZXR1cm4gdm4oZSkmJiJUQUJMRSI9PT1lLnRhZ05hbWV9LFNuPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZih2bihlKSl7aWYoZS5jb250ZW50RWRpdGFibGU9PT10KXJldHVybiEwO2lmKGUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1jb250ZW50ZWRpdGFibGUiKT09PXQpcmV0dXJuITB9cmV0dXJuITF9fSxObj15bihbInRleHRhcmVhIiwiaW5wdXQiXSksRW49Z24oMyksa249Z24oOCksX249Z24oOSksVG49Z24oMTEpLFJuPXluKFsiYnIiXSksQW49U24oInRydWUiKSxEbj1TbigiZmFsc2UiKSxPbj1mdW5jdGlvbihlKXtyZXR1cm4gZS5zdHlsZSE9PXVuZGVmaW5lZCYmQShlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUpfSxCbj1mdW5jdGlvbihlLHQsbil7aWYoIShxKG4pfHxUKG4pfHxEKG4pKSl0aHJvdyBWLmNvbnNvbGUuZXJyb3IoIkludmFsaWQgY2FsbCB0byBBdHRyLnNldC4gS2V5ICIsdCwiOjogVmFsdWUgIixuLCI6OiBFbGVtZW50ICIsZSksbmV3IEVycm9yKCJBdHRyaWJ1dGUgdmFsdWUgd2FzIG5vdCBzaW1wbGUiKTtlLnNldEF0dHJpYnV0ZSh0LG4rIiIpfSxQbj1mdW5jdGlvbihlLHQsbil7Qm4oZS5kb20oKSx0LG4pfSxMbj1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZG9tKCk7b2UodCxmdW5jdGlvbihlLHQpe0JuKG4sdCxlKX0pfSxJbj1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZG9tKCkuZ2V0QXR0cmlidXRlKHQpO3JldHVybiBudWxsPT09bj91bmRlZmluZWQ6bn0sTW49ZnVuY3Rpb24oZSx0KXtlLmRvbSgpLnJlbW92ZUF0dHJpYnV0ZSh0KX0sRm49ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbSgpLHI9Vi53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuKS5nZXRQcm9wZXJ0eVZhbHVlKHQpO3JldHVybiIiIT09cnx8b24oZSk/cjpVbihuLHQpfSxVbj1mdW5jdGlvbihlLHQpe3JldHVybiBPbihlKT9lLnN0eWxlLmdldFByb3BlcnR5VmFsdWUodCk6IiJ9LHpuPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb20oKSxyPVVuKG4sdCk7cmV0dXJuIEIuZnJvbShyKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZS5sZW5ndGh9KX0sam49b3QoKS5icm93c2VyLEhuPWZ1bmN0aW9uKGUpe3JldHVybiBLKGUsTnQpfSxWbj1mdW5jdGlvbihlLHQpe3JldHVybiBlLmNoaWxkcmVuJiZNKGUuY2hpbGRyZW4sdCl9LHFuPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYT0wLHU9MCxzPWUub3duZXJEb2N1bWVudDtpZihuPW58fGUsdCl7aWYobj09PWUmJnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiYic3RhdGljIj09PUZuKEN0LmZyb21Eb20oZSksInBvc2l0aW9uIikpcmV0dXJue3g6YT0obz10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKS5sZWZ0KyhzLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxlLnNjcm9sbExlZnQpLXMuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQseTp1PW8udG9wKyhzLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGUuc2Nyb2xsVG9wKS1zLmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3B9O2ZvcihyPXQ7ciYmciE9PW4mJnIubm9kZVR5cGUmJiFWbihyLG4pOylhKz1yLm9mZnNldExlZnR8fDAsdSs9ci5vZmZzZXRUb3B8fDAscj1yLm9mZnNldFBhcmVudDtmb3Iocj10LnBhcmVudE5vZGU7ciYmciE9PW4mJnIubm9kZVR5cGUmJiFWbihyLG4pOylhLT1yLnNjcm9sbExlZnR8fDAsdS09ci5zY3JvbGxUb3B8fDAscj1yLnBhcmVudE5vZGU7dSs9KGk9Q3QuZnJvbURvbSh0KSxqbi5pc0ZpcmVmb3goKSYmInRhYmxlIj09PXd0KGkpP0huKEh0KGkpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuImNhcHRpb24iPT09d3QoZSl9KS5iaW5kKGZ1bmN0aW9uKG8pe3JldHVybiBIbihqdChvKSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tKCkub2Zmc2V0VG9wLG49by5kb20oKS5vZmZzZXRUb3Ascj1vLmRvbSgpLm9mZnNldEhlaWdodDtyZXR1cm4gdDw9bj8tcjowfSl9KS5nZXRPcigwKTowKX1yZXR1cm57eDphLHk6dX19LCRuPWZ1bmN0aW9uKHQpe3ZhciBuO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4obj1ufHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17fSxyPTAsbz1lLmxlbmd0aDtyPG87cisrKXt2YXIgaT1lW3JdO25bU3RyaW5nKGkpXT10KGkscil9cmV0dXJuIG59KHQseCghMCkpKS5oYXNPd25Qcm9wZXJ0eSh3dChlKSl9fSxXbj0kbihbImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiJdKSxLbj0kbihbImFydGljbGUiLCJhc2lkZSIsImRldGFpbHMiLCJkaXYiLCJkdCIsImZpZ2NhcHRpb24iLCJmb290ZXIiLCJmb3JtIiwiZmllbGRzZXQiLCJoZWFkZXIiLCJoZ3JvdXAiLCJodG1sIiwibWFpbiIsIm5hdiIsInNlY3Rpb24iLCJzdW1tYXJ5IiwiYm9keSIsInAiLCJkbCIsIm11bHRpY29sIiwiZGQiLCJmaWd1cmUiLCJhZGRyZXNzIiwiY2VudGVyIiwiYmxvY2txdW90ZSIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsImxpc3RpbmciLCJ4bXAiLCJwcmUiLCJwbGFpbnRleHQiLCJtZW51IiwiZGlyIiwidWwiLCJvbCIsImxpIiwiaHIiLCJ0YWJsZSIsInRib2R5IiwidGhlYWQiLCJ0Zm9vdCIsInRoIiwidHIiLCJ0ZCIsImNhcHRpb24iXSksWG49ZnVuY3Rpb24oZSl7cmV0dXJuIE50KGUpJiYhS24oZSl9LFluPWZ1bmN0aW9uKGUpe3JldHVybiBOdChlKSYmImJyIj09PXd0KGUpfSxHbj0kbihbImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsInAiLCJkaXYiLCJhZGRyZXNzIiwicHJlIiwiZm9ybSIsImJsb2NrcXVvdGUiLCJjZW50ZXIiLCJkaXIiLCJmaWVsZHNldCIsImhlYWRlciIsImZvb3RlciIsImFydGljbGUiLCJzZWN0aW9uIiwiaGdyb3VwIiwiYXNpZGUiLCJuYXYiLCJmaWd1cmUiXSksSm49JG4oWyJ1bCIsIm9sIiwiZGwiXSksUW49JG4oWyJsaSIsImRkIiwiZHQiXSksWm49JG4oWyJhcmVhIiwiYmFzZSIsImJhc2Vmb250IiwiYnIiLCJjb2wiLCJmcmFtZSIsImhyIiwiaW1nIiwiaW5wdXQiLCJpc2luZGV4IiwibGluayIsIm1ldGEiLCJwYXJhbSIsImVtYmVkIiwic291cmNlIiwid2JyIiwidHJhY2siXSksZXI9JG4oWyJ0aGVhZCIsInRib2R5IiwidGZvb3QiXSksdHI9JG4oWyJ0ZCIsInRoIl0pLG5yPSRuKFsicHJlIiwic2NyaXB0IiwidGV4dGFyZWEiLCJzdHlsZSJdKSxycj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmIlNQQU4iPT09ZS50YWdOYW1lJiYiYm9va21hcmsiPT09ZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXR5cGUiKX0sb3I9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPXQuY2hpbGROb2RlcztpZighdm4odCl8fCFycih0KSl7Zm9yKG49ci5sZW5ndGgtMTswPD1uO24tLSlvcihlLHJbbl0pO2lmKCExPT09X24odCkpe2lmKEVuKHQpJiYwPHQubm9kZVZhbHVlLmxlbmd0aCl7dmFyIG89eXQudHJpbSh0Lm5vZGVWYWx1ZSkubGVuZ3RoO2lmKGUuaXNCbG9jayh0LnBhcmVudE5vZGUpfHwwPG8pcmV0dXJuO2lmKDA9PT1vJiYoYT0oaT10KS5wcmV2aW91c1NpYmxpbmcmJiJTUEFOIj09PWkucHJldmlvdXNTaWJsaW5nLm5vZGVOYW1lLHU9aS5uZXh0U2libGluZyYmIlNQQU4iPT09aS5uZXh0U2libGluZy5ub2RlTmFtZSxhJiZ1KSlyZXR1cm59ZWxzZSBpZih2bih0KSYmKDE9PT0ocj10LmNoaWxkTm9kZXMpLmxlbmd0aCYmcnIoclswXSkmJnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoclswXSx0KSxyLmxlbmd0aHx8Wm4oQ3QuZnJvbURvbSh0KSkpKXJldHVybjtlLnJlbW92ZSh0KX12YXIgaSxhLHU7cmV0dXJuIHR9fSxpcj15dC5tYWtlTWFwLGFyPS9bJjw+XCJcdTAwNjBcdTAwN0UtXHVEN0ZGXHVFMDAwLVx1RkZFRl18W1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2csdXI9L1s8PiZcdTAwN0UtXHVEN0ZGXHVFMDAwLVx1RkZFRl18W1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2csc3I9L1s8PiZcIlwnXS9nLGNyPS8mIyhbYS16MC05XSspOz98JihbYS16MC05XSspOy9naSxscj17MTI4OiJcdTIwYWMiLDEzMDoiXHUyMDFhIiwxMzE6Ilx1MDE5MiIsMTMyOiJcdTIwMWUiLDEzMzoiXHUyMDI2IiwxMzQ6Ilx1MjAyMCIsMTM1OiJcdTIwMjEiLDEzNjoiXHUwMmM2IiwxMzc6Ilx1MjAzMCIsMTM4OiJcdTAxNjAiLDEzOToiXHUyMDM5IiwxNDA6Ilx1MDE1MiIsMTQyOiJcdTAxN2QiLDE0NToiXHUyMDE4IiwxNDY6Ilx1MjAxOSIsMTQ3OiJcdTIwMWMiLDE0ODoiXHUyMDFkIiwxNDk6Ilx1MjAyMiIsMTUwOiJcdTIwMTMiLDE1MToiXHUyMDE0IiwxNTI6Ilx1MDJkYyIsMTUzOiJcdTIxMjIiLDE1NDoiXHUwMTYxIiwxNTU6Ilx1MjAzYSIsMTU2OiJcdTAxNTMiLDE1ODoiXHUwMTdlIiwxNTk6Ilx1MDE3OCJ9LGZyPXsnIic6IiZxdW90OyIsIiciOiImIzM5OyIsIjwiOiImbHQ7IiwiPiI6IiZndDsiLCImIjoiJmFtcDsiLCJgIjoiJiM5NjsifSxkcj17IiZsdDsiOiI8IiwiJmd0OyI6Ij4iLCImYW1wOyI6IiYiLCImcXVvdDsiOiciJywiJmFwb3M7IjoiJyJ9LG1yPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk9e307aWYoZSl7Zm9yKGU9ZS5zcGxpdCgiLCIpLHQ9dHx8MTAsbj0wO248ZS5sZW5ndGg7bis9MilyPVN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZVtuXSx0KSksZnJbcl18fChvPSImIitlW24rMV0rIjsiLGlbcl09byxpW29dPXIpO3JldHVybiBpfX0scHI9bXIoIjUwLG5ic3AsNTEsaWV4Y2wsNTIsY2VudCw1Myxwb3VuZCw1NCxjdXJyZW4sNTUseWVuLDU2LGJydmJhciw1NyxzZWN0LDU4LHVtbCw1OSxjb3B5LDVhLG9yZGYsNWIsbGFxdW8sNWMsbm90LDVkLHNoeSw1ZSxyZWcsNWYsbWFjciw1ZyxkZWcsNWgscGx1c21uLDVpLHN1cDIsNWosc3VwMyw1ayxhY3V0ZSw1bCxtaWNybyw1bSxwYXJhLDVuLG1pZGRvdCw1byxjZWRpbCw1cCxzdXAxLDVxLG9yZG0sNXIscmFxdW8sNXMsZnJhYzE0LDV0LGZyYWMxMiw1dSxmcmFjMzQsNXYsaXF1ZXN0LDYwLEFncmF2ZSw2MSxBYWN1dGUsNjIsQWNpcmMsNjMsQXRpbGRlLDY0LEF1bWwsNjUsQXJpbmcsNjYsQUVsaWcsNjcsQ2NlZGlsLDY4LEVncmF2ZSw2OSxFYWN1dGUsNmEsRWNpcmMsNmIsRXVtbCw2YyxJZ3JhdmUsNmQsSWFjdXRlLDZlLEljaXJjLDZmLEl1bWwsNmcsRVRILDZoLE50aWxkZSw2aSxPZ3JhdmUsNmosT2FjdXRlLDZrLE9jaXJjLDZsLE90aWxkZSw2bSxPdW1sLDZuLHRpbWVzLDZvLE9zbGFzaCw2cCxVZ3JhdmUsNnEsVWFjdXRlLDZyLFVjaXJjLDZzLFV1bWwsNnQsWWFjdXRlLDZ1LFRIT1JOLDZ2LHN6bGlnLDcwLGFncmF2ZSw3MSxhYWN1dGUsNzIsYWNpcmMsNzMsYXRpbGRlLDc0LGF1bWwsNzUsYXJpbmcsNzYsYWVsaWcsNzcsY2NlZGlsLDc4LGVncmF2ZSw3OSxlYWN1dGUsN2EsZWNpcmMsN2IsZXVtbCw3YyxpZ3JhdmUsN2QsaWFjdXRlLDdlLGljaXJjLDdmLGl1bWwsN2csZXRoLDdoLG50aWxkZSw3aSxvZ3JhdmUsN2osb2FjdXRlLDdrLG9jaXJjLDdsLG90aWxkZSw3bSxvdW1sLDduLGRpdmlkZSw3byxvc2xhc2gsN3AsdWdyYXZlLDdxLHVhY3V0ZSw3cix1Y2lyYyw3cyx1dW1sLDd0LHlhY3V0ZSw3dSx0aG9ybiw3dix5dW1sLGNpLGZub2Ysc2gsQWxwaGEsc2ksQmV0YSxzaixHYW1tYSxzayxEZWx0YSxzbCxFcHNpbG9uLHNtLFpldGEsc24sRXRhLHNvLFRoZXRhLHNwLElvdGEsc3EsS2FwcGEsc3IsTGFtYmRhLHNzLE11LHN0LE51LHN1LFhpLHN2LE9taWNyb24sdDAsUGksdDEsUmhvLHQzLFNpZ21hLHQ0LFRhdSx0NSxVcHNpbG9uLHQ2LFBoaSx0NyxDaGksdDgsUHNpLHQ5LE9tZWdhLHRoLGFscGhhLHRpLGJldGEsdGosZ2FtbWEsdGssZGVsdGEsdGwsZXBzaWxvbix0bSx6ZXRhLHRuLGV0YSx0byx0aGV0YSx0cCxpb3RhLHRxLGthcHBhLHRyLGxhbWJkYSx0cyxtdSx0dCxudSx0dSx4aSx0dixvbWljcm9uLHUwLHBpLHUxLHJobyx1MixzaWdtYWYsdTMsc2lnbWEsdTQsdGF1LHU1LHVwc2lsb24sdTYscGhpLHU3LGNoaSx1OCxwc2ksdTksb21lZ2EsdWgsdGhldGFzeW0sdWksdXBzaWgsdW0scGl2LDgxMixidWxsLDgxNixoZWxsaXAsODFpLHByaW1lLDgxaixQcmltZSw4MXUsb2xpbmUsODI0LGZyYXNsLDg4byx3ZWllcnAsODhoLGltYWdlLDg4cyxyZWFsLDg5Mix0cmFkZSw4OWwsYWxlZnN5bSw4Y2csbGFyciw4Y2gsdWFyciw4Y2kscmFyciw4Y2osZGFyciw4Y2ssaGFyciw4ZGwsY3JhcnIsOGVnLGxBcnIsOGVoLHVBcnIsOGVpLHJBcnIsOGVqLGRBcnIsOGVrLGhBcnIsOGcwLGZvcmFsbCw4ZzIscGFydCw4ZzMsZXhpc3QsOGc1LGVtcHR5LDhnNyxuYWJsYSw4ZzgsaXNpbiw4Zzksbm90aW4sOGdiLG5pLDhnZixwcm9kLDhnaCxzdW0sOGdpLG1pbnVzLDhnbixsb3dhc3QsOGdxLHJhZGljLDhndCxwcm9wLDhndSxpbmZpbiw4aDAsYW5nLDhoNyxhbmQsOGg4LG9yLDhoOSxjYXAsOGhhLGN1cCw4aGIsaW50LDhoayx0aGVyZTQsOGhzLHNpbSw4aTUsY29uZyw4aTgsYXN5bXAsOGowLG5lLDhqMSxlcXVpdiw4ajQsbGUsOGo1LGdlLDhrMixzdWIsOGszLHN1cCw4azQsbnN1Yiw4azYsc3ViZSw4azcsc3VwZSw4a2wsb3BsdXMsOGtuLG90aW1lcyw4bDUscGVycCw4bTUsc2RvdCw4bzgsbGNlaWwsOG85LHJjZWlsLDhvYSxsZmxvb3IsOG9iLHJmbG9vciw4cDksbGFuZyw4cGEscmFuZyw5ZWEsbG96LDlqMCxzcGFkZXMsOWozLGNsdWJzLDlqNSxoZWFydHMsOWo2LGRpYW1zLGFpLE9FbGlnLGFqLG9lbGlnLGIwLFNjYXJvbixiMSxzY2Fyb24sYm8sWXVtbCxtNixjaXJjLG1zLHRpbGRlLDgwMixlbnNwLDgwMyxlbXNwLDgwOSx0aGluc3AsODBjLHp3bmosODBkLHp3aiw4MGUsbHJtLDgwZixybG0sODBqLG5kYXNoLDgwayxtZGFzaCw4MG8sbHNxdW8sODBwLHJzcXVvLDgwcSxzYnF1byw4MHMsbGRxdW8sODB0LHJkcXVvLDgwdSxiZHF1byw4MTAsZGFnZ2VyLDgxMSxEYWdnZXIsODFnLHBlcm1pbCw4MXAsbHNhcXVvLDgxcSxyc2FxdW8sODVjLGV1cm8iLDMyKSxncj1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJlcGxhY2UodD9hcjp1cixmdW5jdGlvbihlKXtyZXR1cm4gZnJbZV18fGV9KX0saHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZXBsYWNlKHQ/YXI6dXIsZnVuY3Rpb24oZSl7cmV0dXJuIDE8ZS5sZW5ndGg/IiYjIisoMTAyNCooZS5jaGFyQ29kZUF0KDApLTU1Mjk2KSsoZS5jaGFyQ29kZUF0KDEpLTU2MzIwKSs2NTUzNikrIjsiOmZyW2VdfHwiJiMiK2UuY2hhckNvZGVBdCgwKSsiOyJ9KX0sdnI9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuPW58fHByLGUucmVwbGFjZSh0P2FyOnVyLGZ1bmN0aW9uKGUpe3JldHVybiBmcltlXXx8bltlXXx8ZX0pfSx5cj17ZW5jb2RlUmF3OmdyLGVuY29kZUFsbFJhdzpmdW5jdGlvbihlKXtyZXR1cm4oIiIrZSkucmVwbGFjZShzcixmdW5jdGlvbihlKXtyZXR1cm4gZnJbZV18fGV9KX0sZW5jb2RlTnVtZXJpYzpocixlbmNvZGVOYW1lZDp2cixnZXRFbmNvZGVGdW5jOmZ1bmN0aW9uKGUsdCl7dmFyIG49bXIodCl8fHByLHI9aXIoZS5yZXBsYWNlKC9cKy9nLCIsIikpO3JldHVybiByLm5hbWVkJiZyLm51bWVyaWM/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZXBsYWNlKHQ/YXI6dXIsZnVuY3Rpb24oZSl7cmV0dXJuIGZyW2VdIT09dW5kZWZpbmVkP2ZyW2VdOm5bZV0hPT11bmRlZmluZWQ/bltlXToxPGUubGVuZ3RoPyImIyIrKDEwMjQqKGUuY2hhckNvZGVBdCgwKS01NTI5NikrKGUuY2hhckNvZGVBdCgxKS01NjMyMCkrNjU1MzYpKyI7IjoiJiMiK2UuY2hhckNvZGVBdCgwKSsiOyJ9KX06ci5uYW1lZD90P2Z1bmN0aW9uKGUsdCl7cmV0dXJuIHZyKGUsdCxuKX06dnI6ci5udW1lcmljP2hyOmdyfSxkZWNvZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShjcixmdW5jdGlvbihlLHQpe3JldHVybiB0PzY1NTM1PCh0PSJ4Ij09PXQuY2hhckF0KDApLnRvTG93ZXJDYXNlKCk/cGFyc2VJbnQodC5zdWJzdHIoMSksMTYpOnBhcnNlSW50KHQsMTApKT8odC09NjU1MzYsU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NisodD4+MTApLDU2MzIwKygxMDIzJnQpKSk6bHJbdF18fFN0cmluZy5mcm9tQ2hhckNvZGUodCk6ZHJbZV18fHByW2VdfHwobj1lLChyPUN0LmZyb21UYWcoImRpdiIpLmRvbSgpKS5pbm5lckhUTUw9bixyLnRleHRDb250ZW50fHxyLmlubmVyVGV4dHx8bik7dmFyIG4scn0pfX0sYnI9e30sQ3I9e30sd3I9eXQubWFrZU1hcCx4cj15dC5lYWNoLFNyPXl0LmV4dGVuZCxOcj15dC5leHBsb2RlLEVyPXl0LmluQXJyYXksa3I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZT15dC50cmltKGUpKT9lLnNwbGl0KHR8fCIgIik6W119LF9yPWZ1bmN0aW9uKGUpe3ZhciB1LHQsbixyLG8saSxzPXt9LGE9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPXt9O2ZvcihuPTAscj1lLmxlbmd0aDtuPHI7bisrKW9bZVtuXV09dHx8e307cmV0dXJuIG99O2Zvcih0PXR8fCIiLCJzdHJpbmciPT10eXBlb2Yobj1ufHxbXSkmJihuPWtyKG4pKSxyPShlPWtyKGUpKS5sZW5ndGg7ci0tOylpPXthdHRyaWJ1dGVzOmEobz1rcihbdSx0XS5qb2luKCIgIikpKSxhdHRyaWJ1dGVzT3JkZXI6byxjaGlsZHJlbjphKG4sQ3IpfSxzW2Vbcl1dPWl9LGM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saTtmb3Iobj0oZT1rcihlKSkubGVuZ3RoLHQ9a3IodCk7bi0tOylmb3Iocj1zW2Vbbl1dLG89MCxpPXQubGVuZ3RoO288aTtvKyspci5hdHRyaWJ1dGVzW3Rbb11dPXt9LHIuYXR0cmlidXRlc09yZGVyLnB1c2godFtvXSl9O3JldHVybiBicltlXT9icltlXToodT0iaWQgYWNjZXNza2V5IGNsYXNzIGRpciBsYW5nIHN0eWxlIHRhYmluZGV4IHRpdGxlIHJvbGUiLHQ9ImFkZHJlc3MgYmxvY2txdW90ZSBkaXYgZGwgZmllbGRzZXQgZm9ybSBoMSBoMiBoMyBoNCBoNSBoNiBociBtZW51IG9sIHAgcHJlIHRhYmxlIHVsIixuPSJhIGFiYnIgYiBiZG8gYnIgYnV0dG9uIGNpdGUgY29kZSBkZWwgZGZuIGVtIGVtYmVkIGkgaWZyYW1lIGltZyBpbnB1dCBpbnMga2JkIGxhYmVsIG1hcCBub3NjcmlwdCBvYmplY3QgcSBzIHNhbXAgc2NyaXB0IHNlbGVjdCBzbWFsbCBzcGFuIHN0cm9uZyBzdWIgc3VwIHRleHRhcmVhIHUgdmFyICN0ZXh0ICNjb21tZW50IiwiaHRtbDQiIT09ZSYmKHUrPSIgY29udGVudGVkaXRhYmxlIGNvbnRleHRtZW51IGRyYWdnYWJsZSBkcm9wem9uZSBoaWRkZW4gc3BlbGxjaGVjayB0cmFuc2xhdGUiLHQrPSIgYXJ0aWNsZSBhc2lkZSBkZXRhaWxzIGRpYWxvZyBmaWd1cmUgbWFpbiBoZWFkZXIgZm9vdGVyIGhncm91cCBzZWN0aW9uIG5hdiIsbis9IiBhdWRpbyBjYW52YXMgY29tbWFuZCBkYXRhbGlzdCBtYXJrIG1ldGVyIG91dHB1dCBwaWN0dXJlIHByb2dyZXNzIHRpbWUgd2JyIHZpZGVvIHJ1YnkgYmRpIGtleWdlbiIpLCJodG1sNS1zdHJpY3QiIT09ZSYmKHUrPSIgeG1sOmxhbmciLG49W24saT0iYWNyb255bSBhcHBsZXQgYmFzZWZvbnQgYmlnIGZvbnQgc3RyaWtlIHR0Il0uam9pbigiICIpLHhyKGtyKGkpLGZ1bmN0aW9uKGUpe2EoZSwiIixuKX0pLHQ9W3Qsbz0iY2VudGVyIGRpciBpc2luZGV4IG5vZnJhbWVzIl0uam9pbigiICIpLHI9W3Qsbl0uam9pbigiICIpLHhyKGtyKG8pLGZ1bmN0aW9uKGUpe2EoZSwiIixyKX0pKSxyPXJ8fFt0LG5dLmpvaW4oIiAiKSxhKCJodG1sIiwibWFuaWZlc3QiLCJoZWFkIGJvZHkiKSxhKCJoZWFkIiwiIiwiYmFzZSBjb21tYW5kIGxpbmsgbWV0YSBub3NjcmlwdCBzY3JpcHQgc3R5bGUgdGl0bGUiKSxhKCJ0aXRsZSBociBub3NjcmlwdCBiciIpLGEoImJhc2UiLCJocmVmIHRhcmdldCIpLGEoImxpbmsiLCJocmVmIHJlbCBtZWRpYSBocmVmbGFuZyB0eXBlIHNpemVzIGhyZWZsYW5nIiksYSgibWV0YSIsIm5hbWUgaHR0cC1lcXVpdiBjb250ZW50IGNoYXJzZXQiKSxhKCJzdHlsZSIsIm1lZGlhIHR5cGUgc2NvcGVkIiksYSgic2NyaXB0Iiwic3JjIGFzeW5jIGRlZmVyIHR5cGUgY2hhcnNldCIpLGEoImJvZHkiLCJvbmFmdGVycHJpbnQgb25iZWZvcmVwcmludCBvbmJlZm9yZXVubG9hZCBvbmJsdXIgb25lcnJvciBvbmZvY3VzIG9uaGFzaGNoYW5nZSBvbmxvYWQgb25tZXNzYWdlIG9ub2ZmbGluZSBvbm9ubGluZSBvbnBhZ2VoaWRlIG9ucGFnZXNob3cgb25wb3BzdGF0ZSBvbnJlc2l6ZSBvbnNjcm9sbCBvbnN0b3JhZ2Ugb251bmxvYWQiLHIpLGEoImFkZHJlc3MgZHQgZGQgZGl2IGNhcHRpb24iLCIiLHIpLGEoImgxIGgyIGgzIGg0IGg1IGg2IHByZSBwIGFiYnIgY29kZSB2YXIgc2FtcCBrYmQgc3ViIHN1cCBpIGIgdSBiZG8gc3BhbiBsZWdlbmQgZW0gc3Ryb25nIHNtYWxsIHMgY2l0ZSBkZm4iLCIiLG4pLGEoImJsb2NrcXVvdGUiLCJjaXRlIixyKSxhKCJvbCIsInJldmVyc2VkIHN0YXJ0IHR5cGUiLCJsaSIpLGEoInVsIiwiIiwibGkiKSxhKCJsaSIsInZhbHVlIixyKSxhKCJkbCIsIiIsImR0IGRkIiksYSgiYSIsImhyZWYgdGFyZ2V0IHJlbCBtZWRpYSBocmVmbGFuZyB0eXBlIixuKSxhKCJxIiwiY2l0ZSIsbiksYSgiaW5zIGRlbCIsImNpdGUgZGF0ZXRpbWUiLHIpLGEoImltZyIsInNyYyBzaXplcyBzcmNzZXQgYWx0IHVzZW1hcCBpc21hcCB3aWR0aCBoZWlnaHQiKSxhKCJpZnJhbWUiLCJzcmMgbmFtZSB3aWR0aCBoZWlnaHQiLHIpLGEoImVtYmVkIiwic3JjIHR5cGUgd2lkdGggaGVpZ2h0IiksYSgib2JqZWN0IiwiZGF0YSB0eXBlIHR5cGVtdXN0bWF0Y2ggbmFtZSB1c2VtYXAgZm9ybSB3aWR0aCBoZWlnaHQiLFtyLCJwYXJhbSJdLmpvaW4oIiAiKSksYSgicGFyYW0iLCJuYW1lIHZhbHVlIiksYSgibWFwIiwibmFtZSIsW3IsImFyZWEiXS5qb2luKCIgIikpLGEoImFyZWEiLCJhbHQgY29vcmRzIHNoYXBlIGhyZWYgdGFyZ2V0IHJlbCBtZWRpYSBocmVmbGFuZyB0eXBlIiksYSgidGFibGUiLCJib3JkZXIiLCJjYXB0aW9uIGNvbGdyb3VwIHRoZWFkIHRmb290IHRib2R5IHRyIisoImh0bWw0Ij09PWU/IiBjb2wiOiIiKSksYSgiY29sZ3JvdXAiLCJzcGFuIiwiY29sIiksYSgiY29sIiwic3BhbiIpLGEoInRib2R5IHRoZWFkIHRmb290IiwiIiwidHIiKSxhKCJ0ciIsIiIsInRkIHRoIiksYSgidGQiLCJjb2xzcGFuIHJvd3NwYW4gaGVhZGVycyIsciksYSgidGgiLCJjb2xzcGFuIHJvd3NwYW4gaGVhZGVycyBzY29wZSBhYmJyIixyKSxhKCJmb3JtIiwiYWNjZXB0LWNoYXJzZXQgYWN0aW9uIGF1dG9jb21wbGV0ZSBlbmN0eXBlIG1ldGhvZCBuYW1lIG5vdmFsaWRhdGUgdGFyZ2V0IixyKSxhKCJmaWVsZHNldCIsImRpc2FibGVkIGZvcm0gbmFtZSIsW3IsImxlZ2VuZCJdLmpvaW4oIiAiKSksYSgibGFiZWwiLCJmb3JtIGZvciIsbiksYSgiaW5wdXQiLCJhY2NlcHQgYWx0IGF1dG9jb21wbGV0ZSBjaGVja2VkIGRpcm5hbWUgZGlzYWJsZWQgZm9ybSBmb3JtYWN0aW9uIGZvcm1lbmN0eXBlIGZvcm1tZXRob2QgZm9ybW5vdmFsaWRhdGUgZm9ybXRhcmdldCBoZWlnaHQgbGlzdCBtYXggbWF4bGVuZ3RoIG1pbiBtdWx0aXBsZSBuYW1lIHBhdHRlcm4gcmVhZG9ubHkgcmVxdWlyZWQgc2l6ZSBzcmMgc3RlcCB0eXBlIHZhbHVlIHdpZHRoIiksYSgiYnV0dG9uIiwiZGlzYWJsZWQgZm9ybSBmb3JtYWN0aW9uIGZvcm1lbmN0eXBlIGZvcm1tZXRob2QgZm9ybW5vdmFsaWRhdGUgZm9ybXRhcmdldCBuYW1lIHR5cGUgdmFsdWUiLCJodG1sNCI9PT1lP3I6biksYSgic2VsZWN0IiwiZGlzYWJsZWQgZm9ybSBtdWx0aXBsZSBuYW1lIHJlcXVpcmVkIHNpemUiLCJvcHRpb24gb3B0Z3JvdXAiKSxhKCJvcHRncm91cCIsImRpc2FibGVkIGxhYmVsIiwib3B0aW9uIiksYSgib3B0aW9uIiwiZGlzYWJsZWQgbGFiZWwgc2VsZWN0ZWQgdmFsdWUiKSxhKCJ0ZXh0YXJlYSIsImNvbHMgZGlybmFtZSBkaXNhYmxlZCBmb3JtIG1heGxlbmd0aCBuYW1lIHJlYWRvbmx5IHJlcXVpcmVkIHJvd3Mgd3JhcCIpLGEoIm1lbnUiLCJ0eXBlIGxhYmVsIixbciwibGkiXS5qb2luKCIgIikpLGEoIm5vc2NyaXB0IiwiIixyKSwiaHRtbDQiIT09ZSYmKGEoIndiciIpLGEoInJ1YnkiLCIiLFtuLCJydCBycCJdLmpvaW4oIiAiKSksYSgiZmlnY2FwdGlvbiIsIiIsciksYSgibWFyayBydCBycCBzdW1tYXJ5IGJkaSIsIiIsbiksYSgiY2FudmFzIiwid2lkdGggaGVpZ2h0IixyKSxhKCJ2aWRlbyIsInNyYyBjcm9zc29yaWdpbiBwb3N0ZXIgcHJlbG9hZCBhdXRvcGxheSBtZWRpYWdyb3VwIGxvb3AgbXV0ZWQgY29udHJvbHMgd2lkdGggaGVpZ2h0IGJ1ZmZlcmVkIixbciwidHJhY2sgc291cmNlIl0uam9pbigiICIpKSxhKCJhdWRpbyIsInNyYyBjcm9zc29yaWdpbiBwcmVsb2FkIGF1dG9wbGF5IG1lZGlhZ3JvdXAgbG9vcCBtdXRlZCBjb250cm9scyBidWZmZXJlZCB2b2x1bWUiLFtyLCJ0cmFjayBzb3VyY2UiXS5qb2luKCIgIikpLGEoInBpY3R1cmUiLCIiLCJpbWcgc291cmNlIiksYSgic291cmNlIiwic3JjIHNyY3NldCB0eXBlIG1lZGlhIHNpemVzIiksYSgidHJhY2siLCJraW5kIHNyYyBzcmNsYW5nIGxhYmVsIGRlZmF1bHQiKSxhKCJkYXRhbGlzdCIsIiIsW24sIm9wdGlvbiJdLmpvaW4oIiAiKSksYSgiYXJ0aWNsZSBzZWN0aW9uIG5hdiBhc2lkZSBtYWluIGhlYWRlciBmb290ZXIiLCIiLHIpLGEoImhncm91cCIsIiIsImgxIGgyIGgzIGg0IGg1IGg2IiksYSgiZmlndXJlIiwiIixbciwiZmlnY2FwdGlvbiJdLmpvaW4oIiAiKSksYSgidGltZSIsImRhdGV0aW1lIixuKSxhKCJkaWFsb2ciLCJvcGVuIixyKSxhKCJjb21tYW5kIiwidHlwZSBsYWJlbCBpY29uIGRpc2FibGVkIGNoZWNrZWQgcmFkaW9ncm91cCBjb21tYW5kIiksYSgib3V0cHV0IiwiZm9yIGZvcm0gbmFtZSIsbiksYSgicHJvZ3Jlc3MiLCJ2YWx1ZSBtYXgiLG4pLGEoIm1ldGVyIiwidmFsdWUgbWluIG1heCBsb3cgaGlnaCBvcHRpbXVtIixuKSxhKCJkZXRhaWxzIiwib3BlbiIsW3IsInN1bW1hcnkiXS5qb2luKCIgIikpLGEoImtleWdlbiIsImF1dG9mb2N1cyBjaGFsbGVuZ2UgZGlzYWJsZWQgZm9ybSBrZXl0eXBlIG5hbWUiKSksImh0bWw1LXN0cmljdCIhPT1lJiYoYygic2NyaXB0IiwibGFuZ3VhZ2UgeG1sOnNwYWNlIiksYygic3R5bGUiLCJ4bWw6c3BhY2UiKSxjKCJvYmplY3QiLCJkZWNsYXJlIGNsYXNzaWQgY29kZSBjb2RlYmFzZSBjb2RldHlwZSBhcmNoaXZlIHN0YW5kYnkgYWxpZ24gYm9yZGVyIGhzcGFjZSB2c3BhY2UiKSxjKCJlbWJlZCIsImFsaWduIG5hbWUgaHNwYWNlIHZzcGFjZSIpLGMoInBhcmFtIiwidmFsdWV0eXBlIHR5cGUiKSxjKCJhIiwiY2hhcnNldCBuYW1lIHJldiBzaGFwZSBjb29yZHMiKSxjKCJiciIsImNsZWFyIiksYygiYXBwbGV0IiwiY29kZWJhc2UgYXJjaGl2ZSBjb2RlIG9iamVjdCBhbHQgbmFtZSB3aWR0aCBoZWlnaHQgYWxpZ24gaHNwYWNlIHZzcGFjZSIpLGMoImltZyIsIm5hbWUgbG9uZ2Rlc2MgYWxpZ24gYm9yZGVyIGhzcGFjZSB2c3BhY2UiKSxjKCJpZnJhbWUiLCJsb25nZGVzYyBmcmFtZWJvcmRlciBtYXJnaW53aWR0aCBtYXJnaW5oZWlnaHQgc2Nyb2xsaW5nIGFsaWduIiksYygiZm9udCBiYXNlZm9udCIsInNpemUgY29sb3IgZmFjZSIpLGMoImlucHV0IiwidXNlbWFwIGFsaWduIiksYygic2VsZWN0IiksYygidGV4dGFyZWEiKSxjKCJoMSBoMiBoMyBoNCBoNSBoNiBkaXYgcCBsZWdlbmQgY2FwdGlvbiIsImFsaWduIiksYygidWwiLCJ0eXBlIGNvbXBhY3QiKSxjKCJsaSIsInR5cGUiKSxjKCJvbCBkbCBtZW51IGRpciIsImNvbXBhY3QiKSxjKCJwcmUiLCJ3aWR0aCB4bWw6c3BhY2UiKSxjKCJociIsImFsaWduIG5vc2hhZGUgc2l6ZSB3aWR0aCIpLGMoImlzaW5kZXgiLCJwcm9tcHQiKSxjKCJ0YWJsZSIsInN1bW1hcnkgd2lkdGggZnJhbWUgcnVsZXMgY2VsbHNwYWNpbmcgY2VsbHBhZGRpbmcgYWxpZ24gYmdjb2xvciIpLGMoImNvbCIsIndpZHRoIGFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24iKSxjKCJjb2xncm91cCIsIndpZHRoIGFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24iKSxjKCJ0aGVhZCIsImFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24iKSxjKCJ0ciIsImFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24gYmdjb2xvciIpLGMoInRoIiwiYXhpcyBhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIG5vd3JhcCBiZ2NvbG9yIHdpZHRoIGhlaWdodCIpLGMoImZvcm0iLCJhY2NlcHQiKSxjKCJ0ZCIsImFiYnIgYXhpcyBzY29wZSBhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIG5vd3JhcCBiZ2NvbG9yIHdpZHRoIGhlaWdodCIpLGMoInRmb290IiwiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLGMoInRib2R5IiwiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLGMoImFyZWEiLCJub2hyZWYiKSxjKCJib2R5IiwiYmFja2dyb3VuZCBiZ2NvbG9yIHRleHQgbGluayB2bGluayBhbGluayIpKSwiaHRtbDQiIT09ZSYmKGMoImlucHV0IGJ1dHRvbiBzZWxlY3QgdGV4dGFyZWEiLCJhdXRvZm9jdXMiKSxjKCJpbnB1dCB0ZXh0YXJlYSIsInBsYWNlaG9sZGVyIiksYygiYSIsImRvd25sb2FkIiksYygibGluayBzY3JpcHQgaW1nIiwiY3Jvc3NvcmlnaW4iKSxjKCJpbWciLCJsb2FkaW5nIiksYygiaWZyYW1lIiwic2FuZGJveCBzZWFtbGVzcyBhbGxvd2Z1bGxzY3JlZW4gbG9hZGluZyIpKSx4cihrcigiYSBmb3JtIG1ldGVyIHByb2dyZXNzIGRmbiIpLGZ1bmN0aW9uKGUpe3NbZV0mJmRlbGV0ZSBzW2VdLmNoaWxkcmVuW2VdfSksZGVsZXRlIHMuY2FwdGlvbi5jaGlsZHJlbi50YWJsZSxkZWxldGUgcy5zY3JpcHQsYnJbZV09cyl9LFRyPWZ1bmN0aW9uKGUsbil7dmFyIHI7cmV0dXJuIGUmJihyPXt9LCJzdHJpbmciPT10eXBlb2YgZSYmKGU9eyIqIjplfSkseHIoZSxmdW5jdGlvbihlLHQpe3JbdF09clt0LnRvVXBwZXJDYXNlKCldPSgibWFwIj09PW4/d3I6TnIpKGUsL1ssIF0vKX0pKSxyfTtmdW5jdGlvbiBScihpKXt2YXIgeD17fSx1PXt9LFM9W10scz17fSx0PXt9LGU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWlbZV07cmV0dXJuIHI/cj13cihyLC9bLCBdLyx3cihyLnRvVXBwZXJDYXNlKCksL1ssIF0vKSk6KHI9YnJbZV0pfHwocj13cih0LCIgIix3cih0LnRvVXBwZXJDYXNlKCksIiAiKSkscj1TcihyLG4pLGJyW2VdPXIpLHJ9LG49X3IoKGk9aXx8e30pLnNjaGVtYSk7ITE9PT1pLnZlcmlmeV9odG1sJiYoaS52YWxpZF9lbGVtZW50cz0iKlsqXSIpO3ZhciByPVRyKGkudmFsaWRfc3R5bGVzKSxvPVRyKGkuaW52YWxpZF9zdHlsZXMsIm1hcCIpLGE9VHIoaS52YWxpZF9jbGFzc2VzLCJtYXAiKSxjPWUoIndoaXRlc3BhY2VfZWxlbWVudHMiLCJwcmUgc2NyaXB0IG5vc2NyaXB0IHN0eWxlIHRleHRhcmVhIHZpZGVvIGF1ZGlvIGlmcmFtZSBvYmplY3QgY29kZSIpLGw9ZSgic2VsZl9jbG9zaW5nX2VsZW1lbnRzIiwiY29sZ3JvdXAgZGQgZHQgbGkgb3B0aW9uIHAgdGQgdGZvb3QgdGggdGhlYWQgdHIiKSxmPWUoInNob3J0X2VuZGVkX2VsZW1lbnRzIiwiYXJlYSBiYXNlIGJhc2Vmb250IGJyIGNvbCBmcmFtZSBociBpbWcgaW5wdXQgaXNpbmRleCBsaW5rIG1ldGEgcGFyYW0gZW1iZWQgc291cmNlIHdiciB0cmFjayIpLGQ9ZSgiYm9vbGVhbl9hdHRyaWJ1dGVzIiwiY2hlY2tlZCBjb21wYWN0IGRlY2xhcmUgZGVmZXIgZGlzYWJsZWQgaXNtYXAgbXVsdGlwbGUgbm9ocmVmIG5vcmVzaXplIG5vc2hhZGUgbm93cmFwIHJlYWRvbmx5IHNlbGVjdGVkIGF1dG9wbGF5IGxvb3AgY29udHJvbHMiKSxtPWUoIm5vbl9lbXB0eV9lbGVtZW50cyIsInRkIHRoIGlmcmFtZSB2aWRlbyBhdWRpbyBvYmplY3Qgc2NyaXB0IHByZSBjb2RlIixmKSxwPWUoIm1vdmVfY2FyZXRfYmVmb3JlX29uX2VudGVyX2VsZW1lbnRzIiwidGFibGUiLG0pLGc9ZSgidGV4dF9ibG9ja19lbGVtZW50cyIsImgxIGgyIGgzIGg0IGg1IGg2IHAgZGl2IGFkZHJlc3MgcHJlIGZvcm0gYmxvY2txdW90ZSBjZW50ZXIgZGlyIGZpZWxkc2V0IGhlYWRlciBmb290ZXIgYXJ0aWNsZSBzZWN0aW9uIGhncm91cCBhc2lkZSBtYWluIG5hdiBmaWd1cmUiKSxoPWUoImJsb2NrX2VsZW1lbnRzIiwiaHIgdGFibGUgdGJvZHkgdGhlYWQgdGZvb3QgdGggdHIgdGQgbGkgb2wgdWwgY2FwdGlvbiBkbCBkdCBkZCBub3NjcmlwdCBtZW51IGlzaW5kZXggb3B0aW9uIGRhdGFsaXN0IHNlbGVjdCBvcHRncm91cCBmaWdjYXB0aW9uIGRldGFpbHMgc3VtbWFyeSIsZyksdj1lKCJ0ZXh0X2lubGluZV9lbGVtZW50cyIsInNwYW4gc3Ryb25nIGIgZW0gaSBmb250IHN0cmlrZSB1IHZhciBjaXRlIGRmbiBjb2RlIG1hcmsgcSBzdXAgc3ViIHNhbXAiKTt4cigoaS5zcGVjaWFsfHwic2NyaXB0IG5vc2NyaXB0IGlmcmFtZSBub2ZyYW1lcyBub2VtYmVkIHRpdGxlIHN0eWxlIHRleHRhcmVhIHhtcCIpLnNwbGl0KCIgIiksZnVuY3Rpb24oZSl7dFtlXT1uZXcgUmVnRXhwKCI8LyIrZSsiW14+XSo+IiwiZ2kiKX0pO3ZhciBOPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUmVnRXhwKCJeIitlLnJlcGxhY2UoLyhbPysqXSkvZywiLiQxIikrIiQiKX0seT1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzLGMsbCxmLGQsbSxwLGcsaCx2LHksYj0vXihbIytcLV0pPyhbXlxbIVwvXSspKD86XC8oW15cWyFdKykpPyg/OighPylcWyhbXlxdXSspXF0pPyQvLEM9L14oWyFcLV0pPyhcdytbXFw6XTpcdyt8W149OjxdKyk/KD86KFs9OjxdKSguKikpPyQvLHc9L1sqPytdLztpZihlKWZvcihlPWtyKGUsIiwiKSx4WyJAIl0mJihoPXhbIkAiXS5hdHRyaWJ1dGVzLHY9eFsiQCJdLmF0dHJpYnV0ZXNPcmRlciksdD0wLG49ZS5sZW5ndGg7dDxuO3QrKylpZihpPWIuZXhlYyhlW3RdKSl7aWYocD1pWzFdLGM9aVsyXSxnPWlbM10scz1pWzVdLGE9e2F0dHJpYnV0ZXM6ZD17fSxhdHRyaWJ1dGVzT3JkZXI6bT1bXX0sIiMiPT09cCYmKGEucGFkZEVtcHR5PSEwKSwiLSI9PT1wJiYoYS5yZW1vdmVFbXB0eT0hMCksIiEiPT09aVs0XSYmKGEucmVtb3ZlRW1wdHlBdHRycz0hMCksaCYmKG9lKGgsZnVuY3Rpb24oZSx0KXtkW3RdPWV9KSxtLnB1c2guYXBwbHkobSx2KSkscylmb3Iocj0wLG89KHM9a3IocywifCIpKS5sZW5ndGg7cjxvO3IrKylpZihpPUMuZXhlYyhzW3JdKSl7aWYodT17fSxmPWlbMV0sbD1pWzJdLnJlcGxhY2UoL1tcXDpdOi9nLCI6IikscD1pWzNdLHk9aVs0XSwiISI9PT1mJiYoYS5hdHRyaWJ1dGVzUmVxdWlyZWQ9YS5hdHRyaWJ1dGVzUmVxdWlyZWR8fFtdLGEuYXR0cmlidXRlc1JlcXVpcmVkLnB1c2gobCksdS5yZXF1aXJlZD0hMCksIi0iPT09Zil7ZGVsZXRlIGRbbF0sbS5zcGxpY2UoRXIobSxsKSwxKTtjb250aW51ZX1wJiYoIj0iPT09cCYmKGEuYXR0cmlidXRlc0RlZmF1bHQ9YS5hdHRyaWJ1dGVzRGVmYXVsdHx8W10sYS5hdHRyaWJ1dGVzRGVmYXVsdC5wdXNoKHtuYW1lOmwsdmFsdWU6eX0pLHUuZGVmYXVsdFZhbHVlPXkpLCI6Ij09PXAmJihhLmF0dHJpYnV0ZXNGb3JjZWQ9YS5hdHRyaWJ1dGVzRm9yY2VkfHxbXSxhLmF0dHJpYnV0ZXNGb3JjZWQucHVzaCh7bmFtZTpsLHZhbHVlOnl9KSx1LmZvcmNlZFZhbHVlPXkpLCI8Ij09PXAmJih1LnZhbGlkVmFsdWVzPXdyKHksIj8iKSkpLHcudGVzdChsKT8oYS5hdHRyaWJ1dGVQYXR0ZXJucz1hLmF0dHJpYnV0ZVBhdHRlcm5zfHxbXSx1LnBhdHRlcm49TihsKSxhLmF0dHJpYnV0ZVBhdHRlcm5zLnB1c2godSkpOihkW2xdfHxtLnB1c2gobCksZFtsXT11KX1ofHwiQCIhPT1jfHwoaD1kLHY9bSksZyYmKGEub3V0cHV0TmFtZT1jLHhbZ109YSksdy50ZXN0KGMpPyhhLnBhdHRlcm49TihjKSxTLnB1c2goYSkpOnhbY109YX19LGI9ZnVuY3Rpb24oZSl7eD17fSxTPVtdLHkoZSkseHIobixmdW5jdGlvbihlLHQpe3VbdF09ZS5jaGlsZHJlbn0pfSxDPWZ1bmN0aW9uKGUpe3ZhciBhPS9eKH4pPyguKykkLztlJiYoYnIudGV4dF9ibG9ja19lbGVtZW50cz1ici5ibG9ja19lbGVtZW50cz1udWxsLHhyKGtyKGUsIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1hLmV4ZWMoZSksbj0ifiI9PT10WzFdLHI9bj8ic3BhbiI6ImRpdiIsbz10WzJdO2lmKHVbb109dVtyXSxzW29dPXIsbnx8KGhbby50b1VwcGVyQ2FzZSgpXT17fSxoW29dPXt9KSwheFtvXSl7dmFyIGk9eFtyXTtkZWxldGUoaT1Tcih7fSxpKSkucmVtb3ZlRW1wdHlBdHRycyxkZWxldGUgaS5yZW1vdmVFbXB0eSx4W29dPWl9eHIodSxmdW5jdGlvbihlLHQpe2Vbcl0mJih1W3RdPWU9U3Ioe30sdVt0XSksZVtvXT1lW3JdKX0pfSkpfSx3PWZ1bmN0aW9uKGUpe3ZhciBvPS9eKFsrXC1dPykoW0EtWmEtejAtOV9cLVwuXHUwMGI3XHUwMGMwLVx1MDBkNlx1MDBkOC1cdTAwZjZcdTAwZjgtXHUwMzdkXHUwMzdmLVx1MWZmZlx1MjAwYy1cdTIwMGRcdTIwM2YtXHUyMDQwXHUyMDcwLVx1MjE4Zlx1MmMwMC1cdTJmZWZcdTMwMDEtXHVkN2ZmXHVmOTAwLVx1ZmRjZlx1ZmRmMC1cdWZmZmRdKylcWyhbXlxdXSspXF0kLzticltpLnNjaGVtYV09bnVsbCxlJiZ4cihrcihlLCIsIiksZnVuY3Rpb24oZSl7dmFyIHQsbixyPW8uZXhlYyhlKTtyJiYobj1yWzFdLHQ9bj91W3JbMl1dOnVbclsyXV09eyIjY29tbWVudCI6e319LHQ9dVtyWzJdXSx4cihrcihyWzNdLCJ8IiksZnVuY3Rpb24oZSl7Ii0iPT09bj9kZWxldGUgdFtlXTp0W2VdPXt9fSkpfSl9LEU9ZnVuY3Rpb24oZSl7dmFyIHQsbj14W2VdO2lmKG4pcmV0dXJuIG47Zm9yKHQ9Uy5sZW5ndGg7dC0tOylpZigobj1TW3RdKS5wYXR0ZXJuLnRlc3QoZSkpcmV0dXJuIG59O2kudmFsaWRfZWxlbWVudHM/YihpLnZhbGlkX2VsZW1lbnRzKTooeHIobixmdW5jdGlvbihlLHQpe3hbdF09e2F0dHJpYnV0ZXM6ZS5hdHRyaWJ1dGVzLGF0dHJpYnV0ZXNPcmRlcjplLmF0dHJpYnV0ZXNPcmRlcn0sdVt0XT1lLmNoaWxkcmVufSksImh0bWw1IiE9PWkuc2NoZW1hJiZ4cihrcigic3Ryb25nL2IgZW0vaSIpLGZ1bmN0aW9uKGUpe2U9a3IoZSwiLyIpLHhbZVsxXV0ub3V0cHV0TmFtZT1lWzBdfSkseHIoa3IoIm9sIHVsIHN1YiBzdXAgYmxvY2txdW90ZSBzcGFuIGZvbnQgYSB0YWJsZSB0Ym9keSB0ciBzdHJvbmcgZW0gYiBpIiksZnVuY3Rpb24oZSl7eFtlXSYmKHhbZV0ucmVtb3ZlRW1wdHk9ITApfSkseHIoa3IoInAgaDEgaDIgaDMgaDQgaDUgaDYgdGggdGQgcHJlIGRpdiBhZGRyZXNzIGNhcHRpb24gbGkiKSxmdW5jdGlvbihlKXt4W2VdLnBhZGRFbXB0eT0hMH0pLHhyKGtyKCJzcGFuIiksZnVuY3Rpb24oZSl7eFtlXS5yZW1vdmVFbXB0eUF0dHJzPSEwfSkpLEMoaS5jdXN0b21fZWxlbWVudHMpLHcoaS52YWxpZF9jaGlsZHJlbikseShpLmV4dGVuZGVkX3ZhbGlkX2VsZW1lbnRzKSx3KCIrb2xbdWx8b2xdLCt1bFt1bHxvbF0iKSx4cih7ZGQ6ImRsIixkdDoiZGwiLGxpOiJ1bCBvbCIsdGQ6InRyIix0aDoidHIiLHRyOiJ0Ym9keSB0aGVhZCB0Zm9vdCIsdGJvZHk6InRhYmxlIix0aGVhZDoidGFibGUiLHRmb290OiJ0YWJsZSIsbGVnZW5kOiJmaWVsZHNldCIsYXJlYToibWFwIixwYXJhbToidmlkZW8gYXVkaW8gb2JqZWN0In0sZnVuY3Rpb24oZSx0KXt4W3RdJiYoeFt0XS5wYXJlbnRzUmVxdWlyZWQ9a3IoZSkpfSksaS5pbnZhbGlkX2VsZW1lbnRzJiZ4cihOcihpLmludmFsaWRfZWxlbWVudHMpLGZ1bmN0aW9uKGUpe3hbZV0mJmRlbGV0ZSB4W2VdfSksRSgic3BhbiIpfHx5KCJzcGFuWyFkYXRhLW1jZS10eXBlfCpdIik7cmV0dXJue2NoaWxkcmVuOnUsZWxlbWVudHM6eCxnZXRWYWxpZFN0eWxlczpmdW5jdGlvbigpe3JldHVybiByfSxnZXRWYWxpZENsYXNzZXM6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sZ2V0QmxvY2tFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBofSxnZXRJbnZhbGlkU3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIG99LGdldFNob3J0RW5kZWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBmfSxnZXRUZXh0QmxvY2tFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBnfSxnZXRUZXh0SW5saW5lRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gdn0sZ2V0Qm9vbEF0dHJzOmZ1bmN0aW9uKCl7cmV0dXJuIGR9LGdldEVsZW1lbnRSdWxlOkUsZ2V0U2VsZkNsb3NpbmdFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBsfSxnZXROb25FbXB0eUVsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIG19LGdldE1vdmVDYXJldEJlZm9yZU9uRW50ZXJFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBwfSxnZXRXaGl0ZVNwYWNlRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gY30sZ2V0U3BlY2lhbEVsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHR9LGlzVmFsaWRDaGlsZDpmdW5jdGlvbihlLHQpe3ZhciBuPXVbZS50b0xvd2VyQ2FzZSgpXTtyZXR1cm4hKCFufHwhblt0LnRvTG93ZXJDYXNlKCldKX0saXNWYWxpZDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1FKGUpO2lmKG8pe2lmKCF0KXJldHVybiEwO2lmKG8uYXR0cmlidXRlc1t0XSlyZXR1cm4hMDtpZihuPW8uYXR0cmlidXRlUGF0dGVybnMpZm9yKHI9bi5sZW5ndGg7ci0tOylpZihuW3JdLnBhdHRlcm4udGVzdChlKSlyZXR1cm4hMH1yZXR1cm4hMX0sZ2V0Q3VzdG9tRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gc30sYWRkVmFsaWRFbGVtZW50czp5LHNldFZhbGlkRWxlbWVudHM6YixhZGRDdXN0b21FbGVtZW50czpDLGFkZFZhbGlkQ2hpbGRyZW46d319dmFyIEFyPSJcdWZlZmYiLERyPSJceGEwIixPcj1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1mdW5jdGlvbihlKXtyZXR1cm4gMTwoZT1wYXJzZUludChlLDEwKS50b1N0cmluZygxNikpLmxlbmd0aD9lOiIwIitlfTtyZXR1cm4iIyIrbyh0KStvKG4pK28ocil9LEJyPWZ1bmN0aW9uKGIsZSl7dmFyIEMscyxjLHc9L3JnYlxzKlwoXHMqKFswLTldKylccyosXHMqKFswLTldKylccyosXHMqKFswLTldKylccypcKS9naSx4PS8oPzp1cmwoPzooPzpcKFxzKlwiKFteXCJdKylcIlxzKlwpKXwoPzpcKFxzKlwnKFteXCddKylcJ1xzKlwpKXwoPzpcKFxzKihbXilcc10rKVxzKlwpKSkpfCg/OlwnKFteXCddKylcJyl8KD86XCIoW15cIl0rKVwiKS9naSxTPS9ccyooW146XSspOlxzKihbXjtdKyk7Py9nLE49L1xzKyQvLEU9e30saz1BcjtiPWJ8fHt9LGUmJihzPWUuZ2V0VmFsaWRTdHlsZXMoKSxjPWUuZ2V0SW52YWxpZFN0eWxlcygpKTt2YXIgdD0oIlxcXCIgXFwnIFxcOyBcXDogOyA6ICIraykuc3BsaXQoIiAiKTtmb3IoQz0wO0M8dC5sZW5ndGg7QysrKUVbdFtDXV09aytDLEVbaytDXT10W0NdO3JldHVybnt0b0hleDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKHcsT3IpfSxwYXJzZTpmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzLGM9e30sbD1iLnVybF9jb252ZXJ0ZXIsZj1iLnVybF9jb252ZXJ0ZXJfc2NvcGV8fHRoaXMsZD1mdW5jdGlvbihlLHQsbil7dmFyIHI9Y1tlKyItdG9wIit0XTtpZihyKXt2YXIgbz1jW2UrIi1yaWdodCIrdF07aWYobyl7dmFyIGk9Y1tlKyItYm90dG9tIit0XTtpZihpKXt2YXIgYT1jW2UrIi1sZWZ0Iit0XTtpZihhKXt2YXIgdT1bcixvLGksYV07Zm9yKEM9dS5sZW5ndGgtMTtDLS0mJnVbQ109PT11W0MrMV07KTstMTxDJiZufHwoY1tlK3RdPS0xPT09Qz91WzBdOnUuam9pbigiICIpLGRlbGV0ZSBjW2UrIi10b3AiK3RdLGRlbGV0ZSBjW2UrIi1yaWdodCIrdF0sZGVsZXRlIGNbZSsiLWJvdHRvbSIrdF0sZGVsZXRlIGNbZSsiLWxlZnQiK3RdKX19fX19LG09ZnVuY3Rpb24oZSl7dmFyIHQsbj1jW2VdO2lmKG4pe2Zvcih0PShuPW4uc3BsaXQoIiAiKSkubGVuZ3RoO3QtLTspaWYoblt0XSE9PW5bMF0pcmV0dXJuITE7cmV0dXJuIGNbZV09blswXSwhMH19LHA9ZnVuY3Rpb24oZSl7cmV0dXJuIG89ITAsRVtlXX0sZz1mdW5jdGlvbihlLHQpe3JldHVybiBvJiYoZT1lLnJlcGxhY2UoL1x1RkVGRlswLTldL2csZnVuY3Rpb24oZSl7cmV0dXJuIEVbZV19KSksdHx8KGU9ZS5yZXBsYWNlKC9cXChbXCdcIjs6XSkvZywiJDEiKSksZX0saD1mdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChlLnNsaWNlKDEpLDE2KSl9LHY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXFxbMC05YS1mXSsvZ2ksaCl9LHk9ZnVuY3Rpb24oZSx0LG4scixvLGkpe2lmKG89b3x8aSlyZXR1cm4iJyIrKG89ZyhvKSkucmVwbGFjZSgvXCcvZywiXFwnIikrIiciO2lmKHQ9Zyh0fHxufHxyKSwhYi5hbGxvd19zY3JpcHRfdXJscyl7dmFyIGE9dC5yZXBsYWNlKC9bXHNcclxuXSsvZywiIik7aWYoLyhqYXZhfHZiKXNjcmlwdDovaS50ZXN0KGEpKXJldHVybiIiO2lmKCFiLmFsbG93X3N2Z19kYXRhX3VybHMmJi9eZGF0YTppbWFnZVwvc3ZnL2kudGVzdChhKSlyZXR1cm4iIn1yZXR1cm4gbCYmKHQ9bC5jYWxsKGYsdCwic3R5bGUiKSksInVybCgnIit0LnJlcGxhY2UoL1wnL2csIlxcJyIpKyInKSJ9O2lmKGUpe2ZvcihlPShlPWUucmVwbGFjZSgvW1x1MDAwMC1cdTAwMUZdL2csIiIpKS5yZXBsYWNlKC9cXFtcIlwnOzpcdUZFRkZdL2cscCkucmVwbGFjZSgvXCJbXlwiXStcInxcJ1teXCddK1wnL2csZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvWzs6XS9nLHApfSk7dD1TLmV4ZWMoZSk7KWlmKFMubGFzdEluZGV4PXQuaW5kZXgrdFswXS5sZW5ndGgsbj10WzFdLnJlcGxhY2UoTiwiIikudG9Mb3dlckNhc2UoKSxyPXRbMl0ucmVwbGFjZShOLCIiKSxuJiZyKXtpZihuPXYobikscj12KHIpLC0xIT09bi5pbmRleE9mKGspfHwtMSE9PW4uaW5kZXhPZignIicpKWNvbnRpbnVlO2lmKCFiLmFsbG93X3NjcmlwdF91cmxzJiYoImJlaGF2aW9yIj09PW58fC9leHByZXNzaW9uXHMqXCh8XC9cKnxcKlwvLy50ZXN0KHIpKSljb250aW51ZTsiZm9udC13ZWlnaHQiPT09biYmIjcwMCI9PT1yP3I9ImJvbGQiOiJjb2xvciIhPT1uJiYiYmFja2dyb3VuZC1jb2xvciIhPT1ufHwocj1yLnRvTG93ZXJDYXNlKCkpLHI9KHI9ci5yZXBsYWNlKHcsT3IpKS5yZXBsYWNlKHgseSksY1tuXT1vP2cociwhMCk6cn1kKCJib3JkZXIiLCIiLCEwKSxkKCJib3JkZXIiLCItd2lkdGgiKSxkKCJib3JkZXIiLCItY29sb3IiKSxkKCJib3JkZXIiLCItc3R5bGUiKSxkKCJwYWRkaW5nIiwiIiksZCgibWFyZ2luIiwiIiksaT0iYm9yZGVyIix1PSJib3JkZXItc3R5bGUiLHM9ImJvcmRlci1jb2xvciIsbShhPSJib3JkZXItd2lkdGgiKSYmbSh1KSYmbShzKSYmKGNbaV09Y1thXSsiICIrY1t1XSsiICIrY1tzXSxkZWxldGUgY1thXSxkZWxldGUgY1t1XSxkZWxldGUgY1tzXSksIm1lZGl1bSBub25lIj09PWMuYm9yZGVyJiZkZWxldGUgYy5ib3JkZXIsIm5vbmUiPT09Y1siYm9yZGVyLWltYWdlIl0mJmRlbGV0ZSBjWyJib3JkZXItaW1hZ2UiXX1yZXR1cm4gY30sc2VyaWFsaXplOmZ1bmN0aW9uKGksYSl7dmFyIHU9IiIsZT1mdW5jdGlvbihlKXt2YXIgdCxuPXNbZV07aWYobilmb3IodmFyIHI9MCxvPW4ubGVuZ3RoO3I8bztyKyspZT1uW3JdLCh0PWlbZV0pJiYodSs9KDA8dS5sZW5ndGg/IiAiOiIiKStlKyI6ICIrdCsiOyIpfTtyZXR1cm4gYSYmcz8oZSgiKiIpLGUoYSkpOm9lKGksZnVuY3Rpb24oZSx0KXt2YXIgbixyLG87IWV8fGMmJihuPXQscj1hLChvPWNbIioiXSkmJm9bbl18fChvPWNbcl0pJiZvW25dKXx8KHUrPSgwPHUubGVuZ3RoPyIgIjoiIikrdCsiOiAiK2UrIjsiKX0pLHV9fX0sUHI9L14oPzptb3VzZXxjb250ZXh0bWVudSl8Y2xpY2svLExyPXtrZXlMb2NhdGlvbjoxLGxheWVyWDoxLGxheWVyWToxLHJldHVyblZhbHVlOjEsd2Via2l0TW92ZW1lbnRYOjEsd2Via2l0TW92ZW1lbnRZOjEsa2V5SWRlbnRpZmllcjoxLG1velByZXNzdXJlOjF9LElyPWZ1bmN0aW9uKCl7cmV0dXJuITF9LE1yPWZ1bmN0aW9uKCl7cmV0dXJuITB9LEZyPWZ1bmN0aW9uKGUsdCxuLHIpe2UuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIodCxuLHJ8fCExKTplLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KCJvbiIrdCxuKX0sVXI9ZnVuY3Rpb24oZSx0LG4scil7ZS5yZW1vdmVFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4scnx8ITEpOmUuZGV0YWNoRXZlbnQmJmUuZGV0YWNoRXZlbnQoIm9uIit0LG4pfSx6cj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbz10fHx7fTtmb3IobiBpbiBlKUxyW25dfHwob1tuXT1lW25dKTtpZihvLnRhcmdldHx8KG8udGFyZ2V0PW8uc3JjRWxlbWVudHx8Vi5kb2N1bWVudCksbXQuZXhwZXJpbWVudGFsU2hhZG93RG9tJiYoby50YXJnZXQ9ZnVuY3Rpb24oZSx0KXtpZihlLmNvbXBvc2VkUGF0aCl7dmFyIG49ZS5jb21wb3NlZFBhdGgoKTtpZihuJiYwPG4ubGVuZ3RoKXJldHVybiBuWzBdfXJldHVybiB0fShlLG8udGFyZ2V0KSksZSYmUHIudGVzdChlLnR5cGUpJiZlLnBhZ2VYPT09dW5kZWZpbmVkJiZlLmNsaWVudFghPT11bmRlZmluZWQpe3ZhciBpPW8udGFyZ2V0Lm93bmVyRG9jdW1lbnR8fFYuZG9jdW1lbnQsYT1pLmRvY3VtZW50RWxlbWVudCx1PWkuYm9keTtvLnBhZ2VYPWUuY2xpZW50WCsoYSYmYS5zY3JvbGxMZWZ0fHx1JiZ1LnNjcm9sbExlZnR8fDApLShhJiZhLmNsaWVudExlZnR8fHUmJnUuY2xpZW50TGVmdHx8MCksby5wYWdlWT1lLmNsaWVudFkrKGEmJmEuc2Nyb2xsVG9wfHx1JiZ1LnNjcm9sbFRvcHx8MCktKGEmJmEuY2xpZW50VG9wfHx1JiZ1LmNsaWVudFRvcHx8MCl9cmV0dXJuIG8ucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtvLmlzRGVmYXVsdFByZXZlbnRlZD1NcixlJiYoZS5wcmV2ZW50RGVmYXVsdD9lLnByZXZlbnREZWZhdWx0KCk6ZS5yZXR1cm5WYWx1ZT0hMSl9LG8uc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7by5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1NcixlJiYoZS5zdG9wUHJvcGFnYXRpb24/ZS5zdG9wUHJvcGFnYXRpb24oKTplLmNhbmNlbEJ1YmJsZT0hMCl9LCEoby5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtvLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPU1yLG8uc3RvcFByb3BhZ2F0aW9uKCl9KT09KChyPW8pLmlzRGVmYXVsdFByZXZlbnRlZD09PU1yfHxyLmlzRGVmYXVsdFByZXZlbnRlZD09PUlyKSYmKG8uaXNEZWZhdWx0UHJldmVudGVkPUlyLG8uaXNQcm9wYWdhdGlvblN0b3BwZWQ9SXIsby5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1JciksInVuZGVmaW5lZCI9PXR5cGVvZiBvLm1ldGFLZXkmJihvLm1ldGFLZXk9ITEpLG99LGpyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmRvY3VtZW50LG89e3R5cGU6InJlYWR5In07aWYobi5kb21Mb2FkZWQpdChvKTtlbHNle3ZhciBpPWZ1bmN0aW9uKCl7VXIoZSwiRE9NQ29udGVudExvYWRlZCIsaSksVXIoZSwibG9hZCIsaSksbi5kb21Mb2FkZWR8fChuLmRvbUxvYWRlZD0hMCx0KG8pKX07ImNvbXBsZXRlIj09PXIucmVhZHlTdGF0ZXx8ImludGVyYWN0aXZlIj09PXIucmVhZHlTdGF0ZSYmci5ib2R5P2koKTpGcihlLCJET01Db250ZW50TG9hZGVkIixpKSxGcihlLCJsb2FkIixpKX19LEhyPShWci5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzLGMsbCxmPXRoaXMsZD1WLndpbmRvdyxtPWZ1bmN0aW9uKGUpe2YuZXhlY3V0ZUhhbmRsZXJzKHpyKGV8fGQuZXZlbnQpLG8pfTtpZihlJiYzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUpe2VbZi5leHBhbmRvXT9vPWVbZi5leHBhbmRvXToobz1mLmNvdW50KyssZVtmLmV4cGFuZG9dPW8sZi5ldmVudHNbb109e30pLHI9cnx8ZTt2YXIgcD10LnNwbGl0KCIgIik7Zm9yKGE9cC5sZW5ndGg7YS0tOyljPW0scz1sPSExLCJET01Db250ZW50TG9hZGVkIj09PSh1PXBbYV0pJiYodT0icmVhZHkiKSxmLmRvbUxvYWRlZCYmInJlYWR5Ij09PXUmJiJjb21wbGV0ZSI9PT1lLnJlYWR5U3RhdGU/bi5jYWxsKHIsenIoe3R5cGU6dX0pKTooZi5oYXNNb3VzZUVudGVyTGVhdmV8fChzPWYubW91c2VFbnRlckxlYXZlW3VdKSYmKGM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jdXJyZW50VGFyZ2V0LG49ZS5yZWxhdGVkVGFyZ2V0O2lmKG4mJnQuY29udGFpbnMpbj10LmNvbnRhaW5zKG4pO2Vsc2UgZm9yKDtuJiZuIT09dDspbj1uLnBhcmVudE5vZGU7bnx8KChlPXpyKGV8fGQuZXZlbnQpKS50eXBlPSJtb3VzZW91dCI9PT1lLnR5cGU/Im1vdXNlbGVhdmUiOiJtb3VzZWVudGVyIixlLnRhcmdldD10LGYuZXhlY3V0ZUhhbmRsZXJzKGUsbykpfSksZi5oYXNGb2N1c0lufHwiZm9jdXNpbiIhPT11JiYiZm9jdXNvdXQiIT09dXx8KGw9ITAscz0iZm9jdXNpbiI9PT11PyJmb2N1cyI6ImJsdXIiLGM9ZnVuY3Rpb24oZSl7KGU9enIoZXx8ZC5ldmVudCkpLnR5cGU9ImZvY3VzIj09PWUudHlwZT8iZm9jdXNpbiI6ImZvY3Vzb3V0IixmLmV4ZWN1dGVIYW5kbGVycyhlLG8pfSksKGk9Zi5ldmVudHNbb11bdV0pPyJyZWFkeSI9PT11JiZmLmRvbUxvYWRlZD9uKHpyKHt0eXBlOnV9KSk6aS5wdXNoKHtmdW5jOm4sc2NvcGU6cn0pOihmLmV2ZW50c1tvXVt1XT1pPVt7ZnVuYzpuLHNjb3BlOnJ9XSxpLmZha2VOYW1lPXMsaS5jYXB0dXJlPWwsaS5uYXRpdmVIYW5kbGVyPWMsInJlYWR5Ij09PXU/anIoZSxjLGYpOkZyKGUsc3x8dSxjLGwpKSk7cmV0dXJuIGU9aT0wLG59fSxWci5wcm90b3R5cGUudW5iaW5kPWZ1bmN0aW9uKG4sZSx0KXt2YXIgcixvLGksYSx1O2lmKCFufHwzPT09bi5ub2RlVHlwZXx8OD09PW4ubm9kZVR5cGUpcmV0dXJuIHRoaXM7dmFyIHM9blt0aGlzLmV4cGFuZG9dO2lmKHMpe2lmKHU9dGhpcy5ldmVudHNbc10sZSl7dmFyIGM9ZS5zcGxpdCgiICIpO2ZvcihvPWMubGVuZ3RoO28tLTspaWYocj11W2E9Y1tvXV0pe2lmKHQpZm9yKGk9ci5sZW5ndGg7aS0tOylpZihyW2ldLmZ1bmM9PT10KXt2YXIgbD1yLm5hdGl2ZUhhbmRsZXIsZj1yLmZha2VOYW1lLGQ9ci5jYXB0dXJlOyhyPXIuc2xpY2UoMCxpKS5jb25jYXQoci5zbGljZShpKzEpKSkubmF0aXZlSGFuZGxlcj1sLHIuZmFrZU5hbWU9ZixyLmNhcHR1cmU9ZCx1W2FdPXJ9dCYmMCE9PXIubGVuZ3RofHwoZGVsZXRlIHVbYV0sVXIobixyLmZha2VOYW1lfHxhLHIubmF0aXZlSGFuZGxlcixyLmNhcHR1cmUpKX19ZWxzZSBvZSh1LGZ1bmN0aW9uKGUsdCl7VXIobixlLmZha2VOYW1lfHx0LGUubmF0aXZlSGFuZGxlcixlLmNhcHR1cmUpfSksdT17fTtmb3IoYSBpbiB1KWlmKG1lKHUsYSkpcmV0dXJuIHRoaXM7ZGVsZXRlIHRoaXMuZXZlbnRzW3NdO3RyeXtkZWxldGUgblt0aGlzLmV4cGFuZG9dfWNhdGNoKG0pe25bdGhpcy5leHBhbmRvXT1udWxsfX1yZXR1cm4gdGhpc30sVnIucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKCFlfHwzPT09ZS5ub2RlVHlwZXx8OD09PWUubm9kZVR5cGUpcmV0dXJuIHRoaXM7dmFyIG89enIobnVsbCxuKTtmb3Ioby50eXBlPXQsby50YXJnZXQ9ZTsocj1lW3RoaXMuZXhwYW5kb10pJiZ0aGlzLmV4ZWN1dGVIYW5kbGVycyhvLHIpLChlPWUucGFyZW50Tm9kZXx8ZS5vd25lckRvY3VtZW50fHxlLmRlZmF1bHRWaWV3fHxlLnBhcmVudFdpbmRvdykmJiFvLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KTtyZXR1cm4gdGhpc30sVnIucHJvdG90eXBlLmNsZWFuPWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIWV8fDM9PT1lLm5vZGVUeXBlfHw4PT09ZS5ub2RlVHlwZSlyZXR1cm4gdGhpcztpZihlW3RoaXMuZXhwYW5kb10mJnRoaXMudW5iaW5kKGUpLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWV8fChlPWUuZG9jdW1lbnQpLGUmJmUuZ2V0RWxlbWVudHNCeVRhZ05hbWUpZm9yKHRoaXMudW5iaW5kKGUpLHQ9KG49ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKS5sZW5ndGg7dC0tOykoZT1uW3RdKVt0aGlzLmV4cGFuZG9dJiZ0aGlzLnVuYmluZChlKTtyZXR1cm4gdGhpc30sVnIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cz17fX0sVnIucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSwhMX0sVnIucHJvdG90eXBlLmV4ZWN1dGVIYW5kbGVycz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZXZlbnRzW3RdLHI9biYmbltlLnR5cGVdO2lmKHIpZm9yKHZhciBvPTAsaT1yLmxlbmd0aDtvPGk7bysrKXt2YXIgYT1yW29dO2lmKGEmJiExPT09YS5mdW5jLmNhbGwoYS5zY29wZSxlKSYmZS5wcmV2ZW50RGVmYXVsdCgpLGUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSlyZXR1cm59fSxWci5FdmVudD1uZXcgVnIsVnIpO2Z1bmN0aW9uIFZyKCl7dGhpcy5kb21Mb2FkZWQ9ITEsdGhpcy5ldmVudHM9e30sdGhpcy5jb3VudD0xLHRoaXMuZXhwYW5kbz0ibWNlLWRhdGEtIisoK25ldyBEYXRlKS50b1N0cmluZygzMiksdGhpcy5oYXNNb3VzZUVudGVyTGVhdmU9Im9ubW91c2VlbnRlciJpbiBWLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0aGlzLmhhc0ZvY3VzSW49Im9uZm9jdXNpbiJpbiBWLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0aGlzLmNvdW50PTF9dmFyIHFyLCRyLFdyLEtyLFhyLFlyLEdyLEpyLFFyLFpyLGVvLHRvLG5vLHJvLG9vLGlvLGFvLHVvPSJzaXp6bGUiKy1uZXcgRGF0ZSxzbz1WLndpbmRvdy5kb2N1bWVudCxjbz0wLGxvPTAsZm89cW8oKSxtbz1xbygpLHBvPXFvKCksZ289ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJihacj0hMCksMH0saG89dHlwZW9mIHVuZGVmaW5lZCx2bz17fS5oYXNPd25Qcm9wZXJ0eSx5bz1bXSxibz15by5wb3AsQ289eW8ucHVzaCx3bz15by5wdXNoLHhvPXlvLnNsaWNlLFNvPXlvLmluZGV4T2Z8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49dGhpcy5sZW5ndGg7dDxuO3QrKylpZih0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sTm89IltcXHgyMFxcdFxcclxcblxcZl0iLEVvPSIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIsa289IlxcWyIrTm8rIiooIitFbysiKSg/OiIrTm8rIiooWypeJHwhfl0/PSkiK05vKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrRW8rIikpfCkiK05vKyIqXFxdIixfbz0iOigiK0VvKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitrbysiKSopfC4qKVxcKXwpIixUbz1uZXcgUmVnRXhwKCJeIitObysiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitObysiKyQiLCJnIiksUm89bmV3IFJlZ0V4cCgiXiIrTm8rIiosIitObysiKiIpLEFvPW5ldyBSZWdFeHAoIl4iK05vKyIqKFs+K35dfCIrTm8rIikiK05vKyIqIiksRG89bmV3IFJlZ0V4cCgiPSIrTm8rIiooW15cXF0nXCJdKj8pIitObysiKlxcXSIsImciKSxPbz1uZXcgUmVnRXhwKF9vKSxCbz1uZXcgUmVnRXhwKCJeIitFbysiJCIpLFBvPXtJRDpuZXcgUmVnRXhwKCJeIygiK0VvKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK0VvKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitFbysifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK2tvKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrX28pLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrTm8rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK05vKyIqKD86KFsrLV18KSIrTm8rIiooXFxkKyl8KSkiK05vKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86Y2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTm8rIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrTm8rIiooKD86LVxcZCk/XFxkKikiK05vKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxMbz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLElvPS9eaFxkJC9pLE1vPS9eW157XStce1xzKlxbbmF0aXZlIFx3LyxGbz0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLFVvPS9bK35dLyx6bz0vJ3xcXC9nLGpvPW5ldyBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIrTm8rIj98KCIrTm8rIil8LikiLCJpZyIpLEhvPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0iMHgiK3QtNjU1MzY7cmV0dXJuIHIhPXJ8fG4/dDpyPDA/U3RyaW5nLmZyb21DaGFyQ29kZSg2NTUzNityKTpTdHJpbmcuZnJvbUNoYXJDb2RlKHI+PjEwfDU1Mjk2LDEwMjMmcnw1NjMyMCl9O3RyeXt3by5hcHBseSh5bz14by5jYWxsKHNvLmNoaWxkTm9kZXMpLHNvLmNoaWxkTm9kZXMpLHlvW3NvLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChMRSl7d289e2FwcGx5OnlvLmxlbmd0aD9mdW5jdGlvbihlLHQpe0NvLmFwcGx5KGUseG8uY2FsbCh0KSl9OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoLHI9MDtlW24rK109dFtyKytdOyk7ZS5sZW5ndGg9bi0xfX19dmFyIFZvPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYyxsLGYsZCxtO2lmKCh0P3Qub3duZXJEb2N1bWVudHx8dDpzbykhPT10byYmZW8odCksbj1ufHxbXSwhZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBuO2lmKDEhPT0odT0odD10fHx0bykubm9kZVR5cGUpJiY5IT09dSlyZXR1cm5bXTtpZihybyYmIXIpe2lmKG89Rm8uZXhlYyhlKSlpZihhPW9bMV0pe2lmKDk9PT11KXtpZighKGk9dC5nZXRFbGVtZW50QnlJZChhKSl8fCFpLnBhcmVudE5vZGUpcmV0dXJuIG47aWYoaS5pZD09PWEpcmV0dXJuIG4ucHVzaChpKSxufWVsc2UgaWYodC5vd25lckRvY3VtZW50JiYoaT10Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkpJiZhbyh0LGkpJiZpLmlkPT09YSlyZXR1cm4gbi5wdXNoKGkpLG59ZWxzZXtpZihvWzJdKXJldHVybiB3by5hcHBseShuLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkpLG47aWYoKGE9b1szXSkmJnFyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIHdvLmFwcGx5KG4sdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpKSxufWlmKHFyLnFzYSYmKCFvb3x8IW9vLnRlc3QoZSkpKXtpZihmPWw9dW8sZD10LG09OT09PXUmJmUsMT09PXUmJiJvYmplY3QiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXtmb3IoYz1YcihlKSwobD10LmdldEF0dHJpYnV0ZSgiaWQiKSk/Zj1sLnJlcGxhY2Uoem8sIlxcJCYiKTp0LnNldEF0dHJpYnV0ZSgiaWQiLGYpLGY9IltpZD0nIitmKyInXSAiLHM9Yy5sZW5ndGg7cy0tOyljW3NdPWYrR28oY1tzXSk7ZD1Vby50ZXN0KGUpJiZYbyh0LnBhcmVudE5vZGUpfHx0LG09Yy5qb2luKCIsIil9aWYobSl0cnl7cmV0dXJuIHdvLmFwcGx5KG4sZC5xdWVyeVNlbGVjdG9yQWxsKG0pKSxufWNhdGNoKHApe31maW5hbGx5e2x8fHQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIEdyKGUucmVwbGFjZShUbywiJDEiKSx0LG4scil9O2Z1bmN0aW9uIHFvKCl7dmFyIG49W107ZnVuY3Rpb24gcihlLHQpe3JldHVybiBuLnB1c2goZSsiICIpPiRyLmNhY2hlTGVuZ3RoJiZkZWxldGUgcltuLnNoaWZ0KCldLHJbZSsiICJdPXR9cmV0dXJuIHJ9ZnVuY3Rpb24gJG8oZSl7cmV0dXJuIGVbdW9dPSEwLGV9ZnVuY3Rpb24gV28oZSx0KXt2YXIgbj10JiZlLHI9biYmMT09PWUubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiYofnQuc291cmNlSW5kZXh8fDE8PDMxKS0ofmUuc291cmNlSW5kZXh8fDE8PDMxKTtpZihyKXJldHVybiByO2lmKG4pZm9yKDtuPW4ubmV4dFNpYmxpbmc7KWlmKG49PT10KXJldHVybi0xO3JldHVybiBlPzE6LTF9ZnVuY3Rpb24gS28oYSl7cmV0dXJuICRvKGZ1bmN0aW9uKGkpe3JldHVybiBpPStpLCRvKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9YShbXSxlLmxlbmd0aCxpKSxvPXIubGVuZ3RoO28tLTspZVtuPXJbb11dJiYoZVtuXT0hKHRbbl09ZVtuXSkpfSl9KX1mdW5jdGlvbiBYbyhlKXtyZXR1cm4gZSYmdHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPWhvJiZlfWZ1bmN0aW9uIFlvKCl7fWZ1bmN0aW9uIEdvKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gSm8oYSxlLHQpe3ZhciB1PWUuZGlyLHM9dCYmInBhcmVudE5vZGUiPT09dSxjPWxvKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe2Zvcig7ZT1lW3VdOylpZigxPT09ZS5ub2RlVHlwZXx8cylyZXR1cm4gYShlLHQsbil9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9W2NvLGNdO2lmKG4pe2Zvcig7ZT1lW3VdOylpZigoMT09PWUubm9kZVR5cGV8fHMpJiZhKGUsdCxuKSlyZXR1cm4hMH1lbHNlIGZvcig7ZT1lW3VdOylpZigxPT09ZS5ub2RlVHlwZXx8cyl7aWYoKHI9KG89ZVt1b118fChlW3VvXT17fSkpW3VdKSYmclswXT09PWNvJiZyWzFdPT09YylyZXR1cm4gaVsyXT1yWzJdO2lmKChvW3VdPWkpWzJdPWEoZSx0LG4pKXJldHVybiEwfX19ZnVuY3Rpb24gUW8obyl7cmV0dXJuIDE8by5sZW5ndGg/ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1vLmxlbmd0aDtyLS07KWlmKCFvW3JdKGUsdCxuKSlyZXR1cm4hMTtyZXR1cm4hMH06b1swXX1mdW5jdGlvbiBabyhlLHQsbixyLG8pe2Zvcih2YXIgaSxhPVtdLHU9MCxzPWUubGVuZ3RoLGM9bnVsbCE9dDt1PHM7dSsrKShpPWVbdV0pJiYobiYmIW4oaSxyLG8pfHwoYS5wdXNoKGkpLGMmJnQucHVzaCh1KSkpO3JldHVybiBhfWZ1bmN0aW9uIGVpKHAsZyxoLHYseSxlKXtyZXR1cm4gdiYmIXZbdW9dJiYodj1laSh2KSkseSYmIXlbdW9dJiYoeT1laSh5LGUpKSwkbyhmdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdT1bXSxzPVtdLGM9dC5sZW5ndGgsbD1lfHxmdW5jdGlvbiBtKGUsdCxuKXtmb3IodmFyIHI9MCxvPXQubGVuZ3RoO3I8bztyKyspVm8oZSx0W3JdLG4pO3JldHVybiBufShnfHwiKiIsbi5ub2RlVHlwZT9bbl06bixbXSksZj0hcHx8IWUmJmc/bDpabyhsLHUscCxuLHIpLGQ9aD95fHwoZT9wOmN8fHYpP1tdOnQ6ZjtpZihoJiZoKGYsZCxuLHIpLHYpZm9yKG89Wm8oZCxzKSx2KG8sW10sbixyKSxpPW8ubGVuZ3RoO2ktLTspKGE9b1tpXSkmJihkW3NbaV1dPSEoZltzW2ldXT1hKSk7aWYoZSl7aWYoeXx8cCl7aWYoeSl7Zm9yKG89W10saT1kLmxlbmd0aDtpLS07KShhPWRbaV0pJiZvLnB1c2goZltpXT1hKTt5KG51bGwsZD1bXSxvLHIpfWZvcihpPWQubGVuZ3RoO2ktLTspKGE9ZFtpXSkmJi0xPChvPXk/U28uY2FsbChlLGEpOnVbaV0pJiYoZVtvXT0hKHRbb109YSkpfX1lbHNlIGQ9Wm8oZD09PXQ/ZC5zcGxpY2UoYyxkLmxlbmd0aCk6ZCkseT95KG51bGwsdCxkLHIpOndvLmFwcGx5KHQsZCl9KX1mdW5jdGlvbiB0aShlKXtmb3IodmFyIHIsdCxuLG89ZS5sZW5ndGgsaT0kci5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9aXx8JHIucmVsYXRpdmVbIiAiXSx1PWk/MTowLHM9Sm8oZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1yfSxhLCEwKSxjPUpvKGZ1bmN0aW9uKGUpe3JldHVybi0xPFNvLmNhbGwocixlKX0sYSwhMCksbD1bZnVuY3Rpb24oZSx0LG4pe3JldHVybiFpJiYobnx8dCE9PUpyKXx8KChyPXQpLm5vZGVUeXBlP3M6YykoZSx0LG4pfV07dTxvO3UrKylpZih0PSRyLnJlbGF0aXZlW2VbdV0udHlwZV0pbD1bSm8oUW8obCksdCldO2Vsc2V7aWYoKHQ9JHIuZmlsdGVyW2VbdV0udHlwZV0uYXBwbHkobnVsbCxlW3VdLm1hdGNoZXMpKVt1b10pe2ZvcihuPSsrdTtuPG8mJiEkci5yZWxhdGl2ZVtlW25dLnR5cGVdO24rKyk7cmV0dXJuIGVpKDE8dSYmUW8obCksMTx1JiZHbyhlLnNsaWNlKDAsdS0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWVbdS0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKFRvLCIkMSIpLHQsdTxuJiZ0aShlLnNsaWNlKHUsbikpLG48byYmdGkoZT1lLnNsaWNlKG4pKSxuPG8mJkdvKGUpKX1sLnB1c2godCl9cmV0dXJuIFFvKGwpfXFyPVZvLnN1cHBvcnQ9e30sS3I9Vm8uaXNYTUw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmKGUub3duZXJEb2N1bWVudHx8ZSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiEhdCYmIkhUTUwiIT09dC5ub2RlTmFtZX0sZW89Vm8uc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQscz1lP2Uub3duZXJEb2N1bWVudHx8ZTpzbyxuPXMuZGVmYXVsdFZpZXc7cmV0dXJuIHMhPT10byYmOT09PXMubm9kZVR5cGUmJnMuZG9jdW1lbnRFbGVtZW50Pyhubz0odG89cykuZG9jdW1lbnRFbGVtZW50LHJvPSFLcihzKSxuJiZuIT09ZnVuY3Rpb24gcihlKXt0cnl7cmV0dXJuIGUudG9wfWNhdGNoKHQpe31yZXR1cm4gbnVsbH0obikmJihuLmFkZEV2ZW50TGlzdGVuZXI/bi5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7ZW8oKX0sITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixmdW5jdGlvbigpe2VvKCl9KSkscXIuYXR0cmlidXRlcz0hMCxxci5nZXRFbGVtZW50c0J5VGFnTmFtZT0hMCxxci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPU1vLnRlc3Qocy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxxci5nZXRCeUlkPSEwLCRyLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgdC5nZXRFbGVtZW50QnlJZCE9aG8mJnJvKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuJiZuLnBhcmVudE5vZGU/W25dOltdfX0sJHIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShqbyxIbyk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZSgiaWQiKT09PXR9fSwkci5maW5kLlRBRz1xci5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe2lmKHR5cGVvZiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lIT1obylyZXR1cm4gdC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKX06ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLG89MCxpPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7aWYoIioiIT09ZSlyZXR1cm4gaTtmb3IoO249aVtvKytdOykxPT09bi5ub2RlVHlwZSYmci5wdXNoKG4pO3JldHVybiByfSwkci5maW5kLkNMQVNTPXFyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYocm8pcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0saW89W10sb289W10scXIuZGlzY29ubmVjdGVkTWF0Y2g9ITAsb289b28ubGVuZ3RoJiZuZXcgUmVnRXhwKG9vLmpvaW4oInwiKSksaW89aW8ubGVuZ3RoJiZuZXcgUmVnRXhwKGlvLmpvaW4oInwiKSksdD1Nby50ZXN0KG5vLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxhbz10fHxNby50ZXN0KG5vLmNvbnRhaW5zKT9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlP2UuZG9jdW1lbnRFbGVtZW50OmUscj10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1yfHwhKCFyfHwxIT09ci5ub2RlVHlwZXx8IShuLmNvbnRhaW5zP24uY29udGFpbnMocik6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKSkpfTpmdW5jdGlvbihlLHQpe2lmKHQpZm9yKDt0PXQucGFyZW50Tm9kZTspaWYodD09PWUpcmV0dXJuITA7cmV0dXJuITF9LGdvPXQ/ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gWnI9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PT0odC5vd25lckRvY3VtZW50fHx0KT9lLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpOjEpfHwhcXIuc29ydERldGFjaGVkJiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpPT09bj9lPT09c3x8ZS5vd25lckRvY3VtZW50PT09c28mJmFvKHNvLGUpPy0xOnQ9PT1zfHx0Lm93bmVyRG9jdW1lbnQ9PT1zbyYmYW8oc28sdCk/MTpRcj9Tby5jYWxsKFFyLGUpLVNvLmNhbGwoUXIsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIFpyPSEwLDA7dmFyIG4scj0wLG89ZS5wYXJlbnROb2RlLGk9dC5wYXJlbnROb2RlLGE9W2VdLHU9W3RdO2lmKCFvfHwhaSlyZXR1cm4gZT09PXM/LTE6dD09PXM/MTpvPy0xOmk/MTpRcj9Tby5jYWxsKFFyLGUpLVNvLmNhbGwoUXIsdCk6MDtpZihvPT09aSlyZXR1cm4gV28oZSx0KTtmb3Iobj1lO249bi5wYXJlbnROb2RlOylhLnVuc2hpZnQobik7Zm9yKG49dDtuPW4ucGFyZW50Tm9kZTspdS51bnNoaWZ0KG4pO2Zvcig7YVtyXT09PXVbcl07KXIrKztyZXR1cm4gcj9XbyhhW3JdLHVbcl0pOmFbcl09PT1zbz8tMTp1W3JdPT09c28/MTowfSxzKTp0b30sVm8ubWF0Y2hlcz1mdW5jdGlvbihlLHQpe3JldHVybiBWbyhlLG51bGwsbnVsbCx0KX0sVm8ubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGUsdCl7aWYoKGUub3duZXJEb2N1bWVudHx8ZSkhPT10byYmZW8oZSksdD10LnJlcGxhY2UoRG8sIj0nJDEnXSIpLHFyLm1hdGNoZXNTZWxlY3RvciYmcm8mJighaW98fCFpby50ZXN0KHQpKSYmKCFvb3x8IW9vLnRlc3QodCkpKXRyeXt2YXIgbj0odm9pZCAwKS5jYWxsKGUsdCk7aWYobnx8cXIuZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gbn1jYXRjaChMRSl7fXJldHVybiAwPFZvKHQsdG8sbnVsbCxbZV0pLmxlbmd0aH0sVm8uY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS5vd25lckRvY3VtZW50fHxlKSE9PXRvJiZlbyhlKSxhbyhlLHQpfSxWby5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPT10byYmZW8oZSk7dmFyIG49JHIuYXR0ckhhbmRsZVt0LnRvTG93ZXJDYXNlKCldLHI9biYmdm8uY2FsbCgkci5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIXJvKTp1bmRlZmluZWQ7cmV0dXJuIHIhPT11bmRlZmluZWQ/cjpxci5hdHRyaWJ1dGVzfHwhcm8/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxWby5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LFZvLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsbz0wO2lmKFpyPSFxci5kZXRlY3REdXBsaWNhdGVzLFFyPSFxci5zb3J0U3RhYmxlJiZlLnNsaWNlKDApLGUuc29ydChnbyksWnIpe2Zvcig7dD1lW28rK107KXQ9PT1lW29dJiYocj1uLnB1c2gobykpO2Zvcig7ci0tOyllLnNwbGljZShuW3JdLDEpfXJldHVybiBRcj1udWxsLGV9LFdyPVZvLmdldFRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj0iIixyPTAsbz1lLm5vZGVUeXBlO2lmKG8pe2lmKDE9PT1vfHw5PT09b3x8MTE9PT1vKXtpZigic3RyaW5nIj09dHlwZW9mIGUudGV4dENvbnRlbnQpcmV0dXJuIGUudGV4dENvbnRlbnQ7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKW4rPVdyKGUpfWVsc2UgaWYoMz09PW98fDQ9PT1vKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIGZvcig7dD1lW3IrK107KW4rPVdyKHQpO3JldHVybiBufSwoJHI9Vm8uc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86JG8sbWF0Y2g6UG8sYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZShqbyxIbyksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2Uoam8sSG8pLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxWby5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZWby5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gUG8uQ0hJTEQudGVzdChlWzBdKT9udWxsOihlWzNdP2VbMl09ZVs0XXx8ZVs1XXx8IiI6biYmT28udGVzdChuKSYmKHQ9WHIobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKGpvLEhvKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1mb1tlKyIgIl07cmV0dXJuIHR8fCh0PW5ldyBSZWdFeHAoIihefCIrTm8rIikiK2UrIigiK05vKyJ8JCkiKSkmJmZvKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdCgic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZXx8dHlwZW9mIGUuZ2V0QXR0cmlidXRlIT1obyYmZS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKG4scixvKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9Vm8uYXR0cihlLG4pO3JldHVybiBudWxsPT10PyIhPSI9PT1yOiFyfHwodCs9IiIsIj0iPT09cj90PT09bzoiIT0iPT09cj90IT09bzoiXj0iPT09cj9vJiYwPT09dC5pbmRleE9mKG8pOiIqPSI9PT1yP28mJi0xPHQuaW5kZXhPZihvKToiJD0iPT09cj9vJiZ0LnNsaWNlKC1vLmxlbmd0aCk9PT1vOiJ+PSI9PT1yPy0xPCgiICIrdCsiICIpLmluZGV4T2Yobyk6Inw9Ij09PXImJih0PT09b3x8dC5zbGljZSgwLG8ubGVuZ3RoKzEpPT09bysiLSIpKX19LENISUxEOmZ1bmN0aW9uKG0sZSx0LHAsZyl7dmFyIGg9Im50aCIhPT1tLnNsaWNlKDAsMyksdj0ibGFzdCIhPT1tLnNsaWNlKC00KSx5PSJvZi10eXBlIj09PWU7cmV0dXJuIDE9PT1wJiYwPT09Zz9mdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyZW50Tm9kZX06ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscyxjPWghPXY/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixsPWUucGFyZW50Tm9kZSxmPXkmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxkPSFuJiYheTtpZihsKXtpZihoKXtmb3IoO2M7KXtmb3IoaT1lO2k9aVtjXTspaWYoeT9pLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1pLm5vZGVUeXBlKXJldHVybiExO3M9Yz0ib25seSI9PT1tJiYhcyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihzPVt2P2wuZmlyc3RDaGlsZDpsLmxhc3RDaGlsZF0sdiYmZCl7Zm9yKHU9KHI9KG89bFt1b118fChsW3VvXT17fSkpW21dfHxbXSlbMF09PT1jbyYmclsxXSxhPXJbMF09PT1jbyYmclsyXSxpPXUmJmwuY2hpbGROb2Rlc1t1XTtpPSsrdSYmaSYmaVtjXXx8KGE9dT0wKXx8cy5wb3AoKTspaWYoMT09PWkubm9kZVR5cGUmJisrYSYmaT09PWUpe29bbV09W2NvLHUsYV07YnJlYWt9fWVsc2UgaWYoZCYmKHI9KGVbdW9dfHwoZVt1b109e30pKVttXSkmJnJbMF09PT1jbylhPXJbMV07ZWxzZSBmb3IoOyhpPSsrdSYmaSYmaVtjXXx8KGE9dT0wKXx8cy5wb3AoKSkmJigoeT9pLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT1mOjEhPT1pLm5vZGVUeXBlKXx8ISsrYXx8KGQmJigoaVt1b118fChpW3VvXT17fSkpW21dPVtjbyxhXSksaSE9PWUpKTspO3JldHVybihhLT1nKT09PXB8fGElcD09MCYmMDw9YS9wfX19LFBTRVVETzpmdW5jdGlvbihlLGkpe3ZhciB0LGE9JHIucHNldWRvc1tlXXx8JHIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxWby5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW3VvXT9hKGkpOjE8YS5sZW5ndGg/KHQ9W2UsZSwiIixpXSwkci5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGUudG9Mb3dlckNhc2UoKSk/JG8oZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1hKGUsaSksbz1yLmxlbmd0aDtvLS07KWVbbj1Tby5jYWxsKGUscltvXSldPSEodFtuXT1yW29dKX0pOmZ1bmN0aW9uKGUpe3JldHVybiBhKGUsMCx0KX0pOmF9fSxwc2V1ZG9zOntub3Q6JG8oZnVuY3Rpb24oZSl7dmFyIHI9W10sbz1bXSx1PVlyKGUucmVwbGFjZShUbywiJDEiKSk7cmV0dXJuIHVbdW9dPyRvKGZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbyxpPXUoZSxudWxsLHIsW10pLGE9ZS5sZW5ndGg7YS0tOykobz1pW2FdKSYmKGVbYV09ISh0W2FdPW8pKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHUocixudWxsLG4sbyksIW8ucG9wKCl9fSksaGFzOiRvKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gMDxWbyh0LGUpLmxlbmd0aH19KSxjb250YWluczokbyhmdW5jdGlvbih0KXtyZXR1cm4gdD10LnJlcGxhY2Uoam8sSG8pLGZ1bmN0aW9uKGUpe3JldHVybi0xPChlLnRleHRDb250ZW50fHxlLmlubmVyVGV4dHx8V3IoZSkpLmluZGV4T2YodCl9fSksbGFuZzokbyhmdW5jdGlvbihuKXtyZXR1cm4gQm8udGVzdChufHwiIil8fFZvLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK24pLG49bi5yZXBsYWNlKGpvLEhvKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGUpe3ZhciB0O2Rve2lmKHQ9cm8/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVYud2luZG93LmxvY2F0aW9uJiZWLndpbmRvdy5sb2NhdGlvbi5oYXNoO3JldHVybiB0JiZ0LnNsaWNlKDEpPT09ZS5pZH0scm9vdDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PW5vfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXRvLmFjdGl2ZUVsZW1lbnQmJighdG8uaGFzRm9jdXN8fHRvLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGUpe3JldHVybiExPT09ZS5kaXNhYmxlZH0sZGlzYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkfSxjaGVja2VkOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmISFlLmNoZWNrZWR8fCJvcHRpb24iPT09dCYmISFlLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCwhMD09PWUuc2VsZWN0ZWR9LGVtcHR5OmZ1bmN0aW9uKGUpe2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylpZihlLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4hJHIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBJby50ZXN0KGUubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gTG8udGVzdChlLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmImJ1dHRvbiI9PT1lLnR5cGV8fCJidXR0b24iPT09dH0sdGV4dDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4iaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1lLnR5cGUmJihudWxsPT0odD1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09dC50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6S28oZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OktvKGZ1bmN0aW9uKGUsdCl7cmV0dXJuW3QtMV19KSxlcTpLbyhmdW5jdGlvbihlLHQsbil7cmV0dXJuW248MD9uK3Q6bl19KSxldmVuOktvKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjx0O24rPTIpZS5wdXNoKG4pO3JldHVybiBlfSksb2RkOktvKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTE7bjx0O24rPTIpZS5wdXNoKG4pO3JldHVybiBlfSksbHQ6S28oZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47MDw9LS1yOyllLnB1c2gocik7cmV0dXJuIGV9KSxndDpLbyhmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW48MD9uK3Q6bjsrK3I8dDspZS5wdXNoKHIpO3JldHVybiBlfSl9fSkucHNldWRvcy5udGg9JHIucHNldWRvcy5lcSx6KFsicmFkaW8iLCJjaGVja2JveCIsImZpbGUiLCJwYXNzd29yZCIsImltYWdlIl0sZnVuY3Rpb24oZSl7JHIucHNldWRvc1tlXT1mdW5jdGlvbiBuKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZlLnR5cGU9PT10fX0oZSl9KSx6KFsic3VibWl0IiwicmVzZXQiXSxmdW5jdGlvbihlKXskci5wc2V1ZG9zW2VdPWZ1bmN0aW9uIHQobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fShlKX0pLFlvLnByb3RvdHlwZT0kci5maWx0ZXJzPSRyLnBzZXVkb3MsJHIuc2V0RmlsdGVycz1uZXcgWW8sWHI9Vm8udG9rZW5pemU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHUscyxjPW1vW2UrIiAiXTtpZihjKXJldHVybiB0PzA6Yy5zbGljZSgwKTtmb3IoYT1lLHU9W10scz0kci5wcmVGaWx0ZXI7YTspe2ZvcihpIGluIG4mJiEocj1Sby5leGVjKGEpKXx8KHImJihhPWEuc2xpY2UoclswXS5sZW5ndGgpfHxhKSx1LnB1c2gobz1bXSkpLG49ITEsKHI9QW8uZXhlYyhhKSkmJihuPXIuc2hpZnQoKSxvLnB1c2goe3ZhbHVlOm4sdHlwZTpyWzBdLnJlcGxhY2UoVG8sIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLCRyLmZpbHRlcikkci5maWx0ZXIuaGFzT3duUHJvcGVydHkoaSkmJighKHI9UG9baV0uZXhlYyhhKSl8fHNbaV0mJiEocj1zW2ldKHIpKXx8KG49ci5zaGlmdCgpLG8ucHVzaCh7dmFsdWU6bix0eXBlOmksbWF0Y2hlczpyfSksYT1hLnNsaWNlKG4ubGVuZ3RoKSkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/Vm8uZXJyb3IoZSk6bW8oZSx1KS5zbGljZSgwKX0sWXI9Vm8uY29tcGlsZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10sbz1bXSxpPXBvW2UrIiAiXTtpZighaSl7Zm9yKG49KHQ9dHx8WHIoZSkpLmxlbmd0aDtuLS07KShpPXRpKHRbbl0pKVt1b10/ci5wdXNoKGkpOm8ucHVzaChpKTsoaT1wbyhlLGZ1bmN0aW9uIGEoaCx2KXt2YXIgeT0wPHYubGVuZ3RoLGI9MDxoLmxlbmd0aCxlPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYSx1LHM9MCxjPSIwIixsPWUmJltdLGY9W10sZD1KcixtPWV8fGImJiRyLmZpbmQuVEFHKCIqIixvKSxwPWNvKz1udWxsPT1kPzE6TWF0aC5yYW5kb20oKXx8LjEsZz1tLmxlbmd0aDtmb3IobyYmKEpyPXQhPT10byYmdCk7YyE9PWcmJm51bGwhPShpPW1bY10pO2MrKyl7aWYoYiYmaSl7Zm9yKGE9MDt1PWhbYSsrXTspaWYodShpLHQsbikpe3IucHVzaChpKTticmVha31vJiYoY289cCl9eSYmKChpPSF1JiZpKSYmcy0tLGUmJmwucHVzaChpKSl9aWYocys9Yyx5JiZjIT09cyl7Zm9yKGE9MDt1PXZbYSsrXTspdShsLGYsdCxuKTtpZihlKXtpZigwPHMpZm9yKDtjLS07KWxbY118fGZbY118fChmW2NdPWJvLmNhbGwocikpO2Y9Wm8oZil9d28uYXBwbHkocixmKSxvJiYhZSYmMDxmLmxlbmd0aCYmMTxzK3YubGVuZ3RoJiZWby51bmlxdWVTb3J0KHIpfXJldHVybiBvJiYoY289cCxKcj1kKSxsfTtyZXR1cm4geT8kbyhlKTplfShvLHIpKSkuc2VsZWN0b3I9ZX1yZXR1cm4gaX0sR3I9Vm8uc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYz0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxsPSFyJiZYcihlPWMuc2VsZWN0b3J8fGUpO2lmKG49bnx8W10sMT09PWwubGVuZ3RoKXtpZigyPChpPWxbMF09bFswXS5zbGljZSgwKSkubGVuZ3RoJiYiSUQiPT09KGE9aVswXSkudHlwZSYmcXIuZ2V0QnlJZCYmOT09PXQubm9kZVR5cGUmJnJvJiYkci5yZWxhdGl2ZVtpWzFdLnR5cGVdKXtpZighKHQ9KCRyLmZpbmQuSUQoYS5tYXRjaGVzWzBdLnJlcGxhY2Uoam8sSG8pLHQpfHxbXSlbMF0pKXJldHVybiBuO2MmJih0PXQucGFyZW50Tm9kZSksZT1lLnNsaWNlKGkuc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWZvcihvPVBvLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6aS5sZW5ndGg7by0tJiYoYT1pW29dLCEkci5yZWxhdGl2ZVt1PWEudHlwZV0pOylpZigocz0kci5maW5kW3VdKSYmKHI9cyhhLm1hdGNoZXNbMF0ucmVwbGFjZShqbyxIbyksVW8udGVzdChpWzBdLnR5cGUpJiZYbyh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKGkuc3BsaWNlKG8sMSksIShlPXIubGVuZ3RoJiZHbyhpKSkpcmV0dXJuIHdvLmFwcGx5KG4sciksbjticmVha319cmV0dXJuKGN8fFlyKGUsbCkpKHIsdCwhcm8sbixVby50ZXN0KGUpJiZYbyh0LnBhcmVudE5vZGUpfHx0KSxufSxxci5zb3J0U3RhYmxlPXVvLnNwbGl0KCIiKS5zb3J0KGdvKS5qb2luKCIiKT09PXVvLHFyLmRldGVjdER1cGxpY2F0ZXM9ISFacixlbygpLHFyLnNvcnREZXRhY2hlZD0hMDt2YXIgbmk9Vi5kb2N1bWVudCxyaT1BcnJheS5wcm90b3R5cGUucHVzaCxvaT1BcnJheS5wcm90b3R5cGUuc2xpY2UsaWk9L14oPzpbXiM8XSooPFtcd1xXXSs+KVtePl0qJHwjKFtcd1wtXSopJCkvLGFpPUhyLkV2ZW50LHVpPXl0Lm1ha2VNYXAoImNoaWxkcmVuLGNvbnRlbnRzLG5leHQscHJldiIpLHNpPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lfSxjaT1mdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9LGxpPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj0odD10fHxuaSkuY3JlYXRlRWxlbWVudCgiZGl2Iiksbz10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3Ioci5pbm5lckhUTUw9ZTtuPXIuZmlyc3RDaGlsZDspby5hcHBlbmRDaGlsZChuKTtyZXR1cm4gb30sZmk9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG87aWYoY2kodCkpdD1saSh0LEVpKGVbMF0pKTtlbHNlIGlmKHQubGVuZ3RoJiYhdC5ub2RlVHlwZSl7aWYodD1SaS5tYWtlQXJyYXkodCkscilmb3Iobz10Lmxlbmd0aC0xOzA8PW87by0tKWZpKGUsdFtvXSxuLHIpO2Vsc2UgZm9yKG89MDtvPHQubGVuZ3RoO28rKylmaShlLHRbb10sbixyKTtyZXR1cm4gZX1pZih0Lm5vZGVUeXBlKWZvcihvPWUubGVuZ3RoO28tLTspbi5jYWxsKGVbb10sdCk7cmV0dXJuIGV9LGRpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnQmJi0xIT09KCIgIitlLmNsYXNzTmFtZSsiICIpLmluZGV4T2YoIiAiK3QrIiAiKX0sbWk9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87cmV0dXJuIHQ9UmkodClbMF0sZS5lYWNoKGZ1bmN0aW9uKCl7biYmcj09PXRoaXMucGFyZW50Tm9kZXx8KHI9dGhpcy5wYXJlbnROb2RlLG89dC5jbG9uZU5vZGUoITEpLHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobyx0aGlzKSksby5hcHBlbmRDaGlsZCh0aGlzKX0pLGV9LHBpPXl0Lm1ha2VNYXAoImZpbGxPcGFjaXR5IGZvbnRXZWlnaHQgbGluZUhlaWdodCBvcGFjaXR5IG9ycGhhbnMgd2lkb3dzIHpJbmRleCB6b29tIiwiICIpLGdpPXl0Lm1ha2VNYXAoImNoZWNrZWQgY29tcGFjdCBkZWNsYXJlIGRlZmVyIGRpc2FibGVkIGlzbWFwIG11bHRpcGxlIG5vaHJlZiBub3NoYWRlIG5vd3JhcCByZWFkb25seSBzZWxlY3RlZCIsIiAiKSxoaT17ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSIscmVhZG9ubHk6InJlYWRPbmx5In0sdmk9eyJmbG9hdCI6ImNzc0Zsb2F0In0seWk9e30sYmk9e30sQ2k9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFJpLmZuLmluaXQoZSx0KX0sd2k9L15ccyp8XHMqJC9nLHhpPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8ZT09PXVuZGVmaW5lZD8iIjooIiIrZSkucmVwbGFjZSh3aSwiIil9LFNpPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk7aWYoZSlpZigobj1lLmxlbmd0aCk9PT11bmRlZmluZWQpe2ZvcihyIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSYmKGk9ZVtyXSwhMT09PXQuY2FsbChpLHIsaSkpKWJyZWFrfWVsc2UgZm9yKG89MDtvPG4mJihpPWVbb10sITEhPT10LmNhbGwoaSxvLGkpKTtvKyspO3JldHVybiBlfSxOaT1mdW5jdGlvbihlLG4pe3ZhciByPVtdO3JldHVybiBTaShlLGZ1bmN0aW9uKGUsdCl7bih0LGUpJiZyLnB1c2godCl9KSxyfSxFaT1mdW5jdGlvbihlKXtyZXR1cm4gZT85PT09ZS5ub2RlVHlwZT9lOmUub3duZXJEb2N1bWVudDpuaX07Q2kuZm49Q2kucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpDaSxzZWxlY3RvcjoiIixjb250ZXh0Om51bGwsbGVuZ3RoOjAsaW5pdDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz10aGlzO2lmKCFlKXJldHVybiBvO2lmKGUubm9kZVR5cGUpcmV0dXJuIG8uY29udGV4dD1vWzBdPWUsby5sZW5ndGg9MSxvO2lmKHQmJnQubm9kZVR5cGUpby5jb250ZXh0PXQ7ZWxzZXtpZih0KXJldHVybiBSaShlKS5hdHRyKHQpO28uY29udGV4dD10PVYuZG9jdW1lbnR9aWYoY2koZSkpe2lmKCEobj0iPCI9PT0oby5zZWxlY3Rvcj1lKS5jaGFyQXQoMCkmJiI+Ij09PWUuY2hhckF0KGUubGVuZ3RoLTEpJiYzPD1lLmxlbmd0aD9bbnVsbCxlLG51bGxdOmlpLmV4ZWMoZSkpKXJldHVybiBSaSh0KS5maW5kKGUpO2lmKG5bMV0pZm9yKHI9bGkoZSxFaSh0KSkuZmlyc3RDaGlsZDtyOylyaS5jYWxsKG8scikscj1yLm5leHRTaWJsaW5nO2Vsc2V7aWYoIShyPUVpKHQpLmdldEVsZW1lbnRCeUlkKG5bMl0pKSlyZXR1cm4gbztpZihyLmlkIT09blsyXSlyZXR1cm4gby5maW5kKGUpO28ubGVuZ3RoPTEsb1swXT1yfX1lbHNlIHRoaXMuYWRkKGUsITEpO3JldHVybiBvfSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHl0LnRvQXJyYXkodGhpcyl9LGFkZDpmdW5jdGlvbihlLHQpe3ZhciBuLHI7aWYoY2koZSkpcmV0dXJuIHRoaXMuYWRkKFJpKGUpKTtpZighMSE9PXQpZm9yKG49UmkudW5pcXVlKHRoaXMudG9BcnJheSgpLmNvbmNhdChSaS5tYWtlQXJyYXkoZSkpKSx0aGlzLmxlbmd0aD1uLmxlbmd0aCxyPTA7cjxuLmxlbmd0aDtyKyspdGhpc1tyXT1uW3JdO2Vsc2UgcmkuYXBwbHkodGhpcyxSaS5tYWtlQXJyYXkoZSkpO3JldHVybiB0aGlzfSxhdHRyOmZ1bmN0aW9uKHQsbil7dmFyIGUscj10aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgdClTaSh0LGZ1bmN0aW9uKGUsdCl7ci5hdHRyKGUsdCl9KTtlbHNle2lmKCFzaShuKSl7aWYoclswXSYmMT09PXJbMF0ubm9kZVR5cGUpe2lmKChlPXlpW3RdKSYmZS5nZXQpcmV0dXJuIGUuZ2V0KHJbMF0sdCk7aWYoZ2lbdF0pcmV0dXJuIHIucHJvcCh0KT90OnVuZGVmaW5lZDtudWxsPT09KG49clswXS5nZXRBdHRyaWJ1dGUodCwyKSkmJihuPXVuZGVmaW5lZCl9cmV0dXJuIG59dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU7aWYoMT09PXRoaXMubm9kZVR5cGUpe2lmKChlPXlpW3RdKSYmZS5zZXQpcmV0dXJuIHZvaWQgZS5zZXQodGhpcyxuKTtudWxsPT09bj90aGlzLnJlbW92ZUF0dHJpYnV0ZSh0LDIpOnRoaXMuc2V0QXR0cmlidXRlKHQsbiwyKX19KX1yZXR1cm4gcn0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hdHRyKGUsbnVsbCl9LHByb3A6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2lmKCJvYmplY3QiPT10eXBlb2YoZT1oaVtlXXx8ZSkpU2koZSxmdW5jdGlvbihlLHQpe24ucHJvcChlLHQpfSk7ZWxzZXtpZighc2kodCkpcmV0dXJuIG5bMF0mJm5bMF0ubm9kZVR5cGUmJmUgaW4gblswXT9uWzBdW2VdOnQ7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7MT09PXRoaXMubm9kZVR5cGUmJih0aGlzW2VdPXQpfSl9cmV0dXJuIG59LGNzczpmdW5jdGlvbihuLHIpe3ZhciBlLG8saT10aGlzLHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvLShcRCkvZyxmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9KX0sYT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGUpe3JldHVybiItIitlfSl9O2lmKCJvYmplY3QiPT10eXBlb2YgbilTaShuLGZ1bmN0aW9uKGUsdCl7aS5jc3MoZSx0KX0pO2Vsc2UgaWYoc2kocikpbj10KG4pLCJudW1iZXIiIT10eXBlb2Ygcnx8cGlbbl18fChyPXIudG9TdHJpbmcoKSsicHgiKSxpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0eWxlO2lmKChvPWJpW25dKSYmby5zZXQpby5zZXQodGhpcyxyKTtlbHNle3RyeXt0aGlzLnN0eWxlW3ZpW25dfHxuXT1yfWNhdGNoKHQpe31udWxsIT09ciYmIiIhPT1yfHwoZS5yZW1vdmVQcm9wZXJ0eT9lLnJlbW92ZVByb3BlcnR5KGEobikpOmUucmVtb3ZlQXR0cmlidXRlKG4pKX19KTtlbHNle2lmKGU9aVswXSwobz1iaVtuXSkmJm8uZ2V0KXJldHVybiBvLmdldChlKTtpZighZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KXJldHVybiBlLmN1cnJlbnRTdHlsZT9lLmN1cnJlbnRTdHlsZVt0KG4pXToiIjt0cnl7cmV0dXJuIGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShhKG4pKX1jYXRjaCh1KXtyZXR1cm4gdW5kZWZpbmVkfX1yZXR1cm4gaX0scmVtb3ZlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9dGhpcy5sZW5ndGg7dC0tOyllPXRoaXNbdF0sYWkuY2xlYW4oZSksZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9dGhpcy5sZW5ndGg7dC0tOylmb3IoZT10aGlzW3RdO2UuZmlyc3RDaGlsZDspZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpO3JldHVybiB0aGlzfSxodG1sOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKHNpKGUpKXt0PXRoaXMubGVuZ3RoO3RyeXtmb3IoO3QtLTspdGhpc1t0XS5pbm5lckhUTUw9ZX1jYXRjaChuKXtSaSh0aGlzW3RdKS5lbXB0eSgpLmFwcGVuZChlKX1yZXR1cm4gdGhpc31yZXR1cm4gdGhpc1swXT90aGlzWzBdLmlubmVySFRNTDoiIn0sdGV4dDpmdW5jdGlvbihlKXt2YXIgdDtpZihzaShlKSl7Zm9yKHQ9dGhpcy5sZW5ndGg7dC0tOykiaW5uZXJUZXh0ImluIHRoaXNbdF0/dGhpc1t0XS5pbm5lclRleHQ9ZTp0aGlzWzBdLnRleHRDb250ZW50PWU7cmV0dXJuIHRoaXN9cmV0dXJuIHRoaXNbMF0/dGhpc1swXS5pbm5lclRleHR8fHRoaXNbMF0udGV4dENvbnRlbnQ6IiJ9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiBmaSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXsoMT09PXRoaXMubm9kZVR5cGV8fHRoaXMuaG9zdCYmMT09PXRoaXMuaG9zdC5ub2RlVHlwZSkmJnRoaXMuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBmaSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXsoMT09PXRoaXMubm9kZVR5cGV8fHRoaXMuaG9zdCYmMT09PXRoaXMuaG9zdC5ub2RlVHlwZSkmJnRoaXMuaW5zZXJ0QmVmb3JlKGUsdGhpcy5maXJzdENoaWxkKX0sITApfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP2ZpKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3RoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pOnRoaXN9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT9maSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9LCEwKTp0aGlzfSxhcHBlbmRUbzpmdW5jdGlvbihlKXtyZXR1cm4gUmkoZSkuYXBwZW5kKHRoaXMpLHRoaXN9LHByZXBlbmRUbzpmdW5jdGlvbihlKXtyZXR1cm4gUmkoZSkucHJlcGVuZCh0aGlzKSx0aGlzfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5iZWZvcmUoZSkucmVtb3ZlKCl9LHdyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIG1pKHRoaXMsZSl9LHdyYXBBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIG1pKHRoaXMsZSwhMCl9LHdyYXBJbm5lcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7UmkodGhpcykuY29udGVudHMoKS53cmFwQWxsKGUpfSksdGhpc30sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe1JpKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZS5wdXNoKHRoaXMuY2xvbmVOb2RlKCEwKSl9KSxSaShlKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG9nZ2xlQ2xhc3MoZSwhMCl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRvZ2dsZUNsYXNzKGUsITEpfSx0b2dnbGVDbGFzczpmdW5jdGlvbihvLGkpe3ZhciBlPXRoaXM7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBvfHwoLTEhPT1vLmluZGV4T2YoIiAiKT9TaShvLnNwbGl0KCIgIiksZnVuY3Rpb24oKXtlLnRvZ2dsZUNsYXNzKHRoaXMsaSl9KTplLmVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbj1kaSh0LG8pO2lmKG4hPT1pKXt2YXIgcj10LmNsYXNzTmFtZTtuP3QuY2xhc3NOYW1lPXhpKCgiICIrcisiICIpLnJlcGxhY2UoIiAiK28rIiAiLCIgIikpOnQuY2xhc3NOYW1lKz1yPyIgIitvOm99fSkpLGV9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiBkaSh0aGlzWzBdLGUpfSxlYWNoOmZ1bmN0aW9uKGUpe3JldHVybiBTaSh0aGlzLGUpfSxvbjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXthaS5iaW5kKHRoaXMsZSx0KX0pfSxvZmY6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7YWkudW5iaW5kKHRoaXMsZSx0KX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsib2JqZWN0Ij09dHlwZW9mIGU/YWkuZmlyZSh0aGlzLGUudHlwZSxlKTphaS5maXJlKHRoaXMsZSl9KX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNzcygiZGlzcGxheSIsIiIpfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3NzKCJkaXNwbGF5Iiwibm9uZSIpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiBuZXcgUmkob2kuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZXE6ZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1lP3RoaXMuc2xpY2UoZSk6dGhpcy5zbGljZShlLCtlKzEpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxmaW5kOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1bXTtmb3IodD0wLG49dGhpcy5sZW5ndGg7dDxuO3QrKylSaS5maW5kKGUsdGhpc1t0XSxyKTtyZXR1cm4gUmkocil9LGZpbHRlcjpmdW5jdGlvbihuKXtyZXR1cm4gUmkoImZ1bmN0aW9uIj09dHlwZW9mIG4/TmkodGhpcy50b0FycmF5KCksZnVuY3Rpb24oZSx0KXtyZXR1cm4gbih0LGUpfSk6UmkuZmlsdGVyKG4sdGhpcy50b0FycmF5KCkpKX0sY2xvc2VzdDpmdW5jdGlvbihuKXt2YXIgcj1bXTtyZXR1cm4gbiBpbnN0YW5jZW9mIFJpJiYobj1uWzBdKSx0aGlzLmVhY2goZnVuY3Rpb24oZSx0KXtmb3IoO3Q7KXtpZigic3RyaW5nIj09dHlwZW9mIG4mJlJpKHQpLmlzKG4pKXtyLnB1c2godCk7YnJlYWt9aWYodD09PW4pe3IucHVzaCh0KTticmVha310PXQucGFyZW50Tm9kZX19KSxSaShyKX0sb2Zmc2V0OmZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGk9MCxhPTA7cmV0dXJuIGU/dGhpcy5jc3MoZSk6KCh0PXRoaXNbMF0pJiYocj0obj10Lm93bmVyRG9jdW1lbnQpLmRvY3VtZW50RWxlbWVudCx0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKGk9KG89dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkubGVmdCsoci5zY3JvbGxMZWZ0fHxuLmJvZHkuc2Nyb2xsTGVmdCktci5jbGllbnRMZWZ0LGE9by50b3ArKHIuc2Nyb2xsVG9wfHxuLmJvZHkuc2Nyb2xsVG9wKS1yLmNsaWVudFRvcCkpLHtsZWZ0OmksdG9wOmF9KX0scHVzaDpyaSxzb3J0OkFycmF5LnByb3RvdHlwZS5zb3J0LHNwbGljZTpBcnJheS5wcm90b3R5cGUuc3BsaWNlfSx5dC5leHRlbmQoQ2kse2V4dGVuZDp5dC5leHRlbmQsbWFrZUFycmF5OmZ1bmN0aW9uKGUpe3JldHVybih0PWUpJiZ0PT09dC53aW5kb3d8fGUubm9kZVR5cGU/W2VdOnl0LnRvQXJyYXkoZSk7dmFyIHR9LGluQXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZih0LmluZGV4T2YpcmV0dXJuIHQuaW5kZXhPZihlKTtmb3Iobj10Lmxlbmd0aDtuLS07KWlmKHRbbl09PT1lKXJldHVybiBuO3JldHVybi0xfSxpc0FycmF5Onl0LmlzQXJyYXksZWFjaDpTaSx0cmltOnhpLGdyZXA6TmksZmluZDpWbyxleHByOlZvLnNlbGVjdG9ycyx1bmlxdWU6Vm8udW5pcXVlU29ydCx0ZXh0OlZvLmdldFRleHQsY29udGFpbnM6Vm8uY29udGFpbnMsZmlsdGVyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10Lmxlbmd0aDtmb3IobiYmKGU9Ijpub3QoIitlKyIpIik7ci0tOykxIT09dFtyXS5ub2RlVHlwZSYmdC5zcGxpY2UociwxKTtyZXR1cm4gdD0xPT09dC5sZW5ndGg/UmkuZmluZC5tYXRjaGVzU2VsZWN0b3IodFswXSxlKT9bdFswXV06W106UmkuZmluZC5tYXRjaGVzKGUsdCl9fSk7dmFyIGtpPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bXSxvPWVbdF07Zm9yKCJzdHJpbmciIT10eXBlb2YgbiYmbiBpbnN0YW5jZW9mIFJpJiYobj1uWzBdKTtvJiY5IT09by5ub2RlVHlwZTspe2lmKG4hPT11bmRlZmluZWQpe2lmKG89PT1uKWJyZWFrO2lmKCJzdHJpbmciPT10eXBlb2YgbiYmUmkobykuaXMobikpYnJlYWt9MT09PW8ubm9kZVR5cGUmJnIucHVzaChvKSxvPW9bdF19cmV0dXJuIHJ9LF9pPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPVtdO2ZvcihyIGluc3RhbmNlb2YgUmkmJihyPXJbMF0pO2U7ZT1lW3RdKWlmKCFufHxlLm5vZGVUeXBlPT09bil7aWYociE9PXVuZGVmaW5lZCl7aWYoZT09PXIpYnJlYWs7aWYoInN0cmluZyI9PXR5cGVvZiByJiZSaShlKS5pcyhyKSlicmVha31vLnB1c2goZSl9cmV0dXJuIG99LFRpPWZ1bmN0aW9uKGUsdCxuKXtmb3IoZT1lW3RdO2U7ZT1lW3RdKWlmKGUubm9kZVR5cGU9PT1uKXJldHVybiBlO3JldHVybiBudWxsfTtTaSh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4ga2koZSwicGFyZW50Tm9kZSIpfSxuZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBUaShlLCJuZXh0U2libGluZyIsMSl9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIFRpKGUsInByZXZpb3VzU2libGluZyIsMSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGUpe3JldHVybiBfaShlLmZpcnN0Q2hpbGQsIm5leHRTaWJsaW5nIiwxKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIHl0LnRvQXJyYXkoKCJpZnJhbWUiPT09ZS5ub2RlTmFtZT9lLmNvbnRlbnREb2N1bWVudHx8ZS5jb250ZW50V2luZG93LmRvY3VtZW50OmUpLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24ocixvKXtDaS5mbltyXT1mdW5jdGlvbih0KXt2YXIgbj1bXTt0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1vLmNhbGwobix0aGlzLHQsbik7ZSYmKFJpLmlzQXJyYXkoZSk/bi5wdXNoLmFwcGx5KG4sZSk6bi5wdXNoKGUpKX0pLDE8dGhpcy5sZW5ndGgmJih1aVtyXXx8KG49UmkudW5pcXVlKG4pKSwwPT09ci5pbmRleE9mKCJwYXJlbnRzIikmJihuPW4ucmV2ZXJzZSgpKSk7dmFyIGU9Umkobik7cmV0dXJuIHQ/ZS5maWx0ZXIodCk6ZX19KSxTaSh7cGFyZW50c1VudGlsOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGtpKGUsInBhcmVudE5vZGUiLHQpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gX2koZSwibmV4dFNpYmxpbmciLDEsdCkuc2xpY2UoMSl9LHByZXZVbnRpbDpmdW5jdGlvbihlLHQpe3JldHVybiBfaShlLCJwcmV2aW91c1NpYmxpbmciLDEsdCkuc2xpY2UoMSl9fSxmdW5jdGlvbihvLGkpe0NpLmZuW29dPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9aS5jYWxsKG4sdGhpcyx0LG4pO2UmJihSaS5pc0FycmF5KGUpP24ucHVzaC5hcHBseShuLGUpOm4ucHVzaChlKSl9KSwxPHRoaXMubGVuZ3RoJiYobj1SaS51bmlxdWUobiksMCE9PW8uaW5kZXhPZigicGFyZW50cyIpJiYicHJldlVudGlsIiE9PW98fChuPW4ucmV2ZXJzZSgpKSk7dmFyIHI9Umkobik7cmV0dXJuIGU/ci5maWx0ZXIoZSk6cn19KSxDaS5mbi5pcz1mdW5jdGlvbihlKXtyZXR1cm4hIWUmJjA8dGhpcy5maWx0ZXIoZSkubGVuZ3RofSxDaS5mbi5pbml0LnByb3RvdHlwZT1DaS5mbixDaS5vdmVycmlkZURlZmF1bHRzPWZ1bmN0aW9uKG4pe3ZhciByLG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcj1yfHxuKCksMD09PWFyZ3VtZW50cy5sZW5ndGgmJihlPXIuZWxlbWVudCksdD10fHxyLmNvbnRleHQsbmV3IG8uZm4uaW5pdChlLHQpfTtyZXR1cm4gUmkuZXh0ZW5kKG8sdGhpcyksb30sQ2kuYXR0ckhvb2tzPXlpLENpLmNzc0hvb2tzPWJpO3ZhciBSaT1DaSxBaT0oRGkucHJvdG90eXBlLmN1cnJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlfSxEaS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ub2RlPXRoaXMuZmluZFNpYmxpbmcodGhpcy5ub2RlLCJmaXJzdENoaWxkIiwibmV4dFNpYmxpbmciLGUpLHRoaXMubm9kZX0sRGkucHJvdG90eXBlLnByZXY9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubm9kZT10aGlzLmZpbmRTaWJsaW5nKHRoaXMubm9kZSwibGFzdENoaWxkIiwicHJldmlvdXNTaWJsaW5nIixlKSx0aGlzLm5vZGV9LERpLnByb3RvdHlwZS5wcmV2Mj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ub2RlPXRoaXMuZmluZFByZXZpb3VzTm9kZSh0aGlzLm5vZGUsImxhc3RDaGlsZCIsInByZXZpb3VzU2libGluZyIsZSksdGhpcy5ub2RlfSxEaS5wcm90b3R5cGUuZmluZFNpYmxpbmc9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saTtpZihlKXtpZighciYmZVt0XSlyZXR1cm4gZVt0XTtpZihlIT09dGhpcy5yb290Tm9kZSl7aWYobz1lW25dKXJldHVybiBvO2ZvcihpPWUucGFyZW50Tm9kZTtpJiZpIT09dGhpcy5yb290Tm9kZTtpPWkucGFyZW50Tm9kZSlpZihvPWlbbl0pcmV0dXJuIG99fX0sRGkucHJvdG90eXBlLmZpbmRQcmV2aW91c05vZGU9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhO2lmKGUpe2lmKG89ZVtuXSx0aGlzLnJvb3ROb2RlJiZvPT09dGhpcy5yb290Tm9kZSlyZXR1cm47aWYobyl7aWYoIXIpZm9yKGE9b1t0XTthO2E9YVt0XSlpZighYVt0XSlyZXR1cm4gYTtyZXR1cm4gb31pZigoaT1lLnBhcmVudE5vZGUpJiZpIT09dGhpcy5yb290Tm9kZSlyZXR1cm4gaX19LERpKTtmdW5jdGlvbiBEaShlLHQpe3RoaXMubm9kZT1lLHRoaXMucm9vdE5vZGU9dCx0aGlzLmN1cnJlbnQ9dGhpcy5jdXJyZW50LmJpbmQodGhpcyksdGhpcy5uZXh0PXRoaXMubmV4dC5iaW5kKHRoaXMpLHRoaXMucHJldj10aGlzLnByZXYuYmluZCh0aGlzKSx0aGlzLnByZXYyPXRoaXMucHJldjIuYmluZCh0aGlzKX12YXIgT2ksQmksUGksTGksSWk9e30sTWk9e2V4cG9ydHM6SWl9O09pPXVuZGVmaW5lZCxCaT1JaSxQaT1NaSxMaT11bmRlZmluZWQsZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBCaSYmdm9pZCAwIT09UGkpUGkuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgT2kmJk9pLmFtZClPaShbXSxlKTtlbHNleygidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMpLkVwaG94Q29udGFjdFdyYXBwZXI9ZSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gbChpLGEsdSl7ZnVuY3Rpb24gcyh0LGUpe2lmKCFhW3RdKXtpZighaVt0XSl7dmFyIG49ImZ1bmN0aW9uIj09dHlwZW9mIExpJiZMaTtpZighZSYmbilyZXR1cm4gbih0LCEwKTtpZihjKXJldHVybiBjKHQsITApO3ZhciByPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3QrIiciKTt0aHJvdyByLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLHJ9dmFyIG89YVt0XT17ZXhwb3J0czp7fX07aVt0XVswXS5jYWxsKG8uZXhwb3J0cyxmdW5jdGlvbihlKXtyZXR1cm4gcyhpW3RdWzFdW2VdfHxlKX0sbyxvLmV4cG9ydHMsbCxpLGEsdSl9cmV0dXJuIGFbdF0uZXhwb3J0c31mb3IodmFyIGM9ImZ1bmN0aW9uIj09dHlwZW9mIExpJiZMaSxlPTA7ZTx1Lmxlbmd0aDtlKyspcyh1W2VdKTtyZXR1cm4gc30oezE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9dC5leHBvcnRzPXt9O2Z1bmN0aW9uIGEoKXt0aHJvdyBuZXcgRXJyb3IoInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiB1KCl7dGhyb3cgbmV3IEVycm9yKCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBzKGUpe2lmKHI9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKHI9PT1hfHwhcikmJnNldFRpbWVvdXQpcmV0dXJuIHI9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiByKGUsMCl9Y2F0Y2goTEUpe3RyeXtyZXR1cm4gci5jYWxsKG51bGwsZSwwKX1jYXRjaChMRSl7cmV0dXJuIHIuY2FsbCh0aGlzLGUsMCl9fX0hZnVuY3Rpb24oKXt0cnl7cj0iZnVuY3Rpb24iPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0OmF9Y2F0Y2goTEUpe3I9YX10cnl7bz0iZnVuY3Rpb24iPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDp1fWNhdGNoKExFKXtvPXV9fSgpO3ZhciBjLGw9W10sZj0hMSxkPS0xO2Z1bmN0aW9uIG0oKXtmJiZjJiYoZj0hMSxjLmxlbmd0aD9sPWMuY29uY2F0KGwpOmQ9LTEsbC5sZW5ndGgmJnAoKSl9ZnVuY3Rpb24gcCgpe2lmKCFmKXt2YXIgZT1zKG0pO2Y9ITA7Zm9yKHZhciB0PWwubGVuZ3RoO3Q7KXtmb3IoYz1sLGw9W107KytkPHQ7KWMmJmNbZF0ucnVuKCk7ZD0tMSx0PWwubGVuZ3RofWM9bnVsbCxmPSExLGZ1bmN0aW9uIG4oZSl7aWYobz09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChvPT09dXx8IW8pJiZjbGVhclRpbWVvdXQpcmV0dXJuIG89Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7cmV0dXJuIG8oZSl9Y2F0Y2goTEUpe3RyeXtyZXR1cm4gby5jYWxsKG51bGwsZSl9Y2F0Y2goTEUpe3JldHVybiBvLmNhbGwodGhpcyxlKX19fShlKX19ZnVuY3Rpb24gZyhlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIGgoKXt9aS5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZigxPGFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO2wucHVzaChuZXcgZyhlLHQpKSwxIT09bC5sZW5ndGh8fGZ8fHMocCl9LGcucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGkudGl0bGU9ImJyb3dzZXIiLGkuYnJvd3Nlcj0hMCxpLmVudj17fSxpLmFyZ3Y9W10saS52ZXJzaW9uPSIiLGkudmVyc2lvbnM9e30saS5vbj1oLGkuYWRkTGlzdGVuZXI9aCxpLm9uY2U9aCxpLm9mZj1oLGkucmVtb3ZlTGlzdGVuZXI9aCxpLnJlbW92ZUFsbExpc3RlbmVycz1oLGkuZW1pdD1oLGkucHJlcGVuZExpc3RlbmVyPWgsaS5wcmVwZW5kT25jZUxpc3RlbmVyPWgsaS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LGkuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LGkuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSxpLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIil9LGkudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHt9XSwyOltmdW5jdGlvbihlLGYsdCl7KGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXt9ZnVuY3Rpb24gaShlKXtpZigib2JqZWN0IiE9dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigibm90IGEgZnVuY3Rpb24iKTt0aGlzLl9zdGF0ZT0wLHRoaXMuX2hhbmRsZWQ9ITEsdGhpcy5fdmFsdWU9dW5kZWZpbmVkLHRoaXMuX2RlZmVycmVkcz1bXSxsKGUsdGhpcyl9ZnVuY3Rpb24gbyhuLHIpe2Zvcig7Mz09PW4uX3N0YXRlOyluPW4uX3ZhbHVlOzAhPT1uLl9zdGF0ZT8obi5faGFuZGxlZD0hMCxpLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpe3ZhciBlPTE9PT1uLl9zdGF0ZT9yLm9uRnVsZmlsbGVkOnIub25SZWplY3RlZDtpZihudWxsIT09ZSl7dmFyIHQ7dHJ5e3Q9ZShuLl92YWx1ZSl9Y2F0Y2goTEUpe3JldHVybiB2b2lkIHUoci5wcm9taXNlLExFKX1hKHIucHJvbWlzZSx0KX1lbHNlKDE9PT1uLl9zdGF0ZT9hOnUpKHIucHJvbWlzZSxuLl92YWx1ZSl9KSk6bi5fZGVmZXJyZWRzLnB1c2gocil9ZnVuY3Rpb24gYShlLHQpe3RyeXtpZih0PT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLiIpO2lmKHQmJigib2JqZWN0Ij09dHlwZW9mIHR8fCJmdW5jdGlvbiI9PXR5cGVvZiB0KSl7dmFyIG49dC50aGVuO2lmKHQgaW5zdGFuY2VvZiBpKXJldHVybiBlLl9zdGF0ZT0zLGUuX3ZhbHVlPXQsdm9pZCBzKGUpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuKXJldHVybiB2b2lkIGwoZnVuY3Rpb24gcihlLHQpe3JldHVybiBmdW5jdGlvbigpe2UuYXBwbHkodCxhcmd1bWVudHMpfX0obix0KSxlKX1lLl9zdGF0ZT0xLGUuX3ZhbHVlPXQscyhlKX1jYXRjaChMRSl7dShlLExFKX19ZnVuY3Rpb24gdShlLHQpe2UuX3N0YXRlPTIsZS5fdmFsdWU9dCxzKGUpfWZ1bmN0aW9uIHMoZSl7Mj09PWUuX3N0YXRlJiYwPT09ZS5fZGVmZXJyZWRzLmxlbmd0aCYmaS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKXtlLl9oYW5kbGVkfHxpLl91bmhhbmRsZWRSZWplY3Rpb25GbihlLl92YWx1ZSl9KTtmb3IodmFyIHQ9MCxuPWUuX2RlZmVycmVkcy5sZW5ndGg7dDxuO3QrKylvKGUsZS5fZGVmZXJyZWRzW3RdKTtlLl9kZWZlcnJlZHM9bnVsbH1mdW5jdGlvbiBjKGUsdCxuKXt0aGlzLm9uRnVsZmlsbGVkPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6bnVsbCx0aGlzLm9uUmVqZWN0ZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpudWxsLHRoaXMucHJvbWlzZT1ufWZ1bmN0aW9uIGwoZSx0KXt2YXIgbj0hMTt0cnl7ZShmdW5jdGlvbihlKXtufHwobj0hMCxhKHQsZSkpfSxmdW5jdGlvbihlKXtufHwobj0hMCx1KHQsZSkpfSl9Y2F0Y2gocil7aWYobilyZXR1cm47bj0hMCx1KHQscil9fXZhciBlLG47ZT10aGlzLG49c2V0VGltZW91dCxpLnByb3RvdHlwZVsiY2F0Y2giXT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsZSl9LGkucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgdGhpcy5jb25zdHJ1Y3RvcihyKTtyZXR1cm4gbyh0aGlzLG5ldyBjKGUsdCxuKSksbn0saS5hbGw9ZnVuY3Rpb24oZSl7dmFyIHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSk7cmV0dXJuIG5ldyBpKGZ1bmN0aW9uKG8saSl7aWYoMD09PXMubGVuZ3RoKXJldHVybiBvKFtdKTt2YXIgYT1zLmxlbmd0aDtmdW5jdGlvbiB1KHQsZSl7dHJ5e2lmKGUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSl7dmFyIG49ZS50aGVuO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuKXJldHVybiB2b2lkIG4uY2FsbChlLGZ1bmN0aW9uKGUpe3UodCxlKX0saSl9c1t0XT1lLDA9PS0tYSYmbyhzKX1jYXRjaChyKXtpKHIpfX1mb3IodmFyIGU9MDtlPHMubGVuZ3RoO2UrKyl1KGUsc1tlXSl9KX0saS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYib2JqZWN0Ij09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I9PT1pP3Q6bmV3IGkoZnVuY3Rpb24oZSl7ZSh0KX0pfSxpLnJlamVjdD1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IGkoZnVuY3Rpb24oZSx0KXt0KG4pfSl9LGkucmFjZT1mdW5jdGlvbihvKXtyZXR1cm4gbmV3IGkoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPW8ubGVuZ3RoO248cjtuKyspb1tuXS50aGVuKGUsdCl9KX0saS5faW1tZWRpYXRlRm49ImZ1bmN0aW9uIj09dHlwZW9mIHQ/ZnVuY3Rpb24oZSl7dChlKX06ZnVuY3Rpb24oZSl7bihlLDApfSxpLl91bmhhbmRsZWRSZWplY3Rpb25Gbj1mdW5jdGlvbihlKXsidW5kZWZpbmVkIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUmJmNvbnNvbGUud2FybigiUG9zc2libGUgVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uOiIsZSl9LGkuX3NldEltbWVkaWF0ZUZuPWZ1bmN0aW9uKGUpe2kuX2ltbWVkaWF0ZUZuPWV9LGkuX3NldFVuaGFuZGxlZFJlamVjdGlvbkZuPWZ1bmN0aW9uKGUpe2kuX3VuaGFuZGxlZFJlamVjdGlvbkZuPWV9LHZvaWQgMCE9PWYmJmYuZXhwb3J0cz9mLmV4cG9ydHM9aTplLlByb21pc2V8fChlLlByb21pc2U9aSl9KS5jYWxsKHRoaXMsZSgidGltZXJzIikuc2V0SW1tZWRpYXRlKX0se3RpbWVyczozfV0sMzpbZnVuY3Rpb24ocyxlLGMpeyhmdW5jdGlvbihlLHQpe3ZhciByPXMoInByb2Nlc3MvYnJvd3Nlci5qcyIpLm5leHRUaWNrLG49RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LG89QXJyYXkucHJvdG90eXBlLnNsaWNlLGk9e30sYT0wO2Z1bmN0aW9uIHUoZSx0KXt0aGlzLl9pZD1lLHRoaXMuX2NsZWFyRm49dH1jLnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUobi5jYWxsKHNldFRpbWVvdXQsd2luZG93LGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sYy5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgdShuLmNhbGwoc2V0SW50ZXJ2YWwsd2luZG93LGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LGMuY2xlYXJUaW1lb3V0PWMuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbihlKXtlLmNsb3NlKCl9LHUucHJvdG90eXBlLnVucmVmPXUucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30sdS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LHRoaXMuX2lkKX0sYy5lbnJvbGw9ZnVuY3Rpb24oZSx0KXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCksZS5faWRsZVRpbWVvdXQ9dH0sYy51bmVucm9sbD1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCksZS5faWRsZVRpbWVvdXQ9LTF9LGMuX3VucmVmQWN0aXZlPWMuYWN0aXZlPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKTt2YXIgdD1lLl9pZGxlVGltZW91dDswPD10JiYoZS5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fb25UaW1lb3V0JiZlLl9vblRpbWVvdXQoKX0sdCkpfSxjLnNldEltbWVkaWF0ZT0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOmZ1bmN0aW9uKGUpe3ZhciB0PWErKyxuPSEoYXJndW1lbnRzLmxlbmd0aDwyKSYmby5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gaVt0XT0hMCxyKGZ1bmN0aW9uKCl7aVt0XSYmKG4/ZS5hcHBseShudWxsLG4pOmUuY2FsbChudWxsKSxjLmNsZWFySW1tZWRpYXRlKHQpKX0pLHR9LGMuY2xlYXJJbW1lZGlhdGU9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpmdW5jdGlvbihlKXtkZWxldGUgaVtlXX19KS5jYWxsKHRoaXMscygidGltZXJzIikuc2V0SW1tZWRpYXRlLHMoInRpbWVycyIpLmNsZWFySW1tZWRpYXRlKX0seyJwcm9jZXNzL2Jyb3dzZXIuanMiOjEsdGltZXJzOjN9XSw0OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgicHJvbWlzZS1wb2x5ZmlsbCIpLG89InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OkZ1bmN0aW9uKCJyZXR1cm4gdGhpczsiKSgpO3QuZXhwb3J0cz17Ym9sdEV4cG9ydDpvLlByb21pc2V8fHJ9fSx7InByb21pc2UtcG9seWZpbGwiOjJ9XX0se30sWzRdKSg0KX0pO3ZhciBGaSxVaSx6aSxqaSxIaT1NaS5leHBvcnRzLmJvbHRFeHBvcnQsVmk9ZnVuY3Rpb24oZSl7dmFyIG49Qi5ub25lKCksdD1bXSxyPWZ1bmN0aW9uKGUpe28oKT9hKGUpOnQucHVzaChlKX0sbz1mdW5jdGlvbigpe3JldHVybiBuLmlzU29tZSgpfSxpPWZ1bmN0aW9uKGUpe3ooZSxhKX0sYT1mdW5jdGlvbih0KXtuLmVhY2goZnVuY3Rpb24oZSl7Vi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChlKX0sMCl9KX07cmV0dXJuIGUoZnVuY3Rpb24oZSl7bygpfHwobj1CLnNvbWUoZSksaSh0KSx0PVtdKX0pLHtnZXQ6cixtYXA6ZnVuY3Rpb24obil7cmV0dXJuIFZpKGZ1bmN0aW9uKHQpe3IoZnVuY3Rpb24oZSl7dChuKGUpKX0pfSl9LGlzUmVhZHk6b319LHFpPXtudTpWaSxwdXJlOmZ1bmN0aW9uKHQpe3JldHVybiBWaShmdW5jdGlvbihlKXtlKHQpfSl9fSwkaT1mdW5jdGlvbihlKXtWLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBlfSwwKX0sV2k9ZnVuY3Rpb24obil7dmFyIGU9ZnVuY3Rpb24oZSl7bigpLnRoZW4oZSwkaSl9O3JldHVybnttYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIFdpKGZ1bmN0aW9uKCl7cmV0dXJuIG4oKS50aGVuKGUpfSl9LGJpbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIFdpKGZ1bmN0aW9uKCl7cmV0dXJuIG4oKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpLnRvUHJvbWlzZSgpfSl9KX0sYW5vbkJpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFdpKGZ1bmN0aW9uKCl7cmV0dXJuIG4oKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUudG9Qcm9taXNlKCl9KX0pfSx0b0xhenk6ZnVuY3Rpb24oKXtyZXR1cm4gcWkubnUoZSl9LHRvQ2FjaGVkOmZ1bmN0aW9uKCl7dmFyIGU9bnVsbDtyZXR1cm4gV2koZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PWUmJihlPW4oKSksZX0pfSx0b1Byb21pc2U6bixnZXQ6ZX19LEtpPWZ1bmN0aW9uKGUpe3JldHVybiBXaShmdW5jdGlvbigpe3JldHVybiBuZXcgSGkoZSl9KX0sWGk9ZnVuY3Rpb24oYSxlKXtyZXR1cm4gZShmdW5jdGlvbihyKXt2YXIgbz1bXSxpPTA7MD09PWEubGVuZ3RoP3IoW10pOnooYSxmdW5jdGlvbihlLHQpe3ZhciBuO2UuZ2V0KChuPXQsZnVuY3Rpb24oZSl7b1tuXT1lLCsraT49YS5sZW5ndGgmJnIobyl9KSl9KX0pfSxZaT1mdW5jdGlvbihuKXtyZXR1cm57aXM6ZnVuY3Rpb24oZSl7cmV0dXJuIG49PT1lfSxpc1ZhbHVlOmgsaXNFcnJvcjpnLGdldE9yOngobiksZ2V0T3JUaHVuazp4KG4pLGdldE9yRGllOngobiksb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIFlpKG4pfSxvclRodW5rOmZ1bmN0aW9uKGUpe3JldHVybiBZaShuKX0sZm9sZDpmdW5jdGlvbihlLHQpe3JldHVybiB0KG4pfSxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIFlpKGUobikpfSxtYXBFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4gWWkobil9LGVhY2g6ZnVuY3Rpb24oZSl7ZShuKX0sYmluZDpmdW5jdGlvbihlKXtyZXR1cm4gZShuKX0sZXhpc3RzOmZ1bmN0aW9uKGUpe3JldHVybiBlKG4pfSxmb3JhbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIGUobil9LHRvT3B0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIEIuc29tZShuKX19fSxHaT1mdW5jdGlvbihuKXtyZXR1cm57aXM6Zyxpc1ZhbHVlOmcsaXNFcnJvcjpoLGdldE9yOm8sZ2V0T3JUaHVuazpmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSxnZXRPckRpZTpmdW5jdGlvbigpe3JldHVybiBwKFN0cmluZyhuKSkoKX0sb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LG9yVGh1bms6ZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0sZm9sZDpmdW5jdGlvbihlLHQpe3JldHVybiBlKG4pfSxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIEdpKG4pfSxtYXBFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4gR2koZShuKSl9LGVhY2g6ZixiaW5kOmZ1bmN0aW9uKGUpe3JldHVybiBHaShuKX0sZXhpc3RzOmcsZm9yYWxsOmgsdG9PcHRpb246Qi5ub25lfX0sSmk9e3ZhbHVlOllpLGVycm9yOkdpLGZyb21PcHRpb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIEdpKHQpfSxZaSl9fSxRaT1mdW5jdGlvbihhKXtpZighayhhKSl0aHJvdyBuZXcgRXJyb3IoImNhc2VzIG11c3QgYmUgYW4gYXJyYXkiKTtpZigwPT09YS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJ0aGVyZSBtdXN0IGJlIGF0IGxlYXN0IG9uZSBjYXNlIik7dmFyIHU9W10sbj17fTtyZXR1cm4geihhLGZ1bmN0aW9uKGUscil7dmFyIHQ9bmUoZSk7aWYoMSE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcigib25lIGFuZCBvbmx5IG9uZSBuYW1lIHBlciBjYXNlIik7dmFyIG89dFswXSxpPWVbb107aWYobltvXSE9PXVuZGVmaW5lZCl0aHJvdyBuZXcgRXJyb3IoImR1cGxpY2F0ZSBrZXkgZGV0ZWN0ZWQ6IitvKTtpZigiY2F0YSI9PT1vKXRocm93IG5ldyBFcnJvcigiY2Fubm90IGhhdmUgYSBjYXNlIG5hbWVkIGNhdGEgKHNvcnJ5KSIpO2lmKCFrKGkpKXRocm93IG5ldyBFcnJvcigiY2FzZSBhcmd1bWVudHMgbXVzdCBiZSBhbiBhcnJheSIpO3UucHVzaChvKSxuW29dPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDtpZihlIT09aS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGNhc2UgIitvKyIuIEV4cGVjdGVkICIraS5sZW5ndGgrIiAoIitpKyIpLCBnb3QgIitlKTtmb3IodmFyIG49bmV3IEFycmF5KGUpLHQ9MDt0PG4ubGVuZ3RoO3QrKyluW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm57Zm9sZDpmdW5jdGlvbigpe2lmKGFyZ3VtZW50cy5sZW5ndGghPT1hLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgdG8gZm9sZC4gRXhwZWN0ZWQgIithLmxlbmd0aCsiLCBnb3QgIithcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gYXJndW1lbnRzW3JdLmFwcGx5KG51bGwsbil9LG1hdGNoOmZ1bmN0aW9uKGUpe3ZhciB0PW5lKGUpO2lmKHUubGVuZ3RoIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIG1hdGNoLiBFeHBlY3RlZDogIit1LmpvaW4oIiwiKSsiXG5BY3R1YWw6ICIrdC5qb2luKCIsIikpO2lmKCFHKHUsZnVuY3Rpb24oZSl7cmV0dXJuIE0odCxlKX0pKXRocm93IG5ldyBFcnJvcigiTm90IGFsbCBicmFuY2hlcyB3ZXJlIHNwZWNpZmllZCB3aGVuIHVzaW5nIG1hdGNoLiBTcGVjaWZpZWQ6ICIrdC5qb2luKCIsICIpKyJcblJlcXVpcmVkOiAiK3Uuam9pbigiLCAiKSk7cmV0dXJuIGVbb10uYXBwbHkobnVsbCxuKX0sbG9nOmZ1bmN0aW9uKGUpe1YuY29uc29sZS5sb2coZSx7Y29uc3RydWN0b3JzOnUsY29uc3RydWN0b3I6byxwYXJhbXM6bn0pfX19fSksbn0sWmk9KFFpKFt7Ym90aEVycm9yczpbImVycm9yMSIsImVycm9yMiJdfSx7Zmlyc3RFcnJvcjpbImVycm9yMSIsInZhbHVlMiJdfSx7c2Vjb25kRXJyb3I6WyJ2YWx1ZTEiLCJlcnJvcjIiXX0se2JvdGhWYWx1ZXM6WyJ2YWx1ZTEiLCJ2YWx1ZTIiXX1dKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKG8sbyl9KSxlYT13aW5kb3cuUHJvbWlzZT93aW5kb3cuUHJvbWlzZTooRmk9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0semk9KFVpPWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiIT10eXBlb2YgdGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXciKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJub3QgYSBmdW5jdGlvbiIpO3RoaXMuX3N0YXRlPW51bGwsdGhpcy5fdmFsdWU9bnVsbCx0aGlzLl9kZWZlcnJlZHM9W10sdWEoZSx0YShyYSx0aGlzKSx0YShvYSx0aGlzKSl9KS5pbW1lZGlhdGVGbnx8ImZ1bmN0aW9uIj09dHlwZW9mIFYuc2V0SW1tZWRpYXRlJiZWLnNldEltbWVkaWF0ZXx8ZnVuY3Rpb24oZSl7Vi5zZXRUaW1lb3V0KGUsMSl9LFVpLnByb3RvdHlwZVsiY2F0Y2giXT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsZSl9LFVpLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKG4scil7dmFyIG89dGhpcztyZXR1cm4gbmV3IFVpKGZ1bmN0aW9uKGUsdCl7bmEuY2FsbChvLG5ldyBhYShuLHIsZSx0KSl9KX0sVWkuYWxsPWZ1bmN0aW9uKCl7dmFyIHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoMT09PWFyZ3VtZW50cy5sZW5ndGgmJkZpKGFyZ3VtZW50c1swXSk/YXJndW1lbnRzWzBdOmFyZ3VtZW50cyk7cmV0dXJuIG5ldyBVaShmdW5jdGlvbihvLGkpe2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gbyhbXSk7dmFyIGE9cy5sZW5ndGg7ZnVuY3Rpb24gdSh0LGUpe3RyeXtpZihlJiYoIm9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZSkpe3ZhciBuPWUudGhlbjtpZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm4gdm9pZCBuLmNhbGwoZSxmdW5jdGlvbihlKXt1KHQsZSl9LGkpfXNbdF09ZSwwPT0tLWEmJm8ocyl9Y2F0Y2gocil7aShyKX19Zm9yKHZhciBlPTA7ZTxzLmxlbmd0aDtlKyspdShlLHNbZV0pfSl9LFVpLnJlc29sdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJvYmplY3QiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3Rvcj09PVVpP3Q6bmV3IFVpKGZ1bmN0aW9uKGUpe2UodCl9KX0sVWkucmVqZWN0PWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgVWkoZnVuY3Rpb24oZSx0KXt0KG4pfSl9LFVpLnJhY2U9ZnVuY3Rpb24obyl7cmV0dXJuIG5ldyBVaShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9by5sZW5ndGg7bjxyO24rKylvW25dLnRoZW4oZSx0KX0pfSxVaSk7ZnVuY3Rpb24gdGEoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtlLmFwcGx5KHQsYXJndW1lbnRzKX19ZnVuY3Rpb24gbmEobil7dmFyIHI9dGhpcztudWxsIT09dGhpcy5fc3RhdGU/emkoZnVuY3Rpb24oKXt2YXIgZT1yLl9zdGF0ZT9uLm9uRnVsZmlsbGVkOm4ub25SZWplY3RlZDtpZihudWxsIT09ZSl7dmFyIHQ7dHJ5e3Q9ZShyLl92YWx1ZSl9Y2F0Y2goTEUpe3JldHVybiB2b2lkIG4ucmVqZWN0KExFKX1uLnJlc29sdmUodCl9ZWxzZShyLl9zdGF0ZT9uLnJlc29sdmU6bi5yZWplY3QpKHIuX3ZhbHVlKX0pOnRoaXMuX2RlZmVycmVkcy5wdXNoKG4pfWZ1bmN0aW9uIHJhKGUpe3RyeXtpZihlPT09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKCJBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLiIpO2lmKGUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSl7dmFyIHQ9ZS50aGVuO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KXJldHVybiB2b2lkIHVhKHRhKHQsZSksdGEocmEsdGhpcyksdGEob2EsdGhpcykpfXRoaXMuX3N0YXRlPSEwLHRoaXMuX3ZhbHVlPWUsaWEuY2FsbCh0aGlzKX1jYXRjaChMRSl7b2EuY2FsbCh0aGlzLExFKX19ZnVuY3Rpb24gb2EoZSl7dGhpcy5fc3RhdGU9ITEsdGhpcy5fdmFsdWU9ZSxpYS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGlhKCl7Zm9yKHZhciBlPTAsdD10aGlzLl9kZWZlcnJlZHMubGVuZ3RoO2U8dDtlKyspbmEuY2FsbCh0aGlzLHRoaXMuX2RlZmVycmVkc1tlXSk7dGhpcy5fZGVmZXJyZWRzPW51bGx9ZnVuY3Rpb24gYWEoZSx0LG4scil7dGhpcy5vbkZ1bGZpbGxlZD0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOm51bGwsdGhpcy5vblJlamVjdGVkPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6bnVsbCx0aGlzLnJlc29sdmU9bix0aGlzLnJlamVjdD1yfWZ1bmN0aW9uIHVhKGUsdCxuKXt2YXIgcj0hMTt0cnl7ZShmdW5jdGlvbihlKXtyfHwocj0hMCx0KGUpKX0sZnVuY3Rpb24oZSl7cnx8KHI9ITAsbihlKSl9KX1jYXRjaChvKXtpZihyKXJldHVybjtyPSEwLG4obyl9fXZhciBzYT1mdW5jdGlvbihlLHQpe3JldHVybiJudW1iZXIiIT10eXBlb2YgdCYmKHQ9MCksVi5zZXRUaW1lb3V0KGUsdCl9LGNhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiB0JiYodD0xKSxWLnNldEludGVydmFsKGUsdCl9LGxhPWZ1bmN0aW9uKG4scil7dmFyIG8sZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtWLmNsZWFyVGltZW91dChvKSxvPXNhKGZ1bmN0aW9uKCl7bi5hcHBseSh0aGlzLGUpfSxyKX07cmV0dXJuIGUuc3RvcD1mdW5jdGlvbigpe1YuY2xlYXJUaW1lb3V0KG8pfSxlfSxmYT17cmVxdWVzdEFuaW1hdGlvbkZyYW1lOmZ1bmN0aW9uKGUsdCl7amk/amkudGhlbihlKTpqaT1uZXcgZWEoZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1WLndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsbz1bIm1zIiwibW96Iiwid2Via2l0Il07Zm9yKG49MDtuPG8ubGVuZ3RoJiYhcjtuKyspcj1WLndpbmRvd1tvW25dKyJSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXTsocj1yfHxmdW5jdGlvbihlKXtWLndpbmRvdy5zZXRUaW1lb3V0KGUsMCl9KShlLHQpfShlLHQ9dHx8Vi5kb2N1bWVudC5ib2R5KX0pLnRoZW4oZSl9LHNldFRpbWVvdXQ6c2Esc2V0SW50ZXJ2YWw6Y2Esc2V0RWRpdG9yVGltZW91dDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHNhKGZ1bmN0aW9uKCl7ZS5yZW1vdmVkfHx0KCl9LG4pfSxzZXRFZGl0b3JJbnRlcnZhbDpmdW5jdGlvbihlLHQsbil7dmFyIHI9Y2EoZnVuY3Rpb24oKXtlLnJlbW92ZWQ/Vi5jbGVhckludGVydmFsKHIpOnQoKX0sbik7cmV0dXJuIHJ9LGRlYm91bmNlOmxhLHRocm90dGxlOmxhLGNsZWFySW50ZXJ2YWw6ZnVuY3Rpb24oZSl7cmV0dXJuIFYuY2xlYXJJbnRlcnZhbChlKX0sY2xlYXJUaW1lb3V0OmZ1bmN0aW9uKGUpe3JldHVybiBWLmNsZWFyVGltZW91dChlKX19O2Z1bmN0aW9uIGRhKHAsZyl7dm9pZCAwPT09ZyYmKGc9e30pO3ZhciBoPTAsdj17fSx0PUN0LmZyb21Eb20ocCkseT1MdCh0KSxiPWcubWF4TG9hZFRpbWV8fDVlMyxDPWZ1bmN0aW9uKGUpe1p0KFh0KHQpLGUpfSxuPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbyxyLGksYT1mdW5jdGlvbihlKXtpLnN0YXR1cz1lLGkucGFzc2VkPVtdLGkuZmFpbGVkPVtdLG8mJihvLm9ubG9hZD1udWxsLG8ub25lcnJvcj1udWxsLG89bnVsbCl9LHU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9aS5wYXNzZWQsdD1lLmxlbmd0aDt0LS07KWVbdF0oKTthKDIpfSxzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWkuZmFpbGVkLHQ9ZS5sZW5ndGg7dC0tOyllW3RdKCk7YSgzKX0sYz1mdW5jdGlvbihlLHQpe2UoKXx8KChuZXcgRGF0ZSkuZ2V0VGltZSgpLW08Yj9mYS5zZXRUaW1lb3V0KHQpOnMoKSl9LGw9ZnVuY3Rpb24oKXtjKGZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQsbj1wLnN0eWxlU2hlZXRzLHI9bi5sZW5ndGg7ci0tOylpZigodD0oZT1uW3JdKS5vd25lck5vZGU/ZS5vd25lck5vZGU6ZS5vd25pbmdFbGVtZW50KSYmdC5pZD09PW8uaWQpcmV0dXJuIHUoKSwxfSxsKX0sZj1mdW5jdGlvbigpe2MoZnVuY3Rpb24oKXt0cnl7dmFyIGU9ci5zaGVldC5jc3NSdWxlcztyZXR1cm4gdSgpLGV9Y2F0Y2godCl7fX0sZil9O2lmKGU9eXQuX2FkZENhY2hlU3VmZml4KGUpLHZbZV0/aT12W2VdOihpPXtwYXNzZWQ6W10sZmFpbGVkOltdfSx2W2VdPWkpLHQmJmkucGFzc2VkLnB1c2godCksbiYmaS5mYWlsZWQucHVzaChuKSwxIT09aS5zdGF0dXMpaWYoMiE9PWkuc3RhdHVzKWlmKDMhPT1pLnN0YXR1cyl7aS5zdGF0dXM9MSwobz15LmRvbSgpLmNyZWF0ZUVsZW1lbnQoImxpbmsiKSkucmVsPSJzdHlsZXNoZWV0IixvLnR5cGU9InRleHQvY3NzIixvLmlkPSJ1IitoKyssby5hc3luYz0hMSxvLmRlZmVyPSExO3ZhciBkLG09KG5ldyBEYXRlKS5nZXRUaW1lKCk7aWYoZy5jb250ZW50Q3NzQ29ycyYmKG8uY3Jvc3NPcmlnaW49ImFub255bW91cyIpLGcucmVmZXJyZXJQb2xpY3kmJlBuKEN0LmZyb21Eb20obyksInJlZmVycmVycG9saWN5IixnLnJlZmVycmVyUG9saWN5KSwib25sb2FkImluIG8mJiEoKGQ9Vi5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9XZWJLaXRcLyhcZCopLykpJiZwYXJzZUludChkWzFdLDEwKTw1MzYpKW8ub25sb2FkPWwsby5vbmVycm9yPXM7ZWxzZXtpZigwPFYubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94IikpcmV0dXJuKHI9eS5kb20oKS5jcmVhdGVFbGVtZW50KCJzdHlsZSIpKS50ZXh0Q29udGVudD0nQGltcG9ydCAiJytlKyciJyxmKCksdm9pZCBDKEN0LmZyb21Eb20ocikpO2woKX1DKEN0LmZyb21Eb20obykpLG8uaHJlZj1lfWVsc2UgcygpO2Vsc2UgdSgpfSxvPWZ1bmN0aW9uKHQpe3JldHVybiBLaShmdW5jdGlvbihlKXtuKHQsYShlLHgoSmkudmFsdWUodCkpKSxhKGUseChKaS5lcnJvcih0KSkpKX0pfTtyZXR1cm57bG9hZDpuLGxvYWRBbGw6ZnVuY3Rpb24oZSxuLHIpe3ZhciB0O3Q9VShlLG8pLFhpKHQsS2kpLmdldChmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPVtdLG89MCxpPWUubGVuZ3RoO288aTtvKyspe3ZhciBhPWVbb107KHQoYSxvKT9uOnIpLnB1c2goYSl9cmV0dXJue3Bhc3M6bixmYWlsOnJ9fShlLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzVmFsdWUoKX0pOzA8dC5mYWlsLmxlbmd0aD9yKHQuZmFpbC5tYXAoWmkpKTpuKHQucGFzcy5tYXAoWmkpKX0pfSxfc2V0UmVmZXJyZXJQb2xpY3k6ZnVuY3Rpb24oZSl7Zy5yZWZlcnJlclBvbGljeT1lfX19dmFyIG1hLHBhLGdhPShtYT1uZXcgV2Vha01hcCx7Zm9yRWxlbWVudDpmdW5jdGlvbihlLHQpe3ZhciBuPUt0KGUpLmRvbSgpO3JldHVybiBCLmZyb20obWEuZ2V0KG4pKS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7dmFyIGU9ZGEobix0KTtyZXR1cm4gbWEuc2V0KG4sZSksZX0pfX0pLGhhPXl0LmVhY2gsdmE9eXQuZ3JlcCx5YT1tdC5pZSxiYT0vXihbYS16MC05XSw/KSskL2ksQ2E9L15bIFx0XHJcbl0qJC8sd2E9ZnVuY3Rpb24obixyLG8pe3ZhciBpPXIua2VlcF92YWx1ZXMsZT17c2V0OmZ1bmN0aW9uKGUsdCxuKXtyLnVybF9jb252ZXJ0ZXImJih0PXIudXJsX2NvbnZlcnRlci5jYWxsKHIudXJsX2NvbnZlcnRlcl9zY29wZXx8bygpLHQsbixlWzBdKSksZS5hdHRyKCJkYXRhLW1jZS0iK24sdCkuYXR0cihuLHQpfSxnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hdHRyKCJkYXRhLW1jZS0iK3QpfHxlLmF0dHIodCl9fSx0PXtzdHlsZTp7c2V0OmZ1bmN0aW9uKGUsdCl7bnVsbD09PXR8fCJvYmplY3QiIT10eXBlb2YgdD8oaSYmZS5hdHRyKCJkYXRhLW1jZS1zdHlsZSIsdCksbnVsbCE9PXQmJiJzdHJpbmciPT10eXBlb2YgdD8oZS5yZW1vdmVBdHRyKCJzdHlsZSIpLGUuY3NzKG4ucGFyc2UodCkpKTplLmF0dHIoInN0eWxlIix0KSk6ZS5jc3ModCl9LGdldDpmdW5jdGlvbihlKXt2YXIgdD1lLmF0dHIoImRhdGEtbWNlLXN0eWxlIil8fGUuYXR0cigic3R5bGUiKTtyZXR1cm4gdD1uLnNlcmlhbGl6ZShuLnBhcnNlKHQpLGVbMF0ubm9kZU5hbWUpfX19O3JldHVybiBpJiYodC5ocmVmPXQuc3JjPWUpLHR9LHhhPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5hdHRyKCJzdHlsZSIpLHI9ZS5zZXJpYWxpemUoZS5wYXJzZShuKSx0WzBdLm5vZGVOYW1lKTtyPXJ8fG51bGwsdC5hdHRyKCJkYXRhLW1jZS1zdHlsZSIscil9LFNhPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPTA7aWYoZSlmb3Iobj1lLm5vZGVUeXBlLGU9ZS5wcmV2aW91c1NpYmxpbmc7ZTtlPWUucHJldmlvdXNTaWJsaW5nKXI9ZS5ub2RlVHlwZSwoIXR8fDMhPT1yfHxyIT09biYmZS5ub2RlVmFsdWUubGVuZ3RoKSYmKG8rKyxuPXIpO3JldHVybiBvfTtmdW5jdGlvbiBOYShhLHUpe3ZhciBzPXRoaXM7dm9pZCAwPT09dSYmKHU9e30pO3ZhciByPXt9LGM9Vi53aW5kb3csbz17fSx0PTAsZT1nYS5mb3JFbGVtZW50KEN0LmZyb21Eb20oYSkse2NvbnRlbnRDc3NDb3JzOnUuY29udGVudENzc0NvcnMscmVmZXJyZXJQb2xpY3k6dS5yZWZlcnJlclBvbGljeX0pLGw9W10sZj11LnNjaGVtYT91LnNjaGVtYTpScih7fSksaT1Ccih7dXJsX2NvbnZlcnRlcjp1LnVybF9jb252ZXJ0ZXIsdXJsX2NvbnZlcnRlcl9zY29wZTp1LnVybF9jb252ZXJ0ZXJfc2NvcGV9LHUuc2NoZW1hKSxkPXUub3duRXZlbnRzP25ldyBIcjpIci5FdmVudCxuPWYuZ2V0QmxvY2tFbGVtZW50cygpLG09Umkub3ZlcnJpZGVEZWZhdWx0cyhmdW5jdGlvbigpe3JldHVybntjb250ZXh0OmEsZWxlbWVudDpqLmdldFJvb3QoKX19KSxwPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZhJiZxKGUpP2EuZ2V0RWxlbWVudEJ5SWQoZSk6ZX0sZz1mdW5jdGlvbihlKXtyZXR1cm4gbSgic3RyaW5nIj09dHlwZW9mIGU/cChlKTplKX0saD1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPWcoZSk7cmV0dXJuIGkubGVuZ3RoJiYobz0ocj1IW3RdKSYmci5nZXQ/ci5nZXQoaSx0KTppLmF0dHIodCkpLHZvaWQgMD09PW8mJihvPW58fCIiKSxvfSx2PWZ1bmN0aW9uKGUpe3ZhciB0PXAoZSk7cmV0dXJuIHQ/dC5hdHRyaWJ1dGVzOltdfSx5PWZ1bmN0aW9uKGUsdCxuKXsiIj09PW4mJihuPW51bGwpO3ZhciByPWcoZSksbz1yLmF0dHIodCk7aWYoci5sZW5ndGgpe3ZhciBpPUhbdF07aSYmaS5zZXQ/aS5zZXQocixuLHQpOnIuYXR0cih0LG4pLG8hPT1uJiZ1Lm9uU2V0QXR0cmliJiZ1Lm9uU2V0QXR0cmliKHthdHRyRWxtOnIsYXR0ck5hbWU6dCxhdHRyVmFsdWU6bn0pfX0sYj1mdW5jdGlvbigpe3JldHVybiB1LnJvb3RfZWxlbWVudHx8YS5ib2R5fSxDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHFuKGEuYm9keSxwKGUpLHQpfSx3PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1nKGUpO3JldHVybiBuP3IuY3NzKHQpOigiZmxvYXQiPT09KHQ9dC5yZXBsYWNlKC8tKFxEKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0pKSYmKHQ9bXQuYnJvd3Nlci5pc0lFKCk/InN0eWxlRmxvYXQiOiJjc3NGbG9hdCIpLHJbMF0mJnJbMF0uc3R5bGU/clswXS5zdHlsZVt0XTp1bmRlZmluZWQpfSx4PWZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIGU9cChlKSx0PXcoZSwid2lkdGgiKSxuPXcoZSwiaGVpZ2h0IiksLTE9PT10LmluZGV4T2YoInB4IikmJih0PTApLC0xPT09bi5pbmRleE9mKCJweCIpJiYobj0wKSx7dzpwYXJzZUludCh0LDEwKXx8ZS5vZmZzZXRXaWR0aHx8ZS5jbGllbnRXaWR0aCxoOnBhcnNlSW50KG4sMTApfHxlLm9mZnNldEhlaWdodHx8ZS5jbGllbnRIZWlnaHR9fSxTPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoIWUpcmV0dXJuITE7aWYoIUFycmF5LmlzQXJyYXkoZSkpe2lmKCIqIj09PXQpcmV0dXJuIDE9PT1lLm5vZGVUeXBlO2lmKGJhLnRlc3QodCkpe3ZhciByPXQudG9Mb3dlckNhc2UoKS5zcGxpdCgvLC8pLG89ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2ZvcihuPXIubGVuZ3RoLTE7MDw9bjtuLS0paWYocltuXT09PW8pcmV0dXJuITA7cmV0dXJuITF9aWYoZS5ub2RlVHlwZSYmMSE9PWUubm9kZVR5cGUpcmV0dXJuITF9dmFyIGk9QXJyYXkuaXNBcnJheShlKT9lOltlXTtyZXR1cm4gMDxWbyh0LGlbMF0ub3duZXJEb2N1bWVudHx8aVswXSxudWxsLGkpLmxlbmd0aH0sTj1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpPVtdLGE9cChlKTtmb3Iocj1yPT09dW5kZWZpbmVkLG49bnx8KCJCT0RZIiE9PWIoKS5ub2RlTmFtZT9iKCkucGFyZW50Tm9kZTpudWxsKSx5dC5pcyh0LCJzdHJpbmciKSYmKHQ9IioiPT09KG89dCk/ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfTpmdW5jdGlvbihlKXtyZXR1cm4gUyhlLG8pfSk7YSYmYSE9PW4mJmEubm9kZVR5cGUmJjkhPT1hLm5vZGVUeXBlOyl7aWYoIXR8fCJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ0KGEpKXtpZighcilyZXR1cm5bYV07aS5wdXNoKGEpfWE9YS5wYXJlbnROb2RlfXJldHVybiByP2k6bnVsbH0sRT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dDtpZihlKWZvcigic3RyaW5nIj09dHlwZW9mIHQmJihyPWZ1bmN0aW9uKGUpe3JldHVybiBTKGUsdCl9KSxlPWVbbl07ZTtlPWVbbl0paWYoImZ1bmN0aW9uIj09dHlwZW9mIHImJnIoZSkpcmV0dXJuIGU7cmV0dXJuIG51bGx9LGs9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvLHQ9InN0cmluZyI9PXR5cGVvZiBlP3AoZSk6ZTtpZighdClyZXR1cm4hMTtpZih5dC5pc0FycmF5KHQpJiYodC5sZW5ndGh8fDA9PT10Lmxlbmd0aCkpcmV0dXJuIG89W10saGEodCxmdW5jdGlvbihlLHQpe2UmJigic3RyaW5nIj09dHlwZW9mIGUmJihlPXAoZSkpLG8ucHVzaChuLmNhbGwocixlLHQpKSl9KSxvO3ZhciBpPXJ8fHM7cmV0dXJuIG4uY2FsbChpLHQpfSxfPWZ1bmN0aW9uKGUsdCl7ZyhlKS5lYWNoKGZ1bmN0aW9uKGUsbil7aGEodCxmdW5jdGlvbihlLHQpe3kobix0LGUpfSl9KX0sVD1mdW5jdGlvbihlLHIpe3ZhciB0PWcoZSk7eWE/dC5lYWNoKGZ1bmN0aW9uKGUsdCl7aWYoITEhPT10LmNhbkhhdmVIVE1MKXtmb3IoO3QuZmlyc3RDaGlsZDspdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpO3RyeXt0LmlubmVySFRNTD0iPGJyPiIrcix0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCl9Y2F0Y2gobil7UmkoIjxkaXY+PC9kaXY+IikuaHRtbCgiPGJyPiIrcikuY29udGVudHMoKS5zbGljZSgxKS5hcHBlbmRUbyh0KX1yZXR1cm4gcn19KTp0Lmh0bWwocil9LFI9ZnVuY3Rpb24oZSxuLHIsbyxpKXtyZXR1cm4gayhlLGZ1bmN0aW9uKGUpe3ZhciB0PSJzdHJpbmciPT10eXBlb2Ygbj9hLmNyZWF0ZUVsZW1lbnQobik6bjtyZXR1cm4gXyh0LHIpLG8mJigic3RyaW5nIiE9dHlwZW9mIG8mJm8ubm9kZVR5cGU/dC5hcHBlbmRDaGlsZChvKToic3RyaW5nIj09dHlwZW9mIG8mJlQodCxvKSksaT90OmUuYXBwZW5kQ2hpbGQodCl9KX0sQT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFIoYS5jcmVhdGVFbGVtZW50KGUpLGUsdCxuLCEwKX0sRD15ci5kZWNvZGUsTz15ci5lbmNvZGVBbGxSYXcsQj1mdW5jdGlvbihlLHQpe3ZhciBuPWcoZSk7cmV0dXJuIHQ/bi5lYWNoKGZ1bmN0aW9uKCl7Zm9yKHZhciBlO2U9dGhpcy5maXJzdENoaWxkOykzPT09ZS5ub2RlVHlwZSYmMD09PWUuZGF0YS5sZW5ndGg/dGhpcy5yZW1vdmVDaGlsZChlKTp0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KS5yZW1vdmUoKTpuLnJlbW92ZSgpLDE8bi5sZW5ndGg/bi50b0FycmF5KCk6blswXX0sUD1mdW5jdGlvbihlLHQsbil7ZyhlKS50b2dnbGVDbGFzcyh0LG4pLmVhY2goZnVuY3Rpb24oKXsiIj09PXRoaXMuY2xhc3NOYW1lJiZSaSh0aGlzKS5hdHRyKCJjbGFzcyIsbnVsbCl9KX0sTD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGsoZSxmdW5jdGlvbihlKXtyZXR1cm4geXQuaXMoZSwiYXJyYXkiKSYmKHQ9dC5jbG9uZU5vZGUoITApKSxuJiZoYSh2YShlLmNoaWxkTm9kZXMpLGZ1bmN0aW9uKGUpe3QuYXBwZW5kQ2hpbGQoZSl9KSxlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHQsZSl9KX0sST1mdW5jdGlvbihlKXtpZih2bihlKSl7dmFyIHQ9ImEiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYhaChlLCJocmVmIikmJmgoZSwiaWQiKTtpZihoKGUsIm5hbWUiKXx8aChlLCJkYXRhLW1jZS1ib29rbWFyayIpfHx0KXJldHVybiEwfXJldHVybiExfSxNPWZ1bmN0aW9uKCl7cmV0dXJuIGEuY3JlYXRlUmFuZ2UoKX0sRj1mdW5jdGlvbihlLHQsbixyKXtpZih5dC5pc0FycmF5KGUpKXtmb3IodmFyIG89ZS5sZW5ndGgsaT1bXTtvLS07KWlbb109RihlW29dLHQsbixyKTtyZXR1cm4gaX1yZXR1cm4hdS5jb2xsZWN0fHxlIT09YSYmZSE9PWN8fGwucHVzaChbZSx0LG4scl0pLGQuYmluZChlLHQsbixyfHxqKX0sVT1mdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoeXQuaXNBcnJheShlKSl7cj1lLmxlbmd0aDtmb3IodmFyIG89W107ci0tOylvW3JdPVUoZVtyXSx0LG4pO3JldHVybiBvfWlmKDA8bC5sZW5ndGgmJihlPT09YXx8ZT09PWMpKWZvcihyPWwubGVuZ3RoO3ItLTspe3ZhciBpPWxbcl07ZSE9PWlbMF18fHQmJnQhPT1pWzFdfHxuJiZuIT09aVsyXXx8ZC51bmJpbmQoaVswXSxpWzFdLGlbMl0pfXJldHVybiBkLnVuYmluZChlLHQsbil9LHo9ZnVuY3Rpb24oZSl7aWYoZSYmdm4oZSkpe3ZhciB0PWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1jb250ZW50ZWRpdGFibGUiKTtyZXR1cm4gdCYmImluaGVyaXQiIT09dD90OiJpbmhlcml0IiE9PWUuY29udGVudEVkaXRhYmxlP2UuY29udGVudEVkaXRhYmxlOm51bGx9cmV0dXJuIG51bGx9LGo9e2RvYzphLHNldHRpbmdzOnUsd2luOmMsZmlsZXM6byxzdGRNb2RlOiEwLGJveE1vZGVsOiEwLHN0eWxlU2hlZXRMb2FkZXI6ZSxib3VuZEV2ZW50czpsLHN0eWxlczppLHNjaGVtYTpmLGV2ZW50czpkLGlzQmxvY2s6ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiEhbltlXTtpZihlKXt2YXIgdD1lLm5vZGVUeXBlO2lmKHQpcmV0dXJuISgxIT09dHx8IW5bZS5ub2RlTmFtZV0pfXJldHVybiExfSwkOm0sJCQ6Zyxyb290Om51bGwsY2xvbmU6ZnVuY3Rpb24odCxlKXtpZigheWF8fDEhPT10Lm5vZGVUeXBlfHxlKXJldHVybiB0LmNsb25lTm9kZShlKTt2YXIgbj1hLmNyZWF0ZUVsZW1lbnQodC5ub2RlTmFtZSk7cmV0dXJuIGhhKHYodCksZnVuY3Rpb24oZSl7eShuLGUubm9kZU5hbWUsaCh0LGUubm9kZU5hbWUpKX0pLG59LGdldFJvb3Q6YixnZXRWaWV3UG9ydDpmdW5jdGlvbihlKXt2YXIgdD1wbihlKTtyZXR1cm57eDp0LngseTp0Lnksdzp0LndpZHRoLGg6dC5oZWlnaHR9fSxnZXRSZWN0OmZ1bmN0aW9uKGUpe2U9cChlKTt2YXIgdD1DKGUpLG49eChlKTtyZXR1cm57eDp0LngseTp0LnksdzpuLncsaDpuLmh9fSxnZXRTaXplOngsZ2V0UGFyZW50OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1OKGUsdCxuLCExKTtyZXR1cm4gciYmMDxyLmxlbmd0aD9yWzBdOm51bGx9LGdldFBhcmVudHM6TixnZXQ6cCxnZXROZXh0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEUoZSx0LCJuZXh0U2libGluZyIpfSxnZXRQcmV2OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEUoZSx0LCJwcmV2aW91c1NpYmxpbmciKX0sc2VsZWN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFZvKGUscCh0KXx8dS5yb290X2VsZW1lbnR8fGEsW10pfSxpczpTLGFkZDpSLGNyZWF0ZTpBLGNyZWF0ZUhUTUw6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89IiI7Zm9yKHIgaW4gbys9IjwiK2UsdCl0Lmhhc093blByb3BlcnR5KHIpJiZudWxsIT09dFtyXSYmInVuZGVmaW5lZCIhPXR5cGVvZiB0W3JdJiYobys9IiAiK3IrJz0iJytPKHRbcl0pKyciJyk7cmV0dXJuIHZvaWQgMCE9PW4/bysiPiIrbisiPC8iK2UrIj4iOm8rIiAvPiJ9LGNyZWF0ZUZyYWdtZW50OmZ1bmN0aW9uKGUpe3ZhciB0LG49YS5jcmVhdGVFbGVtZW50KCJkaXYiKSxyPWEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2ZvcihyLmFwcGVuZENoaWxkKG4pLGUmJihuLmlubmVySFRNTD1lKTt0PW4uZmlyc3RDaGlsZDspci5hcHBlbmRDaGlsZCh0KTtyZXR1cm4gci5yZW1vdmVDaGlsZChuKSxyfSxyZW1vdmU6QixzZXRTdHlsZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9cSh0KT9nKGUpLmNzcyh0LG4pOmcoZSkuY3NzKHQpO3UudXBkYXRlX3N0eWxlcyYmeGEoaSxyKX0sZ2V0U3R5bGU6dyxzZXRTdHlsZXM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1nKGUpLmNzcyh0KTt1LnVwZGF0ZV9zdHlsZXMmJnhhKGksbil9LHJlbW92ZUFsbEF0dHJpYnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGsoZSxmdW5jdGlvbihlKXt2YXIgdCxuPWUuYXR0cmlidXRlcztmb3IodD1uLmxlbmd0aC0xOzA8PXQ7dC0tKWUucmVtb3ZlQXR0cmlidXRlTm9kZShuLml0ZW0odCkpfSl9LHNldEF0dHJpYjp5LHNldEF0dHJpYnM6XyxnZXRBdHRyaWI6aCxnZXRQb3M6QyxwYXJzZVN0eWxlOmZ1bmN0aW9uKGUpe3JldHVybiBpLnBhcnNlKGUpfSxzZXJpYWxpemVTdHlsZTpmdW5jdGlvbihlLHQpe3JldHVybiBpLnNlcmlhbGl6ZShlLHQpfSxhZGRTdHlsZTpmdW5jdGlvbihlKXt2YXIgdCxuO2lmKGohPT1OYS5ET00mJmE9PT1WLmRvY3VtZW50KXtpZihyW2VdKXJldHVybjtyW2VdPSEwfShuPWEuZ2V0RWxlbWVudEJ5SWQoIm1jZURlZmF1bHRTdHlsZXMiKSl8fCgobj1hLmNyZWF0ZUVsZW1lbnQoInN0eWxlIikpLmlkPSJtY2VEZWZhdWx0U3R5bGVzIixuLnR5cGU9InRleHQvY3NzIiwodD1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0pLmZpcnN0Q2hpbGQ/dC5pbnNlcnRCZWZvcmUobix0LmZpcnN0Q2hpbGQpOnQuYXBwZW5kQ2hpbGQobikpLG4uc3R5bGVTaGVldD9uLnN0eWxlU2hlZXQuY3NzVGV4dCs9ZTpuLmFwcGVuZENoaWxkKGEuY3JlYXRlVGV4dE5vZGUoZSkpfSxsb2FkQ1NTOmZ1bmN0aW9uKGUpe2lmKGo9PT1OYS5ET018fGEhPT1WLmRvY3VtZW50KXtlPWV8fCIiO3ZhciBuPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXTtoYShlLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7aWYoZT15dC5fYWRkQ2FjaGVTdWZmaXgoZSksIW9bZV0pe29bZV09ITA7dmFyIHQ9QSgibGluayIseGUoeGUoe3JlbDoic3R5bGVzaGVldCIsdHlwZToidGV4dC9jc3MiLGhyZWY6ZX0sdS5jb250ZW50Q3NzQ29ycz97Y3Jvc3NPcmlnaW46ImFub255bW91cyJ9Ont9KSx1LnJlZmVycmVyUG9saWN5P3tyZWZlcnJlclBvbGljeTp1LnJlZmVycmVyUG9saWN5fTp7fSkpO24uYXBwZW5kQ2hpbGQodCl9fSl9ZWxzZSBOYS5ET00ubG9hZENTUyhlKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oZSx0KXtnKGUpLmFkZENsYXNzKHQpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlLHQpe1AoZSx0LCExKX0saGFzQ2xhc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZyhlKS5oYXNDbGFzcyh0KX0sdG9nZ2xlQ2xhc3M6UCxzaG93OmZ1bmN0aW9uKGUpe2coZSkuc2hvdygpfSxoaWRlOmZ1bmN0aW9uKGUpe2coZSkuaGlkZSgpfSxpc0hpZGRlbjpmdW5jdGlvbihlKXtyZXR1cm4ibm9uZSI9PT1nKGUpLmNzcygiZGlzcGxheSIpfSx1bmlxdWVJZDpmdW5jdGlvbihlKXtyZXR1cm4oZXx8Im1jZV8iKSt0Kyt9LHNldEhUTUw6VCxnZXRPdXRlckhUTUw6ZnVuY3Rpb24oZSl7dmFyIHQ9InN0cmluZyI9PXR5cGVvZiBlP3AoZSk6ZTtyZXR1cm4gdm4odCk/dC5vdXRlckhUTUw6UmkoIjxkaXY+PC9kaXY+IikuYXBwZW5kKFJpKHQpLmNsb25lKCkpLmh0bWwoKX0sc2V0T3V0ZXJIVE1MOmZ1bmN0aW9uKGUsdCl7ZyhlKS5lYWNoKGZ1bmN0aW9uKCl7dHJ5e2lmKCJvdXRlckhUTUwiaW4gdGhpcylyZXR1cm4gdm9pZCh0aGlzLm91dGVySFRNTD10KX1jYXRjaChlKXt9QihSaSh0aGlzKS5odG1sKHQpLCEwKX0pfSxkZWNvZGU6RCxlbmNvZGU6TyxpbnNlcnRBZnRlcjpmdW5jdGlvbihlLHQpe3ZhciByPXAodCk7cmV0dXJuIGsoZSxmdW5jdGlvbihlKXt2YXIgdD1yLnBhcmVudE5vZGUsbj1yLm5leHRTaWJsaW5nO3JldHVybiBuP3QuaW5zZXJ0QmVmb3JlKGUsbik6dC5hcHBlbmRDaGlsZChlKSxlfSl9LHJlcGxhY2U6TCxyZW5hbWU6ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gdC5ub2RlTmFtZSE9PWUudG9VcHBlckNhc2UoKSYmKG49QShlKSxoYSh2KHQpLGZ1bmN0aW9uKGUpe3kobixlLm5vZGVOYW1lLGgodCxlLm5vZGVOYW1lKSl9KSxMKG4sdCwhMCkpLG58fHR9LGZpbmRDb21tb25BbmNlc3RvcjpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPWU7cjspe2ZvcihuPXQ7biYmciE9PW47KW49bi5wYXJlbnROb2RlO2lmKHI9PT1uKWJyZWFrO3I9ci5wYXJlbnROb2RlfXJldHVybiFyJiZlLm93bmVyRG9jdW1lbnQ/ZS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDpyfSx0b0hleDpmdW5jdGlvbihlKXtyZXR1cm4gaS50b0hleCh5dC50cmltKGUpKX0scnVuOmssZ2V0QXR0cmliczp2LGlzRW1wdHk6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89MDtpZihJKGUpKXJldHVybiExO2lmKGU9ZS5maXJzdENoaWxkKXt2YXIgaT1uZXcgQWkoZSxlLnBhcmVudE5vZGUpLGE9Zj9mLmdldFdoaXRlU3BhY2VFbGVtZW50cygpOnt9O3Q9dHx8KGY/Zi5nZXROb25FbXB0eUVsZW1lbnRzKCk6bnVsbCk7ZG97aWYobj1lLm5vZGVUeXBlLHZuKGUpKXt2YXIgdT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKTtpZih1KXtlPWkubmV4dCgiYWxsIj09PXUpO2NvbnRpbnVlfWlmKHI9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHQmJnRbcl0pe2lmKCJiciIhPT1yKXJldHVybiExO28rKyxlPWkubmV4dCgpO2NvbnRpbnVlfWlmKEkoZSkpcmV0dXJuITF9aWYoOD09PW4pcmV0dXJuITE7aWYoMz09PW4mJiFDYS50ZXN0KGUubm9kZVZhbHVlKSlyZXR1cm4hMTtpZigzPT09biYmZS5wYXJlbnROb2RlJiZhW2UucGFyZW50Tm9kZS5ub2RlTmFtZV0mJkNhLnRlc3QoZS5ub2RlVmFsdWUpKXJldHVybiExO2U9aS5uZXh0KCl9d2hpbGUoZSl9cmV0dXJuIG88PTF9LGNyZWF0ZVJuZzpNLG5vZGVJbmRleDpTYSxzcGxpdDpmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE9TSgpO2lmKGUmJnQpcmV0dXJuIGEuc2V0U3RhcnQoZS5wYXJlbnROb2RlLFNhKGUpKSxhLnNldEVuZCh0LnBhcmVudE5vZGUsU2EodCkpLHI9YS5leHRyYWN0Q29udGVudHMoKSwoYT1NKCkpLnNldFN0YXJ0KHQucGFyZW50Tm9kZSxTYSh0KSsxKSxhLnNldEVuZChlLnBhcmVudE5vZGUsU2EoZSkrMSksbz1hLmV4dHJhY3RDb250ZW50cygpLChpPWUucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKG9yKGosciksZSksbj9pLmluc2VydEJlZm9yZShuLGUpOmkuaW5zZXJ0QmVmb3JlKHQsZSksaS5pbnNlcnRCZWZvcmUob3IoaixvKSxlKSxCKGUpLG58fHR9LGJpbmQ6Rix1bmJpbmQ6VSxmaXJlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZC5maXJlKGUsdCxuKX0sZ2V0Q29udGVudEVkaXRhYmxlOnosZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1iKCksbj1udWxsO2UmJmUhPT10JiZudWxsPT09KG49eihlKSk7ZT1lLnBhcmVudE5vZGUpO3JldHVybiBufSxkZXN0cm95OmZ1bmN0aW9uKCl7aWYoMDxsLmxlbmd0aClmb3IodmFyIGU9bC5sZW5ndGg7ZS0tOyl7dmFyIHQ9bFtlXTtkLnVuYmluZCh0WzBdLHRbMV0sdFsyXSl9Vm8uc2V0RG9jdW1lbnQmJlZvLnNldERvY3VtZW50KCl9LGlzQ2hpbGRPZjpmdW5jdGlvbihlLHQpe2Zvcig7ZTspe2lmKHQ9PT1lKXJldHVybiEwO2U9ZS5wYXJlbnROb2RlfXJldHVybiExfSxkdW1wUm5nOmZ1bmN0aW9uKGUpe3JldHVybiJzdGFydENvbnRhaW5lcjogIitlLnN0YXJ0Q29udGFpbmVyLm5vZGVOYW1lKyIsIHN0YXJ0T2Zmc2V0OiAiK2Uuc3RhcnRPZmZzZXQrIiwgZW5kQ29udGFpbmVyOiAiK2UuZW5kQ29udGFpbmVyLm5vZGVOYW1lKyIsIGVuZE9mZnNldDogIitlLmVuZE9mZnNldH19LEg9d2EoaSx1LGZ1bmN0aW9uKCl7cmV0dXJuIGp9KTtyZXR1cm4gan0ocGE9TmE9TmF8fHt9KS5ET009cGEoVi5kb2N1bWVudCkscGEubm9kZUluZGV4PVNhO3ZhciBFYT1OYSxrYT1FYS5ET00sX2E9eXQuZWFjaCxUYT15dC5ncmVwLFJhPShBYS5wcm90b3R5cGUuX3NldFJlZmVycmVyUG9saWN5PWZ1bmN0aW9uKGUpe3RoaXMuc2V0dGluZ3MucmVmZXJyZXJQb2xpY3k9ZX0sQWEucHJvdG90eXBlLmxvYWRTY3JpcHQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89a2EsaT1vLnVuaXF1ZUlkKCk7KHI9Vi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSkuaWQ9aSxyLnR5cGU9InRleHQvamF2YXNjcmlwdCIsci5zcmM9eXQuX2FkZENhY2hlU3VmZml4KGUpLHRoaXMuc2V0dGluZ3MucmVmZXJyZXJQb2xpY3kmJm8uc2V0QXR0cmliKHIsInJlZmVycmVycG9saWN5Iix0aGlzLnNldHRpbmdzLnJlZmVycmVyUG9saWN5KSxyLm9ubG9hZD1mdW5jdGlvbigpe28ucmVtb3ZlKGkpLHImJihyLm9ucmVhZHlzdGF0ZWNoYW5nZT1yLm9ubG9hZD1yPW51bGwpLHQoKX0sci5vbmVycm9yPWZ1bmN0aW9uKCl7QShuKT9uKCk6InVuZGVmaW5lZCIhPXR5cGVvZiBWLmNvbnNvbGUmJlYuY29uc29sZS5sb2cmJlYuY29uc29sZS5sb2coIkZhaWxlZCB0byBsb2FkIHNjcmlwdDogIitlKX0sKFYuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXXx8Vi5kb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChyKX0sQWEucHJvdG90eXBlLmlzRG9uZT1mdW5jdGlvbihlKXtyZXR1cm4gMj09PXRoaXMuc3RhdGVzW2VdfSxBYS5wcm90b3R5cGUubWFya0RvbmU9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZXNbZV09Mn0sQWEucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLHQsbixyKXt0aGlzLnN0YXRlc1tlXT09PXVuZGVmaW5lZCYmKHRoaXMucXVldWUucHVzaChlKSx0aGlzLnN0YXRlc1tlXT0wKSx0JiYodGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV18fCh0aGlzLnNjcmlwdExvYWRlZENhbGxiYWNrc1tlXT1bXSksdGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV0ucHVzaCh7c3VjY2Vzczp0LGZhaWx1cmU6cixzY29wZTpufHx0aGlzfSkpfSxBYS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5hZGQoZSx0LG4scil9LEFhLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuc3RhdGVzW2VdLGRlbGV0ZSB0aGlzLnNjcmlwdExvYWRlZENhbGxiYWNrc1tlXX0sQWEucHJvdG90eXBlLmxvYWRRdWV1ZT1mdW5jdGlvbihlLHQsbil7dGhpcy5sb2FkU2NyaXB0cyh0aGlzLnF1ZXVlLGUsdCxuKX0sQWEucHJvdG90eXBlLmxvYWRTY3JpcHRzPWZ1bmN0aW9uKG4sZSx0LHIpe3ZhciBvPXRoaXMsaT1bXSxhPWZ1bmN0aW9uKHQsZSl7X2Eoby5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV0sZnVuY3Rpb24oZSl7QShlW3RdKSYmZVt0XS5jYWxsKGUuc2NvcGUpfSksby5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV09dW5kZWZpbmVkfTtvLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzLnB1c2goe3N1Y2Nlc3M6ZSxmYWlsdXJlOnIsc2NvcGU6dHx8dGhpc30pO3ZhciB1PWZ1bmN0aW9uKCl7dmFyIGU9VGEobik7aWYobi5sZW5ndGg9MCxfYShlLGZ1bmN0aW9uKGUpezIhPT1vLnN0YXRlc1tlXT8zIT09by5zdGF0ZXNbZV0/MSE9PW8uc3RhdGVzW2VdJiYoby5zdGF0ZXNbZV09MSxvLmxvYWRpbmcrKyxvLmxvYWRTY3JpcHQoZSxmdW5jdGlvbigpe28uc3RhdGVzW2VdPTIsby5sb2FkaW5nLS0sYSgic3VjY2VzcyIsZSksdSgpfSxmdW5jdGlvbigpe28uc3RhdGVzW2VdPTMsby5sb2FkaW5nLS0saS5wdXNoKGUpLGEoImZhaWx1cmUiLGUpLHUoKX0pKTphKCJmYWlsdXJlIixlKTphKCJzdWNjZXNzIixlKX0pLCFvLmxvYWRpbmcpe3ZhciB0PW8ucXVldWVMb2FkZWRDYWxsYmFja3Muc2xpY2UoMCk7by5xdWV1ZUxvYWRlZENhbGxiYWNrcy5sZW5ndGg9MCxfYSh0LGZ1bmN0aW9uKGUpezA9PT1pLmxlbmd0aD9BKGUuc3VjY2VzcykmJmUuc3VjY2Vzcy5jYWxsKGUuc2NvcGUpOkEoZS5mYWlsdXJlKSYmZS5mYWlsdXJlLmNhbGwoZS5zY29wZSxpKX0pfX07dSgpfSxBYS5TY3JpcHRMb2FkZXI9bmV3IEFhLEFhKTtmdW5jdGlvbiBBYShlKXt2b2lkIDA9PT1lJiYoZT17fSksdGhpcy5zdGF0ZXM9e30sdGhpcy5xdWV1ZT1bXSx0aGlzLnNjcmlwdExvYWRlZENhbGxiYWNrcz17fSx0aGlzLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzPVtdLHRoaXMubG9hZGluZz0wLHRoaXMuc2V0dGluZ3M9ZX12YXIgRGEsT2E9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHR9LHNldDpmdW5jdGlvbihlKXt0PWV9fX0sQmE9e30sUGE9T2EoImVuIiksTGE9ZnVuY3Rpb24oKXtyZXR1cm4gZGUoQmEsUGEuZ2V0KCkpfSxJYT17Z2V0RGF0YTpmdW5jdGlvbigpe3JldHVybiBpZShCYSxmdW5jdGlvbihlKXtyZXR1cm4geGUoe30sZSl9KX0sc2V0Q29kZTpmdW5jdGlvbihlKXtlJiZQYS5zZXQoZSl9LGdldENvZGU6ZnVuY3Rpb24oKXtyZXR1cm4gUGEuZ2V0KCl9LGFkZDpmdW5jdGlvbihlLHQpe3ZhciBuPUJhW2VdO258fChCYVtlXT1uPXt9KSxvZSh0LGZ1bmN0aW9uKGUsdCl7blt0LnRvTG93ZXJDYXNlKCldPWV9KX0sdHJhbnNsYXRlOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1MYSgpLmdldE9yKHt9KSxvPWZ1bmN0aW9uKGUpe3JldHVybiBBKGUpP09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKTppKGUpPyIiOiIiK2V9LGk9ZnVuY3Rpb24oZSl7cmV0dXJuIiI9PT1lfHxudWxsPT09ZXx8ZT09PXVuZGVmaW5lZH0sYT1mdW5jdGlvbihlKXt2YXIgdD1vKGUpO3JldHVybiBkZShyLHQudG9Mb3dlckNhc2UoKSkubWFwKG8pLmdldE9yKHQpfSx1PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL3tjb250ZXh0Olx3K30kLywiIil9O2lmKGkoZSkpcmV0dXJuIiI7aWYoRSh0PWUpJiZtZSh0LCJyYXciKSlyZXR1cm4gbyhlLnJhdyk7aWYoayhuPWUpJiYxPG4ubGVuZ3RoKXt2YXIgcz1lLnNsaWNlKDEpO3JldHVybiB1KGEoZVswXSkucmVwbGFjZSgvXHsoWzAtOV0rKVx9L2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gbWUocyx0KT9vKHNbdF0pOmV9KSl9cmV0dXJuIHUoYShlKSl9LGlzUnRsOmZ1bmN0aW9uKCl7cmV0dXJuIExhKCkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gZGUoZSwiX2RpciIpfSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiJydGwiPT09ZX0pfSxoYXNDb2RlOmZ1bmN0aW9uKGUpe3JldHVybiBtZShCYSxlKX19O2Z1bmN0aW9uIE1hKCl7dmFyIHI9dGhpcyxvPVtdLHM9e30sYz17fSxpPVtdLGw9ZnVuY3Rpb24odCxuKXt2YXIgZT1IKGksZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZT09PXQmJmUuc3RhdGU9PT1ufSk7eihlLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNhbGxiYWNrKCl9KX0sZj1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gY1tlXSYmKHQ9Y1tlXS5kZXBlbmRlbmNpZXMpLHR8fFtdfSxkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiB0P3Q6InN0cmluZyI9PXR5cGVvZiBlP3twcmVmaXg6IiIscmVzb3VyY2U6dCxzdWZmaXg6IiJ9OntwcmVmaXg6ZS5wcmVmaXgscmVzb3VyY2U6dCxzdWZmaXg6ZS5zdWZmaXh9fSxtPWZ1bmN0aW9uKG8saSxhLHUsZSl7aWYoIXNbb10pe3ZhciB0PSJzdHJpbmciPT10eXBlb2YgaT9pOmkucHJlZml4K2kucmVzb3VyY2UraS5zdWZmaXg7MCE9PXQuaW5kZXhPZigiLyIpJiYtMT09PXQuaW5kZXhPZigiOi8vIikmJih0PU1hLmJhc2VVUkwrIi8iK3QpLHNbb109dC5zdWJzdHJpbmcoMCx0Lmxhc3RJbmRleE9mKCIvIikpO3ZhciBuPWZ1bmN0aW9uKCl7dmFyIG4sZSx0LHI7bChvLCJsb2FkZWQiKSxuPWksZT1hLHQ9dSxyPWYobykseihyLGZ1bmN0aW9uKGUpe3ZhciB0PWQobixlKTttKHQucmVzb3VyY2UsdCx1bmRlZmluZWQsdW5kZWZpbmVkKX0pLGUmJih0P2UuY2FsbCh0KTplLmNhbGwoUmEpKX07Y1tvXT9uKCk6UmEuU2NyaXB0TG9hZGVyLmFkZCh0LG4sdSxlKX19LGU9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPSJhZGRlZCIpLG1lKGMsZSkmJiJhZGRlZCI9PT1ufHxtZShzLGUpJiYibG9hZGVkIj09PW4/dCgpOmkucHVzaCh7bmFtZTplLHN0YXRlOm4sY2FsbGJhY2s6dH0pfTtyZXR1cm57aXRlbXM6byx1cmxzOnMsbG9va3VwOmMsX2xpc3RlbmVyczppLGdldDpmdW5jdGlvbihlKXtyZXR1cm4gY1tlXT9jW2VdLmluc3RhbmNlOnVuZGVmaW5lZH0sZGVwZW5kZW5jaWVzOmYscmVxdWlyZUxhbmdQYWNrOmZ1bmN0aW9uKHQsbil7ITEhPT1NYS5sYW5ndWFnZUxvYWQmJmUodCxmdW5jdGlvbigpe3ZhciBlPUlhLmdldENvZGUoKTshZXx8biYmLTE9PT0oIiwiKyhufHwiIikrIiwiKS5pbmRleE9mKCIsIitlKyIsIil8fFJhLlNjcmlwdExvYWRlci5hZGQoc1t0XSsiL2xhbmdzLyIrZSsiLmpzIil9LCJsb2FkZWQiKX0sYWRkOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10O3JldHVybiBvLnB1c2gociksY1tlXT17aW5zdGFuY2U6cixkZXBlbmRlbmNpZXM6bn0sbChlLCJhZGRlZCIpLHJ9LHJlbW92ZTpmdW5jdGlvbihlKXtkZWxldGUgc1tlXSxkZWxldGUgY1tlXX0sY3JlYXRlVXJsOmQsYWRkQ29tcG9uZW50czpmdW5jdGlvbihlLHQpe3ZhciBuPXIudXJsc1tlXTt6KHQsZnVuY3Rpb24oZSl7UmEuU2NyaXB0TG9hZGVyLmFkZChuKyIvIitlKX0pfSxsb2FkOm0sd2FpdEZvcjplfX0oRGE9TWE9TWF8fHt9KS5QbHVnaW5NYW5hZ2VyPURhKCksRGEuVGhlbWVNYW5hZ2VyPURhKCk7dmFyIEZhPU1hLFVhPWZ1bmN0aW9uKG4scil7dmFyIG89bnVsbDtyZXR1cm57Y2FuY2VsOmZ1bmN0aW9uKCl7bnVsbCE9PW8mJihWLmNsZWFyVGltZW91dChvKSxvPW51bGwpfSx0aHJvdHRsZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtudWxsPT09byYmKG89Vi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5hcHBseShudWxsLGUpLG89bnVsbH0scikpfX19LHphPWZ1bmN0aW9uKG4scil7dmFyIG89bnVsbDtyZXR1cm57Y2FuY2VsOmZ1bmN0aW9uKCl7bnVsbCE9PW8mJihWLmNsZWFyVGltZW91dChvKSxvPW51bGwpfSx0aHJvdHRsZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtudWxsIT09byYmVi5jbGVhclRpbWVvdXQobyksbz1WLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmFwcGx5KG51bGwsZSksbz1udWxsfSxyKX19fSxqYT1mdW5jdGlvbihlLHQpe3ZhciBuPUluKGUsdCk7cmV0dXJuIG49PT11bmRlZmluZWR8fCIiPT09bj9bXTpuLnNwbGl0KCIgIil9LEhhPWZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpLmNsYXNzTGlzdCE9PXVuZGVmaW5lZH0sVmE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbz10LGk9amEobj1lLHI9ImNsYXNzIikuY29uY2F0KFtvXSksUG4obixyLGkuam9pbigiICIpKSwhMDt2YXIgbixyLG8saX0scWE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbz10LDA8KGk9SChqYShuPWUscj0iY2xhc3MiKSxmdW5jdGlvbihlKXtyZXR1cm4gZSE9PW99KSkubGVuZ3RoP1BuKG4scixpLmpvaW4oIiAiKSk6TW4obixyKSwhMTt2YXIgbixyLG8saX0sJGE9ZnVuY3Rpb24oZSx0KXtIYShlKT9lLmRvbSgpLmNsYXNzTGlzdC5hZGQodCk6VmEoZSx0KX0sV2E9ZnVuY3Rpb24oZSl7MD09PShIYShlKT9lLmRvbSgpLmNsYXNzTGlzdDpqYShlLCJjbGFzcyIpKS5sZW5ndGgmJk1uKGUsImNsYXNzIil9LEthPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEhhKGUpJiZlLmRvbSgpLmNsYXNzTGlzdC5jb250YWlucyh0KX0sWGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtyZXR1cm4geihIdChlKSxmdW5jdGlvbihlKXt0KGUpJiYobj1uLmNvbmNhdChbZV0pKSxuPW4uY29uY2F0KFhhKGUsdCkpfSksbn0sWWE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj10LG89KHI9ZSk9PT11bmRlZmluZWQ/Vi5kb2N1bWVudDpyLmRvbSgpLEF0KG8pP1tdOlUoby5xdWVyeVNlbGVjdG9yQWxsKG4pLEN0LmZyb21Eb20pO3ZhciBuLHIsb307ZnVuY3Rpb24gR2EoZSx0LG4scixvKXtyZXR1cm4gZShuLHIpP0Iuc29tZShuKTpBKG8pJiZvKG4pP0Iubm9uZSgpOnQobixyLG8pfXZhciBKYSxRYT1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPWUuZG9tKCksbz1BKG4pP246eCghMSk7ci5wYXJlbnROb2RlOyl7cj1yLnBhcmVudE5vZGU7dmFyIGk9Q3QuZnJvbURvbShyKTtpZih0KGkpKXJldHVybiBCLnNvbWUoaSk7aWYobyhpKSlicmVha31yZXR1cm4gQi5ub25lKCl9LFphPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gR2EoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdChlKX0sUWEsZSx0LG4pfSxldT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFFhKGUsZnVuY3Rpb24oZSl7cmV0dXJuIFJ0KGUsdCl9LG4pfSx0dT1mdW5jdGlvbihlLHQpe3JldHVybiBuPXQsbz0ocj1lKT09PXVuZGVmaW5lZD9WLmRvY3VtZW50OnIuZG9tKCksQXQobyk/Qi5ub25lKCk6Qi5mcm9tKG8ucXVlcnlTZWxlY3RvcihuKSkubWFwKEN0LmZyb21Eb20pO3ZhciBuLHIsb30sbnU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBHYShmdW5jdGlvbihlLHQpe3JldHVybiBSdChlLHQpfSxldSxlLHQsbil9LHJ1PXgoIm1jZS1hbm5vdGF0aW9uIiksb3U9eCgiZGF0YS1tY2UtYW5ub3RhdGlvbiIpLGl1PXgoImRhdGEtbWNlLWFubm90YXRpb24tdWlkIiksYXU9ZnVuY3Rpb24ocixlKXt2YXIgdD1yLnNlbGVjdGlvbi5nZXRSbmcoKSxuPUN0LmZyb21Eb20odC5zdGFydENvbnRhaW5lciksbz1DdC5mcm9tRG9tKHIuZ2V0Qm9keSgpKSxpPWUuZm9sZChmdW5jdGlvbigpe3JldHVybiIuIitydSgpfSxmdW5jdGlvbihlKXtyZXR1cm4iWyIrb3UoKSsnPSInK2UrJyJdJ30pLGE9VnQobix0LnN0YXJ0T2Zmc2V0KS5nZXRPcihuKSx1PW51KGEsaSxmdW5jdGlvbihlKXtyZXR1cm4gRHQoZSxvKX0pLHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj10LChyPWUuZG9tKCkpJiZyLmhhc0F0dHJpYnV0ZSYmci5oYXNBdHRyaWJ1dGUobik/Qi5zb21lKEluKGUsdCkpOkIubm9uZSgpO3ZhciBuLHJ9O3JldHVybiB1LmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSwiIitpdSgpKS5iaW5kKGZ1bmN0aW9uKG4pe3JldHVybiBzKGUsIiIrb3UoKSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PXV1KHIsbik7cmV0dXJue3VpZDpuLG5hbWU6ZSxlbGVtZW50czp0fX0pfSl9KX0sdXU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1DdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKTtyZXR1cm4gWWEobiwiWyIraXUoKSsnPSInK3QrJyJdJyl9LHN1PWZ1bmN0aW9uKGksZSl7dmFyIGE9T2Eoe30pLGM9ZnVuY3Rpb24oZSx0KXt1KGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSksZX0pfSx1PWZ1bmN0aW9uKGUsdCl7dmFyIG49YS5nZXQoKSxyPXQobi5oYXNPd25Qcm9wZXJ0eShlKT9uW2VdOntsaXN0ZW5lcnM6W10scHJldmlvdXM6T2EoQi5ub25lKCkpfSk7bltlXT1yLGEuc2V0KG4pfSx0PXphKGZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9YS5nZXQoKSxvPShlPW5lKHIpLChuPU8uY2FsbChlLDApKS5zb3J0KHQpLG4pO3oobyxmdW5jdGlvbihlKXt1KGUsZnVuY3Rpb24odSl7dmFyIHM9dS5wcmV2aW91cy5nZXQoKTtyZXR1cm4gYXUoaSxCLnNvbWUoZSkpLmZvbGQoZnVuY3Rpb24oKXt2YXIgdDtzLmlzU29tZSgpJiYoYyh0PWUsZnVuY3Rpb24oZSl7eihlLmxpc3RlbmVycyxmdW5jdGlvbihlKXtyZXR1cm4gZSghMSx0KX0pfSksdS5wcmV2aW91cy5zZXQoQi5ub25lKCkpKX0sZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89ZS51aWQsaT1lLm5hbWUsYT1lLmVsZW1lbnRzO3MuaXMobyl8fChuPW8scj1hLGModD1pLGZ1bmN0aW9uKGUpe3ooZS5saXN0ZW5lcnMsZnVuY3Rpb24oZSl7cmV0dXJuIGUoITAsdCx7dWlkOm4sbm9kZXM6VShyLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpfSl9KX0pfSksdS5wcmV2aW91cy5zZXQoQi5zb21lKG8pKSl9KSx7cHJldmlvdXM6dS5wcmV2aW91cyxsaXN0ZW5lcnM6dS5saXN0ZW5lcnN9fSl9KX0sMzApO2kub24oInJlbW92ZSIsZnVuY3Rpb24oKXt0LmNhbmNlbCgpfSksaS5vbigiTm9kZUNoYW5nZSIsZnVuY3Rpb24oKXt0LnRocm90dGxlKCl9KTtyZXR1cm57YWRkTGlzdGVuZXI6ZnVuY3Rpb24oZSx0KXt1KGUsZnVuY3Rpb24oZSl7cmV0dXJue3ByZXZpb3VzOmUucHJldmlvdXMsbGlzdGVuZXJzOmUubGlzdGVuZXJzLmNvbmNhdChbdF0pfX0pfX19LGN1PWZ1bmN0aW9uKGUsbil7ZS5vbigiaW5pdCIsZnVuY3Rpb24oKXtlLnNlcmlhbGl6ZXIuYWRkTm9kZUZpbHRlcigic3BhbiIsZnVuY3Rpb24oZSl7eihlLGZ1bmN0aW9uKHQpe3ZhciBlO2U9dCxCLmZyb20oZS5hdHRyKG91KCkpKS5iaW5kKG4ubG9va3VwKS5lYWNoKGZ1bmN0aW9uKGUpeyExPT09ZS5wZXJzaXN0ZW50JiZ0LnVud3JhcCgpfSl9KX0pfSl9LGx1PTAsZnU9ZnVuY3Rpb24oZSl7dmFyIHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIGUrIl8iK01hdGguZmxvb3IoMWU5Kk1hdGgucmFuZG9tKCkpKyArK2x1K1N0cmluZyh0KX0sZHU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89UHQoZSkuZG9tKCksaT1DdC5mcm9tRG9tKG8uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxhPShuPXQsKHI9KG98fFYuZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5pbm5lckhUTUw9bixIdChDdC5mcm9tRG9tKHIpKSk7ZW4oaSxhKSx0bihlKSxadChlLGkpfSxtdT1mdW5jdGlvbihlLHQpe3JldHVybiBDdC5mcm9tRG9tKGUuZG9tKCkuY2xvbmVOb2RlKHQpKX0scHU9ZnVuY3Rpb24oZSl7cmV0dXJuIG11KGUsITEpfSxndT1mdW5jdGlvbihlKXtyZXR1cm4gbXUoZSwhMCl9LGh1PWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT1uJiYobj1nKTt2YXIgcj1uZXcgQWkoZSx0KSxvPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdDsodD1yW2VdKCkpJiYhRW4odCkmJiFuKHQpOyk7cmV0dXJuIEIuZnJvbSh0KS5maWx0ZXIoRW4pfTtyZXR1cm57Y3VycmVudDpmdW5jdGlvbigpe3JldHVybiBCLmZyb20oci5jdXJyZW50KCkpLmZpbHRlcihFbil9LG5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gbygibmV4dCIpfSxwcmV2OmZ1bmN0aW9uKCl7cmV0dXJuIG8oInByZXYiKX0scHJldjI6ZnVuY3Rpb24oKXtyZXR1cm4gbygicHJldjIiKX19fSx2dT1mdW5jdGlvbih0LGUpe3ZhciBpPWV8fGZ1bmN0aW9uKGUpe3JldHVybiB0LmlzQmxvY2soZSl8fFJuKGUpfHxEbihlKX0sYT1mdW5jdGlvbihlLHQsbixyKXtpZihFbihlKSl7dmFyIG89cihlLHQsZS5kYXRhKTtpZigtMSE9PW8pcmV0dXJuIEIuc29tZSh7Y29udGFpbmVyOmUsb2Zmc2V0Om99KX1yZXR1cm4gbigpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGEoZS5jb250YWluZXIsZS5vZmZzZXQsbixyKX0pfTtyZXR1cm57YmFja3dhcmRzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWh1KGUscixpKTtyZXR1cm4gYShlLHQsZnVuY3Rpb24oKXtyZXR1cm4gby5wcmV2KCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybntjb250YWluZXI6ZSxvZmZzZXQ6ZS5sZW5ndGh9fSl9LG4pLmdldE9yTnVsbCgpfSxmb3J3YXJkczpmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1odShlLHIsaSk7cmV0dXJuIGEoZSx0LGZ1bmN0aW9uKCl7cmV0dXJuIG8ubmV4dCgpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57Y29udGFpbmVyOmUsb2Zmc2V0OjB9fSl9LG4pLmdldE9yTnVsbCgpfX19LHl1PUFyLGJ1PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09QXJ9LEN1PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1x1RkVGRi9nLCIiKX0sd3U9dm4seHU9RW4sU3U9ZnVuY3Rpb24oZSl7cmV0dXJuIHh1KGUpJiYoZT1lLnBhcmVudE5vZGUpLHd1KGUpJiZlLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKX0sTnU9ZnVuY3Rpb24oZSl7cmV0dXJuIHh1KGUpJiZidShlLmRhdGEpfSxFdT1mdW5jdGlvbihlKXtyZXR1cm4gU3UoZSl8fE51KGUpfSxrdT1mdW5jdGlvbihlKXtyZXR1cm4gZS5maXJzdENoaWxkIT09ZS5sYXN0Q2hpbGR8fCFSbihlLmZpcnN0Q2hpbGQpfSxfdT1mdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRhaW5lcigpO3JldHVybiEoIWV8fCFFbih0KSkmJih0LmRhdGEuY2hhckF0KGUub2Zmc2V0KCkpPT09eXV8fGUuaXNBdFN0YXJ0KCkmJk51KHQucHJldmlvdXNTaWJsaW5nKSl9LFR1PWZ1bmN0aW9uKGUpe3ZhciB0PWUuY29udGFpbmVyKCk7cmV0dXJuISghZXx8IUVuKHQpKSYmKHQuZGF0YS5jaGFyQXQoZS5vZmZzZXQoKS0xKT09PXl1fHxlLmlzQXRFbmQoKSYmTnUodC5uZXh0U2libGluZykpfSxSdT1mdW5jdGlvbihlLHQsbil7dmFyIHIsbz10Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTtvLnNldEF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiLG4/ImJlZm9yZSI6ImFmdGVyIiksby5zZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIiwiYWxsIiksby5hcHBlbmRDaGlsZCgoKHI9Vi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpKS5zZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIiwiMSIpLHIpKTt2YXIgaT10LnBhcmVudE5vZGU7cmV0dXJuIG4/aS5pbnNlcnRCZWZvcmUobyx0KTp0Lm5leHRTaWJsaW5nP2kuaW5zZXJ0QmVmb3JlKG8sdC5uZXh0U2libGluZyk6aS5hcHBlbmRDaGlsZChvKSxvfSxBdT1mdW5jdGlvbihlKXtyZXR1cm4geHUoZSkmJmUuZGF0YVswXT09PXl1fSxEdT1mdW5jdGlvbihlKXtyZXR1cm4geHUoZSkmJmUuZGF0YVtlLmRhdGEubGVuZ3RoLTFdPT09eXV9LE91PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKT8odD1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJiciIpLG49dFt0Lmxlbmd0aC0xXSx3bihuKSYmbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pLGUucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpLGUucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpLGUucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpLGUucmVtb3ZlQXR0cmlidXRlKCJfbW96X2Fic3BvcyIpLGUpOm51bGw7dmFyIHQsbn0sQnU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmlzU29tZSgpJiZ0LmlzU29tZSgpP0Iuc29tZShuKGUuZ2V0T3JEaWUoKSx0LmdldE9yRGllKCkpKTpCLm5vbmUoKX0sUHU9TWF0aC5yb3VuZCxMdT1mdW5jdGlvbihlKXtyZXR1cm4gZT97bGVmdDpQdShlLmxlZnQpLHRvcDpQdShlLnRvcCksYm90dG9tOlB1KGUuYm90dG9tKSxyaWdodDpQdShlLnJpZ2h0KSx3aWR0aDpQdShlLndpZHRoKSxoZWlnaHQ6UHUoZS5oZWlnaHQpfTp7bGVmdDowLHRvcDowLGJvdHRvbTowLHJpZ2h0OjAsd2lkdGg6MCxoZWlnaHQ6MH19LEl1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9THUoZSksdHx8KGUubGVmdD1lLmxlZnQrZS53aWR0aCksZS5yaWdodD1lLmxlZnQsZS53aWR0aD0wLGV9LE11PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMDw9ZSYmZTw9TWF0aC5taW4odC5oZWlnaHQsbi5oZWlnaHQpLzJ9LEZ1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYm90dG9tLWUuaGVpZ2h0LzI8dC50b3B8fCEoZS50b3A+dC5ib3R0b20pJiZNdSh0LnRvcC1lLmJvdHRvbSxlLHQpfSxVdT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnRvcD50LmJvdHRvbXx8IShlLmJvdHRvbTx0LnRvcCkmJk11KHQuYm90dG9tLWUudG9wLGUsdCl9LHp1PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdD49ZS5sZWZ0JiZ0PD1lLnJpZ2h0JiZuPj1lLnRvcCYmbjw9ZS5ib3R0b219LGp1PWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhcnRDb250YWluZXIsbj1lLnN0YXJ0T2Zmc2V0O3JldHVybiB0Lmhhc0NoaWxkTm9kZXMoKSYmZS5lbmRPZmZzZXQ9PT1uKzE/dC5jaGlsZE5vZGVzW25dOm51bGx9LEh1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlJiZlLmhhc0NoaWxkTm9kZXMoKSYmKHQ+PWUuY2hpbGROb2Rlcy5sZW5ndGgmJih0PWUuY2hpbGROb2Rlcy5sZW5ndGgtMSksZT1lLmNoaWxkTm9kZXNbdF0pLGV9LFZ1PW5ldyBSZWdFeHAoIltcdTAzMDAtXHUwMzZmXHUwNDgzLVx1MDQ4N1x1MDQ4OC1cdTA0ODlcdTA1OTEtXHUwNWJkXHUwNWJmXHUwNWMxLVx1MDVjMlx1MDVjNC1cdTA1YzVcdTA1YzdcdTA2MTAtXHUwNjFhXHUwNjRiLVx1MDY1Zlx1MDY3MFx1MDZkNi1cdTA2ZGNcdTA2ZGYtXHUwNmU0XHUwNmU3LVx1MDZlOFx1MDZlYS1cdTA2ZWRcdTA3MTFcdTA3MzAtXHUwNzRhXHUwN2E2LVx1MDdiMFx1MDdlYi1cdTA3ZjNcdTA4MTYtXHUwODE5XHUwODFiLVx1MDgyM1x1MDgyNS1cdTA4MjdcdTA4MjktXHUwODJkXHUwODU5LVx1MDg1Ylx1MDhlMy1cdTA5MDJcdTA5M2FcdTA5M2NcdTA5NDEtXHUwOTQ4XHUwOTRkXHUwOTUxLVx1MDk1N1x1MDk2Mi1cdTA5NjNcdTA5ODFcdTA5YmNcdTA5YmVcdTA5YzEtXHUwOWM0XHUwOWNkXHUwOWQ3XHUwOWUyLVx1MDllM1x1MGEwMS1cdTBhMDJcdTBhM2NcdTBhNDEtXHUwYTQyXHUwYTQ3LVx1MGE0OFx1MGE0Yi1cdTBhNGRcdTBhNTFcdTBhNzAtXHUwYTcxXHUwYTc1XHUwYTgxLVx1MGE4Mlx1MGFiY1x1MGFjMS1cdTBhYzVcdTBhYzctXHUwYWM4XHUwYWNkXHUwYWUyLVx1MGFlM1x1MGIwMVx1MGIzY1x1MGIzZVx1MGIzZlx1MGI0MS1cdTBiNDRcdTBiNGRcdTBiNTZcdTBiNTdcdTBiNjItXHUwYjYzXHUwYjgyXHUwYmJlXHUwYmMwXHUwYmNkXHUwYmQ3XHUwYzAwXHUwYzNlLVx1MGM0MFx1MGM0Ni1cdTBjNDhcdTBjNGEtXHUwYzRkXHUwYzU1LVx1MGM1Nlx1MGM2Mi1cdTBjNjNcdTBjODFcdTBjYmNcdTBjYmZcdTBjYzJcdTBjYzZcdTBjY2MtXHUwY2NkXHUwY2Q1LVx1MGNkNlx1MGNlMi1cdTBjZTNcdTBkMDFcdTBkM2VcdTBkNDEtXHUwZDQ0XHUwZDRkXHUwZDU3XHUwZDYyLVx1MGQ2M1x1MGRjYVx1MGRjZlx1MGRkMi1cdTBkZDRcdTBkZDZcdTBkZGZcdTBlMzFcdTBlMzQtXHUwZTNhXHUwZTQ3LVx1MGU0ZVx1MGViMVx1MGViNC1cdTBlYjlcdTBlYmItXHUwZWJjXHUwZWM4LVx1MGVjZFx1MGYxOC1cdTBmMTlcdTBmMzVcdTBmMzdcdTBmMzlcdTBmNzEtXHUwZjdlXHUwZjgwLVx1MGY4NFx1MGY4Ni1cdTBmODdcdTBmOGQtXHUwZjk3XHUwZjk5LVx1MGZiY1x1MGZjNlx1MTAyZC1cdTEwMzBcdTEwMzItXHUxMDM3XHUxMDM5LVx1MTAzYVx1MTAzZC1cdTEwM2VcdTEwNTgtXHUxMDU5XHUxMDVlLVx1MTA2MFx1MTA3MS1cdTEwNzRcdTEwODJcdTEwODUtXHUxMDg2XHUxMDhkXHUxMDlkXHUxMzVkLVx1MTM1Zlx1MTcxMi1cdTE3MTRcdTE3MzItXHUxNzM0XHUxNzUyLVx1MTc1M1x1MTc3Mi1cdTE3NzNcdTE3YjQtXHUxN2I1XHUxN2I3LVx1MTdiZFx1MTdjNlx1MTdjOS1cdTE3ZDNcdTE3ZGRcdTE4MGItXHUxODBkXHUxOGE5XHUxOTIwLVx1MTkyMlx1MTkyNy1cdTE5MjhcdTE5MzJcdTE5MzktXHUxOTNiXHUxYTE3LVx1MWExOFx1MWExYlx1MWE1Nlx1MWE1OC1cdTFhNWVcdTFhNjBcdTFhNjJcdTFhNjUtXHUxYTZjXHUxYTczLVx1MWE3Y1x1MWE3Zlx1MWFiMC1cdTFhYmRcdTFhYmVcdTFiMDAtXHUxYjAzXHUxYjM0XHUxYjM2LVx1MWIzYVx1MWIzY1x1MWI0Mlx1MWI2Yi1cdTFiNzNcdTFiODAtXHUxYjgxXHUxYmEyLVx1MWJhNVx1MWJhOC1cdTFiYTlcdTFiYWItXHUxYmFkXHUxYmU2XHUxYmU4LVx1MWJlOVx1MWJlZFx1MWJlZi1cdTFiZjFcdTFjMmMtXHUxYzMzXHUxYzM2LVx1MWMzN1x1MWNkMC1cdTFjZDJcdTFjZDQtXHUxY2UwXHUxY2UyLVx1MWNlOFx1MWNlZFx1MWNmNFx1MWNmOC1cdTFjZjlcdTFkYzAtXHUxZGY1XHUxZGZjLVx1MWRmZlx1MjAwYy1cdTIwMGRcdTIwZDAtXHUyMGRjXHUyMGRkLVx1MjBlMFx1MjBlMVx1MjBlMi1cdTIwZTRcdTIwZTUtXHUyMGYwXHUyY2VmLVx1MmNmMVx1MmQ3Zlx1MmRlMC1cdTJkZmZcdTMwMmEtXHUzMDJkXHUzMDJlLVx1MzAyZlx1MzA5OS1cdTMwOWFcdWE2NmZcdWE2NzAtXHVhNjcyXHVhNjc0LVx1YTY3ZFx1YTY5ZS1cdWE2OWZcdWE2ZjAtXHVhNmYxXHVhODAyXHVhODA2XHVhODBiXHVhODI1LVx1YTgyNlx1YThjNFx1YThlMC1cdWE4ZjFcdWE5MjYtXHVhOTJkXHVhOTQ3LVx1YTk1MVx1YTk4MC1cdWE5ODJcdWE5YjNcdWE5YjYtXHVhOWI5XHVhOWJjXHVhOWU1XHVhYTI5LVx1YWEyZVx1YWEzMS1cdWFhMzJcdWFhMzUtXHVhYTM2XHVhYTQzXHVhYTRjXHVhYTdjXHVhYWIwXHVhYWIyLVx1YWFiNFx1YWFiNy1cdWFhYjhcdWFhYmUtXHVhYWJmXHVhYWMxXHVhYWVjLVx1YWFlZFx1YWFmNlx1YWJlNVx1YWJlOFx1YWJlZFx1ZmIxZVx1ZmUwMC1cdWZlMGZcdWZlMjAtXHVmZTJmXHVmZjllLVx1ZmY5Zl0iKSxxdT1mdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJjc2ODw9ZS5jaGFyQ29kZUF0KDApJiZWdS50ZXN0KGUpfSwkdT1BbixXdT1EbixLdT1SbixYdT1FbixZdT15bihbInNjcmlwdCIsInN0eWxlIiwidGV4dGFyZWEiXSksR3U9eW4oWyJpbWciLCJpbnB1dCIsInRleHRhcmVhIiwiaHIiLCJpZnJhbWUiLCJ2aWRlbyIsImF1ZGlvIiwib2JqZWN0Il0pLEp1PXluKFsidGFibGUiXSksUXU9RXUsWnU9ZnVuY3Rpb24oZSl7cmV0dXJuIVF1KGUpJiYoWHUoZSk/IVl1KGUucGFyZW50Tm9kZSk6R3UoZSl8fEt1KGUpfHxKdShlKXx8ZXMoZSkpfSxlcz1mdW5jdGlvbihlKXtyZXR1cm4hMT09PSh2bih0PWUpJiYidHJ1ZSI9PT10LmdldEF0dHJpYnV0ZSgidW5zZWxlY3RhYmxlIikpJiZXdShlKTt2YXIgdH0sdHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWnUoZSkmJmZ1bmN0aW9uKGUsdCl7Zm9yKGU9ZS5wYXJlbnROb2RlO2UmJmUhPT10O2U9ZS5wYXJlbnROb2RlKXtpZihlcyhlKSlyZXR1cm4hMTtpZigkdShlKSlyZXR1cm4hMH1yZXR1cm4hMH0oZSx0KX0sbnM9dm4scnM9WnUsb3M9Ym4oImRpc3BsYXkiLCJibG9jayB0YWJsZSIpLGlzPWJuKCJmbG9hdCIsImxlZnQgcmlnaHQiKSxhcz1mdW5jdGlvbigpe2Zvcih2YXIgbj1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyluW2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoIW5bdF0oZSkpcmV0dXJuITE7cmV0dXJuITB9fShucyxycyxtKGlzKSksdXM9bShibigid2hpdGUtc3BhY2UiLCJwcmUgcHJlLWxpbmUgcHJlLXdyYXAiKSksc3M9RW4sY3M9Um4sbHM9RWEubm9kZUluZGV4LGZzPUh1LGRzPWZ1bmN0aW9uKGUpe3JldHVybiJjcmVhdGVSYW5nZSJpbiBlP2UuY3JlYXRlUmFuZ2UoKTpFYS5ET00uY3JlYXRlUm5nKCl9LG1zPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYvW1xyXG5cdCBdLy50ZXN0KGUpfSxwcz1mdW5jdGlvbihlKXtyZXR1cm4hIWUuc2V0U3RhcnQmJiEhZS5zZXRFbmR9LGdzPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5zdGFydENvbnRhaW5lcixyPWUuc3RhcnRPZmZzZXQ7cmV0dXJuISEobXMoZS50b1N0cmluZygpKSYmdXMobi5wYXJlbnROb2RlKSYmRW4obikmJih0PW4uZGF0YSxtcyh0W3ItMV0pfHxtcyh0W3IrMV0pKSl9LGhzPWZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5sZWZ0JiYwPT09ZS5yaWdodCYmMD09PWUudG9wJiYwPT09ZS5ib3R0b219LHZzPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5nZXRDbGllbnRSZWN0cygpO3JldHVybiB0PTA8bi5sZW5ndGg/THUoblswXSk6THUoZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksIXBzKGUpJiZjcyhlKSYmaHModCk/ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LG49ZHModCkscj10LmNyZWF0ZVRleHROb2RlKERyKSxvPWUucGFyZW50Tm9kZTtvLmluc2VydEJlZm9yZShyLGUpLG4uc2V0U3RhcnQociwwKSxuLnNldEVuZChyLDEpO3ZhciBpPUx1KG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO3JldHVybiBvLnJlbW92ZUNoaWxkKHIpLGl9KGUpOmhzKHQpJiZwcyhlKT9mdW5jdGlvbihlKXt2YXIgdD1lLnN0YXJ0Q29udGFpbmVyLG49ZS5lbmRDb250YWluZXIscj1lLnN0YXJ0T2Zmc2V0LG89ZS5lbmRPZmZzZXQ7aWYodD09PW4mJkVuKG4pJiYwPT09ciYmMT09PW8pe3ZhciBpPWUuY2xvbmVSYW5nZSgpO3JldHVybiBpLnNldEVuZEFmdGVyKG4pLHZzKGkpfXJldHVybiBudWxsfShlKTp0fSx5cz1mdW5jdGlvbihlLHQpe3ZhciBuPUl1KGUsdCk7cmV0dXJuIG4ud2lkdGg9MSxuLnJpZ2h0PW4ubGVmdCsxLG59LGJzPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1bXSxvPWZ1bmN0aW9uKGUpe3ZhciB0LG47MCE9PWUuaGVpZ2h0JiYoMDxyLmxlbmd0aCYmKHQ9ZSxuPXJbci5sZW5ndGgtMV0sdC5sZWZ0PT09bi5sZWZ0JiZ0LnRvcD09PW4udG9wJiZ0LmJvdHRvbT09PW4uYm90dG9tJiZ0LnJpZ2h0PT09bi5yaWdodCl8fHIucHVzaChlKSl9LGk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1kcyhlLm93bmVyRG9jdW1lbnQpO2lmKHQ8ZS5kYXRhLmxlbmd0aCl7aWYocXUoZS5kYXRhW3RdKSlyZXR1cm4gcjtpZihxdShlLmRhdGFbdC0xXSkmJihuLnNldFN0YXJ0KGUsdCksbi5zZXRFbmQoZSx0KzEpLCFncyhuKSkpcmV0dXJuIG8oeXModnMobiksITEpKSxyfTA8dCYmKG4uc2V0U3RhcnQoZSx0LTEpLG4uc2V0RW5kKGUsdCksZ3Mobil8fG8oeXModnMobiksITEpKSksdDxlLmRhdGEubGVuZ3RoJiYobi5zZXRTdGFydChlLHQpLG4uc2V0RW5kKGUsdCsxKSxncyhuKXx8byh5cyh2cyhuKSwhMCkpKX07aWYoc3MoZS5jb250YWluZXIoKSkpcmV0dXJuIGkoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSxyO2lmKG5zKGUuY29udGFpbmVyKCkpKWlmKGUuaXNBdEVuZCgpKW49ZnMoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSxzcyhuKSYmaShuLG4uZGF0YS5sZW5ndGgpLGFzKG4pJiYhY3MobikmJm8oeXModnMobiksITEpKTtlbHNle2lmKG49ZnMoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSxzcyhuKSYmaShuLDApLGFzKG4pJiZlLmlzQXRFbmQoKSlyZXR1cm4gbyh5cyh2cyhuKSwhMSkpLHI7dD1mcyhlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCktMSksYXModCkmJiFjcyh0KSYmKCFvcyh0KSYmIW9zKG4pJiZhcyhuKXx8byh5cyh2cyh0KSwhMSkpKSxhcyhuKSYmbyh5cyh2cyhuKSwhMCkpfXJldHVybiByfTtmdW5jdGlvbiBDcyh0LG4sZSl7dmFyIHI9ZnVuY3Rpb24oKXtyZXR1cm4gZT1lfHxicyhDcyh0LG4pKX07cmV0dXJue2NvbnRhaW5lcjp4KHQpLG9mZnNldDp4KG4pLHRvUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT1kcyh0Lm93bmVyRG9jdW1lbnQpO3JldHVybiBlLnNldFN0YXJ0KHQsbiksZS5zZXRFbmQodCxuKSxlfSxnZXRDbGllbnRSZWN0czpyLGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiAwPHIoKS5sZW5ndGh9LGlzQXRTdGFydDpmdW5jdGlvbigpe3JldHVybiBzcyh0KSwwPT09bn0saXNBdEVuZDpmdW5jdGlvbigpe3JldHVybiBzcyh0KT9uPj10LmRhdGEubGVuZ3RoOm4+PXQuY2hpbGROb2Rlcy5sZW5ndGh9LGlzRXF1YWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnQ9PT1lLmNvbnRhaW5lcigpJiZuPT09ZS5vZmZzZXQoKX0sZ2V0Tm9kZTpmdW5jdGlvbihlKXtyZXR1cm4gZnModCxlP24tMTpuKX19fShKYT1Dcz1Dc3x8e30pLmZyb21SYW5nZVN0YXJ0PWZ1bmN0aW9uKGUpe3JldHVybiBKYShlLnN0YXJ0Q29udGFpbmVyLGUuc3RhcnRPZmZzZXQpfSxKYS5mcm9tUmFuZ2VFbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEphKGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KX0sSmEuYWZ0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIEphKGUucGFyZW50Tm9kZSxscyhlKSsxKX0sSmEuYmVmb3JlPWZ1bmN0aW9uKGUpe3JldHVybiBKYShlLnBhcmVudE5vZGUsbHMoZSkpfSxKYS5pc0Fib3ZlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEJ1KFoodC5nZXRDbGllbnRSZWN0cygpKSxlZShlLmdldENsaWVudFJlY3RzKCkpLEZ1KS5nZXRPcighMSl9LEphLmlzQmVsb3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQnUoZWUodC5nZXRDbGllbnRSZWN0cygpKSxaKGUuZ2V0Q2xpZW50UmVjdHMoKSksVXUpLmdldE9yKCExKX0sSmEuaXNBdFN0YXJ0PWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmZS5pc0F0U3RhcnQoKX0sSmEuaXNBdEVuZD1mdW5jdGlvbihlKXtyZXR1cm4hIWUmJmUuaXNBdEVuZCgpfSxKYS5pc1RleHRQb3NpdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4hIWUmJkVuKGUuY29udGFpbmVyKCkpfSxKYS5pc0VsZW1lbnRQb3NpdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4hMT09PUphLmlzVGV4dFBvc2l0aW9uKGUpfTt2YXIgd3MseHMsU3M9Q3MsTnM9ZnVuY3Rpb24oZSx0KXtFbih0KSYmMD09PXQuZGF0YS5sZW5ndGgmJmUucmVtb3ZlKHQpfSxFcz1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdSxzLGM7VG4obik/KGk9ZSxhPXQsdT1uLHM9Qi5mcm9tKHUuZmlyc3RDaGlsZCksYz1CLmZyb20odS5sYXN0Q2hpbGQpLGEuaW5zZXJ0Tm9kZSh1KSxzLmVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIE5zKGksZS5wcmV2aW91c1NpYmxpbmcpfSksYy5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBOcyhpLGUubmV4dFNpYmxpbmcpfSkpOihyPWUsbz1uLHQuaW5zZXJ0Tm9kZShvKSxOcyhyLG8ucHJldmlvdXNTaWJsaW5nKSxOcyhyLG8ubmV4dFNpYmxpbmcpKX0sa3M9RW4sX3M9d24sVHM9RWEubm9kZUluZGV4LFJzPWZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gX3ModCk/UnModCk6dH0sQXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/YmUoZS5jaGlsZE5vZGVzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9zKHQpJiYiQlIiIT09dC5ub2RlTmFtZT9lPWUuY29uY2F0KEFzKHQpKTplLnB1c2godCksZX0sW10pOltdfSxEcz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQ9PT1lfX0sT3M9ZnVuY3Rpb24oZSl7cmV0dXJuKGtzKGUpPyJ0ZXh0KCkiOmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkrIlsiK2Z1bmN0aW9uKGUpe3ZhciByLHQ7cj1BcyhScyhlKSksdD1DZShyLERzKGUpLGUpLHI9ci5zbGljZSgwLHQrMSk7dmFyIG49YmUocixmdW5jdGlvbihlLHQsbil7cmV0dXJuIGtzKHQpJiZrcyhyW24tMV0pJiZlKyssZX0sMCk7cmV0dXJuIHI9dmUocix5bihbZS5ub2RlTmFtZV0pKSwodD1DZShyLERzKGUpLGUpKS1ufShlKSsiXSJ9LEJzPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1PVtdO3JldHVybiBuPXQuY29udGFpbmVyKCkscj10Lm9mZnNldCgpLGtzKG4pP289ZnVuY3Rpb24oZSx0KXtmb3IoOyhlPWUucHJldmlvdXNTaWJsaW5nKSYma3MoZSk7KXQrPWUuZGF0YS5sZW5ndGg7cmV0dXJuIHR9KG4scik6KHI+PShpPW4uY2hpbGROb2RlcykubGVuZ3RoPyhvPSJhZnRlciIscj1pLmxlbmd0aC0xKTpvPSJiZWZvcmUiLG49aVtyXSksdS5wdXNoKE9zKG4pKSxhPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bXTtmb3IodD10LnBhcmVudE5vZGU7dCE9PWUmJighbnx8IW4odCkpO3Q9dC5wYXJlbnROb2RlKXIucHVzaCh0KTtyZXR1cm4gcn0oZSxuKSxhPXZlKGEsbSh3bikpLCh1PXUuY29uY2F0KGhlKGEsZnVuY3Rpb24oZSl7cmV0dXJuIE9zKGUpfSkpKS5yZXZlcnNlKCkuam9pbigiLyIpKyIsIitvfSxQcz1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKCF0KXJldHVybiBudWxsO3ZhciByPXQuc3BsaXQoIiwiKSxvPXJbMF0uc3BsaXQoIi8iKTtuPTE8ci5sZW5ndGg/clsxXToiYmVmb3JlIjt2YXIgaT1iZShvLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ9LyhbXHdcLVwoXCldKylcWyhbMC05XSspXF0vLmV4ZWModCkpPygidGV4dCgpIj09PXRbMV0mJih0WzFdPSIjdGV4dCIpLG49ZSxyPXRbMV0sbz1wYXJzZUludCh0WzJdLDEwKSxpPUFzKG4pLGk9dmUoaSxmdW5jdGlvbihlLHQpe3JldHVybiFrcyhlKXx8IWtzKGlbdC0xXSl9KSwoaT12ZShpLHluKFtyXSkpKVtvXSk6bnVsbDt2YXIgbixyLG8saX0sZSk7cmV0dXJuIGk/a3MoaSk/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1lLG89MDtrcyhyKTspe2lmKG49ci5kYXRhLmxlbmd0aCxvPD10JiZ0PD1vK24pe2U9cix0LT1vO2JyZWFrfWlmKCFrcyhyLm5leHRTaWJsaW5nKSl7ZT1yLHQ9bjticmVha31vKz1uLHI9ci5uZXh0U2libGluZ31yZXR1cm4ga3MoZSkmJnQ+ZS5kYXRhLmxlbmd0aCYmKHQ9ZS5kYXRhLmxlbmd0aCksU3MoZSx0KX0oaSxwYXJzZUludChuLDEwKSk6KG49ImFmdGVyIj09PW4/VHMoaSkrMTpUcyhpKSxTcyhpLnBhcmVudE5vZGUsbikpOm51bGx9LExzPURuLElzPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYT1yW28/InN0YXJ0Q29udGFpbmVyIjoiZW5kQ29udGFpbmVyIl0sdT1yW28/InN0YXJ0T2Zmc2V0IjoiZW5kT2Zmc2V0Il0scz1bXSxjPTAsbD1lLmdldFJvb3QoKTtmb3IoRW4oYSk/cy5wdXNoKG4/ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87Zm9yKG89ZSh0LmRhdGEuc2xpY2UoMCxuKSkubGVuZ3RoLHI9dC5wcmV2aW91c1NpYmxpbmc7ciYmRW4ocik7cj1yLnByZXZpb3VzU2libGluZylvKz1lKHIuZGF0YSkubGVuZ3RoO3JldHVybiBvfSh0LGEsdSk6dSk6KHU+PShpPWEuY2hpbGROb2RlcykubGVuZ3RoJiZpLmxlbmd0aCYmKGM9MSx1PU1hdGgubWF4KDAsaS5sZW5ndGgtMSkpLHMucHVzaChlLm5vZGVJbmRleChpW3VdLG4pK2MpKTthJiZhIT09bDthPWEucGFyZW50Tm9kZSlzLnB1c2goZS5ub2RlSW5kZXgoYSxuKSk7cmV0dXJuIHN9LE1zPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0wO3JldHVybiB5dC5lYWNoKGUuc2VsZWN0KHQpLGZ1bmN0aW9uKGUpe2lmKCJhbGwiIT09ZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikpcmV0dXJuIGUhPT1uJiZ2b2lkIHIrK30pLHJ9LEZzPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk9dD8ic3RhcnQiOiJlbmQiO249ZVtpKyJDb250YWluZXIiXSxyPWVbaSsiT2Zmc2V0Il0sdm4obikmJiJUUiI9PT1uLm5vZGVOYW1lJiYobj0obz1uLmNoaWxkTm9kZXMpW01hdGgubWluKHQ/cjpyLTEsby5sZW5ndGgtMSldKSYmKHI9dD8wOm4uY2hpbGROb2Rlcy5sZW5ndGgsZVsic2V0IisodD8iU3RhcnQiOiJFbmQiKV0obixyKSl9LFVzPWZ1bmN0aW9uKGUpe3JldHVybiBGcyhlLCEwKSxGcyhlLCExKSxlfSx6cz1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKHZuKGUpJiYoZT1IdShlLHQpLExzKGUpKSlyZXR1cm4gZTtpZihFdShlKSl7aWYoRW4oZSkmJlN1KGUpJiYoZT1lLnBhcmVudE5vZGUpLG49ZS5wcmV2aW91c1NpYmxpbmcsTHMobikpcmV0dXJuIG47aWYobj1lLm5leHRTaWJsaW5nLExzKG4pKXJldHVybiBufX0sanM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4uZ2V0Tm9kZSgpLG89cj9yLm5vZGVOYW1lOm51bGwsaT1uLmdldFJuZygpO2lmKExzKHIpfHwiSU1HIj09PW8pcmV0dXJue25hbWU6byxpbmRleDpNcyhuLmRvbSxvLHIpfTt2YXIgYSx1LHMsYyxsLGYsZCxtPXpzKChhPWkpLnN0YXJ0Q29udGFpbmVyLGEuc3RhcnRPZmZzZXQpfHx6cyhhLmVuZENvbnRhaW5lcixhLmVuZE9mZnNldCk7cmV0dXJuIG0/e25hbWU6bz1tLnRhZ05hbWUsaW5kZXg6TXMobi5kb20sbyxtKX06KHU9ZSxjPXQsbD1pLGY9KHM9bikuZG9tLChkPXt9KS5zdGFydD1JcyhmLHUsYyxsLCEwKSxzLmlzQ29sbGFwc2VkKCl8fChkLmVuZD1JcyhmLHUsYyxsLCExKSksZCl9LEhzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17ImRhdGEtbWNlLXR5cGUiOiJib29rbWFyayIsaWQ6dCxzdHlsZToib3ZlcmZsb3c6aGlkZGVuO2xpbmUtaGVpZ2h0OjBweCJ9O3JldHVybiBuP2UuY3JlYXRlKCJzcGFuIixyLCImI3hGRUZGOyIpOmUuY3JlYXRlKCJzcGFuIixyKX0sVnM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbSxyPWUuZ2V0Um5nKCksbz1uLnVuaXF1ZUlkKCksaT1lLmlzQ29sbGFwc2VkKCksYT1lLmdldE5vZGUoKSx1PWEubm9kZU5hbWU7aWYoIklNRyI9PT11KXJldHVybntuYW1lOnUsaW5kZXg6TXMobix1LGEpfTt2YXIgcz1VcyhyLmNsb25lUmFuZ2UoKSk7aWYoIWkpe3MuY29sbGFwc2UoITEpO3ZhciBjPUhzKG4sbysiX2VuZCIsdCk7RXMobixzLGMpfShyPVVzKHIpKS5jb2xsYXBzZSghMCk7dmFyIGw9SHMobixvKyJfc3RhcnQiLHQpO3JldHVybiBFcyhuLHIsbCksZS5tb3ZlVG9Cb29rbWFyayh7aWQ6byxrZWVwOiEwfSkse2lkOm99fSxxcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIDI9PT10P2pzKEN1LG4sZSk6Mz09PXQ/KG89KHI9ZSkuZ2V0Um5nKCkse3N0YXJ0OkJzKHIuZG9tLmdldFJvb3QoKSxTcy5mcm9tUmFuZ2VTdGFydChvKSksZW5kOkJzKHIuZG9tLmdldFJvb3QoKSxTcy5mcm9tUmFuZ2VFbmQobykpfSk6dD97cm5nOmUuZ2V0Um5nKCl9OlZzKGUsITEpO3ZhciByLG99LCRzPU4oanMsbywhMCksV3M9RWEuRE9NLEtzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmdldFBhcmFtKHQsbik7aWYoLTE9PT1yLmluZGV4T2YoIj0iKSlyZXR1cm4gcjt2YXIgbz1lLmdldFBhcmFtKHQsIiIsImhhc2giKTtyZXR1cm4gby5oYXNPd25Qcm9wZXJ0eShlLmlkKT9vW2UuaWRdOm59LFhzPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBhcmFtKCJjb250ZW50X3NlY3VyaXR5X3BvbGljeSIsIiIpfSxZcz1mdW5jdGlvbihlKXtpZihlLmdldFBhcmFtKCJmb3JjZV9wX25ld2xpbmVzIiwhMSkpcmV0dXJuInAiO3ZhciB0PWUuZ2V0UGFyYW0oImZvcmNlZF9yb290X2Jsb2NrIiwicCIpO3JldHVybiExPT09dD8iIjohMD09PXQ/InAiOnR9LEdzPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBhcmFtKCJmb3JjZWRfcm9vdF9ibG9ja19hdHRycyIse30pfSxKcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgiYXV0b21hdGljX3VwbG9hZHMiLCEwLCJib29sZWFuIil9LFFzPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBhcmFtKCJpY29ucyIsIiIsInN0cmluZyIpfSxacz1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgicmVmZXJyZXJfcG9saWN5IiwiIiwic3RyaW5nIil9LGVjPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBhcmFtKCJsYW5ndWFnZSIsImVuIiwic3RyaW5nIil9LHRjPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBhcmFtKCJpbmRlbnRfdXNlX21hcmdpbiIsITEpfSxuYz1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgib2JqZWN0X3Jlc2l6aW5nIil9LHJjPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBhcmFtKCJldmVudF9yb290Iil9LG9jPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBhcmFtKCJ0aGVtZSIpfSxpYz1mdW5jdGlvbihlKXtyZXR1cm4hMSE9PWUuZ2V0UGFyYW0oImlubGluZV9ib3VuZGFyaWVzIil9LGFjPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBhcmFtKCJwbHVnaW5zIil9LHVjPXZuLHNjPUVuLGNjPWZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTt0JiZ0LnJlbW92ZUNoaWxkKGUpfSxsYz1mdW5jdGlvbihlLHQpezA9PT10Lmxlbmd0aD9jYyhlKTplLm5vZGVWYWx1ZT10fSxmYz1mdW5jdGlvbihlKXt2YXIgdD1DdShlKTtyZXR1cm57Y291bnQ6ZS5sZW5ndGgtdC5sZW5ndGgsdGV4dDp0fX0sZGM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaGMoZSksdH0sbWM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89dC5jb250YWluZXIoKSxpPShuPXRlKG8uY2hpbGROb2RlcyksKC0xPT09KHI9SShuLGUpKT9CLm5vbmUoKTpCLnNvbWUocikpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZTx0Lm9mZnNldCgpP1NzKG8sdC5vZmZzZXQoKS0xKTp0fSkuZ2V0T3IodCkpO3JldHVybiBoYyhlKSxpfSxwYz1mdW5jdGlvbihlLHQpe3JldHVybiBzYyhlKSYmdC5jb250YWluZXIoKT09PWU/KHI9dCxvPWZjKChuPWUpLmRhdGEuc3Vic3RyKDAsci5vZmZzZXQoKSkpLGk9ZmMobi5kYXRhLnN1YnN0cihyLm9mZnNldCgpKSksMDwoYT1vLnRleHQraS50ZXh0KS5sZW5ndGg/KGxjKG4sYSksU3MobixyLm9mZnNldCgpLW8uY291bnQpKTpyKTpkYyhlLHQpO3ZhciBuLHIsbyxpLGF9LGdjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFNzLmlzVGV4dFBvc2l0aW9uKHQpP3BjKGUsdCk6KG49ZSwoKHI9dCkuY29udGFpbmVyKCk9PT1uLnBhcmVudE5vZGU/bWM6ZGMpKG4scikpO3ZhciBuLHJ9LGhjPWZ1bmN0aW9uKGUpe2lmKHVjKGUpJiZFdShlKSYmKGt1KGUpP2UucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpOmNjKGUpKSxzYyhlKSl7dmFyIHQ9Q3UoZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBlLm5vZGVWYWx1ZX1jYXRjaCh0KXtyZXR1cm4iIn19KGUpKTtsYyhlLHQpfX0sdmM9b3QoKS5icm93c2VyLHljPURuLGJjPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHM9SXUodC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuKTtyZXR1cm4gaT0iQk9EWSI9PT1lLnRhZ05hbWU/KHI9ZS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxvPWUuc2Nyb2xsTGVmdHx8ci5zY3JvbGxMZWZ0LGUuc2Nyb2xsVG9wfHxyLnNjcm9sbFRvcCk6KHU9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPWUuc2Nyb2xsTGVmdC11LmxlZnQsZS5zY3JvbGxUb3AtdS50b3ApLHMubGVmdCs9byxzLnJpZ2h0Kz1vLHMudG9wKz1pLHMuYm90dG9tKz1pLHMud2lkdGg9MSwwPChhPXQub2Zmc2V0V2lkdGgtdC5jbGllbnRXaWR0aCkmJihuJiYoYSo9LTEpLHMubGVmdCs9YSxzLnJpZ2h0Kz1hKSxzfSxDYz1mdW5jdGlvbihlLGEsdSx0KXt2YXIgbixzLGM9T2EoQi5ub25lKCkpLHI9WXMoZSksbD0wPHIubGVuZ3RoP3I6InAiLGY9ZnVuY3Rpb24oKXshZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saT1ZYShDdC5mcm9tRG9tKGUpLCIqW2NvbnRlbnRFZGl0YWJsZT1mYWxzZV0iKTtmb3Iocj0wO3I8aS5sZW5ndGg7cisrKW49KHQ9aVtyXS5kb20oKSkucHJldmlvdXNTaWJsaW5nLER1KG4pJiYoMT09PShvPW4uZGF0YSkubGVuZ3RoP24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTpuLmRlbGV0ZURhdGEoby5sZW5ndGgtMSwxKSksbj10Lm5leHRTaWJsaW5nLEF1KG4pJiYoMT09PShvPW4uZGF0YSkubGVuZ3RoP24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTpuLmRlbGV0ZURhdGEoMCwxKSl9KGEpLHMmJihoYyhzKSxzPW51bGwpLGMuZ2V0KCkuZWFjaChmdW5jdGlvbihlKXtSaShlLmNhcmV0KS5yZW1vdmUoKSxjLnNldChCLm5vbmUoKSl9KSxuJiYoZmEuY2xlYXJJbnRlcnZhbChuKSxuPW51bGwpfSxkPWZ1bmN0aW9uKCl7bj1mYS5zZXRJbnRlcnZhbChmdW5jdGlvbigpe3QoKT9SaSgiZGl2Lm1jZS12aXN1YWwtY2FyZXQiLGEpLnRvZ2dsZUNsYXNzKCJtY2UtdmlzdWFsLWNhcmV0LWhpZGRlbiIpOlJpKCJkaXYubWNlLXZpc3VhbC1jYXJldCIsYSkuYWRkQ2xhc3MoIm1jZS12aXN1YWwtY2FyZXQtaGlkZGVuIil9LDUwMCl9O3JldHVybntzaG93OmZ1bmN0aW9uKHQsZSl7dmFyIG4scixvO2lmKGYoKSx2bihvPWUpJiYvXihURHxUSCkkL2kudGVzdChvLnRhZ05hbWUpKXJldHVybiBudWxsO2lmKCF1KGUpKXJldHVybiBzPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1lLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoeXUpLG89ZS5wYXJlbnROb2RlO2lmKHQpe2lmKG49ZS5wcmV2aW91c1NpYmxpbmcseHUobikpe2lmKEV1KG4pKXJldHVybiBuO2lmKER1KG4pKXJldHVybiBuLnNwbGl0VGV4dChuLmRhdGEubGVuZ3RoLTEpfW8uaW5zZXJ0QmVmb3JlKHIsZSl9ZWxzZXtpZihuPWUubmV4dFNpYmxpbmcseHUobikpe2lmKEV1KG4pKXJldHVybiBuO2lmKEF1KG4pKXJldHVybiBuLnNwbGl0VGV4dCgxKSxufWUubmV4dFNpYmxpbmc/by5pbnNlcnRCZWZvcmUocixlLm5leHRTaWJsaW5nKTpvLmFwcGVuZENoaWxkKHIpfXJldHVybiByfShlLHQpLHI9ZS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCkseWMocy5uZXh0U2libGluZyk/KHIuc2V0U3RhcnQocywwKSxyLnNldEVuZChzLDApKTooci5zZXRTdGFydChzLDEpLHIuc2V0RW5kKHMsMSkpLHI7cz1SdShsLGUsdCksbj1iYyhhLGUsdCksUmkocykuY3NzKCJ0b3AiLG4udG9wKTt2YXIgaT1SaSgnPGRpdiBjbGFzcz0ibWNlLXZpc3VhbC1jYXJldCIgZGF0YS1tY2UtYm9ndXM9ImFsbCI+PC9kaXY+JykuY3NzKG4pLmFwcGVuZFRvKGEpWzBdO3JldHVybiBjLnNldChCLnNvbWUoe2NhcmV0OmksZWxlbWVudDplLGJlZm9yZTp0fSkpLGMuZ2V0KCkuZWFjaChmdW5jdGlvbihlKXt0JiZSaShlLmNhcmV0KS5hZGRDbGFzcygibWNlLXZpc3VhbC1jYXJldC1iZWZvcmUiKX0pLGQoKSwocj1lLm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSkuc2V0U3RhcnQocywwKSxyLnNldEVuZChzLDApLHJ9LGhpZGU6ZixnZXRDc3M6ZnVuY3Rpb24oKXtyZXR1cm4iLm1jZS12aXN1YWwtY2FyZXQge3Bvc2l0aW9uOiBhYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztiYWNrZ3JvdW5kLWNvbG9yOiBjdXJyZW50Y29sb3I7fS5tY2UtdmlzdWFsLWNhcmV0LWhpZGRlbiB7ZGlzcGxheTogbm9uZTt9KltkYXRhLW1jZS1jYXJldF0ge3Bvc2l0aW9uOiBhYnNvbHV0ZTtsZWZ0OiAtMTAwMHB4O3JpZ2h0OiBhdXRvO3RvcDogMDttYXJnaW46IDA7cGFkZGluZzogMDt9In0scmVwb3NpdGlvbjpmdW5jdGlvbigpe2MuZ2V0KCkuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1iYyhhLGUuZWxlbWVudCxlLmJlZm9yZSk7UmkoZS5jYXJldCkuY3NzKHhlKHt9LHQpKX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7cmV0dXJuIGZhLmNsZWFySW50ZXJ2YWwobil9fX0sd2M9ZnVuY3Rpb24oKXtyZXR1cm4gdmMuaXNJRSgpfHx2Yy5pc0VkZ2UoKXx8dmMuaXNGaXJlZm94KCl9LHhjPWZ1bmN0aW9uKGUpe3JldHVybiB5YyhlKXx8eG4oZSkmJndjKCl9LFNjPURuLE5jPWJuKCJkaXNwbGF5IiwiYmxvY2sgdGFibGUgdGFibGUtY2VsbCB0YWJsZS1jYXB0aW9uIGxpc3QtaXRlbSIpLEVjPUV1LGtjPVN1LF9jPXZuLFRjPVp1LFJjPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuO249ZSh0KTspaWYoIWtjKG4pKXJldHVybiBuO3JldHVybiBudWxsfSxBYz1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPW5ldyBBaShlLHIpO2lmKHQ8MCl7aWYoKFNjKGUpfHxrYyhlKSkmJm4oZT1SYyhpLnByZXYsITApKSlyZXR1cm4gZTtmb3IoO2U9UmMoaS5wcmV2LG8pOylpZihuKGUpKXJldHVybiBlfWlmKDA8dCl7aWYoKFNjKGUpfHxrYyhlKSkmJm4oZT1SYyhpLm5leHQsITApKSlyZXR1cm4gZTtmb3IoO2U9UmMoaS5uZXh0LG8pOylpZihuKGUpKXJldHVybiBlfXJldHVybiBudWxsfSxEYz1mdW5jdGlvbihlLHQpe2Zvcig7ZSYmZSE9PXQ7KXtpZihOYyhlKSlyZXR1cm4gZTtlPWUucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0sT2M9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBEYyhlLmNvbnRhaW5lcigpLG4pPT09RGModC5jb250YWluZXIoKSxuKX0sQmM9ZnVuY3Rpb24oZSx0KXtpZighdClyZXR1cm4gbnVsbDt2YXIgbj10LmNvbnRhaW5lcigpLHI9dC5vZmZzZXQoKTtyZXR1cm4gX2Mobik/bi5jaGlsZE5vZGVzW3IrZV06bnVsbH0sUGM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10Lm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gZT8obi5zZXRTdGFydEJlZm9yZSh0KSxuLnNldEVuZEJlZm9yZSh0KSk6KG4uc2V0U3RhcnRBZnRlcih0KSxuLnNldEVuZEFmdGVyKHQpKSxufSxMYz1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE7Zm9yKG89ZT8icHJldmlvdXNTaWJsaW5nIjoibmV4dFNpYmxpbmciO24mJm4hPT10Oyl7aWYocj1uW29dLEVjKHIpJiYocj1yW29dKSxTYyhyKSl7aWYoYT1uLERjKHIsaT10KT09PURjKGEsaSkpcmV0dXJuIHI7YnJlYWt9aWYoVGMocikpYnJlYWs7bj1uLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LEljPU4oUGMsITApLE1jPU4oUGMsITEpLEZjPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYT1OKExjLCEwLHQpLHU9TihMYywhMSx0KTtvPW4uc3RhcnRDb250YWluZXI7dmFyIHM9bi5zdGFydE9mZnNldDtpZihTdShvKSl7aWYoX2Mobyl8fChvPW8ucGFyZW50Tm9kZSksImJlZm9yZSI9PT0oaT1vLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKSkmJihyPW8ubmV4dFNpYmxpbmcseGMocikpKXJldHVybiBJYyhyKTtpZigiYWZ0ZXIiPT09aSYmKHI9by5wcmV2aW91c1NpYmxpbmcseGMocikpKXJldHVybiBNYyhyKX1pZighbi5jb2xsYXBzZWQpcmV0dXJuIG47aWYoRW4obykpe2lmKEVjKG8pKXtpZigxPT09ZSl7aWYocj11KG8pKXJldHVybiBJYyhyKTtpZihyPWEobykpcmV0dXJuIE1jKHIpfWlmKC0xPT09ZSl7aWYocj1hKG8pKXJldHVybiBNYyhyKTtpZihyPXUobykpcmV0dXJuIEljKHIpfXJldHVybiBufWlmKER1KG8pJiZzPj1vLmRhdGEubGVuZ3RoLTEpcmV0dXJuIDE9PT1lJiYocj11KG8pKT9JYyhyKTpuO2lmKEF1KG8pJiZzPD0xKXJldHVybi0xPT09ZSYmKHI9YShvKSk/TWMocik6bjtpZihzPT09by5kYXRhLmxlbmd0aClyZXR1cm4ocj11KG8pKT9JYyhyKTpuO2lmKDA9PT1zKXJldHVybihyPWEobykpP01jKHIpOm59cmV0dXJuIG59LFVjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEIuZnJvbShCYyhlPzA6LTEsdCkpLmZpbHRlcihTYyl9LHpjPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1GYyhlLHQsbik7cmV0dXJuLTE9PT1lP0NzLmZyb21SYW5nZVN0YXJ0KHIpOkNzLmZyb21SYW5nZUVuZChyKX0samM9ZnVuY3Rpb24oZSl7cmV0dXJuIEIuZnJvbShlLmdldE5vZGUoKSkubWFwKEN0LmZyb21Eb20pfSxIYz1mdW5jdGlvbihlLHQpe2Zvcig7dD1lKHQpOylpZih0LmlzVmlzaWJsZSgpKXJldHVybiB0O3JldHVybiB0fSxWYz1mdW5jdGlvbihlLHQpe3ZhciBuPU9jKGUsdCk7cmV0dXJuIShufHwhUm4oZS5nZXROb2RlKCkpKXx8bn07KHhzPXdzPXdzfHx7fSlbeHMuQmFja3dhcmRzPS0xXT0iQmFja3dhcmRzIix4c1t4cy5Gb3J3YXJkcz0xXT0iRm9yd2FyZHMiO3ZhciBxYywkYz1EbixXYz1FbixLYz12bixYYz1SbixZYz1adSxHYz1mdW5jdGlvbihlKXtyZXR1cm4gR3UoZSl8fCEhZXModD1lKSYmITAhPT1XKHRlKHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksZnVuY3Rpb24oZSx0KXtyZXR1cm4gZXx8JHUodCl9LCExKTt2YXIgdH0sSmM9dHMsUWM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5oYXNDaGlsZE5vZGVzKCkmJnQ8ZS5jaGlsZE5vZGVzLmxlbmd0aD9lLmNoaWxkTm9kZXNbdF06bnVsbH0sWmM9ZnVuY3Rpb24oZSx0KXtpZigwPGUpe2lmKFljKHQucHJldmlvdXNTaWJsaW5nKSYmIVdjKHQucHJldmlvdXNTaWJsaW5nKSlyZXR1cm4gU3MuYmVmb3JlKHQpO2lmKFdjKHQpKXJldHVybiBTcyh0LDApfWlmKGU8MCl7aWYoWWModC5uZXh0U2libGluZykmJiFXYyh0Lm5leHRTaWJsaW5nKSlyZXR1cm4gU3MuYWZ0ZXIodCk7aWYoV2ModCkpcmV0dXJuIFNzKHQsdC5kYXRhLmxlbmd0aCl9cmV0dXJuIShlPDApfHxYYyh0KT9Tcy5iZWZvcmUodCk6U3MuYWZ0ZXIodCl9LGVsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYTtpZighS2Mobil8fCF0KXJldHVybiBudWxsO2lmKHQuaXNFcXVhbChTcy5hZnRlcihuKSkmJm4ubGFzdENoaWxkKXtpZihhPVNzLmFmdGVyKG4ubGFzdENoaWxkKSxlPDAmJlljKG4ubGFzdENoaWxkKSYmS2Mobi5sYXN0Q2hpbGQpKXJldHVybiBYYyhuLmxhc3RDaGlsZCk/U3MuYmVmb3JlKG4ubGFzdENoaWxkKTphfWVsc2UgYT10O3ZhciB1LHMsYyxsPWEuY29udGFpbmVyKCksZj1hLm9mZnNldCgpO2lmKFdjKGwpKXtpZihlPDAmJjA8ZilyZXR1cm4gU3MobCwtLWYpO2lmKDA8ZSYmZjxsLmxlbmd0aClyZXR1cm4gU3MobCwrK2YpO3I9bH1lbHNle2lmKGU8MCYmMDxmJiYobz1RYyhsLGYtMSksWWMobykpKXJldHVybiFHYyhvKSYmKGk9QWMobyxlLEpjLG8pKT9XYyhpKT9TcyhpLGkuZGF0YS5sZW5ndGgpOlNzLmFmdGVyKGkpOldjKG8pP1NzKG8sby5kYXRhLmxlbmd0aCk6U3MuYmVmb3JlKG8pO2lmKDA8ZSYmZjxsLmNoaWxkTm9kZXMubGVuZ3RoJiYobz1RYyhsLGYpLFljKG8pKSlyZXR1cm4gWGMobyk/KHU9biwoYz0ocz1vKS5uZXh0U2libGluZykmJlljKGMpP1djKGMpP1NzKGMsMCk6U3MuYmVmb3JlKGMpOmVsKHdzLkZvcndhcmRzLFNzLmFmdGVyKHMpLHUpKTohR2MobykmJihpPUFjKG8sZSxKYyxvKSk/V2MoaSk/U3MoaSwwKTpTcy5iZWZvcmUoaSk6V2Mobyk/U3MobywwKTpTcy5hZnRlcihvKTtyPW98fGEuZ2V0Tm9kZSgpfWlmKCgwPGUmJmEuaXNBdEVuZCgpfHxlPDAmJmEuaXNBdFN0YXJ0KCkpJiYocj1BYyhyLGUseCghMCksbiwhMCksSmMocixuKSkpcmV0dXJuIFpjKGUscik7bz1BYyhyLGUsSmMsbik7dmFyIGQ9d2UoSChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXTtlJiZlIT09dDspbi5wdXNoKGUpLGU9ZS5wYXJlbnROb2RlO3JldHVybiBufShsLG4pLCRjKSk7cmV0dXJuIWR8fG8mJmQuY29udGFpbnMobyk/bz9aYyhlLG8pOm51bGw6YT0wPGU/U3MuYWZ0ZXIoZCk6U3MuYmVmb3JlKGQpfSx0bD1mdW5jdGlvbih0KXtyZXR1cm57bmV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZWwod3MuRm9yd2FyZHMsZSx0KX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gZWwod3MuQmFja3dhcmRzLGUsdCl9fX0sbmw9ZnVuY3Rpb24oZSl7cmV0dXJuIFNzLmlzVGV4dFBvc2l0aW9uKGUpPzA9PT1lLm9mZnNldCgpOlp1KGUuZ2V0Tm9kZSgpKX0scmw9ZnVuY3Rpb24oZSl7aWYoU3MuaXNUZXh0UG9zaXRpb24oZSkpe3ZhciB0PWUuY29udGFpbmVyKCk7cmV0dXJuIGUub2Zmc2V0KCk9PT10LmRhdGEubGVuZ3RofXJldHVybiBadShlLmdldE5vZGUoITApKX0sb2w9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hU3MuaXNUZXh0UG9zaXRpb24oZSkmJiFTcy5pc1RleHRQb3NpdGlvbih0KSYmZS5nZXROb2RlKCk9PT10LmdldE5vZGUoITApfSxpbD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU/IW9sKHQsbikmJihyPXQsISghU3MuaXNUZXh0UG9zaXRpb24ocikmJlJuKHIuZ2V0Tm9kZSgpKSkpJiZybCh0KSYmbmwobik6IW9sKG4sdCkmJm5sKHQpJiZybChuKTt2YXIgcn0sYWw9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRsKHQpO3JldHVybiBCLmZyb20oZT9yLm5leHQobik6ci5wcmV2KG4pKX0sdWw9ZnVuY3Rpb24odCxuLHIpe3JldHVybiBhbCh0LG4scikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gT2MocixlLG4pJiZpbCh0LHIsZSk/YWwodCxuLGUpOkIuc29tZShlKX0pfSxzbD1mdW5jdGlvbih0LG4sZSxyKXtyZXR1cm4gdWwodCxuLGUpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSk/c2wodCxuLGUscik6Qi5zb21lKGUpfSl9LGNsPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1PWU/dC5maXJzdENoaWxkOnQubGFzdENoaWxkO3JldHVybiBFbih1KT9CLnNvbWUoU3ModSxlPzA6dS5kYXRhLmxlbmd0aCkpOnU/WnUodSk/Qi5zb21lKGU/U3MuYmVmb3JlKHUpOlJuKGE9dSk/U3MuYmVmb3JlKGEpOlNzLmFmdGVyKGEpKToocj10LG89dSxpPShuPWUpP1NzLmJlZm9yZShvKTpTcy5hZnRlcihvKSxhbChuLHIsaSkpOkIubm9uZSgpfSxsbD1OKGFsLCEwKSxmbD1OKGFsLCExKSxkbD1OKGNsLCEwKSxtbD1OKGNsLCExKSxwbD0iX21jZV9jYXJldCIsZ2w9ZnVuY3Rpb24oZSl7cmV0dXJuIHZuKGUpJiZlLmlkPT09cGx9LGhsPWZ1bmN0aW9uKGUsdCl7Zm9yKDt0JiZ0IT09ZTspe2lmKHQuaWQ9PT1wbClyZXR1cm4gdDt0PXQucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0sdmw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm4odCkmJmUuaXNCbG9jayh0KSYmIXQuaW5uZXJIVE1MJiYhbXQuaWUmJih0LmlubmVySFRNTD0nPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIiAvPicpLHR9LHlsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG1sKGUpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4hMX0sZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2V0U3RhcnQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSx0LnNldEVuZChlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCkpLCEwfSl9LGJsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hKCExIT09dC5oYXNDaGlsZE5vZGVzKCl8fCFobChlLHQpKSYmKG89bixpPShyPXQpLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoeXUpLHIuYXBwZW5kQ2hpbGQoaSksby5zZXRTdGFydChpLDApLG8uc2V0RW5kKGksMCksITApO3ZhciByLG8saX0sQ2w9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscz1uW3Q/InN0YXJ0IjoiZW5kIl0sYz1lLmdldFJvb3QoKTtpZihzKXtmb3IoYT1zWzBdLGk9YyxvPXMubGVuZ3RoLTE7MTw9bztvLS0pe2lmKHU9aS5jaGlsZE5vZGVzLGJsKGMsaSxyKSlyZXR1cm4hMDtpZihzW29dPnUubGVuZ3RoLTEpcmV0dXJuISFibChjLGkscil8fHlsKGkscik7aT11W3Nbb11dfTM9PT1pLm5vZGVUeXBlJiYoYT1NYXRoLm1pbihzWzBdLGkubm9kZVZhbHVlLmxlbmd0aCkpLDE9PT1pLm5vZGVUeXBlJiYoYT1NYXRoLm1pbihzWzBdLGkuY2hpbGROb2Rlcy5sZW5ndGgpKSx0P3Iuc2V0U3RhcnQoaSxhKTpyLnNldEVuZChpLGEpfXJldHVybiEwfSx3bD1mdW5jdGlvbihlKXtyZXR1cm4gRW4oZSkmJjA8ZS5kYXRhLmxlbmd0aH0seGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscyxjPWUuZ2V0KG4uaWQrIl8iK3QpLGw9bi5rZWVwO2lmKGMpe2lmKHI9Yy5wYXJlbnROb2RlLHM9KHU9KG89InN0YXJ0Ij09PXQ/bD9jLmhhc0NoaWxkTm9kZXMoKT8ocj1jLmZpcnN0Q2hpbGQsMSk6d2woYy5uZXh0U2libGluZyk/KHI9Yy5uZXh0U2libGluZywwKTp3bChjLnByZXZpb3VzU2libGluZyk/KHI9Yy5wcmV2aW91c1NpYmxpbmcsYy5wcmV2aW91c1NpYmxpbmcuZGF0YS5sZW5ndGgpOihyPWMucGFyZW50Tm9kZSxlLm5vZGVJbmRleChjKSsxKTplLm5vZGVJbmRleChjKTpsP2MuaGFzQ2hpbGROb2RlcygpPyhyPWMuZmlyc3RDaGlsZCwxKTp3bChjLnByZXZpb3VzU2libGluZyk/KHI9Yy5wcmV2aW91c1NpYmxpbmcsYy5wcmV2aW91c1NpYmxpbmcuZGF0YS5sZW5ndGgpOihyPWMucGFyZW50Tm9kZSxlLm5vZGVJbmRleChjKSk6ZS5ub2RlSW5kZXgoYyksciksbyksIWwpe2ZvcihhPWMucHJldmlvdXNTaWJsaW5nLGk9Yy5uZXh0U2libGluZyx5dC5lYWNoKHl0LmdyZXAoYy5jaGlsZE5vZGVzKSxmdW5jdGlvbihlKXtFbihlKSYmKGUubm9kZVZhbHVlPWUubm9kZVZhbHVlLnJlcGxhY2UoL1x1RkVGRi9nLCIiKSl9KTtjPWUuZ2V0KG4uaWQrIl8iK3QpOyllLnJlbW92ZShjLCEwKTthJiZpJiZhLm5vZGVUeXBlPT09aS5ub2RlVHlwZSYmRW4oYSkmJiFtdC5vcGVyYSYmKG89YS5ub2RlVmFsdWUubGVuZ3RoLGEuYXBwZW5kRGF0YShpLm5vZGVWYWx1ZSksZS5yZW1vdmUoaSkscz0odT1hLG8pKX1yZXR1cm4gQi5zb21lKFNzKHUscykpfXJldHVybiBCLm5vbmUoKX0sU2w9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHUscyxjLGwsZixkLG0scCxnLGg9ZS5kb207aWYodCl7aWYoZz10LHl0LmlzQXJyYXkoZy5zdGFydCkpcmV0dXJuIG09dCxwPShkPWgpLmNyZWF0ZVJuZygpLENsKGQsITAsbSxwKSYmQ2woZCwhMSxtLHApP0Iuc29tZShwKTpCLm5vbmUoKTtpZigic3RyaW5nIj09dHlwZW9mIHQuc3RhcnQpcmV0dXJuIEIuc29tZSgoYz10LGY9KHM9aCkuY3JlYXRlUm5nKCksbD1QcyhzLmdldFJvb3QoKSxjLnN0YXJ0KSxmLnNldFN0YXJ0KGwuY29udGFpbmVyKCksbC5vZmZzZXQoKSksbD1QcyhzLmdldFJvb3QoKSxjLmVuZCksZi5zZXRFbmQobC5jb250YWluZXIoKSxsLm9mZnNldCgpKSxmKSk7aWYodC5oYXNPd25Qcm9wZXJ0eSgiaWQiKSlyZXR1cm4gYT14bChvPWgsInN0YXJ0IixpPXQpLHU9eGwobywiZW5kIixpKSxCdShhLHUub3IoYSksZnVuY3Rpb24oZSx0KXt2YXIgbj1vLmNyZWF0ZVJuZygpO3JldHVybiBuLnNldFN0YXJ0KHZsKG8sZS5jb250YWluZXIoKSksZS5vZmZzZXQoKSksbi5zZXRFbmQodmwobyx0LmNvbnRhaW5lcigpKSx0Lm9mZnNldCgpKSxufSk7aWYodC5oYXNPd25Qcm9wZXJ0eSgibmFtZSIpKXJldHVybiBuPWgscj10LEIuZnJvbShuLnNlbGVjdChyLm5hbWUpW3IuaW5kZXhdKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9bi5jcmVhdGVSbmcoKTtyZXR1cm4gdC5zZWxlY3ROb2RlKGUpLHR9KTtpZih0Lmhhc093blByb3BlcnR5KCJybmciKSlyZXR1cm4gQi5zb21lKHQucm5nKX1yZXR1cm4gQi5ub25lKCl9LE5sPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcXMoZSx0LG4pfSxFbD1mdW5jdGlvbih0LGUpe1NsKHQsZSkuZWFjaChmdW5jdGlvbihlKXt0LnNldFJuZyhlKX0pfSxrbD1mdW5jdGlvbihlKXtyZXR1cm4gdm4oZSkmJiJTUEFOIj09PWUudGFnTmFtZSYmImJvb2ttYXJrIj09PWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS10eXBlIil9LF9sPShxYz1EcixmdW5jdGlvbihlKXtyZXR1cm4gcWM9PT1lfSksVGw9ZnVuY3Rpb24oZSl7cmV0dXJuIiIhPT1lJiYtMSE9PSIgXGZcblxyXHRceDBCIi5pbmRleE9mKGUpfSxSbD1mdW5jdGlvbihlKXtyZXR1cm4hVGwoZSkmJiFfbChlKX0sQWw9ZnVuY3Rpb24oZSl7cmV0dXJuISFlLm5vZGVUeXBlfSxEbD1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdT1uLnN0YXJ0T2Zmc2V0LHM9bi5zdGFydENvbnRhaW5lcjtpZigobi5zdGFydENvbnRhaW5lciE9PW4uZW5kQ29udGFpbmVyfHwhKGE9bi5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW24uc3RhcnRPZmZzZXRdKXx8IS9eKElNRykkLy50ZXN0KGEubm9kZU5hbWUpKSYmMT09PXMubm9kZVR5cGUpZm9yKHU8KGk9cy5jaGlsZE5vZGVzKS5sZW5ndGg/KHM9aVt1XSxyPW5ldyBBaShzLGUuZ2V0UGFyZW50KHMsZS5pc0Jsb2NrKSkpOihzPWlbaS5sZW5ndGgtMV0sKHI9bmV3IEFpKHMsZS5nZXRQYXJlbnQocyxlLmlzQmxvY2spKSkubmV4dCghMCkpLG89ci5jdXJyZW50KCk7bztvPXIubmV4dCgpKWlmKDM9PT1vLm5vZGVUeXBlJiYhTGwobykpcmV0dXJuIG4uc2V0U3RhcnQobywwKSx2b2lkIHQuc2V0Um5nKG4pfSxPbD1mdW5jdGlvbihlLHQsbil7aWYoZSl7dmFyIHI9dD8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciO2ZvcihlPW4/ZTplW3JdO2U7ZT1lW3JdKWlmKDE9PT1lLm5vZGVUeXBlfHwhTGwoZSkpcmV0dXJuIGV9fSxCbD1mdW5jdGlvbihlLHQpe3JldHVybiBBbCh0KSYmKHQ9dC5ub2RlTmFtZSksISFlLnNjaGVtYS5nZXRUZXh0QmxvY2tFbGVtZW50cygpW3QudG9Mb3dlckNhc2UoKV19LFBsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5zY2hlbWEuaXNWYWxpZENoaWxkKHQsbil9LExsPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZFbihlKSYmL14oW1x0IFxyXG5dK3wpJC8udGVzdChlLm5vZGVWYWx1ZSl9LElsPWZ1bmN0aW9uKGUsbil7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlP2U9ZShuKTpuJiYoZT1lLnJlcGxhY2UoLyUoXHcrKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5bdF18fGV9KSksZX0sTWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT0iIisoKGU9ZXx8IiIpLm5vZGVOYW1lfHxlKSx0PSIiKygodD10fHwiIikubm9kZU5hbWV8fHQpLGUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX0sRmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJjb2xvciIhPT1uJiYiYmFja2dyb3VuZENvbG9yIiE9PW58fCh0PWUudG9IZXgodCkpLCJmb250V2VpZ2h0Ij09PW4mJjcwMD09PXQmJih0PSJib2xkIiksImZvbnRGYW1pbHkiPT09biYmKHQ9dC5yZXBsYWNlKC9bXCdcIl0vZywiIikucmVwbGFjZSgvLFxzKy9nLCIsIikpLCIiK3R9LFVsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRmwoZSxlLmdldFN0eWxlKHQsbiksbil9LHpsPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIHQuZ2V0UGFyZW50KGUsZnVuY3Rpb24oZSl7cmV0dXJuKG49dC5nZXRTdHlsZShlLCJ0ZXh0LWRlY29yYXRpb24iKSkmJiJub25lIiE9PW59KSxufSxqbD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuZ2V0UGFyZW50cyh0LG4sZS5nZXRSb290KCkpfSxIbD1mdW5jdGlvbih0LGUsbil7dmFyIHI9WyJpbmxpbmUiLCJibG9jayIsInNlbGVjdG9yIiwiYXR0cmlidXRlcyIsInN0eWxlcyIsImNsYXNzZXMiXSxhPWZ1bmN0aW9uKGUpe3JldHVybiBsZShlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEYocixmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KX0pfTtyZXR1cm4gRih0LmZvcm1hdHRlci5nZXQoZSksZnVuY3Rpb24oZSl7dmFyIGk9YShlKTtyZXR1cm4gRih0LmZvcm1hdHRlci5nZXQobiksZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89YShlKTtyZXR1cm4gdD1pLG49byx2b2lkIDA9PT1yJiYocj1sKSx1KHIpLmVxKHQsbil9KX0pfSxWbD1rbCxxbD1qbCwkbD1MbCxXbD1CbCxLbD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10O247KXtpZih2bihuKSYmZS5nZXRDb250ZW50RWRpdGFibGUobikpcmV0dXJuImZhbHNlIj09PWUuZ2V0Q29udGVudEVkaXRhYmxlKG4pP246dDtuPW4ucGFyZW50Tm9kZX1yZXR1cm4gdH0sWGw9ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBvPXQuZGF0YSxpPW47ZT8wPD1pOmk8by5sZW5ndGg7ZT9pLS06aSsrKWlmKHIoby5jaGFyQXQoaSkpKXJldHVybiBlP2krMTppO3JldHVybi0xfSxZbD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFhsKGUsdCxuLGZ1bmN0aW9uKGUpe3JldHVybiBfbChlKXx8VGwoZSl9KX0sR2w9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBYbChlLHQsbixSbCl9LEpsPWZ1bmN0aW9uKGksZSx0LG4sYSxyKXt2YXIgdSxzPWkuZ2V0UGFyZW50KHQsaS5pc0Jsb2NrKXx8ZSxvPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj12dShpKSxvPWE/ci5iYWNrd2FyZHM6ci5mb3J3YXJkcztyZXR1cm4gQi5mcm9tKG8oZSx0LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFZsKGUucGFyZW50Tm9kZSk/LTE6bihhLHU9ZSx0KX0scykpfTtyZXR1cm4gbyh0LG4sWWwpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHI/byhlLmNvbnRhaW5lcixlLm9mZnNldCsoYT8tMTowKSxHbCk6Qi5zb21lKGUpfSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiB1P0Iuc29tZSh7Y29udGFpbmVyOnUsb2Zmc2V0OmE/MDp1Lmxlbmd0aH0pOkIubm9uZSgpfSl9LFFsPWZ1bmN0aW9uKGUsdCxuLHIsbyl7RW4ocikmJjA9PT1yLm5vZGVWYWx1ZS5sZW5ndGgmJnJbb10mJihyPXJbb10pO2Zvcih2YXIgaT1xbChlLHIpLGE9MDthPGkubGVuZ3RoO2ErKylmb3IodmFyIHU9MDt1PHQubGVuZ3RoO3UrKyl7dmFyIHM9dFt1XTtpZighKCJjb2xsYXBzZWQiaW4gcyYmcy5jb2xsYXBzZWQhPT1uLmNvbGxhcHNlZCkmJmUuaXMoaVthXSxzLnNlbGVjdG9yKSlyZXR1cm4gaVthXX1yZXR1cm4gcn0sWmw9ZnVuY3Rpb24odCxlLG4scil7dmFyIG8saT10LmRvbSxhPWkuZ2V0Um9vdCgpO2lmKGVbMF0ud3JhcHBlcnx8KG89aS5nZXRQYXJlbnQobixlWzBdLmJsb2NrLGEpKSwhbyl7dmFyIHU9aS5nZXRQYXJlbnQobiwiTEksVEQsVEgiKTtvPWkuZ2V0UGFyZW50KEVuKG4pP24ucGFyZW50Tm9kZTpuLGZ1bmN0aW9uKGUpe3JldHVybiBlIT09YSYmV2wodCxlKX0sdSl9aWYobyYmZVswXS53cmFwcGVyJiYobz1xbChpLG8sInVsLG9sIikucmV2ZXJzZSgpWzBdfHxvKSwhbylmb3Iobz1uO29bcl0mJiFpLmlzQmxvY2sob1tyXSkmJihvPW9bcl0sIU1sKG8sImJyIikpOyk7cmV0dXJuIG98fG59LGVmPWZ1bmN0aW9uKGUsdCxuLHIsbyxpLGEpe3ZhciB1LHMsYzt1PXM9YT9uOm87dmFyIGwsZj1hPyJwcmV2aW91c1NpYmxpbmciOiJuZXh0U2libGluZyIsZD1lLmdldFJvb3QoKTtpZihFbih1KSYmISRsKHUpJiYoYT8wPHI6aTx1Lm5vZGVWYWx1ZS5sZW5ndGgpKXJldHVybiB1O2Zvcig7Oyl7aWYoIXRbMF0uYmxvY2tfZXhwYW5kJiZlLmlzQmxvY2socykpcmV0dXJuIHM7Zm9yKGM9c1tmXTtjO2M9Y1tmXSlpZighVmwoYykmJiEkbChjKSYmKCJCUiIhPT0obD1jKS5ub2RlTmFtZXx8IWwuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpfHxsLm5leHRTaWJsaW5nKSlyZXR1cm4gcztpZihzPT09ZHx8cy5wYXJlbnROb2RlPT09ZCl7dT1zO2JyZWFrfXM9cy5wYXJlbnROb2RlfXJldHVybiB1fSx0Zj1mdW5jdGlvbihlLHQsbixyKXt2b2lkIDA9PT1yJiYocj0hMSk7dmFyIG89dC5zdGFydENvbnRhaW5lcixpPXQuc3RhcnRPZmZzZXQsYT10LmVuZENvbnRhaW5lcix1PXQuZW5kT2Zmc2V0LHM9ZS5kb207dm4obykmJm8uaGFzQ2hpbGROb2RlcygpJiYobz1IdShvLGkpLEVuKG8pJiYoaT0wKSksdm4oYSkmJmEuaGFzQ2hpbGROb2RlcygpJiYoYT1IdShhLHQuY29sbGFwc2VkP3U6dS0xKSxFbihhKSYmKHU9YS5ub2RlVmFsdWUubGVuZ3RoKSksbz1LbChzLG8pLGE9S2wocyxhKSwoVmwoby5wYXJlbnROb2RlKXx8VmwobykpJiYobz1WbChvKT9vOm8ucGFyZW50Tm9kZSxvPXQuY29sbGFwc2VkP28ucHJldmlvdXNTaWJsaW5nfHxvOm8ubmV4dFNpYmxpbmd8fG8sRW4obykmJihpPXQuY29sbGFwc2VkP28ubGVuZ3RoOjApKSwoVmwoYS5wYXJlbnROb2RlKXx8VmwoYSkpJiYoYT1WbChhKT9hOmEucGFyZW50Tm9kZSxhPXQuY29sbGFwc2VkP2EubmV4dFNpYmxpbmd8fGE6YS5wcmV2aW91c1NpYmxpbmd8fGEsRW4oYSkmJih1PXQuY29sbGFwc2VkPzA6YS5sZW5ndGgpKSx0LmNvbGxhcHNlZCYmKEpsKHMsZS5nZXRCb2R5KCksbyxpLCEwLHIpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb250YWluZXIsbj1lLm9mZnNldDtvPXQsaT1ufSksSmwocyxlLmdldEJvZHkoKSxhLHUsITEscikuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRhaW5lcixuPWUub2Zmc2V0O2E9dCx1PW59KSk7cmV0dXJuKG5bMF0uaW5saW5lfHxuWzBdLmJsb2NrX2V4cGFuZCkmJihuWzBdLmlubGluZSYmRW4obykmJjAhPT1pfHwobz1lZihzLG4sbyxpLGEsdSwhMCkpLG5bMF0uaW5saW5lJiZFbihhKSYmdSE9PWEubm9kZVZhbHVlLmxlbmd0aHx8KGE9ZWYocyxuLG8saSxhLHUsITEpKSksblswXS5zZWxlY3RvciYmITEhPT1uWzBdLmV4cGFuZCYmIW5bMF0uaW5saW5lJiYobz1RbChzLG4sdCxvLCJwcmV2aW91c1NpYmxpbmciKSxhPVFsKHMsbix0LGEsIm5leHRTaWJsaW5nIikpLChuWzBdLmJsb2NrfHxuWzBdLnNlbGVjdG9yKSYmKG89WmwoZSxuLG8sInByZXZpb3VzU2libGluZyIpLGE9WmwoZSxuLGEsIm5leHRTaWJsaW5nIiksblswXS5ibG9jayYmKHMuaXNCbG9jayhvKXx8KG89ZWYocyxuLG8saSxhLHUsITApKSxzLmlzQmxvY2soYSl8fChhPWVmKHMsbixvLGksYSx1LCExKSkpKSx2bihvKSYmKGk9cy5ub2RlSW5kZXgobyksbz1vLnBhcmVudE5vZGUpLHZuKGEpJiYodT1zLm5vZGVJbmRleChhKSsxLGE9YS5wYXJlbnROb2RlKSx7c3RhcnRDb250YWluZXI6byxzdGFydE9mZnNldDppLGVuZENvbnRhaW5lcjphLGVuZE9mZnNldDp1fX0sbmY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmNoaWxkTm9kZXM7cmV0dXJuIHQ+PW4ubGVuZ3RoP3Q9bi5sZW5ndGgtMTp0PDAmJih0PTApLG5bdF18fGV9LHJmPWZ1bmN0aW9uKGUsdCx1KXt2YXIgbj10LnN0YXJ0Q29udGFpbmVyLHI9dC5zdGFydE9mZnNldCxvPXQuZW5kQ29udGFpbmVyLGk9dC5lbmRPZmZzZXQscz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gMz09PSh0PWVbMF0pLm5vZGVUeXBlJiZ0PT09biYmcj49dC5ub2RlVmFsdWUubGVuZ3RoJiZlLnNwbGljZSgwLDEpLHQ9ZVtlLmxlbmd0aC0xXSwwPT09aSYmMDxlLmxlbmd0aCYmdD09PW8mJjM9PT10Lm5vZGVUeXBlJiZlLnNwbGljZShlLmxlbmd0aC0xLDEpLGV9LGM9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1bXTtlJiZlIT09bjtlPWVbdF0pci5wdXNoKGUpO3JldHVybiByfSxhPWZ1bmN0aW9uKGUsdCl7ZG97aWYoZS5wYXJlbnROb2RlPT09dClyZXR1cm4gZTtlPWUucGFyZW50Tm9kZX13aGlsZShlKX0sbD1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW4/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixvPWUsaT1vLnBhcmVudE5vZGU7byYmbyE9PXQ7bz1pKXtpPW8ucGFyZW50Tm9kZTt2YXIgYT1jKG89PT1lP286b1tyXSxyKTthLmxlbmd0aCYmKG58fGEucmV2ZXJzZSgpLHUocyhhKSkpfX07aWYoMT09PW4ubm9kZVR5cGUmJm4uaGFzQ2hpbGROb2RlcygpJiYobj1uZihuLHIpKSwxPT09by5ub2RlVHlwZSYmby5oYXNDaGlsZE5vZGVzKCkmJihvPW5mKG8saS0xKSksbj09PW8pcmV0dXJuIHUocyhbbl0pKTtmb3IodmFyIGY9ZS5maW5kQ29tbW9uQW5jZXN0b3IobixvKSxkPW47ZDtkPWQucGFyZW50Tm9kZSl7aWYoZD09PW8pcmV0dXJuIGwobixmLCEwKTtpZihkPT09ZilicmVha31mb3IoZD1vO2Q7ZD1kLnBhcmVudE5vZGUpe2lmKGQ9PT1uKXJldHVybiBsKG8sZik7aWYoZD09PWYpYnJlYWt9dmFyIG09YShuLGYpfHxuLHA9YShvLGYpfHxvO2wobixtLCEwKTt2YXIgZz1jKG09PT1uP206bS5uZXh0U2libGluZywibmV4dFNpYmxpbmciLHA9PT1vP3AubmV4dFNpYmxpbmc6cCk7Zy5sZW5ndGgmJnUocyhnKSksbChvLHApfSxvZj1mdW5jdGlvbihlKXt2YXIgdD1bXTtpZihlKWZvcih2YXIgbj0wO248ZS5yYW5nZUNvdW50O24rKyl0LnB1c2goZS5nZXRSYW5nZUF0KG4pKTtyZXR1cm4gdH0sYWY9ZnVuY3Rpb24oZSl7cmV0dXJuIEgoWShlLGZ1bmN0aW9uKGUpe3ZhciB0PWp1KGUpO3JldHVybiB0P1tDdC5mcm9tRG9tKHQpXTpbXX0pLHRyKX0sdWY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1ZYSh0LCJ0ZFtkYXRhLW1jZS1zZWxlY3RlZF0sdGhbZGF0YS1tY2Utc2VsZWN0ZWRdIik7cmV0dXJuIDA8bi5sZW5ndGg/bjphZihlKX0sc2Y9ZnVuY3Rpb24oZSl7cmV0dXJuIHVmKG9mKGUuc2VsZWN0aW9uLmdldFNlbCgpKSxDdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKSl9LGNmPWZ1bmN0aW9uKHQpe3JldHVybiBxdCh0KS5mb2xkKHgoW3RdKSxmdW5jdGlvbihlKXtyZXR1cm5bdF0uY29uY2F0KGNmKGUpKX0pfSxsZj1mdW5jdGlvbih0KXtyZXR1cm4gJHQodCkuZm9sZCh4KFt0XSksZnVuY3Rpb24oZSl7cmV0dXJuImJyIj09PXd0KGUpP0Z0KGUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5bdF0uY29uY2F0KGxmKGUpKX0pLmdldE9yKFtdKTpbdF0uY29uY2F0KGxmKGUpKX0pfSxmZj1mdW5jdGlvbihvLGUpe3JldHVybiBCdSgoYT0oaT1lKS5zdGFydENvbnRhaW5lcix1PWkuc3RhcnRPZmZzZXQsRW4oYSk/MD09PXU/Qi5zb21lKEN0LmZyb21Eb20oYSkpOkIubm9uZSgpOkIuZnJvbShhLmNoaWxkTm9kZXNbdV0pLm1hcChDdC5mcm9tRG9tKSksKG49KHQ9ZSkuZW5kQ29udGFpbmVyLHI9dC5lbmRPZmZzZXQsRW4obik/cj09PW4uZGF0YS5sZW5ndGg/Qi5zb21lKEN0LmZyb21Eb20obikpOkIubm9uZSgpOkIuZnJvbShuLmNoaWxkTm9kZXNbci0xXSkubWFwKEN0LmZyb21Eb20pKSxmdW5jdGlvbihlLHQpe3ZhciBuPUsoY2YobyksTihEdCxlKSkscj1LKGxmKG8pLE4oRHQsdCkpO3JldHVybiBuLmlzU29tZSgpJiZyLmlzU29tZSgpfSkuZ2V0T3IoITEpO3ZhciB0LG4scixpLGEsdX0sZGY9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89bixpPW5ldyBBaShuLG8pLGE9ZS5zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpO2Rve2lmKDM9PT1uLm5vZGVUeXBlJiYwIT09eXQudHJpbShuLm5vZGVWYWx1ZSkubGVuZ3RoKXJldHVybiB2b2lkKHI/dC5zZXRTdGFydChuLDApOnQuc2V0RW5kKG4sbi5ub2RlVmFsdWUubGVuZ3RoKSk7aWYoYVtuLm5vZGVOYW1lXSYmIS9eKFREfFRIKSQvLnRlc3Qobi5ub2RlTmFtZSkpcmV0dXJuIHZvaWQocj90LnNldFN0YXJ0QmVmb3JlKG4pOiJCUiI9PT1uLm5vZGVOYW1lP3Quc2V0RW5kQmVmb3JlKG4pOnQuc2V0RW5kQWZ0ZXIobikpfXdoaWxlKG49cj9pLm5leHQoKTppLnByZXYoKSk7IkJPRFkiPT09by5ub2RlTmFtZSYmKHI/dC5zZXRTdGFydChvLDApOnQuc2V0RW5kKG8sby5jaGlsZE5vZGVzLmxlbmd0aCkpfSxtZj1mdW5jdGlvbihlKXt2YXIgdD1lLnNlbGVjdGlvbi5nZXRTZWwoKTtyZXR1cm4gdCYmMDx0LnJhbmdlQ291bnR9LHBmPWZ1bmN0aW9uKHIsbyl7dmFyIGU9c2Yocik7MDxlLmxlbmd0aD96KGUsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb20oKSxuPXIuZG9tLmNyZWF0ZVJuZygpO24uc2V0U3RhcnRCZWZvcmUodCksbi5zZXRFbmRBZnRlcih0KSxvKG4sITApfSk6byhyLnNlbGVjdGlvbi5nZXRSbmcoKSwhMSl9LGdmPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1WcyhlLHQpO24ociksZS5tb3ZlVG9Cb29rbWFyayhyKX07dmFyIGhmPWZ1bmN0aW9uIElFKG4scil7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSk/Qi5mcm9tKGUuZG9tKCkubm9kZVZhbHVlKTpCLm5vbmUoKX07cmV0dXJue2dldDpmdW5jdGlvbihlKXtpZighbihlKSl0aHJvdyBuZXcgRXJyb3IoIkNhbiBvbmx5IGdldCAiK3IrIiB2YWx1ZSBvZiBhICIrcisiIG5vZGUiKTtyZXR1cm4gdChlKS5nZXRPcigiIil9LGdldE9wdGlvbjp0LHNldDpmdW5jdGlvbihlLHQpe2lmKCFuKGUpKXRocm93IG5ldyBFcnJvcigiQ2FuIG9ubHkgc2V0IHJhdyAiK3IrIiB2YWx1ZSBvZiBhICIrcisiIG5vZGUiKTtlLmRvbSgpLm5vZGVWYWx1ZT10fX19KEV0LCJ0ZXh0IiksdmY9ZnVuY3Rpb24oZSl7cmV0dXJuIGhmLmdldChlKX0seWY9ZnVuY3Rpb24ocixvLGksYSl7cmV0dXJuIE10KG8pLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4ic2tpcHBpbmcifSxmdW5jdGlvbihlKXtyZXR1cm4iYnIiPT09YXx8RXQobj1vKSYmdmYobik9PT1Bcj8idmFsaWQiOk50KHQ9bykmJkthKHQscnUoKSk/ImV4aXN0aW5nIjpnbChvKT8iY2FyZXQiOlBsKHIsaSxhKSYmUGwocix3dChlKSxpKT8idmFsaWQiOiJpbnZhbGlkLWNoaWxkIjt2YXIgdCxufSl9LGJmPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXQudWlkLGk9dm9pZCAwPT09bz9mdSgibWNlLWFubm90YXRpb24iKTpvLGE9ZnVuY3Rpb24gcChlLHQpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiZ0LmluZGV4T2Yocik8MCYmKG5bcl09ZVtyXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPHIubGVuZ3RoO28rKyl0LmluZGV4T2YocltvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUscltvXSkmJihuW3Jbb11dPWVbcltvXV0pfXJldHVybiBufSh0LFsidWlkIl0pLHU9Q3QuZnJvbVRhZygic3BhbiIsZSk7JGEodSxydSgpKSxQbih1LCIiK2l1KCksaSksUG4odSwiIitvdSgpLG4pO3ZhciBzLGM9cihpLGEpLGw9Yy5hdHRyaWJ1dGVzLGY9dm9pZCAwPT09bD97fTpsLGQ9Yy5jbGFzc2VzLG09dm9pZCAwPT09ZD9bXTpkO3JldHVybiBMbih1LGYpLHM9dSx6KG0sZnVuY3Rpb24oZSl7JGEocyxlKX0pLHV9LENmPWZ1bmN0aW9uKGksZSx0LG4scil7dmFyIGE9W10sdT1iZihpLmdldERvYygpLHIsdCxuKSxzPU9hKEIubm9uZSgpKSxjPWZ1bmN0aW9uKCl7cy5zZXQoQi5ub25lKCkpfSxsPWZ1bmN0aW9uKGUpe3ooZSxvKX0sbz1mdW5jdGlvbihlKXt2YXIgdCxuO3N3aXRjaCh5ZihpLGUsInNwYW4iLHd0KGUpKSl7Y2FzZSJpbnZhbGlkLWNoaWxkIjpjKCk7dmFyIHI9SHQoZSk7bChyKSxjKCk7YnJlYWs7Y2FzZSJ2YWxpZCI6dmFyIG89cy5nZXQoKS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7dmFyIGU9cHUodSk7cmV0dXJuIGEucHVzaChlKSxzLnNldChCLnNvbWUoZSkpLGV9KTtHdCh0PWUsbj1vKSxadChuLHQpfX07cmV0dXJuIHJmKGkuZG9tLGUsZnVuY3Rpb24oZSl7dmFyIHQ7YygpLHQ9VShlLEN0LmZyb21Eb20pLGwodCl9KSxhfSx3Zj1mdW5jdGlvbih1LHMsYyxsKXt1LnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9dS5zZWxlY3Rpb24sbz1yLmdldFJuZygpLGk9MDxzZih1KS5sZW5ndGg7aWYoby5jb2xsYXBzZWQmJiFpJiYobj10ZihlPXUsdD1vLFt7aW5saW5lOiEwfV0pLHQuc2V0U3RhcnQobi5zdGFydENvbnRhaW5lcixuLnN0YXJ0T2Zmc2V0KSx0LnNldEVuZChuLmVuZENvbnRhaW5lcixuLmVuZE9mZnNldCksZS5zZWxlY3Rpb24uc2V0Um5nKHQpKSxyLmdldFJuZygpLmNvbGxhcHNlZCYmIWkpe3ZhciBhPWJmKHUuZ2V0RG9jKCksbCxzLGMuZGVjb3JhdGUpO2R1KGEsRHIpLHIuZ2V0Um5nKCkuaW5zZXJ0Tm9kZShhLmRvbSgpKSxyLnNlbGVjdChhLmRvbSgpKX1lbHNlIGdmKHIsITEsZnVuY3Rpb24oKXtwZih1LGZ1bmN0aW9uKGUpe0NmKHUsZSxzLGMuZGVjb3JhdGUsbCl9KX0pfSl9LHhmPWZ1bmN0aW9uKHUpe3ZhciBuLHI9KG49e30se3JlZ2lzdGVyOmZ1bmN0aW9uKGUsdCl7bltlXT17bmFtZTplLHNldHRpbmdzOnR9fSxsb29rdXA6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uaGFzT3duUHJvcGVydHkoZSk/Qi5mcm9tKG5bZV0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZXR0aW5nc30pOkIubm9uZSgpfX0pO2N1KHUscik7dmFyIG89c3UodSk7cmV0dXJue3JlZ2lzdGVyOmZ1bmN0aW9uKGUsdCl7ci5yZWdpc3RlcihlLHQpfSxhbm5vdGF0ZTpmdW5jdGlvbih0LG4pe3IubG9va3VwKHQpLmVhY2goZnVuY3Rpb24oZSl7d2YodSx0LGUsbil9KX0sYW5ub3RhdGlvbkNoYW5nZWQ6ZnVuY3Rpb24oZSx0KXtvLmFkZExpc3RlbmVyKGUsdCl9LHJlbW92ZTpmdW5jdGlvbihlKXthdSh1LEIuc29tZShlKSkuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmVsZW1lbnRzO3oodCxybil9KX0sZ2V0QWxsOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYT0odD11LG49ZSxyPUN0LmZyb21Eb20odC5nZXRCb2R5KCkpLG89WWEociwiWyIrb3UoKSsnPSInK24rJyJdJyksaT17fSx6KG8sZnVuY3Rpb24oZSl7dmFyIHQ9SW4oZSxpdSgpKSxuPWkuaGFzT3duUHJvcGVydHkodCk/aVt0XTpbXTtpW3RdPW4uY29uY2F0KFtlXSl9KSxpKTtyZXR1cm4gaWUoYSxmdW5jdGlvbihlKXtyZXR1cm4gVShlLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpfSl9KX19fSxTZj0vXlsgXHRcclxuXSokLyxOZj17IiN0ZXh0IjozLCIjY29tbWVudCI6OCwiI2NkYXRhIjo0LCIjcGkiOjcsIiNkb2N0eXBlIjoxMCwiI2RvY3VtZW50LWZyYWdtZW50IjoxMX0sRWY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4/Imxhc3RDaGlsZCI6ImZpcnN0Q2hpbGQiLG89bj8icHJldiI6Im5leHQiO2lmKGVbcl0pcmV0dXJuIGVbcl07aWYoZSE9PXQpe3ZhciBpPWVbb107aWYoaSlyZXR1cm4gaTtmb3IodmFyIGE9ZS5wYXJlbnQ7YSYmYSE9PXQ7YT1hLnBhcmVudClpZihpPWFbb10pcmV0dXJuIGl9fSxrZj1mdW5jdGlvbihlKXtpZighU2YudGVzdChlLnZhbHVlKSlyZXR1cm4hMTt2YXIgdD1lLnBhcmVudDtyZXR1cm4hdHx8InNwYW4iPT09dC5uYW1lJiYhdC5hdHRyKCJzdHlsZSIpfHwhL15bIF0rJC8udGVzdChlLnZhbHVlKX0sX2Y9ZnVuY3Rpb24oZSl7dmFyIHQ9ImEiPT09ZS5uYW1lJiYhZS5hdHRyKCJocmVmIikmJmUuYXR0cigiaWQiKTtyZXR1cm4gZS5hdHRyKCJuYW1lIil8fGUuYXR0cigiaWQiKSYmIWUuZmlyc3RDaGlsZHx8ZS5hdHRyKCJkYXRhLW1jZS1ib29rbWFyayIpfHx0fSxUZj0oUmYuY3JlYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IFJmKGUsTmZbZV18fDEpO3JldHVybiB0JiZvZSh0LGZ1bmN0aW9uKGUsdCl7bi5hdHRyKHQsZSl9KSxufSxSZi5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnQmJmUucmVtb3ZlKCksdGhpcy5pbnNlcnQoZSx0aGlzKSx0aGlzLnJlbW92ZSgpLHRoaXN9LFJmLnByb3RvdHlwZS5hdHRyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gZSE9PXVuZGVmaW5lZCYmbnVsbCE9PWUmJm9lKGUsZnVuY3Rpb24oZSx0KXtyLmF0dHIodCxlKX0pLHI7aWYobj1yLmF0dHJpYnV0ZXMpe2lmKHQ9PT11bmRlZmluZWQpcmV0dXJuIG4ubWFwW2VdO2lmKG51bGw9PT10KXtpZihlIGluIG4ubWFwKXtkZWxldGUgbi5tYXBbZV07Zm9yKHZhciBvPW4ubGVuZ3RoO28tLTspaWYobltvXS5uYW1lPT09ZSlyZXR1cm4gbi5zcGxpY2UobywxKSxyfXJldHVybiByfWlmKGUgaW4gbi5tYXApe2ZvcihvPW4ubGVuZ3RoO28tLTspaWYobltvXS5uYW1lPT09ZSl7bltvXS52YWx1ZT10O2JyZWFrfX1lbHNlIG4ucHVzaCh7bmFtZTplLHZhbHVlOnR9KTtyZXR1cm4gbi5tYXBbZV09dCxyfX0sUmYucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGUsdD1uZXcgUmYodGhpcy5uYW1lLHRoaXMudHlwZSk7aWYoZT10aGlzLmF0dHJpYnV0ZXMpe3ZhciBuPVtdO24ubWFwPXt9O2Zvcih2YXIgcj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9ZVtyXTsiaWQiIT09aS5uYW1lJiYobltuLmxlbmd0aF09e25hbWU6aS5uYW1lLHZhbHVlOmkudmFsdWV9LG4ubWFwW2kubmFtZV09aS52YWx1ZSl9dC5hdHRyaWJ1dGVzPW59cmV0dXJuIHQudmFsdWU9dGhpcy52YWx1ZSx0LnNob3J0RW5kZWQ9dGhpcy5zaG9ydEVuZGVkLHR9LFJmLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhcmVudC5pbnNlcnQoZSx0aGlzKSxlLmFwcGVuZCh0aGlzKSx0aGlzfSxSZi5wcm90b3R5cGUudW53cmFwPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZmlyc3RDaGlsZDtlOyl7dmFyIHQ9ZS5uZXh0O3RoaXMuaW5zZXJ0KGUsdGhpcywhMCksZT10fXRoaXMucmVtb3ZlKCl9LFJmLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhcmVudCx0PXRoaXMubmV4dCxuPXRoaXMucHJldjtyZXR1cm4gZSYmKGUuZmlyc3RDaGlsZD09PXRoaXM/KGUuZmlyc3RDaGlsZD10KSYmKHQucHJldj1udWxsKTpuLm5leHQ9dCxlLmxhc3RDaGlsZD09PXRoaXM/KGUubGFzdENoaWxkPW4pJiYobi5uZXh0PW51bGwpOnQucHJldj1uLHRoaXMucGFyZW50PXRoaXMubmV4dD10aGlzLnByZXY9bnVsbCksdGhpc30sUmYucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihlKXtlLnBhcmVudCYmZS5yZW1vdmUoKTt2YXIgdD10aGlzLmxhc3RDaGlsZDtyZXR1cm4gdD8oKHQubmV4dD1lKS5wcmV2PXQsdGhpcy5sYXN0Q2hpbGQ9ZSk6dGhpcy5sYXN0Q2hpbGQ9dGhpcy5maXJzdENoaWxkPWUsZS5wYXJlbnQ9dGhpcyxlfSxSZi5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKGUsdCxuKXtlLnBhcmVudCYmZS5yZW1vdmUoKTt2YXIgcj10LnBhcmVudHx8dGhpcztyZXR1cm4gbj8odD09PXIuZmlyc3RDaGlsZD9yLmZpcnN0Q2hpbGQ9ZTp0LnByZXYubmV4dD1lLGUucHJldj10LnByZXYsKGUubmV4dD10KS5wcmV2PWUpOih0PT09ci5sYXN0Q2hpbGQ/ci5sYXN0Q2hpbGQ9ZTp0Lm5leHQucHJldj1lLGUubmV4dD10Lm5leHQsKGUucHJldj10KS5uZXh0PWUpLGUucGFyZW50PXIsZX0sUmYucHJvdG90eXBlLmdldEFsbD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj10aGlzLmZpcnN0Q2hpbGQ7bjtuPUVmKG4sdGhpcykpbi5uYW1lPT09ZSYmdC5wdXNoKG4pO3JldHVybiB0fSxSZi5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXtpZih0aGlzLmZpcnN0Q2hpbGQpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZmlyc3RDaGlsZDt0O3Q9RWYodCx0aGlzKSllLnB1c2godCk7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspKHQ9ZVtuXSkucGFyZW50PXQuZmlyc3RDaGlsZD10Lmxhc3RDaGlsZD10Lm5leHQ9dC5wcmV2PW51bGx9cmV0dXJuIHRoaXMuZmlyc3RDaGlsZD10aGlzLmxhc3RDaGlsZD1udWxsLHRoaXN9LFJmLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT10JiYodD17fSk7dmFyIHI9dGhpcy5maXJzdENoaWxkO2lmKF9mKHRoaXMpKXJldHVybiExO2lmKHIpZG97aWYoMT09PXIudHlwZSl7aWYoci5hdHRyKCJkYXRhLW1jZS1ib2d1cyIpKWNvbnRpbnVlO2lmKGVbci5uYW1lXSlyZXR1cm4hMTtpZihfZihyKSlyZXR1cm4hMX1pZig4PT09ci50eXBlKXJldHVybiExO2lmKDM9PT1yLnR5cGUmJiFrZihyKSlyZXR1cm4hMTtpZigzPT09ci50eXBlJiZyLnBhcmVudCYmdFtyLnBhcmVudC5uYW1lXSYmU2YudGVzdChyLnZhbHVlKSlyZXR1cm4hMTtpZihuJiZuKHIpKXJldHVybiExfXdoaWxlKHI9RWYocix0aGlzKSk7cmV0dXJuITB9LFJmLnByb3RvdHlwZS53YWxrPWZ1bmN0aW9uKGUpe3JldHVybiBFZih0aGlzLG51bGwsZSl9LFJmKTtmdW5jdGlvbiBSZihlLHQpe3RoaXMubmFtZT1lLDE9PT0odGhpcy50eXBlPXQpJiYodGhpcy5hdHRyaWJ1dGVzPVtdLHRoaXMuYXR0cmlidXRlcy5tYXA9e30pfXZhciBBZj15dC5tYWtlTWFwLERmPWZ1bmN0aW9uKGUpe3ZhciB1PVtdLHM9KGU9ZXx8e30pLmluZGVudCxjPUFmKGUuaW5kZW50X2JlZm9yZXx8IiIpLGw9QWYoZS5pbmRlbnRfYWZ0ZXJ8fCIiKSxmPXlyLmdldEVuY29kZUZ1bmMoZS5lbnRpdHlfZW5jb2Rpbmd8fCJyYXciLGUuZW50aXRpZXMpLGQ9Imh0bWwiPT09ZS5lbGVtZW50X2Zvcm1hdDtyZXR1cm57c3RhcnQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhO2lmKHMmJmNbZV0mJjA8dS5sZW5ndGgmJjA8KGE9dVt1Lmxlbmd0aC0xXSkubGVuZ3RoJiYiXG4iIT09YSYmdS5wdXNoKCJcbiIpLHUucHVzaCgiPCIsZSksdClmb3Iocj0wLG89dC5sZW5ndGg7cjxvO3IrKylpPXRbcl0sdS5wdXNoKCIgIixpLm5hbWUsJz0iJyxmKGkudmFsdWUsITApLCciJyk7dVt1Lmxlbmd0aF09IW58fGQ/Ij4iOiIgLz4iLG4mJnMmJmxbZV0mJjA8dS5sZW5ndGgmJjA8KGE9dVt1Lmxlbmd0aC0xXSkubGVuZ3RoJiYiXG4iIT09YSYmdS5wdXNoKCJcbiIpfSxlbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ7dS5wdXNoKCI8LyIsZSwiPiIpLHMmJmxbZV0mJjA8dS5sZW5ndGgmJjA8KHQ9dVt1Lmxlbmd0aC0xXSkubGVuZ3RoJiYiXG4iIT09dCYmdS5wdXNoKCJcbiIpfSx0ZXh0OmZ1bmN0aW9uKGUsdCl7MDxlLmxlbmd0aCYmKHVbdS5sZW5ndGhdPXQ/ZTpmKGUpKX0sY2RhdGE6ZnVuY3Rpb24oZSl7dS5wdXNoKCI8IVtDREFUQVsiLGUsIl1dPiIpfSxjb21tZW50OmZ1bmN0aW9uKGUpe3UucHVzaCgiXHgzYyEtLSIsZSwiLS1ceDNlIil9LHBpOmZ1bmN0aW9uKGUsdCl7dD91LnB1c2goIjw/IixlLCIgIixmKHQpLCI/PiIpOnUucHVzaCgiPD8iLGUsIj8+IikscyYmdS5wdXNoKCJcbiIpfSxkb2N0eXBlOmZ1bmN0aW9uKGUpe3UucHVzaCgiPCFET0NUWVBFIixlLCI+IixzPyJcbiI6IiIpfSxyZXNldDpmdW5jdGlvbigpe3UubGVuZ3RoPTB9LGdldENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS5qb2luKCIiKS5yZXBsYWNlKC9cbiQvLCIiKX19fSxPZj1mdW5jdGlvbih0LHApe3ZvaWQgMD09PXAmJihwPVJyKCkpO3ZhciBnPURmKHQpOyh0PXR8fHt9KS52YWxpZGF0ZT0hKCJ2YWxpZGF0ZSJpbiB0KXx8dC52YWxpZGF0ZTtyZXR1cm57c2VyaWFsaXplOmZ1bmN0aW9uKGUpe3ZhciBmPXQudmFsaWRhdGUsZD17MzpmdW5jdGlvbihlKXtnLnRleHQoZS52YWx1ZSxlLnJhdyl9LDg6ZnVuY3Rpb24oZSl7Zy5jb21tZW50KGUudmFsdWUpfSw3OmZ1bmN0aW9uKGUpe2cucGkoZS5uYW1lLGUudmFsdWUpfSwxMDpmdW5jdGlvbihlKXtnLmRvY3R5cGUoZS52YWx1ZSl9LDQ6ZnVuY3Rpb24oZSl7Zy5jZGF0YShlLnZhbHVlKX0sMTE6ZnVuY3Rpb24oZSl7aWYoZT1lLmZpcnN0Q2hpbGQpZm9yKDttKGUpLGU9ZS5uZXh0Oyk7fX07Zy5yZXNldCgpO3ZhciBtPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1LHMsYyxsPWRbZS50eXBlXTtpZihsKWwoZSk7ZWxzZXtpZih0PWUubmFtZSxuPWUuc2hvcnRFbmRlZCxyPWUuYXR0cmlidXRlcyxmJiZyJiYxPHIubGVuZ3RoJiYoKGE9W10pLm1hcD17fSxjPXAuZ2V0RWxlbWVudFJ1bGUoZS5uYW1lKSkpe2Zvcih1PTAscz1jLmF0dHJpYnV0ZXNPcmRlci5sZW5ndGg7dTxzO3UrKykobz1jLmF0dHJpYnV0ZXNPcmRlclt1XSlpbiByLm1hcCYmKGk9ci5tYXBbb10sYS5tYXBbb109aSxhLnB1c2goe25hbWU6byx2YWx1ZTppfSkpO2Zvcih1PTAscz1yLmxlbmd0aDt1PHM7dSsrKShvPXJbdV0ubmFtZSlpbiBhLm1hcHx8KGk9ci5tYXBbb10sYS5tYXBbb109aSxhLnB1c2goe25hbWU6byx2YWx1ZTppfSkpO3I9YX1pZihnLnN0YXJ0KGUubmFtZSxyLG4pLCFuKXtpZihlPWUuZmlyc3RDaGlsZClmb3IoO20oZSksZT1lLm5leHQ7KTtnLmVuZCh0KX19fTtyZXR1cm4gMSE9PWUudHlwZXx8dC5pbm5lcj9kWzExXShlKTptKGUpLGcuZ2V0Q29udGVudCgpfX19LEJmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucmVwbGFjZShuZXcgUmVnRXhwKHQucHJlZml4KyJfWzAtOV0rIiwiZyIpLGZ1bmN0aW9uKGUpe3JldHVybiBkZSh0LnVyaXMsZSkuZ2V0T3IoZSl9KX0sUGY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT0xLGE9ZS5nZXRTaG9ydEVuZGVkRWxlbWVudHMoKSx1PS88KFshP1wvXSk/KFtBLVphLXowLTlcLV9cOlwuXSspKCg/OlxzK1teIlwnPl0rKD86KD86IlteIl0qIil8KD86XCdbXlwnXSpcJyl8W14+XSopKSp8XC98XHMrKT4vZztmb3IodS5sYXN0SW5kZXg9cj1uO289dS5leGVjKHQpOyl7aWYocj11Lmxhc3RJbmRleCwiLyI9PT1vWzFdKWktLTtlbHNlIGlmKCFvWzFdKXtpZihvWzJdaW4gYSljb250aW51ZTtpKyt9aWYoMD09PWkpYnJlYWt9cmV0dXJuIHJ9LExmPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5leGVjKHQpO2lmKG4pe3ZhciByPW5bMV0sbz1uWzJdO3JldHVybiJzdHJpbmciPT10eXBlb2YgciYmImRhdGEtbWNlLWJvZ3VzIj09PXIudG9Mb3dlckNhc2UoKT9vOm51bGx9cmV0dXJuIG51bGx9O2Z1bmN0aW9uIElmKFcsSyl7dm9pZCAwPT09SyYmKEs9UnIoKSk7dmFyIGU9ZnVuY3Rpb24oKXt9OyExIT09KFc9V3x8e30pLmZpeF9zZWxmX2Nsb3NpbmcmJihXLmZpeF9zZWxmX2Nsb3Npbmc9ITApO3ZhciBYPVcuY29tbWVudD9XLmNvbW1lbnQ6ZSxZPVcuY2RhdGE/Vy5jZGF0YTplLEc9Vy50ZXh0P1cudGV4dDplLEo9Vy5zdGFydD9XLnN0YXJ0OmUsUT1XLmVuZD9XLmVuZDplLFo9Vy5waT9XLnBpOmUsZWU9Vy5kb2N0eXBlP1cuZG9jdHlwZTplLG49ZnVuY3Rpb24obSxlKXt2b2lkIDA9PT1lJiYoZT0iaHRtbCIpO2Zvcih2YXIgdCxuLHIscCxvLGksYSxnLHUscyxjLGwsZixoLHYsZCx5LGIsQyx3PW0uaHRtbCx4PTAsUz1bXSxOPTAsRT15ci5kZWNvZGUsaz15dC5tYWtlTWFwKCJzcmMsaHJlZixkYXRhLGJhY2tncm91bmQsZm9ybWFjdGlvbixwb3N0ZXIseGxpbms6aHJlZiIpLF89LygoamF2YXx2YilzY3JpcHR8bWh0bWwpOi9pLFQ9Imh0bWwiPT09ZT8wOjEsUj1mdW5jdGlvbihlKXt2YXIgdCxuO2Zvcih0PVMubGVuZ3RoO3QtLSYmU1t0XS5uYW1lIT09ZTspO2lmKDA8PXQpe2ZvcihuPVMubGVuZ3RoLTE7dDw9bjtuLS0pKGU9U1tuXSkudmFsaWQmJlEoZS5uYW1lKTtTLmxlbmd0aD10fX0sQT1mdW5jdGlvbihlLHQpe3JldHVybiBHKEJmKGUsbSksdCl9LEQ9ZnVuY3Rpb24oZSl7IiIhPT1lJiYoIj4iPT09ZS5jaGFyQXQoMCkmJihlPSIgIitlKSxXLmFsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzfHwiW2lmIiE9PWUuc3Vic3RyKDAsMykudG9Mb3dlckNhc2UoKXx8KGU9IiAiK2UpLFgoQmYoZSxtKSkpfSxPPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZXx8IiIscj0hJGUobiwiLS0iKSxvPWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT1uJiYobj0wKTt2YXIgcj1lLnRvTG93ZXJDYXNlKCk7aWYoLTEhPT1yLmluZGV4T2YoIltpZiAiLG4pJiYodT1uLC9eXHMqXFtpZiBbXHdcV10rXF0+Lio8IVxbZW5kaWZcXSgtLSE/KT8+Ly50ZXN0KHIuc3Vic3RyKHUpKSkpe3ZhciBvPXIuaW5kZXhPZigiW2VuZGlmXSIsbik7cmV0dXJuIHIuaW5kZXhPZigiPiIsbyl9aWYodCl7dmFyIGk9ci5pbmRleE9mKCI+IixuKTtyZXR1cm4tMSE9PWk/aTpyLmxlbmd0aH12YXIgYT0vLS0hPz4vO2EubGFzdEluZGV4PW47dmFyIHUscz1hLmV4ZWMoZSk7cmV0dXJuIHM/cy5pbmRleCtzWzBdLmxlbmd0aDpyLmxlbmd0aH0odyxyLHQpO3JldHVybiBlPXcuc3Vic3RyKHQsby10KSxEKHI/bitlOmUpLG8rMX0sQj1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdSxzLGMsbDtpZih0PXQudG9Mb3dlckNhc2UoKSx1PXQgaW4gRj90OkUobnx8cnx8b3x8IiIpLG49ZGUobS51cmlzLHUpLmdldE9yKHUpLFUmJiFnJiYhMT09KDA9PT0ocz10KS5pbmRleE9mKCJkYXRhLSIpfHwwPT09cy5pbmRleE9mKCJhcmlhLSIpKSl7aWYoIShpPWhbdF0pJiZ2KXtmb3IoYT12Lmxlbmd0aDthLS0mJiEoaT12W2FdKS5wYXR0ZXJuLnRlc3QodCk7KTstMT09PWEmJihpPW51bGwpfWlmKCFpKXJldHVybjtpZihpLnZhbGlkVmFsdWVzJiYhKG4gaW4gaS52YWxpZFZhbHVlcykpcmV0dXJufWlmKGtbdF0mJiFXLmFsbG93X3NjcmlwdF91cmxzKXt2YXIgZj1uLnJlcGxhY2UoL1tcc1x1MDAwMC1cdTAwMUZdKy9nLCIiKTt0cnl7Zj1kZWNvZGVVUklDb21wb25lbnQoZil9Y2F0Y2goZCl7Zj11bmVzY2FwZShmKX1pZihfLnRlc3QoZikpcmV0dXJuO2lmKGw9ZiwhKGM9VykuYWxsb3dfaHRtbF9kYXRhX3VybHMmJigvXmRhdGE6aW1hZ2VcLy9pLnRlc3QobCk/ITE9PT1jLmFsbG93X3N2Z19kYXRhX3VybHMmJi9eZGF0YTppbWFnZVwvc3ZnXCt4bWwvaS50ZXN0KGwpOi9eZGF0YTovaS50ZXN0KGwpKSlyZXR1cm59ZyYmKHQgaW4ga3x8MD09PXQuaW5kZXhPZigib24iKSl8fChwLm1hcFt0XT1uLHAucHVzaCh7bmFtZTp0LHZhbHVlOm59KSl9LFA9bmV3IFJlZ0V4cCgiPCg/Oig/OiEtLShbXFx3XFxXXSo/KS0tIT8+KXwoPzohXFxbQ0RBVEFcXFsoW1xcd1xcV10qPylcXF1cXF0+KXwoPzohW0RkXVtPb11bQ2NdW1R0XVtZeV1bUHBdW0VlXShbXFx3XFxXXSo/KT4pfCg/OiEoLS0pPyl8KD86XFw/KFteXFxzXFwvPD5dKykgPyhbXFx3XFxXXSo/KVs/L10+KXwoPzpcXC8oW0EtWmEtel1bQS1aYS16MC05XFwtX1xcOlxcLl0qKT4pfCg/OihbQS1aYS16XVtBLVphLXowLTlcXC1fXFw6XFwuXSopKCg/OlxccytbXlwiJz5dKyg/Oig/OlwiW15cIl0qXCIpfCg/OidbXiddKicpfFtePl0qKSkqfFxcL3xcXHMrKT4pKSIsImciKSxMPS8oW1x3OlwtXSspKD86XHMqPVxzKig/Oig/OlwiKCg/OlteXCJdKSopXCIpfCg/OlwnKCg/OlteXCddKSopXCcpfChbXj5cc10rKSkpPy9nLEk9Sy5nZXRTaG9ydEVuZGVkRWxlbWVudHMoKSxNPVcuc2VsZl9jbG9zaW5nX2VsZW1lbnRzfHxLLmdldFNlbGZDbG9zaW5nRWxlbWVudHMoKSxGPUsuZ2V0Qm9vbEF0dHJzKCksVT1XLnZhbGlkYXRlLHo9Vy5yZW1vdmVfaW50ZXJuYWxzLGo9Vy5maXhfc2VsZl9jbG9zaW5nLEg9Sy5nZXRTcGVjaWFsRWxlbWVudHMoKSxWPXcrIj4iO3Q9UC5leGVjKFYpOyl7dmFyIHE9dFswXTtpZih4PHQuaW5kZXgmJkEoRSh3LnN1YnN0cih4LHQuaW5kZXgteCkpKSxuPXRbN10pIjoiPT09KG49bi50b0xvd2VyQ2FzZSgpKS5jaGFyQXQoMCkmJihuPW4uc3Vic3RyKDEpKSxSKG4pO2Vsc2UgaWYobj10WzhdKXtpZih0LmluZGV4K3EubGVuZ3RoPncubGVuZ3RoKXtBKEUody5zdWJzdHIodC5pbmRleCkpKSx4PXQuaW5kZXgrcS5sZW5ndGg7Y29udGludWV9IjoiPT09KG49bi50b0xvd2VyQ2FzZSgpKS5jaGFyQXQoMCkmJihuPW4uc3Vic3RyKDEpKSx1PW4gaW4gSSxqJiZNW25dJiYwPFMubGVuZ3RoJiZTW1MubGVuZ3RoLTFdLm5hbWU9PT1uJiZSKG4pO3ZhciAkPUxmKEwsdFs5XSk7aWYobnVsbCE9PSQpe2lmKCJhbGwiPT09JCl7eD1QZihLLHcsUC5sYXN0SW5kZXgpLFAubGFzdEluZGV4PXg7Y29udGludWV9Yz0hMX1pZighVXx8KHM9Sy5nZXRFbGVtZW50UnVsZShuKSkpe2lmKGM9ITAsVSYmKGg9cy5hdHRyaWJ1dGVzLHY9cy5hdHRyaWJ1dGVQYXR0ZXJucyksKGY9dFs5XSk/KChnPS0xIT09Zi5pbmRleE9mKCJkYXRhLW1jZS10eXBlIikpJiZ6JiYoYz0hMSksKHA9W10pLm1hcD17fSxmLnJlcGxhY2UoTCxCKSk6KHA9W10pLm1hcD17fSxVJiYhZyl7aWYoZD1zLmF0dHJpYnV0ZXNSZXF1aXJlZCx5PXMuYXR0cmlidXRlc0RlZmF1bHQsYj1zLmF0dHJpYnV0ZXNGb3JjZWQscy5yZW1vdmVFbXB0eUF0dHJzJiYhcC5sZW5ndGgmJihjPSExKSxiKWZvcihvPWIubGVuZ3RoO28tLTspYT0obD1iW29dKS5uYW1lLCJ7JHVpZH0iPT09KEM9bC52YWx1ZSkmJihDPSJtY2VfIitOKyspLHAubWFwW2FdPUMscC5wdXNoKHtuYW1lOmEsdmFsdWU6Q30pO2lmKHkpZm9yKG89eS5sZW5ndGg7by0tOykoYT0obD15W29dKS5uYW1lKWluIHAubWFwfHwoInskdWlkfSI9PT0oQz1sLnZhbHVlKSYmKEM9Im1jZV8iK04rKykscC5tYXBbYV09QyxwLnB1c2goe25hbWU6YSx2YWx1ZTpDfSkpO2lmKGQpe2ZvcihvPWQubGVuZ3RoO28tLSYmIShkW29daW4gcC5tYXApOyk7LTE9PT1vJiYoYz0hMSl9aWYobD1wLm1hcFsiZGF0YS1tY2UtYm9ndXMiXSl7aWYoImFsbCI9PT1sKXt4PVBmKEssdyxQLmxhc3RJbmRleCksUC5sYXN0SW5kZXg9eDtjb250aW51ZX1jPSExfX1jJiZKKG4scCx1KX1lbHNlIGM9ITE7aWYocj1IW25dKXtyLmxhc3RJbmRleD14PXQuaW5kZXgrcS5sZW5ndGgseD0odD1yLmV4ZWModykpPyhjJiYoaT13LnN1YnN0cih4LHQuaW5kZXgteCkpLHQuaW5kZXgrdFswXS5sZW5ndGgpOihpPXcuc3Vic3RyKHgpLHcubGVuZ3RoKSxjJiYoMDxpLmxlbmd0aCYmQShpLCEwKSxRKG4pKSxQLmxhc3RJbmRleD14O2NvbnRpbnVlfXV8fChmJiZmLmluZGV4T2YoIi8iKT09PWYubGVuZ3RoLTE/YyYmUShuKTpTLnB1c2goe25hbWU6bix2YWxpZDpjfSkpfWVsc2UgaWYobj10WzFdKUQobik7ZWxzZSBpZihuPXRbMl0pe2lmKCEoMT09VHx8Vy5wcmVzZXJ2ZV9jZGF0YXx8MDxTLmxlbmd0aCYmSy5pc1ZhbGlkQ2hpbGQoU1tTLmxlbmd0aC0xXS5uYW1lLCIjY2RhdGEiKSkpe3g9TygiIix0LmluZGV4KzIpLFAubGFzdEluZGV4PXg7Y29udGludWV9WShuKX1lbHNlIGlmKG49dFszXSllZShuKTtlbHNle2lmKChuPXRbNF0pfHwiPCEiPT09cSl7eD1PKG4sdC5pbmRleCtxLmxlbmd0aCksUC5sYXN0SW5kZXg9eDtjb250aW51ZX1pZihuPXRbNV0pe2lmKDEhPVQpe3g9TygiPyIsdC5pbmRleCsyKSxQLmxhc3RJbmRleD14O2NvbnRpbnVlfVoobix0WzZdKX19eD10LmluZGV4K3EubGVuZ3RofWZvcih4PHcubGVuZ3RoJiZBKEUody5zdWJzdHIoeCkpKSxvPVMubGVuZ3RoLTE7MDw9bztvLS0pKG49U1tvXSkudmFsaWQmJlEobi5uYW1lKX07cmV0dXJue3BhcnNlOmZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9Imh0bWwiKSxuKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPS9kYXRhOlteO10rO2Jhc2U2NCwoW2EtejAtOVwrXC89XSspL2dpLHI9W10sbz17fSxpPWZ1KCJpbWciKSxhPTAsdT0wO3Q9bi5leGVjKGUpOyl7dmFyIHM9dFswXSxjPWkrIl8iK3UrKztvW2NdPXMsYTx0LmluZGV4JiZyLnB1c2goZS5zdWJzdHIoYSx0LmluZGV4LWEpKSxyLnB1c2goYyksYT10LmluZGV4K3MubGVuZ3RofXJldHVybiAwPT09YT97cHJlZml4OmksdXJpczpvLGh0bWw6ZX06KGE8ZS5sZW5ndGgmJnIucHVzaChlLnN1YnN0cihhKSkse3ByZWZpeDppLHVyaXM6byxodG1sOnIuam9pbigiIil9KX0oZSksdCl9fX0oSWY9SWZ8fHt9KS5maW5kRW5kVGFnPVBmO3ZhciBNZixGZixVZix6ZixqZixIZj1JZixWZj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEsdSxzLGM9dCxsPS88KFx3KykgW14+XSpkYXRhLW1jZS1ib2d1cz0iYWxsIltePl0qPi9nLGY9ZS5zY2hlbWE7YT1lLmdldFRlbXBBdHRycygpLHU9YyxzPW5ldyBSZWdFeHAoWyJcXHM/KCIrYS5qb2luKCJ8IikrJyk9IlteIl0rIiddLmpvaW4oInwiKSwiZ2kiKSxjPXUucmVwbGFjZShzLCIiKTtmb3IodmFyIGQ9Zi5nZXRTaG9ydEVuZGVkRWxlbWVudHMoKTtpPWwuZXhlYyhjKTspcj1sLmxhc3RJbmRleCxvPWlbMF0ubGVuZ3RoLG49ZFtpWzFdXT9yOkhmLmZpbmRFbmRUYWcoZixjLHIpLGM9Yy5zdWJzdHJpbmcoMCxyLW8pK2Muc3Vic3RyaW5nKG4pLGwubGFzdEluZGV4PXItbztyZXR1cm4gQ3UoYyl9LHFmPVZmLCRmPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHM7aWYodC5mb3JtYXQ9bix0LmdldD0hMCx0LmdldElubmVyPSEwLHQubm9fZXZlbnRzfHxlLmZpcmUoIkJlZm9yZUdldENvbnRlbnQiLHQpLCJyYXciPT09dC5mb3JtYXQpbz15dC50cmltKHFmKGUuc2VyaWFsaXplcixyLmlubmVySFRNTCkpO2Vsc2UgaWYoInRleHQiPT09dC5mb3JtYXQpbz1DdShyLmlubmVyVGV4dHx8ci50ZXh0Q29udGVudCk7ZWxzZXtpZigidHJlZSI9PT10LmZvcm1hdClyZXR1cm4gZS5zZXJpYWxpemVyLnNlcmlhbGl6ZShyLHQpO2E9KGk9ZSkuc2VyaWFsaXplci5zZXJpYWxpemUocix0KSx1PVlzKGkpLHM9bmV3IFJlZ0V4cCgiXig8Iit1KyJbXj5dKj4oJm5ic3A7fCYjMTYwO3xcXHN8XHhhMHw8YnIgXFwvPnwpPFxcLyIrdSsiPltcclxuXSp8PGJyIFxcLz5bXHJcbl0qKSQiKSxvPWEucmVwbGFjZShzLCIiKX1yZXR1cm4idGV4dCI9PT10LmZvcm1hdHx8bnIoQ3QuZnJvbURvbShyKSk/dC5jb250ZW50PW86dC5jb250ZW50PXl0LnRyaW0obyksdC5ub19ldmVudHN8fGUuZmlyZSgiR2V0Q29udGVudCIsdCksdC5jb250ZW50fSxXZj15dC5lYWNoLEtmPWZ1bmN0aW9uKG8pe3RoaXMuY29tcGFyZT1mdW5jdGlvbihlLHQpe2lmKGUubm9kZU5hbWUhPT10Lm5vZGVOYW1lKXJldHVybiExO3ZhciBuPWZ1bmN0aW9uKG4pe3ZhciByPXt9O3JldHVybiBXZihvLmdldEF0dHJpYnMobiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOzAhPT10LmluZGV4T2YoIl8iKSYmInN0eWxlIiE9PXQmJjAhPT10LmluZGV4T2YoImRhdGEtIikmJihyW3RdPW8uZ2V0QXR0cmliKG4sdCkpfSkscn0scj1mdW5jdGlvbihlLHQpe3ZhciBuLHI7Zm9yKHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKXtpZih2b2lkIDA9PT0obj10W3JdKSlyZXR1cm4hMTtpZihlW3JdIT09bilyZXR1cm4hMTtkZWxldGUgdFtyXX1mb3IociBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkocikpcmV0dXJuITE7cmV0dXJuITB9O3JldHVybiEhcihuKGUpLG4odCkpJiYoISFyKG8ucGFyc2VTdHlsZShvLmdldEF0dHJpYihlLCJzdHlsZSIpKSxvLnBhcnNlU3R5bGUoby5nZXRBdHRyaWIodCwic3R5bGUiKSkpJiYoIWtsKGUpJiYha2wodCkpKX19LFhmPWZ1bmN0aW9uKG4scixvKXtyZXR1cm4gQi5mcm9tKG8uY29udGFpbmVyKCkpLmZpbHRlcihFbikuZXhpc3RzKGZ1bmN0aW9uKGUpe3ZhciB0PW4/MDotMTtyZXR1cm4gcihlLmRhdGEuY2hhckF0KG8ub2Zmc2V0KCkrdCkpfSl9LFlmPU4oWGYsITAsVGwpLEdmPU4oWGYsITEsVGwpLEpmPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY29udGFpbmVyKCk7cmV0dXJuIEVuKHQpJiYwPT09dC5kYXRhLmxlbmd0aH0sUWY9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIEIuZnJvbShCYyh0PzA6LTEsZSkpLmZpbHRlcihuKS5pc1NvbWUoKX19LFpmPWZ1bmN0aW9uKGUpe3JldHVybiJJTUciPT09ZS5ub2RlTmFtZSYmImJsb2NrIj09PUZuKEN0LmZyb21Eb20oZSksImRpc3BsYXkiKX0sZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIERuKGUpJiYhKHZuKHQ9ZSkmJiJhbGwiPT09dC5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikpO3ZhciB0fSx0ZD1RZighMCxaZiksbmQ9UWYoITEsWmYpLHJkPVFmKCEwLHhuKSxvZD1RZighMSx4biksaWQ9UWYoITAsZWQpLGFkPVFmKCExLGVkKSx1ZD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPUN0LmZyb21Eb20oZSksYT1DdC5mcm9tRG9tKHQpO3JldHVybiBuPWEscj0icHJlLGNvZGUiLG89TihEdCxpKSxldShuLHIsbykuaXNTb21lKCl9LHNkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFp1KHQpJiYhMT09PShyPWUsRW4obz10KSYmL15bIFx0XHJcbl0qJC8udGVzdChvLmRhdGEpJiYhMT09PXVkKHIsbykpfHx2bihuPXQpJiYiQSI9PT1uLm5vZGVOYW1lJiZuLmhhc0F0dHJpYnV0ZSgibmFtZSIpfHxjZCh0KTt2YXIgbixyLG99LGNkPUNuKCJkYXRhLW1jZS1ib29rbWFyayIpLGxkPUNuKCJkYXRhLW1jZS1ib2d1cyIpLGZkPShNZj0iZGF0YS1tY2UtYm9ndXMiLEZmPSJhbGwiLGZ1bmN0aW9uKGUpe3JldHVybiB2bihlKSYmZS5nZXRBdHRyaWJ1dGUoTWYpPT09RmZ9KSxkZD1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMCksZnVuY3Rpb24oZSx0KXt2YXIgbixyPTA7aWYoc2QoZSxlKSlyZXR1cm4hMTtpZighKG49ZS5maXJzdENoaWxkKSlyZXR1cm4hMDt2YXIgbz1uZXcgQWkobixlKTtkb3tpZih0KXtpZihmZChuKSl7bj1vLm5leHQoITApO2NvbnRpbnVlfWlmKGxkKG4pKXtuPW8ubmV4dCgpO2NvbnRpbnVlfX1pZihSbihuKSlyKyssbj1vLm5leHQoKTtlbHNle2lmKHNkKGUsbikpcmV0dXJuITE7bj1vLm5leHQoKX19d2hpbGUobik7cmV0dXJuIHI8PTF9KGUuZG9tKCksdCl9LG1kPWZ1bmN0aW9uKGUpe3ZhciB0PVlhKGUsImJyIiksbj1IKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPWUuZG9tKCk7bjspdC5wdXNoKEN0LmZyb21Eb20obikpLG49bi5sYXN0Q2hpbGQ7cmV0dXJuIHR9KGUpLnNsaWNlKC0xKSxZbik7dC5sZW5ndGg9PT1uLmxlbmd0aCYmeihuLG5uKX0scGQ9ZnVuY3Rpb24oZSl7dG4oZSksWnQoZSxDdC5mcm9tSHRtbCgnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nKSl9LGdkPWZ1bmN0aW9uKG4peyR0KG4pLmVhY2goZnVuY3Rpb24odCl7RnQodCkuZWFjaChmdW5jdGlvbihlKXtLbihuKSYmWW4odCkmJktuKGUpJiZubih0KX0pfSl9LGhkPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gQnQodCxlKT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1BKHQpP3Q6ZyxyPWUuZG9tKCksbz1bXTtudWxsIT09ci5wYXJlbnROb2RlJiZyLnBhcmVudE5vZGUhPT11bmRlZmluZWQ7KXt2YXIgaT1yLnBhcmVudE5vZGUsYT1DdC5mcm9tRG9tKGkpO2lmKG8ucHVzaChhKSwhMD09PW4oYSkpYnJlYWs7cj1pfXJldHVybiBvfShlLGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfHxEdChlLHQpfSkuc2xpY2UoMCwtMSk6W119LHZkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGhkKGUsdCx4KCExKSl9LHlkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuW2VdLmNvbmNhdCh2ZChlLHQpKX0sYmQ9ZnVuY3Rpb24oZSx0LG4pe2lmKDAhPT1uKXt2YXIgcixvLGksYT1lLmRhdGEuc2xpY2UodCx0K24pLHU9dCtuPj1lLmRhdGEubGVuZ3RoLHM9MD09PXQ7ZS5yZXBsYWNlRGF0YSh0LG4sKG89cyxpPXUsVyhyPWEsZnVuY3Rpb24oZSx0KXtyZXR1cm4gVGwodCl8fF9sKHQpP2UucHJldmlvdXNDaGFySXNTcGFjZXx8IiI9PT1lLnN0ciYmb3x8ZS5zdHIubGVuZ3RoPT09ci5sZW5ndGgtMSYmaT97cHJldmlvdXNDaGFySXNTcGFjZTohMSxzdHI6ZS5zdHIrRHJ9OntwcmV2aW91c0NoYXJJc1NwYWNlOiEwLHN0cjplLnN0cisiICJ9OntwcmV2aW91c0NoYXJJc1NwYWNlOiExLHN0cjplLnN0cit0fX0se3ByZXZpb3VzQ2hhcklzU3BhY2U6ITEsc3RyOiIifSkuc3RyKSl9fSxDZD1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZGF0YS5zbGljZSh0KSxyPW4ubGVuZ3RoLVhlKG4pLmxlbmd0aDtyZXR1cm4gYmQoZSx0LHIpfSx3ZD1mdW5jdGlvbihlLHQpe3JldHVybiByPWUsbz0obj10KS5jb250YWluZXIoKSxpPW4ub2Zmc2V0KCksITE9PT1Tcy5pc1RleHRQb3NpdGlvbihuKSYmbz09PXIucGFyZW50Tm9kZSYmaT5Tcy5iZWZvcmUocikub2Zmc2V0KCk/U3ModC5jb250YWluZXIoKSx0Lm9mZnNldCgpLTEpOnQ7dmFyIG4scixvLGl9LHhkPWZ1bmN0aW9uKGUpe3JldHVybiBadShlLnByZXZpb3VzU2libGluZyk/Qi5zb21lKCh0PWUucHJldmlvdXNTaWJsaW5nLEVuKHQpP1NzKHQsdC5kYXRhLmxlbmd0aCk6U3MuYWZ0ZXIodCkpKTplLnByZXZpb3VzU2libGluZz9tbChlLnByZXZpb3VzU2libGluZyk6Qi5ub25lKCk7dmFyIHR9LFNkPWZ1bmN0aW9uKGUpe3JldHVybiBadShlLm5leHRTaWJsaW5nKT9CLnNvbWUoKHQ9ZS5uZXh0U2libGluZyxFbih0KT9Tcyh0LDApOlNzLmJlZm9yZSh0KSkpOmUubmV4dFNpYmxpbmc/ZGwoZS5uZXh0U2libGluZyk6Qi5ub25lKCk7dmFyIHR9LE5kPWZ1bmN0aW9uKHIsbyl7cmV0dXJuIHhkKG8pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gU2Qobyl9KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGU9cix0PW8sbj1Tcy5iZWZvcmUodC5wcmV2aW91c1NpYmxpbmc/dC5wcmV2aW91c1NpYmxpbmc6dC5wYXJlbnROb2RlKSxmbChlLG4pLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gbGwoZSxTcy5hZnRlcih0KSl9LEIuc29tZSk7dmFyIGUsdCxufSl9LEVkPWZ1bmN0aW9uKG4scil7cmV0dXJuIFNkKHIpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4geGQocil9KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIHQ9cixsbChlPW4sU3MuYWZ0ZXIodCkpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gZmwoZSxTcy5iZWZvcmUodCkpfSxCLnNvbWUpO3ZhciBlLHR9KX0sa2Q9ZnVuY3Rpb24oZSx0LG4pe3JldHVybihlP0VkOk5kKSh0LG4pLm1hcChOKHdkLG4pKX0sX2Q9ZnVuY3Rpb24odCxuLGUpe2UuZm9sZChmdW5jdGlvbigpe3QuZm9jdXMoKX0sZnVuY3Rpb24oZSl7dC5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpLG4pfSl9LFRkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQmJmUuc2NoZW1hLmdldEJsb2NrRWxlbWVudHMoKS5oYXNPd25Qcm9wZXJ0eSh3dCh0KSl9LFJkPWZ1bmN0aW9uKGUpe2lmKGRkKGUpKXt2YXIgdD1DdC5mcm9tSHRtbCgnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nKTtyZXR1cm4gdG4oZSksWnQoZSx0KSxCLnNvbWUoU3MuYmVmb3JlKHQuZG9tKCkpKX1yZXR1cm4gQi5ub25lKCl9LEFkPWZ1bmN0aW9uKGUsdCxsKXt2YXIgbixyLG8saSxhPUZ0KGUpLmZpbHRlcihFdCksdT1VdChlKS5maWx0ZXIoRXQpO3JldHVybiBubihlKSxyPXUsbz10LGk9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHU9ZS5kb20oKSxzPXQuZG9tKCksYz11LmRhdGEubGVuZ3RoO3JldHVybiBvPXMsaT1sLGE9WWUoKHI9dSkuZGF0YSkubGVuZ3RoLHIuYXBwZW5kRGF0YShvLmRhdGEpLG5uKEN0LmZyb21Eb20obykpLGkmJkNkKHIsYSksbi5jb250YWluZXIoKT09PXM/U3ModSxjKTpufSwoKG49YSkuaXNTb21lKCkmJnIuaXNTb21lKCkmJm8uaXNTb21lKCk/Qi5zb21lKGkobi5nZXRPckRpZSgpLHIuZ2V0T3JEaWUoKSxvLmdldE9yRGllKCkpKTpCLm5vbmUoKSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBsJiYoYS5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0PWUuZG9tKCksbj1lLmRvbSgpLmxlbmd0aCxyPXQuZGF0YS5zbGljZSgwLG4pLG89ci5sZW5ndGgtWWUocikubGVuZ3RoLGJkKHQsbi1vLG8pO3ZhciB0LG4scixvfSksdS5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBDZChlLmRvbSgpLDApfSkpLHR9KX0sRGQ9ZnVuY3Rpb24odCxuLGUscil7dm9pZCAwPT09ciYmKHI9ITApO3ZhciBvLGksYT1rZChuLHQuZ2V0Qm9keSgpLGUuZG9tKCkpLHU9UWEoZSxOKFRkLHQpLChvPXQuZ2V0Qm9keSgpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpPT09b30pKSxzPUFkKGUsYSwoaT1lLG1lKHQuc2NoZW1hLmdldFRleHRJbmxpbmVFbGVtZW50cygpLHd0KGkpKSkpO3QuZG9tLmlzRW1wdHkodC5nZXRCb2R5KCkpPyh0LnNldENvbnRlbnQoIiIpLHQuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKCkpOnUuYmluZChSZCkuZm9sZChmdW5jdGlvbigpe3ImJl9kKHQsbixzKX0sZnVuY3Rpb24oZSl7ciYmX2QodCxuLEIuc29tZShlKSl9KX0sT2Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm57c3RhcnQ6ZSxlbmQ6dH19LEJkPVFpKFt7cmVtb3ZlVGFibGU6WyJlbGVtZW50Il19LHtlbXB0eUNlbGxzOlsiY2VsbHMiXX0se2RlbGV0ZUNlbGxTZWxlY3Rpb246WyJybmciLCJjZWxsIl19XSksUGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnUoQ3QuZnJvbURvbShlKSwidGQsdGgiLHQpfSxMZD1mdW5jdGlvbihlLHQpe3JldHVybiBldShlLCJ0YWJsZSIsdCl9LElkPWZ1bmN0aW9uKGUpe3JldHVybiFEdChlLnN0YXJ0LGUuZW5kKX0sTWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTGQoZS5zdGFydCx0KS5iaW5kKGZ1bmN0aW9uKHIpe3JldHVybiBMZChlLmVuZCx0KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB0PUR0KHIsZSksbj1yLHQ/Qi5zb21lKG4pOkIubm9uZSgpO3ZhciB0LG59KX0pfSxGZD1mdW5jdGlvbihlKXtyZXR1cm4gWWEoZSwidGQsdGgiKX0sVWQ9ZnVuY3Rpb24ocixlKXt2YXIgdD1QZChlLnN0YXJ0Q29udGFpbmVyLHIpLG49UGQoZS5lbmRDb250YWluZXIscik7cmV0dXJuIGUuY29sbGFwc2VkP0Iubm9uZSgpOkJ1KHQsbixPZCkuZm9sZChmdW5jdGlvbigpe3JldHVybiB0LmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gbi5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiBMZCh0LHIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIFooRmQoZSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gT2QoZSx0KX0pfSl9KX0sZnVuY3Rpb24odCl7cmV0dXJuIExkKHQscikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gZWUoRmQoZSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gT2QodCxlKX0pfSl9KX0sZnVuY3Rpb24oZSl7cmV0dXJuIHpkKHIsZSk/Qi5ub25lKCk6KG49cixMZCgodD1lKS5zdGFydCxuKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlZShGZChlKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBPZCh0LnN0YXJ0LGUpfSl9KSk7dmFyIHQsbn0pfSx6ZD1mdW5jdGlvbihlLHQpe3JldHVybiBNZCh0LGUpLmlzU29tZSgpfSxqZD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBJZChlKSYmemQobixlKX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gVWQobix0KX0pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIE1kKHQ9ZSxuKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3JuZzp0LHRhYmxlOmUsY2VsbHM6RmQoZSl9fSk7dmFyIHR9KX0sSGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWChlLGZ1bmN0aW9uKGUpe3JldHVybiBEdChlLHQpfSl9LFZkPWZ1bmN0aW9uKGUscixvKXtyZXR1cm4gZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG49bywhSWQodD1lKSYmTWQodCxuKS5leGlzdHMoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb20oKS5yb3dzO3JldHVybiAxPT09dC5sZW5ndGgmJjE9PT10WzBdLmNlbGxzLmxlbmd0aH0pJiZmZihlLnN0YXJ0LHIpO3ZhciB0LG59KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnR9KX0scWQ9ZnVuY3Rpb24obil7cmV0dXJuIEJ1KEhkKChyPW4pLmNlbGxzLHIucm5nLnN0YXJ0KSxIZChyLmNlbGxzLHIucm5nLmVuZCksZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5jZWxscy5zbGljZShlLHQrMSl9KS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9bi5jZWxscztyZXR1cm4gZS5sZW5ndGg9PT10Lmxlbmd0aD9CZC5yZW1vdmVUYWJsZShuLnRhYmxlKTpCZC5lbXB0eUNlbGxzKGUpfSk7dmFyIHJ9LCRkPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1PShuPWUsZnVuY3Rpb24oZSl7cmV0dXJuIER0KG4sZSl9KSxzPShvPXUsaT1QZCgocj10KS5zdGFydENvbnRhaW5lcixvKSxhPVBkKHIuZW5kQ29udGFpbmVyLG8pLEJ1KGksYSxPZCkpO3JldHVybiBWZChzLHQsdSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBCZC5kZWxldGVDZWxsU2VsZWN0aW9uKHQsZSl9KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGpkKHMsdCx1KS5iaW5kKHFkKX0pfSxXZD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4oOD09PXh0KHQ9ZSl8fCIjY29tbWVudCI9PT13dCh0KT9GdDokdCkoZSkuYmluZChXZCkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBCLnNvbWUoZSl9KX0sS2Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4geih0LHBkKSxlLnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbih0WzBdLmRvbSgpLDApLCEwfSxYZD1mdW5jdGlvbihlLHQsbil7dC5kZWxldGVDb250ZW50cygpO3ZhciByLG89V2QobikuZ2V0T3IobiksaT1DdC5mcm9tRG9tKGUuZG9tLmdldFBhcmVudChvLmRvbSgpLGUuZG9tLmlzQmxvY2spKTtpZihkZChpKSYmKHBkKGkpLGUuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKGkuZG9tKCksMCkpLCFEdChuLGkpKXt2YXIgYT1NdChpKS5pcyhuKT9bXTpNdChyPWkpLm1hcChIdCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBIKGUsZnVuY3Rpb24oZSl7cmV0dXJuIUR0KHIsZSl9KX0pLmdldE9yKFtdKTt6KGEuY29uY2F0KEh0KG4pKSxmdW5jdGlvbihlKXtEdChlLGkpfHxCdChlLGkpfHxubihlKX0pfXJldHVybiEwfSxZZD1mdW5jdGlvbihlLHQpe3JldHVybiBEZChlLCExLHQpLCEwfSxHZD1mdW5jdGlvbihuLGUscix0KXtyZXR1cm4gUWQoZSx0KS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIHQ9biwkZChlLHIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKE4oWWQsdCksTihLZCx0KSxOKFhkLHQpKX0pO3ZhciB0fSxmdW5jdGlvbihlKXtyZXR1cm4gWmQobixlKX0pLmdldE9yKCExKX0sSmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSyh5ZCh0LGUpLHRyKX0sUWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSyh5ZCh0LGUpLGZ1bmN0aW9uKGUpe3JldHVybiJjYXB0aW9uIj09PXd0KGUpfSl9LFpkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHBkKHQpLGUuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKHQuZG9tKCksMCksQi5zb21lKCEwKX0sZW09ZnVuY3Rpb24odSxzLGMsbCxmKXtyZXR1cm4gdWwoYyx1LmdldEJvZHkoKSxmKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBvPWMsaT1mLGE9ZSxkbCgocj1sKS5kb20oKSkuYmluZChmdW5jdGlvbih0KXtyZXR1cm4gbWwoci5kb20oKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBvP2kuaXNFcXVhbCh0KSYmYS5pc0VxdWFsKGUpOmkuaXNFcXVhbChlKSYmYS5pc0VxdWFsKHQpfSl9KS5nZXRPcighMCk/WmQodSxsKToodD1sLG49ZSxRZChzLEN0LmZyb21Eb20obi5nZXROb2RlKCkpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1EdChlLHQpfSkpO3ZhciB0LG4scixvLGksYX0pLm9yKEIuc29tZSghMCkpfSx0bT1mdW5jdGlvbihvLGksYSxlKXt2YXIgdT1Tcy5mcm9tUmFuZ2VTdGFydChvLnNlbGVjdGlvbi5nZXRSbmcoKSk7cmV0dXJuIEpkKGEsZSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gZGQoZSk/WmQobyxlKToodD1hLG49ZSxyPXUsdWwoaSxvLmdldEJvZHkoKSxyKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBKZCh0LEN0LmZyb21Eb20oZS5nZXROb2RlKCkpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1EdChlLG4pfSl9KSk7dmFyIHQsbixyfSkuZ2V0T3IoITEpfSxubT1mdW5jdGlvbihlLHQpe3JldHVybihlP3JkOm9kKSh0KX0scm09ZnVuY3Rpb24oYSx1LHIpe3ZhciBzPUN0LmZyb21Eb20oYS5nZXRCb2R5KCkpO3JldHVybiBRZChzLHIpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gdG0oYSx1LHMscil8fChlPWEsdD11LG49U3MuZnJvbVJhbmdlU3RhcnQoZS5zZWxlY3Rpb24uZ2V0Um5nKCkpLG5tKHQsbil8fGFsKHQsZS5nZXRCb2R5KCksbikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBubSh0LGUpfSkuZ2V0T3IoITEpKTt2YXIgZSx0LG59LGZ1bmN0aW9uKGUpe3JldHVybiB0PWEsbj11LHI9cyxvPWUsaT1Tcy5mcm9tUmFuZ2VTdGFydCh0LnNlbGVjdGlvbi5nZXRSbmcoKSksKGRkKG8pP1pkKHQsbyk6ZW0odCxyLG4sbyxpKSkuZ2V0T3IoITEpO3ZhciB0LG4scixvLGl9KX0sb209ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHU9Q3QuZnJvbURvbShlLnNlbGVjdGlvbi5nZXRTdGFydCghMCkpLHM9c2YoZSk7cmV0dXJuIGUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJjA9PT1zLmxlbmd0aD9ybShlLHQsdSk6KG49ZSxyPXUsbz1DdC5mcm9tRG9tKG4uZ2V0Qm9keSgpKSxpPW4uc2VsZWN0aW9uLmdldFJuZygpLDAhPT0oYT1zZihuKSkubGVuZ3RoP0tkKG4sYSk6R2QobixvLGkscikpfSxpbT1mdW5jdGlvbihhKXt2YXIgdT1Tcy5mcm9tUmFuZ2VTdGFydChhKSxzPVNzLmZyb21SYW5nZUVuZChhKSxjPWEuY29tbW9uQW5jZXN0b3JDb250YWluZXI7cmV0dXJuIGFsKCExLGMscykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiFPYyh1LHMsYykmJk9jKHUsZSxjKT8odD11LmNvbnRhaW5lcigpLG49dS5vZmZzZXQoKSxyPWUuY29udGFpbmVyKCksbz1lLm9mZnNldCgpLChpPVYuZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSkuc2V0U3RhcnQodCxuKSxpLnNldEVuZChyLG8pLGkpOmE7dmFyIHQsbixyLG8saX0pLmdldE9yKGEpfSxhbT1mdW5jdGlvbihlKXtyZXR1cm4gZS5jb2xsYXBzZWQ/ZTppbShlKX0sdW09ZnVuY3Rpb24oZSx0KXt2YXIgbixyO3JldHVybiBlLmdldEJsb2NrRWxlbWVudHMoKVt0Lm5hbWVdJiYoKHI9dCkuZmlyc3RDaGlsZCYmci5maXJzdENoaWxkPT09ci5sYXN0Q2hpbGQpJiYoImJyIj09PShuPXQuZmlyc3RDaGlsZCkubmFtZXx8bi52YWx1ZT09PURyKX0sc209ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saT10LmZpcnN0Q2hpbGQsYT10Lmxhc3RDaGlsZDtyZXR1cm4gaSYmIm1ldGEiPT09aS5uYW1lJiYoaT1pLm5leHQpLGEmJiJtY2VfbWFya2VyIj09PWEuYXR0cigiaWQiKSYmKGE9YS5wcmV2KSxyPWEsbz0obj1lKS5nZXROb25FbXB0eUVsZW1lbnRzKCksciYmKHIuaXNFbXB0eShvKXx8dW0obixyKSkmJihhPWEucHJldiksISghaXx8aSE9PWEpJiYoInVsIj09PWkubmFtZXx8Im9sIj09PWkubmFtZSl9LGNtPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmZpcnN0Q2hpbGQmJmUuZmlyc3RDaGlsZD09PWUubGFzdENoaWxkJiYoKHQ9ZS5maXJzdENoaWxkKS5kYXRhPT09RHJ8fFJuKHQpKTt2YXIgdH0sbG09ZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZS5sZW5ndGgmJighKHQ9ZVtlLmxlbmd0aC0xXSkuZmlyc3RDaGlsZHx8Y20odCkpP2Uuc2xpY2UoMCwtMSk6ZTt2YXIgdH0sZm09ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldFBhcmVudCh0LGUuaXNCbG9jayk7cmV0dXJuIG4mJiJMSSI9PT1uLm5vZGVOYW1lP246bnVsbH0sZG09ZnVuY3Rpb24oZSx0KXt2YXIgbj1Tcy5hZnRlcihlKSxyPXRsKHQpLnByZXYobik7cmV0dXJuIHI/ci50b1JhbmdlKCk6bnVsbH0sbW09ZnVuY3Rpb24odCxlLG4pe3ZhciByLG8saSxhLHU9dC5wYXJlbnROb2RlO3JldHVybiB5dC5lYWNoKGUsZnVuY3Rpb24oZSl7dS5pbnNlcnRCZWZvcmUoZSx0KX0pLHI9dCxvPW4saT1Tcy5iZWZvcmUociksKGE9dGwobykubmV4dChpKSk/YS50b1JhbmdlKCk6bnVsbH0scG09ZnVuY3Rpb24oZSxvLGksdCl7dmFyIG4scixhLHUscyxjLGwsZixkLG0scCxnLGgsdix5LGIsQyx3LHgsUyxOPShuPW8scj10LGM9ZS5zZXJpYWxpemUociksbD1uLmNyZWF0ZUZyYWdtZW50KGMpLHU9KGE9bCkuZmlyc3RDaGlsZCxzPWEubGFzdENoaWxkLHUmJiJNRVRBIj09PXUubm9kZU5hbWUmJnUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh1KSxzJiYibWNlX21hcmtlciI9PT1zLmlkJiZzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocyksYSksRT1mbShvLGkuc3RhcnRDb250YWluZXIpLGs9bG0oKGY9Ti5maXJzdENoaWxkLHl0LmdyZXAoZi5jaGlsZE5vZGVzLGZ1bmN0aW9uKGUpe3JldHVybiJMSSI9PT1lLm5vZGVOYW1lfSkpKSxfPW8uZ2V0Um9vdCgpLFQ9ZnVuY3Rpb24oZSl7dmFyIHQ9U3MuZnJvbVJhbmdlU3RhcnQoaSksbj10bChvLmdldFJvb3QoKSkscj0xPT09ZT9uLnByZXYodCk6bi5uZXh0KHQpO3JldHVybiFyfHxmbShvLHIuZ2V0Tm9kZSgpKSE9PUV9O3JldHVybiBUKDEpP21tKEUsayxfKTpUKDIpPyhkPUUsbT1rLHA9XyxvLmluc2VydEFmdGVyKG0ucmV2ZXJzZSgpLGQpLGRtKG1bMF0scCkpOihoPWssdj1fLHk9Zz1FLEM9KGI9aSkuY2xvbmVSYW5nZSgpLHc9Yi5jbG9uZVJhbmdlKCksQy5zZXRTdGFydEJlZm9yZSh5KSx3LnNldEVuZEFmdGVyKHkpLHg9W0MuY2xvbmVDb250ZW50cygpLHcuY2xvbmVDb250ZW50cygpXSwoUz1nLnBhcmVudE5vZGUpLmluc2VydEJlZm9yZSh4WzBdLGcpLHl0LmVhY2goaCxmdW5jdGlvbihlKXtTLmluc2VydEJlZm9yZShlLGcpfSksUy5pbnNlcnRCZWZvcmUoeFsxXSxnKSxTLnJlbW92ZUNoaWxkKGcpLGRtKGhbaC5sZW5ndGgtMV0sdikpfSxnbT15bihbInRkIiwidGgiXSksaG09ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89ZS5zZWxlY3Rpb24uZ2V0Um5nKCksaT1vLnN0YXJ0Q29udGFpbmVyLGE9by5zdGFydE9mZnNldDtvLmNvbGxhcHNlZCYmKHI9YSxFbihuPWkpJiZuLm5vZGVWYWx1ZVtyLTFdPT09RHIpJiZFbihpKSYmKGkuaW5zZXJ0RGF0YShhLTEsIiAiKSxpLmRlbGV0ZURhdGEoYSwxKSxvLnNldFN0YXJ0KGksYSksby5zZXRFbmQoaSxhKSxlLnNlbGVjdGlvbi5zZXRSbmcobykpLGUuc2VsZWN0aW9uLnNldENvbnRlbnQodCl9LHZtPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tLG49YW0oZS5zZWxlY3Rpb24uZ2V0Um5nKCkpO2Uuc2VsZWN0aW9uLnNldFJuZyhuKTt2YXIgcixvLGksYT10LmdldFBhcmVudChuLnN0YXJ0Q29udGFpbmVyLGdtKTtyPXQsbz1uLG51bGwhPT0oaT1hKSYmaT09PXIuZ2V0UGFyZW50KG8uZW5kQ29udGFpbmVyLGdtKSYmZmYoQ3QuZnJvbURvbShpKSxvKT9YZChlLG4sQ3QuZnJvbURvbShhKSk6ZS5nZXREb2MoKS5leGVjQ29tbWFuZCgiRGVsZXRlIiwhMSxudWxsKX0seW09ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscyxjLGwsZixkLG0scD1lLnNlbGVjdGlvbixnPWUuZG9tOy9eIHwgJC8udGVzdCh0KSYmKGM9cC5nZXRSbmcoKSxsPXQsZj1jLnN0YXJ0Q29udGFpbmVyLGQ9Yy5zdGFydE9mZnNldCxtPWZ1bmN0aW9uKGUpe3JldHVybiBmW2VdJiYzPT09ZltlXS5ub2RlVHlwZX0sRW4oZikmJigwPGQ/bD1sLnJlcGxhY2UoL14mbmJzcDsvLCIgIik6bSgicHJldmlvdXNTaWJsaW5nIil8fChsPWwucmVwbGFjZSgvXiAvLCImbmJzcDsiKSksZDxmLmxlbmd0aD9sPWwucmVwbGFjZSgvJm5ic3A7KDxicj58KSQvLCIgIik6bSgibmV4dFNpYmxpbmciKXx8KGw9bC5yZXBsYWNlKC8oJm5ic3A7fCApKDxicj58KSQvLCImbmJzcDsiKSkpLHQ9bCk7dmFyIGg9ZS5wYXJzZXIsdj1uLm1lcmdlLHk9T2Yoe3ZhbGlkYXRlOmUuZ2V0UGFyYW0oInZhbGlkYXRlIil9LGUuc2NoZW1hKSxiPSc8c3BhbiBpZD0ibWNlX21hcmtlciIgZGF0YS1tY2UtdHlwZT0iYm9va21hcmsiPiYjeEZFRkY7JiN4MjAwQjs8L3NwYW4+JztpZihpPXtjb250ZW50OnQsZm9ybWF0OiJodG1sIixzZWxlY3Rpb246ITAscGFzdGU6bi5wYXN0ZX0sKGk9ZS5maXJlKCJCZWZvcmVTZXRDb250ZW50IixpKSkuaXNEZWZhdWx0UHJldmVudGVkKCkpZS5maXJlKCJTZXRDb250ZW50Iix7Y29udGVudDppLmNvbnRlbnQsZm9ybWF0OiJodG1sIixzZWxlY3Rpb246ITAscGFzdGU6bi5wYXN0ZX0pO2Vsc2V7LTE9PT0odD1pLmNvbnRlbnQpLmluZGV4T2YoInskY2FyZXR9IikmJih0Kz0ieyRjYXJldH0iKSx0PXQucmVwbGFjZSgvXHtcJGNhcmV0XH0vLGIpO3ZhciBDLHcseCxTLE4sRSxrPSh1PXAuZ2V0Um5nKCkpLnN0YXJ0Q29udGFpbmVyfHwodS5wYXJlbnRFbGVtZW50P3UucGFyZW50RWxlbWVudCgpOm51bGwpLF89ZS5nZXRCb2R5KCk7az09PV8mJnAuaXNDb2xsYXBzZWQoKSYmZy5pc0Jsb2NrKF8uZmlyc3RDaGlsZCkmJihDPWUsKHc9Xy5maXJzdENoaWxkKSYmIUMuc2NoZW1hLmdldFNob3J0RW5kZWRFbGVtZW50cygpW3cubm9kZU5hbWVdKSYmZy5pc0VtcHR5KF8uZmlyc3RDaGlsZCkmJigodT1nLmNyZWF0ZVJuZygpKS5zZXRTdGFydChfLmZpcnN0Q2hpbGQsMCksdS5zZXRFbmQoXy5maXJzdENoaWxkLDApLHAuc2V0Um5nKHUpKSxwLmlzQ29sbGFwc2VkKCl8fCh2bShlKSx4PWUuc2VsZWN0aW9uLmdldFJuZygpLFM9dCxOPXguc3RhcnRDb250YWluZXIsRT14LnN0YXJ0T2Zmc2V0LEVuKE4pJiZ4LmNvbGxhcHNlZCYmKE4uZGF0YVtFXT09PURyPyhOLmRlbGV0ZURhdGEoRSwxKSwvW1x1MDBhMHwgXSQvLnRlc3QoUyl8fChTKz0iICIpKTpOLmRhdGFbRS0xXT09PURyJiYoTi5kZWxldGVEYXRhKEUtMSwxKSwvW1x1MDBhMHwgXSQvLnRlc3QoUyl8fChTPSIgIitTKSkpLHQ9Uyk7dmFyIFQsUixBLEQ9e2NvbnRleHQ6KHI9cC5nZXROb2RlKCkpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZGF0YTpuLmRhdGEsaW5zZXJ0OiEwfSxPPWgucGFyc2UodCxEKTtpZighMD09PW4ucGFzdGUmJnNtKGUuc2NoZW1hLE8pJiZmbShnLHIpKXJldHVybiB1PXBtKHksZyxlLnNlbGVjdGlvbi5nZXRSbmcoKSxPKSxlLnNlbGVjdGlvbi5zZXRSbmcodSksdm9pZCBlLmZpcmUoIlNldENvbnRlbnQiLGkpO2lmKCFmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZTt0PXQud2FsaygpOykxPT09dC50eXBlJiZ0LmF0dHIoImRhdGEtbWNlLWZyYWdtZW50IiwiMSIpfShPKSwibWNlX21hcmtlciI9PT0ocz1PLmxhc3RDaGlsZCkuYXR0cigiaWQiKSlmb3Iocz0oYT1zKS5wcmV2O3M7cz1zLndhbGsoITApKWlmKDM9PT1zLnR5cGV8fCFnLmlzQmxvY2socy5uYW1lKSl7ZS5zY2hlbWEuaXNWYWxpZENoaWxkKHMucGFyZW50Lm5hbWUsInNwYW4iKSYmcy5wYXJlbnQuaW5zZXJ0KGEscywiYnIiPT09cy5uYW1lKTticmVha31pZihlLl9zZWxlY3Rpb25PdmVycmlkZXMuc2hvd0Jsb2NrQ2FyZXRDb250YWluZXIociksRC5pbnZhbGlkKXtmb3IoaG0oZSxiKSxyPXAuZ2V0Tm9kZSgpLG89ZS5nZXRCb2R5KCksOT09PXIubm9kZVR5cGU/cj1zPW86cz1yO3MhPT1vOylzPShyPXMpLnBhcmVudE5vZGU7dD1yPT09bz9vLmlubmVySFRNTDpnLmdldE91dGVySFRNTChyKSx0PXkuc2VyaWFsaXplKGgucGFyc2UodC5yZXBsYWNlKC88c3BhbiAoaWQ9Im1jZV9tYXJrZXIifGlkPW1jZV9tYXJrZXIpLis/PFwvc3Bhbj4vaSxmdW5jdGlvbigpe3JldHVybiB5LnNlcmlhbGl6ZShPKX0pKSkscj09PW8/Zy5zZXRIVE1MKG8sdCk6Zy5zZXRPdXRlckhUTUwocix0KX1lbHNlIWZ1bmN0aW9uKGUsdCxuKXtpZigiYWxsIj09PW4uZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpKW4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZS5kb20uY3JlYXRlRnJhZ21lbnQodCksbik7ZWxzZXt2YXIgcj1uLmZpcnN0Q2hpbGQsbz1uLmxhc3RDaGlsZDshcnx8cj09PW8mJiJCUiI9PT1yLm5vZGVOYW1lP2UuZG9tLnNldEhUTUwobix0KTpobShlLHQpfX0oZSx0PXkuc2VyaWFsaXplKE8pLHIpOyFmdW5jdGlvbihlLHQpe3ZhciBuPWUuc2NoZW1hLmdldFRleHRJbmxpbmVFbGVtZW50cygpLHI9ZS5kb207aWYodCl7dmFyIG89ZS5nZXRCb2R5KCksaT1uZXcgS2Yocik7eXQuZWFjaChyLnNlbGVjdCgiKltkYXRhLW1jZS1mcmFnbWVudF0iKSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5wYXJlbnROb2RlO3QmJnQhPT1vO3Q9dC5wYXJlbnROb2RlKW5bZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSYmaS5jb21wYXJlKHQsZSkmJnIucmVtb3ZlKGUsITApfSl9fShlLHYpLGZ1bmN0aW9uKG4sZSl7dmFyIHQscixvPW4uZG9tLGk9bi5zZWxlY3Rpb247aWYoZSl7bi5zZWxlY3Rpb24uc2Nyb2xsSW50b1ZpZXcoZSk7dmFyIGE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW4uZ2V0Qm9keSgpO2UmJmUhPT10O2U9ZS5wYXJlbnROb2RlKWlmKCJmYWxzZSI9PT1uLmRvbS5nZXRDb250ZW50RWRpdGFibGUoZSkpcmV0dXJuIGU7cmV0dXJuIG51bGx9KGUpO2lmKGEpcmV0dXJuIG8ucmVtb3ZlKGUpLGkuc2VsZWN0KGEpO3ZhciB1PW8uY3JlYXRlUm5nKCkscz1lLnByZXZpb3VzU2libGluZztzJiYzPT09cy5ub2RlVHlwZT8odS5zZXRTdGFydChzLHMubm9kZVZhbHVlLmxlbmd0aCksbXQuaWV8fChyPWUubmV4dFNpYmxpbmcpJiYzPT09ci5ub2RlVHlwZSYmKHMuYXBwZW5kRGF0YShyLmRhdGEpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSkpOih1LnNldFN0YXJ0QmVmb3JlKGUpLHUuc2V0RW5kQmVmb3JlKGUpKTt2YXIgYz1vLmdldFBhcmVudChlLG8uaXNCbG9jayk7by5yZW1vdmUoZSksYyYmby5pc0VtcHR5KGMpJiYobi4kKGMpLmVtcHR5KCksdS5zZXRTdGFydChjLDApLHUuc2V0RW5kKGMsMCksZ20oYyl8fGMuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1mcmFnbWVudCIpfHwhKHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9U3MuZnJvbVJhbmdlU3RhcnQoZSk7aWYodD10bChuLmdldEJvZHkoKSkubmV4dCh0KSlyZXR1cm4gdC50b1JhbmdlKCl9KHUpKT9vLmFkZChjLG8uY3JlYXRlKCJiciIseyJkYXRhLW1jZS1ib2d1cyI6IjEifSkpOih1PXQsby5yZW1vdmUoYykpKSxpLnNldFJuZyh1KX19KGUsZy5nZXQoIm1jZV9tYXJrZXIiKSksVD1lLmdldEJvZHkoKSx5dC5lYWNoKFQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSxmdW5jdGlvbihlKXtlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtZnJhZ21lbnQiKX0pLFI9ZS5kb20sQT1lLnNlbGVjdGlvbi5nZXRTdGFydCgpLEIuZnJvbShSLmdldFBhcmVudChBLCJ0ZCx0aCIpKS5tYXAoQ3QuZnJvbURvbSkuZWFjaChnZCksZS5maXJlKCJTZXRDb250ZW50IixpKSxlLmFkZFZpc3VhbCgpfX0sYm09ZnVuY3Rpb24oZSl7dmFyIHQ9S3QoZSkuZG9tKCk7cmV0dXJuIGUuZG9tKCk9PT10LmFjdGl2ZUVsZW1lbnR9LENtPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1DdC5mcm9tRG9tKFYuZG9jdW1lbnQpKSxCLmZyb20oZS5kb20oKS5hY3RpdmVFbGVtZW50KS5tYXAoQ3QuZnJvbURvbSl9LHdtPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybntzdGFydDp4KGUpLHNvZmZzZXQ6eCh0KSxmaW5pc2g6eChuKSxmb2Zmc2V0Ongocil9fSx4bT1RaShbe2JlZm9yZTpbImVsZW1lbnQiXX0se29uOlsiZWxlbWVudCIsIm9mZnNldCJdfSx7YWZ0ZXI6WyJlbGVtZW50Il19XSksU209KHhtLmJlZm9yZSx4bS5vbix4bS5hZnRlcixmdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKG8sbyxvKX0pLE5tPVFpKFt7ZG9tUmFuZ2U6WyJybmciXX0se3JlbGF0aXZlOlsic3RhcnRTaXR1IiwiZmluaXNoU2l0dSJdfSx7ZXhhY3Q6WyJzdGFydCIsInNvZmZzZXQiLCJmaW5pc2giLCJmb2Zmc2V0Il19XSksRW09e2RvbVJhbmdlOk5tLmRvbVJhbmdlLHJlbGF0aXZlOk5tLnJlbGF0aXZlLGV4YWN0Ok5tLmV4YWN0LGV4YWN0RnJvbVJhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiBObS5leGFjdChlLnN0YXJ0KCksZS5zb2Zmc2V0KCksZS5maW5pc2goKSxlLmZvZmZzZXQoKSl9LGdldFdpbjpmdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKHtkb21SYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gQ3QuZnJvbURvbShlLnN0YXJ0Q29udGFpbmVyKX0scmVsYXRpdmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gU20oZSl9LGV4YWN0OmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBlfX0pO3JldHVybiBJdCh0KX0scmFuZ2U6d219LGttPW90KCkuYnJvd3NlcixfbT1mdW5jdGlvbihlLHQpe3ZhciBuPUV0KHQpP3ZmKHQpLmxlbmd0aDpIdCh0KS5sZW5ndGgrMTtyZXR1cm4gbjxlP246ZTwwPzA6ZX0sVG09ZnVuY3Rpb24oZSl7cmV0dXJuIEVtLnJhbmdlKGUuc3RhcnQoKSxfbShlLnNvZmZzZXQoKSxlLnN0YXJ0KCkpLGUuZmluaXNoKCksX20oZS5mb2Zmc2V0KCksZS5maW5pc2goKSkpfSxSbT1mdW5jdGlvbihlLHQpe3JldHVybiFobih0LmRvbSgpKSYmKEJ0KGUsdCl8fER0KGUsdCkpfSxBbT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIFJtKHQsZS5zdGFydCgpKSYmUm0odCxlLmZpbmlzaCgpKX19LERtPWZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZS5pbmxpbmV8fGttLmlzSUUoKX0sT209ZnVuY3Rpb24oZSl7cmV0dXJuIEVtLnJhbmdlKEN0LmZyb21Eb20oZS5zdGFydENvbnRhaW5lciksZS5zdGFydE9mZnNldCxDdC5mcm9tRG9tKGUuZW5kQ29udGFpbmVyKSxlLmVuZE9mZnNldCl9LEJtPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1JdChlKTtyZXR1cm4gdD1yLmRvbSgpLCgobj10LmdldFNlbGVjdGlvbigpKSYmMCE9PW4ucmFuZ2VDb3VudD9CLmZyb20obi5nZXRSYW5nZUF0KDApKTpCLm5vbmUoKSkubWFwKE9tKS5maWx0ZXIoQW0oZSkpfSxQbT1mdW5jdGlvbihlKXt2YXIgdD1WLmRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7dHJ5e3JldHVybiB0LnNldFN0YXJ0KGUuc3RhcnQoKS5kb20oKSxlLnNvZmZzZXQoKSksdC5zZXRFbmQoZS5maW5pc2goKS5kb20oKSxlLmZvZmZzZXQoKSksQi5zb21lKHQpfWNhdGNoKG4pe3JldHVybiBCLm5vbmUoKX19LExtPWZ1bmN0aW9uKGUpe3ZhciB0PURtKGUpP0JtKEN0LmZyb21Eb20oZS5nZXRCb2R5KCkpKTpCLm5vbmUoKTtlLmJvb2ttYXJrPXQuaXNTb21lKCk/dDplLmJvb2ttYXJrfSxJbT1mdW5jdGlvbihyKXtyZXR1cm4oci5ib29rbWFyaz9yLmJvb2ttYXJrOkIubm9uZSgpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB0PUN0LmZyb21Eb20oci5nZXRCb2R5KCkpLG49ZSxCLmZyb20obikuZmlsdGVyKEFtKHQpKS5tYXAoVG0pO3ZhciB0LG59KS5iaW5kKFBtKX0sTW09e2lzRWRpdG9yVUlFbGVtZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUuY2xhc3NOYW1lLnRvU3RyaW5nKCk7cmV0dXJuLTEhPT10LmluZGV4T2YoInRveC0iKXx8LTEhPT10LmluZGV4T2YoIm1jZS0iKX19LEZtPWZ1bmN0aW9uKG4sZSl7dmFyIHQscjtvdCgpLmJyb3dzZXIuaXNJRSgpPyhyPW4pLm9uKCJmb2N1c291dCIsZnVuY3Rpb24oKXtMbShyKX0pOih0PWUsbi5vbigibW91c2V1cCB0b3VjaGVuZCIsZnVuY3Rpb24oZSl7dC50aHJvdHRsZSgpfSkpLG4ub24oImtleXVwIE5vZGVDaGFuZ2UiLGZ1bmN0aW9uKGUpe3ZhciB0OyJub2RlY2hhbmdlIj09PSh0PWUpLnR5cGUmJnQuc2VsZWN0aW9uQ2hhbmdlfHxMbShuKX0pfSxVbT1mdW5jdGlvbihyKXt2YXIgbz1VYShmdW5jdGlvbigpe0xtKHIpfSwwKTtyLm9uKCJpbml0IixmdW5jdGlvbigpe3ZhciBlLHQsbjtyLmlubGluZSYmKGU9cix0PW8sbj1mdW5jdGlvbigpe3QudGhyb3R0bGUoKX0sRWEuRE9NLmJpbmQoVi5kb2N1bWVudCwibW91c2V1cCIsbiksZS5vbigicmVtb3ZlIixmdW5jdGlvbigpe0VhLkRPTS51bmJpbmQoVi5kb2N1bWVudCwibW91c2V1cCIsbil9KSksRm0ocixvKX0pLHIub24oInJlbW92ZSIsZnVuY3Rpb24oKXtvLmNhbmNlbCgpfSl9LHptPUVhLkRPTSxqbT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0UGFyYW0oImN1c3RvbV91aV9zZWxlY3RvciIsIiIsInN0cmluZyIpO3JldHVybiBudWxsIT09em0uZ2V0UGFyZW50KGUsZnVuY3Rpb24oZSl7cmV0dXJuIE1tLmlzRWRpdG9yVUlFbGVtZW50KGUpfHwhIW4mJnQuZG9tLmlzKGUsbil9KX0sSG09ZnVuY3Rpb24ocixlKXt2YXIgdD1lLmVkaXRvcjtVbSh0KSx0Lm9uKCJmb2N1c2luIixmdW5jdGlvbigpe3ZhciBlPXIuZm9jdXNlZEVkaXRvcjtlIT09dGhpcyYmKGUmJmUuZmlyZSgiYmx1ciIse2ZvY3VzZWRFZGl0b3I6dGhpc30pLHIuc2V0QWN0aXZlKHRoaXMpLChyLmZvY3VzZWRFZGl0b3I9dGhpcykuZmlyZSgiZm9jdXMiLHtibHVycmVkRWRpdG9yOmV9KSx0aGlzLmZvY3VzKCEwKSl9KSx0Lm9uKCJmb2N1c291dCIsZnVuY3Rpb24oKXt2YXIgdD10aGlzO2ZhLnNldEVkaXRvclRpbWVvdXQodCxmdW5jdGlvbigpe3ZhciBlPXIuZm9jdXNlZEVkaXRvcjtqbSh0LGZ1bmN0aW9uKCl7dHJ5e3JldHVybiBWLmRvY3VtZW50LmFjdGl2ZUVsZW1lbnR9Y2F0Y2goZSl7cmV0dXJuIFYuZG9jdW1lbnQuYm9keX19KCkpfHxlIT09dHx8KHQuZmlyZSgiYmx1ciIse2ZvY3VzZWRFZGl0b3I6bnVsbH0pLHIuZm9jdXNlZEVkaXRvcj1udWxsKX0pfSksVWZ8fChVZj1mdW5jdGlvbihlKXt2YXIgdD1yLmFjdGl2ZUVkaXRvcixuPWUudGFyZ2V0O3QmJm4ub3duZXJEb2N1bWVudD09PVYuZG9jdW1lbnQmJihuPT09Vi5kb2N1bWVudC5ib2R5fHxqbSh0LG4pfHxyLmZvY3VzZWRFZGl0b3IhPT10fHwodC5maXJlKCJibHVyIix7Zm9jdXNlZEVkaXRvcjpudWxsfSksci5mb2N1c2VkRWRpdG9yPW51bGwpKX0sem0uYmluZChWLmRvY3VtZW50LCJmb2N1c2luIixVZikpfSxWbT1mdW5jdGlvbihlLHQpe2UuZm9jdXNlZEVkaXRvcj09PXQuZWRpdG9yJiYoZS5mb2N1c2VkRWRpdG9yPW51bGwpLGUuYWN0aXZlRWRpdG9yfHwoem0udW5iaW5kKFYuZG9jdW1lbnQsImZvY3VzaW4iLFVmKSxVZj1udWxsKX0scW09ZnVuY3Rpb24odCxlKXtyZXR1cm4oKG49ZSkuY29sbGFwc2VkP0IuZnJvbShIdShuLnN0YXJ0Q29udGFpbmVyLG4uc3RhcnRPZmZzZXQpKS5tYXAoQ3QuZnJvbURvbSk6Qi5ub25lKCkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGVyKGUpP0Iuc29tZShlKTohMT09PUJ0KHQsZSk/Qi5zb21lKHQpOkIubm9uZSgpfSk7dmFyIG59LCRtPWZ1bmN0aW9uKHQsZSl7cW0oQ3QuZnJvbURvbSh0LmdldEJvZHkoKSksZSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gZGwoZS5kb20oKSl9KS5mb2xkKGZ1bmN0aW9uKCl7dC5zZWxlY3Rpb24ubm9ybWFsaXplKCl9LGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpfSl9LFdtPWZ1bmN0aW9uKGUpe2lmKGUuc2V0QWN0aXZlKXRyeXtlLnNldEFjdGl2ZSgpfWNhdGNoKHQpe2UuZm9jdXMoKX1lbHNlIGUuZm9jdXMoKX0sS209ZnVuY3Rpb24oZSl7cmV0dXJuIGJtKGUpfHxDbShLdCh0PWUpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZG9tKCkuY29udGFpbnMoZS5kb20oKSl9KS5pc1NvbWUoKTt2YXIgdH0sWG09ZnVuY3Rpb24ocil7cmV0dXJuIENtKCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0PWUuZG9tKCksISgobj10LmNsYXNzTGlzdCkhPT11bmRlZmluZWQmJihuLmNvbnRhaW5zKCJ0b3gtZWRpdC1hcmVhIil8fG4uY29udGFpbnMoInRveC1lZGl0LWFyZWFfX2lmcmFtZSIpfHxuLmNvbnRhaW5zKCJtY2UtY29udGVudC1ib2R5IikpKSYmam0ocixlLmRvbSgpKTt2YXIgdCxufSkuaXNTb21lKCl9LFltPWZ1bmN0aW9uKGUpe3JldHVybiBlLmlubGluZT8obj1lLmdldEJvZHkoKSkmJkttKEN0LmZyb21Eb20obikpOih0PWUpLmlmcmFtZUVsZW1lbnQmJmJtKEN0LmZyb21Eb20odC5pZnJhbWVFbGVtZW50KSk7dmFyIHQsbn0sR209ZnVuY3Rpb24odCl7dmFyIGU9dC5zZWxlY3Rpb24sbj10LmdldEJvZHkoKSxyPWUuZ2V0Um5nKCk7dC5xdWlya3MucmVmcmVzaENvbnRlbnRFZGl0YWJsZSgpLHQuYm9va21hcmshPT11bmRlZmluZWQmJiExPT09WW0odCkmJkltKHQpLmVhY2goZnVuY3Rpb24oZSl7dC5zZWxlY3Rpb24uc2V0Um5nKGUpLHI9ZX0pO3ZhciBvLGksYT0obz10LGk9ZS5nZXROb2RlKCksby5kb20uZ2V0UGFyZW50KGksZnVuY3Rpb24oZSl7cmV0dXJuInRydWUiPT09by5kb20uZ2V0Q29udGVudEVkaXRhYmxlKGUpfSkpO2lmKHQuJC5jb250YWlucyhuLGEpKXJldHVybiBXbShhKSwkbSh0LHIpLHZvaWQgSm0odCk7dC5pbmxpbmV8fChtdC5vcGVyYXx8V20obiksdC5nZXRXaW4oKS5mb2N1cygpKSwobXQuZ2Vja298fHQuaW5saW5lKSYmKFdtKG4pLCRtKHQscikpLEptKHQpfSxKbT1mdW5jdGlvbihlKXtyZXR1cm4gZS5lZGl0b3JNYW5hZ2VyLnNldEFjdGl2ZShlKX0sUW09ZnVuY3Rpb24oZSx0KXt0KGUpLGUuZmlyc3RDaGlsZCYmUW0oZS5maXJzdENoaWxkLHQpLGUubmV4dCYmUW0oZS5uZXh0LHQpfSxabT1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZnVuY3Rpb24oZSxuLHQpe3ZhciByPXt9LG89e30saT1bXTtmb3IodmFyIGEgaW4gdC5maXJzdENoaWxkJiZRbSh0LmZpcnN0Q2hpbGQsZnVuY3Rpb24odCl7eihlLGZ1bmN0aW9uKGUpe2UubmFtZT09PXQubmFtZSYmKHJbZS5uYW1lXT9yW2UubmFtZV0ubm9kZXMucHVzaCh0KTpyW2UubmFtZV09e2ZpbHRlcjplLG5vZGVzOlt0XX0pfSkseihuLGZ1bmN0aW9uKGUpeyJzdHJpbmciPT10eXBlb2YgdC5hdHRyKGUubmFtZSkmJihvW2UubmFtZV0/b1tlLm5hbWVdLm5vZGVzLnB1c2godCk6b1tlLm5hbWVdPXtmaWx0ZXI6ZSxub2RlczpbdF19KX0pfSkscilyLmhhc093blByb3BlcnR5KGEpJiZpLnB1c2goclthXSk7Zm9yKHZhciB1IGluIG8pby5oYXNPd25Qcm9wZXJ0eSh1KSYmaS5wdXNoKG9bdV0pO3JldHVybiBpfShlLHQsbik7eihyLGZ1bmN0aW9uKHQpe3oodC5maWx0ZXIuY2FsbGJhY2tzLGZ1bmN0aW9uKGUpe2UodC5ub2Rlcyx0LmZpbHRlci5uYW1lLHt9KX0pfSl9LGVwPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgVGZ9LHRwPWZ1bmN0aW9uKGUsdCl7dmFyIHI7ZS5kb20uc2V0SFRNTChlLmdldEJvZHkoKSx0KSxZbShyPWUpJiZkbChyLmdldEJvZHkoKSkuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmdldE5vZGUoKSxuPXhuKHQpP2RsKHQpLmdldE9yKGUpOmU7ci5zZWxlY3Rpb24uc2V0Um5nKG4udG9SYW5nZSgpKX0pfSxucD1mdW5jdGlvbih1LHMsYyl7cmV0dXJuIGMuZm9ybWF0PWMuZm9ybWF0P2MuZm9ybWF0OiJodG1sIixjLnNldD0hMCxjLmNvbnRlbnQ9ZXAocyk/IiI6cyxlcChzKXx8Yy5ub19ldmVudHN8fCh1LmZpcmUoIkJlZm9yZVNldENvbnRlbnQiLGMpLHM9Yy5jb250ZW50KSxCLmZyb20odS5nZXRCb2R5KCkpLmZvbGQoeChzKSxmdW5jdGlvbihlKXtyZXR1cm4gZXAocyk/ZnVuY3Rpb24oZSx0LG4scil7Wm0oZS5wYXJzZXIuZ2V0Tm9kZUZpbHRlcnMoKSxlLnBhcnNlci5nZXRBdHRyaWJ1dGVGaWx0ZXJzKCksbik7dmFyIG89T2Yoe3ZhbGlkYXRlOmUudmFsaWRhdGV9LGUuc2NoZW1hKS5zZXJpYWxpemUobik7cmV0dXJuIHIuY29udGVudD1ucihDdC5mcm9tRG9tKHQpKT9vOnl0LnRyaW0obyksdHAoZSxyLmNvbnRlbnQpLHIubm9fZXZlbnRzfHxlLmZpcmUoIlNldENvbnRlbnQiLHIpLG59KHUsZSxzLGMpOih0PXUsbj1lLG89YywwPT09KHI9cykubGVuZ3RofHwvXlxzKyQvLnRlc3Qocik/KGE9JzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+JywiVEFCTEUiPT09bi5ub2RlTmFtZT9yPSI8dHI+PHRkPiIrYSsiPC90ZD48L3RyPiI6L14oVUx8T0wpJC8udGVzdChuLm5vZGVOYW1lKSYmKHI9IjxsaT4iK2ErIjwvbGk+Iikscj0oaT1Zcyh0KSkmJnQuc2NoZW1hLmlzVmFsaWRDaGlsZChuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksaS50b0xvd2VyQ2FzZSgpKT8ocj1hLHQuZG9tLmNyZWF0ZUhUTUwoaSxHcyh0KSxyKSk6cnx8JzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+Jyx0cCh0LHIpLHQuZmlyZSgiU2V0Q29udGVudCIsbykpOigicmF3IiE9PW8uZm9ybWF0JiYocj1PZih7dmFsaWRhdGU6dC52YWxpZGF0ZX0sdC5zY2hlbWEpLnNlcmlhbGl6ZSh0LnBhcnNlci5wYXJzZShyLHtpc1Jvb3RDb250ZW50OiEwLGluc2VydDohMH0pKSksby5jb250ZW50PW5yKEN0LmZyb21Eb20obikpP3I6eXQudHJpbShyKSx0cCh0LG8uY29udGVudCksby5ub19ldmVudHN8fHQuZmlyZSgiU2V0Q29udGVudCIsbykpLG8uY29udGVudCk7dmFyIHQsbixyLG8saSxhfSl9LHJwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3BsaXRUZXh0KHQpfSxvcD1mdW5jdGlvbihlKXt2YXIgdD1lLnN0YXJ0Q29udGFpbmVyLG49ZS5zdGFydE9mZnNldCxyPWUuZW5kQ29udGFpbmVyLG89ZS5lbmRPZmZzZXQ7cmV0dXJuIHQ9PT1yJiZFbih0KT8wPG4mJm48dC5ub2RlVmFsdWUubGVuZ3RoJiYodD0ocj1ycCh0LG4pKS5wcmV2aW91c1NpYmxpbmcsbjxvPyh0PXI9cnAocixvLT1uKS5wcmV2aW91c1NpYmxpbmcsbz1yLm5vZGVWYWx1ZS5sZW5ndGgsbj0wKTpvPTApOihFbih0KSYmMDxuJiZuPHQubm9kZVZhbHVlLmxlbmd0aCYmKHQ9cnAodCxuKSxuPTApLEVuKHIpJiYwPG8mJm88ci5ub2RlVmFsdWUubGVuZ3RoJiYobz0ocj1ycChyLG8pLnByZXZpb3VzU2libGluZykubm9kZVZhbHVlLmxlbmd0aCkpLHtzdGFydENvbnRhaW5lcjp0LHN0YXJ0T2Zmc2V0Om4sZW5kQ29udGFpbmVyOnIsZW5kT2Zmc2V0Om99fSxpcD1NbCxhcD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5mb3JtYXR0ZXIuZ2V0KG4pO2lmKHIpZm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspaWYoITE9PT1yW29dLmluaGVyaXQmJmUuZG9tLmlzKHQscltvXS5zZWxlY3RvcikpcmV0dXJuITA7cmV0dXJuITF9LHVwPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQuZG9tLmdldFJvb3QoKTtyZXR1cm4gZSE9PW8mJihlPXQuZG9tLmdldFBhcmVudChlLGZ1bmN0aW9uKGUpe3JldHVybiEhYXAodCxlLG4pfHwoZS5wYXJlbnROb2RlPT09b3x8ISFscCh0LGUsbixyLCEwKSl9KSxscCh0LGUsbixyKSl9LHNwPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hIWlwKHQsbi5pbmxpbmUpfHwoISFpcCh0LG4uYmxvY2spfHwobi5zZWxlY3Rvcj8xPT09dC5ub2RlVHlwZSYmZS5pcyh0LG4uc2VsZWN0b3IpOnZvaWQgMCkpfSxjcD1mdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIGEsdSxzLGM9bltyXTtpZihuLm9ubWF0Y2gpcmV0dXJuIG4ub25tYXRjaCh0LG4scik7aWYoYylpZigidW5kZWZpbmVkIj09dHlwZW9mIGMubGVuZ3RoKXtmb3IoYSBpbiBjKWlmKGMuaGFzT3duUHJvcGVydHkoYSkpe2lmKHU9ImF0dHJpYnV0ZXMiPT09cj9lLmdldEF0dHJpYih0LGEpOlVsKGUsdCxhKSxvJiYhdSYmIW4uZXhhY3QpcmV0dXJuO2lmKCghb3x8bi5leGFjdCkmJiFpcCh1LEZsKGUsSWwoY1thXSxpKSxhKSkpcmV0dXJufX1lbHNlIGZvcihzPTA7czxjLmxlbmd0aDtzKyspaWYoImF0dHJpYnV0ZXMiPT09cj9lLmdldEF0dHJpYih0LGNbc10pOlVsKGUsdCxjW3NdKSlyZXR1cm4gbjtyZXR1cm4gbn0sbHA9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHUscyxjPWUuZm9ybWF0dGVyLmdldChuKSxsPWUuZG9tO2lmKGMmJnQpZm9yKGE9MDthPGMubGVuZ3RoO2ErKylpZihpPWNbYV0sc3AoZS5kb20sdCxpKSYmY3AobCx0LGksImF0dHJpYnV0ZXMiLG8scikmJmNwKGwsdCxpLCJzdHlsZXMiLG8scikpe2lmKHM9aS5jbGFzc2VzKWZvcih1PTA7dTxzLmxlbmd0aDt1KyspaWYoIWUuZG9tLmhhc0NsYXNzKHQsc1t1XSkpcmV0dXJuO3JldHVybiBpfX0sZnA9ZnVuY3Rpb24oZSx0LG4scil7aWYocilyZXR1cm4gdXAoZSxyLHQsbik7aWYocj1lLnNlbGVjdGlvbi5nZXROb2RlKCksdXAoZSxyLHQsbikpcmV0dXJuITA7dmFyIG89ZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKTtyZXR1cm4hKG89PT1yfHwhdXAoZSxvLHQsbikpfSxkcD1mdW5jdGlvbihyLG8saSl7dmFyIGE9W10sdT17fSxlPXIuc2VsZWN0aW9uLmdldFN0YXJ0KCk7cmV0dXJuIHIuZG9tLmdldFBhcmVudChlLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8by5sZW5ndGg7dCsrKXt2YXIgbj1vW3RdOyF1W25dJiZscChyLGUsbixpKSYmKHVbbl09ITAsYS5wdXNoKG4pKX19LHIuZG9tLmdldFJvb3QoKSksYX0sbXA9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHU9ZS5mb3JtYXR0ZXIuZ2V0KHQpLHM9ZS5kb207aWYodSlmb3Iobj1lLnNlbGVjdGlvbi5nZXRTdGFydCgpLHI9amwocyxuKSxpPXUubGVuZ3RoLTE7MDw9aTtpLS0pe2lmKCEoYT11W2ldLnNlbGVjdG9yKXx8dVtpXS5kZWZhdWx0QmxvY2spcmV0dXJuITA7Zm9yKG89ci5sZW5ndGgtMTswPD1vO28tLSlpZihzLmlzKHJbb10sYSkpcmV0dXJuITB9cmV0dXJuITF9LHBwPWZ1bmN0aW9uKG8saSxlKXtyZXR1cm4gVyhlLGZ1bmN0aW9uKGUsdCl7dmFyIG4scj0obj10LEYoby5mb3JtYXR0ZXIuZ2V0KG4pLGZ1bmN0aW9uKHQpe3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiAxPGUubGVuZ3RoJiYiJSI9PT1lLmNoYXJBdCgwKX07cmV0dXJuIEYoWyJzdHlsZXMiLCJhdHRyaWJ1dGVzIl0sZnVuY3Rpb24oZSl7cmV0dXJuIGRlKHQsZSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3ZhciB0PWsoZSk/ZTpmZShlKTtyZXR1cm4gRih0LG4pfSl9KX0pKTtyZXR1cm4gby5mb3JtYXR0ZXIubWF0Y2hOb2RlKGksdCx7fSxyKT9lLmNvbmNhdChbdF0pOmV9LFtdKX0sZ3A9eXUsaHA9Il9tY2VfY2FyZXQiLHZwPWZ1bmN0aW9uKGUpe3JldHVybiAwPGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXTtlOyl7aWYoMz09PWUubm9kZVR5cGUmJmUubm9kZVZhbHVlIT09Z3B8fDE8ZS5jaGlsZE5vZGVzLmxlbmd0aClyZXR1cm5bXTsxPT09ZS5ub2RlVHlwZSYmdC5wdXNoKGUpLGU9ZS5maXJzdENoaWxkfXJldHVybiB0fShlKS5sZW5ndGh9LHlwPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PW5ldyBBaShlLGUpO2ZvcihlPXQuY3VycmVudCgpO2U7ZT10Lm5leHQoKSlpZihFbihlKSlyZXR1cm4gZX1yZXR1cm4gbnVsbH0sYnA9ZnVuY3Rpb24oZSl7dmFyIHQ9Q3QuZnJvbVRhZygic3BhbiIpO3JldHVybiBMbih0LHtpZDpocCwiZGF0YS1tY2UtYm9ndXMiOiIxIiwiZGF0YS1tY2UtdHlwZSI6ImZvcm1hdC1jYXJldCJ9KSxlJiZadCh0LEN0LmZyb21UZXh0KGdwKSksdH0sQ3A9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPSEwKTt2YXIgcixvPWUuZG9tLGk9ZS5zZWxlY3Rpb247aWYodnAodCkpRGQoZSwhMSxDdC5mcm9tRG9tKHQpLG4pO2Vsc2V7dmFyIGE9aS5nZXRSbmcoKSx1PW8uZ2V0UGFyZW50KHQsby5pc0Jsb2NrKSxzPWEuc3RhcnRDb250YWluZXIsYz1hLnN0YXJ0T2Zmc2V0LGw9YS5lbmRDb250YWluZXIsZj1hLmVuZE9mZnNldCxkPSgocj15cCh0KSkmJnIubm9kZVZhbHVlLmNoYXJBdCgwKT09PWdwJiZyLmRlbGV0ZURhdGEoMCwxKSxyKTtvLnJlbW92ZSh0LCEwKSxzPT09ZCYmMDxjJiZhLnNldFN0YXJ0KGQsYy0xKSxsPT09ZCYmMDxmJiZhLnNldEVuZChkLGYtMSksdSYmby5pc0VtcHR5KHUpJiZwZChDdC5mcm9tRG9tKHUpKSxpLnNldFJuZyhhKX19LHdwPWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT1uJiYobj0hMCk7dmFyIHI9ZS5kb20sbz1lLnNlbGVjdGlvbjtpZih0KUNwKGUsdCxuKTtlbHNlIGlmKCEodD1obChlLmdldEJvZHkoKSxvLmdldFN0YXJ0KCkpKSlmb3IoO3Q9ci5nZXQoaHApOylDcChlLHQsITEpfSx4cD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmFwcGVuZENoaWxkKHQpLHR9LFNwPWZ1bmN0aW9uKGUsdCl7dmFyIG49JChlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHhwKGUsdC5jbG9uZU5vZGUoITEpKX0sdCk7cmV0dXJuIHhwKG4sbi5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGdwKSl9LE5wPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYyxsLGYsZD1lLmRvbSxtPWUuc2VsZWN0aW9uLHA9W10sZz1tLmdldFJuZygpLGg9Zy5zdGFydENvbnRhaW5lcix2PWcuc3RhcnRPZmZzZXQ7Zm9yKDM9PT0oaT1oKS5ub2RlVHlwZSYmKHYhPT1oLm5vZGVWYWx1ZS5sZW5ndGgmJihvPSEwKSxpPWkucGFyZW50Tm9kZSk7aTspe2lmKGxwKGUsaSx0LG4scikpe2E9aTticmVha31pLm5leHRTaWJsaW5nJiYobz0hMCkscC5wdXNoKGkpLGk9aS5wYXJlbnROb2RlfWlmKGEpaWYobyl7dmFyIHk9bS5nZXRCb29rbWFyaygpO2cuY29sbGFwc2UoITApO3ZhciBiPXRmKGUsZyxlLmZvcm1hdHRlci5nZXQodCksITApO2I9b3AoYiksZS5mb3JtYXR0ZXIucmVtb3ZlKHQsbixiLHIpLG0ubW92ZVRvQm9va21hcmsoeSl9ZWxzZXt2YXIgQz1obChlLmdldEJvZHkoKSxhKSx3PWJwKCExKS5kb20oKTtzPXcsYz1udWxsIT09Qz9DOmEsbD0odT1lKS5kb20sKGY9bC5nZXRQYXJlbnQoYyxOKEJsLHUpKSkmJmwuaXNFbXB0eShmKT9jLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHMsYyk6KG1kKEN0LmZyb21Eb20oYykpLGwuaXNFbXB0eShjKT9jLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHMsYyk6bC5pbnNlcnRBZnRlcihzLGMpKTt2YXIgeD1mdW5jdGlvbih0LGUsbixyLG8saSl7dmFyIGE9dC5mb3JtYXR0ZXIsdT10LmRvbSxzPUgobmUoYS5nZXQoKSksZnVuY3Rpb24oZSl7cmV0dXJuInJlbW92ZWZvcm1hdCIhPT1lJiZlIT09cn0pLGM9cHAodCxuLHMpO2lmKDA8SChjLGZ1bmN0aW9uKGUpe3JldHVybiFIbCh0LGUscil9KS5sZW5ndGgpe3ZhciBsPW4uY2xvbmVOb2RlKCExKTtyZXR1cm4gdS5hZGQoZSxsKSxhLnJlbW92ZShyLG8sbCxpKSx1LnJlbW92ZShsKSxCLnNvbWUobCl9cmV0dXJuIEIubm9uZSgpfShlLHcsYSx0LG4sciksUz1TcChwLmNvbmNhdCh4LnRvQXJyYXkoKSksdyk7Q3AoZSxDLCExKSxtLnNldEN1cnNvckxvY2F0aW9uKFMsMSksZC5pc0VtcHR5KGEpJiZkLnJlbW92ZShhKX19LEVwPWZ1bmN0aW9uKGkpe2kub24oIm1vdXNldXAga2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbixyLG87dD1pLG49ZS5rZXlDb2RlLHI9dC5zZWxlY3Rpb24sbz10LmdldEJvZHkoKSx3cCh0LG51bGwsITEpLDghPT1uJiY0NiE9PW58fCFyLmlzQ29sbGFwc2VkKCl8fHIuZ2V0U3RhcnQoKS5pbm5lckhUTUwhPT1ncHx8d3AodCxobChvLHIuZ2V0U3RhcnQoKSkpLDM3IT09biYmMzkhPT1ufHx3cCh0LGhsKG8sci5nZXRTdGFydCgpKSl9KX0sa3A9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zY2hlbWEuZ2V0VGV4dElubGluZUVsZW1lbnRzKCkuaGFzT3duUHJvcGVydHkod3QodCkpJiYhZ2wodC5kb20oKSkmJiF3bih0LmRvbSgpKX0sX3A9e30sVHA9dmUsUnA9Z2U7amY9ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnNlbGVjdGlvbi5nZXRSbmcoKSxyPXluKFsicHJlIl0pO24uY29sbGFwc2VkfHwodD1lLnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpLFJwKFRwKFRwKHQsciksZnVuY3Rpb24oZSl7cmV0dXJuIHIoZS5wcmV2aW91c1NpYmxpbmcpJiYtMSE9PXllKHQsZS5wcmV2aW91c1NpYmxpbmcpfSksZnVuY3Rpb24oZSl7dmFyIHQsbjt0PWUucHJldmlvdXNTaWJsaW5nLFJpKG49ZSkucmVtb3ZlKCksUmkodCkuYXBwZW5kKCI8YnI+PGJyPiIpLmFwcGVuZChuLmNoaWxkTm9kZXMpfSkpfSxfcFt6Zj0icHJlIl18fChfcFt6Zl09W10pLF9wW3pmXS5wdXNoKGpmKTt2YXIgQXAsRHAsT3A9L14oc3JjfGhyZWZ8c3R5bGUpJC8sQnA9eXQuZWFjaCxQcD1NbCxMcD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuaXNDaGlsZE9mKHQsbikmJnQhPT1uJiYhZS5pc0Jsb2NrKG4pfSxJcD1mdW5jdGlvbihlLHQsbil7dmFyIHIsbztpZihyPXRbbj8ic3RhcnRDb250YWluZXIiOiJlbmRDb250YWluZXIiXSxvPXRbbj8ic3RhcnRPZmZzZXQiOiJlbmRPZmZzZXQiXSx2bihyKSl7dmFyIGk9ci5jaGlsZE5vZGVzLmxlbmd0aC0xOyFuJiZvJiZvLS0scj1yLmNoaWxkTm9kZXNbaTxvP2k6b119cmV0dXJuIEVuKHIpJiZuJiZvPj1yLm5vZGVWYWx1ZS5sZW5ndGgmJihyPW5ldyBBaShyLGUuZ2V0Qm9keSgpKS5uZXh0KCl8fHIpLEVuKHIpJiYhbiYmMD09PW8mJihyPW5ldyBBaShyLGUuZ2V0Qm9keSgpKS5wcmV2KCl8fHIpLHJ9LE1wPWZ1bmN0aW9uKGUsdCl7dmFyIG49dD8iZmlyc3RDaGlsZCI6Imxhc3RDaGlsZCI7aWYoL14oVFJ8VEh8VEQpJC8udGVzdChlLm5vZGVOYW1lKSYmZVtuXSl7dmFyIHI9ZVtuXTtyZXR1cm4iVFIiPT09ZS5ub2RlTmFtZSYmcltuXXx8cn1yZXR1cm4gZX0sRnA9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89ZS5jcmVhdGUobixyKTtyZXR1cm4gdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShvLHQpLG8uYXBwZW5kQ2hpbGQodCksb30sVXA9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1DdC5mcm9tRG9tKHQpLGE9Q3QuZnJvbURvbShlLmNyZWF0ZShyLG8pKSx1PShuP2p0Onp0KShpKTtyZXR1cm4gZW4oYSx1KSxuPyhHdChpLGEpLFF0KGEsaSkpOihKdChpLGEpLFp0KGEsaSkpLGEuZG9tKCl9LHpwPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiEodD1PbCh0LG4scikpfHwiQlIiPT09dC5ub2RlTmFtZXx8ZS5pc0Jsb2NrKHQpfSxqcD1mdW5jdGlvbihlLHIsbyx0LGkpe3ZhciBuLGEsdSxzLGMsbD1lLmRvbTtpZih1PWwsIShQcChzPXQsKGM9cikuaW5saW5lKXx8UHAocyxjLmJsb2NrKXx8Yy5zZWxlY3RvciYmKHZuKHMpJiZ1LmlzKHMsYy5zZWxlY3RvcikpfHwoYT10LHIubGlua3MmJiJBIj09PWEubm9kZU5hbWUpKSlyZXR1cm4hMTt2YXIgZixkLG0scCxnLGgsdix5PXQ7aWYoci5pbmxpbmUmJiJhbGwiPT09ci5yZW1vdmUmJmsoci5wcmVzZXJ2ZV9hdHRyaWJ1dGVzKSl7dmFyIGI9SChsLmdldEF0dHJpYnMoeSksZnVuY3Rpb24oZSl7cmV0dXJuIE0oci5wcmVzZXJ2ZV9hdHRyaWJ1dGVzLGUubmFtZS50b0xvd2VyQ2FzZSgpKX0pO2lmKGwucmVtb3ZlQWxsQXR0cmlicyh5KSx6KGIsZnVuY3Rpb24oZSl7cmV0dXJuIGwuc2V0QXR0cmliKHksZS5uYW1lLGUudmFsdWUpfSksMDxiLmxlbmd0aClyZXR1cm4gZS5kb20ucmVuYW1lKHQsInNwYW4iKSwhMH1pZigiYWxsIiE9PXIucmVtb3ZlKXtCcChyLnN0eWxlcyxmdW5jdGlvbihlLHQpe2U9RmwobCxJbChlLG8pLHQpLCJudW1iZXIiPT10eXBlb2YgdCYmKHQ9ZSxpPW51bGwpLCFyLnJlbW92ZV9zaW1pbGFyJiZpJiYhUHAoVWwobCxpLHQpLGUpfHxsLnNldFN0eWxlKHksdCwiIiksbj0hMH0pLG4mJiIiPT09bC5nZXRBdHRyaWIoeSwic3R5bGUiKSYmKHkucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpLHkucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zdHlsZSIpKSxCcChyLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSx0KXt2YXIgbjtpZihlPUlsKGUsbyksIm51bWJlciI9PXR5cGVvZiB0JiYodD1lLGk9bnVsbCksci5yZW1vdmVfc2ltaWxhcnx8IWl8fFBwKGwuZ2V0QXR0cmliKGksdCksZSkpe2lmKCJjbGFzcyI9PT10JiYoZT1sLmdldEF0dHJpYih5LHQpKSYmKG49IiIseihlLnNwbGl0KC9ccysvKSxmdW5jdGlvbihlKXsvbWNlXC1cdysvLnRlc3QoZSkmJihuKz0obj8iICI6IiIpK2UpfSksbikpcmV0dXJuIHZvaWQgbC5zZXRBdHRyaWIoeSx0LG4pOyJjbGFzcyI9PT10JiZ5LnJlbW92ZUF0dHJpYnV0ZSgiY2xhc3NOYW1lIiksT3AudGVzdCh0KSYmeS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLSIrdCkseS5yZW1vdmVBdHRyaWJ1dGUodCl9fSksQnAoci5jbGFzc2VzLGZ1bmN0aW9uKGUpe2U9SWwoZSxvKSxpJiYhbC5oYXNDbGFzcyhpLGUpfHxsLnJlbW92ZUNsYXNzKHksZSl9KTtmb3IodmFyIEM9bC5nZXRBdHRyaWJzKHkpLHc9MDt3PEMubGVuZ3RoO3crKyl7dmFyIHg9Q1t3XS5ub2RlTmFtZTtpZigwIT09eC5pbmRleE9mKCJfIikmJjAhPT14LmluZGV4T2YoImRhdGEtIikpcmV0dXJuITF9fXJldHVybiJub25lIiE9PXIucmVtb3ZlPyhmPWUsbT1yLGc9KGQ9eSkucGFyZW50Tm9kZSxoPWYuZG9tLHY9WXMoZiksbS5ibG9jayYmKHY/Zz09PWguZ2V0Um9vdCgpJiYobS5saXN0X2Jsb2NrJiZQcChkLG0ubGlzdF9ibG9jayl8fHoodGUoZC5jaGlsZE5vZGVzKSxmdW5jdGlvbihlKXtQbChmLHYsZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKT9wP3AuYXBwZW5kQ2hpbGQoZSk6KHA9RnAoaCxlLHYpLGguc2V0QXR0cmlicyhwLGYuc2V0dGluZ3MuZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnMpKTpwPTB9KSk6aC5pc0Jsb2NrKGQpJiYhaC5pc0Jsb2NrKGcpJiYoenAoaCxkLCExKXx8enAoaCxkLmZpcnN0Q2hpbGQsITAsITApfHxkLmluc2VydEJlZm9yZShoLmNyZWF0ZSgiYnIiKSxkLmZpcnN0Q2hpbGQpLHpwKGgsZCwhMCl8fHpwKGgsZC5sYXN0Q2hpbGQsITEsITApfHxkLmFwcGVuZENoaWxkKGguY3JlYXRlKCJiciIpKSkpLG0uc2VsZWN0b3ImJm0uaW5saW5lJiYhUHAobS5pbmxpbmUsZCl8fGgucmVtb3ZlKGQsITApLCEwKTp2b2lkIDB9LEhwPWZ1bmN0aW9uKHMsYyxsLGUsZil7dmFyIGQ9cy5mb3JtYXR0ZXIuZ2V0KGMpLG09ZFswXSxpPSEwLGE9cy5kb20sdD1zLnNlbGVjdGlvbix1PWZ1bmN0aW9uKGUpe3ZhciBuLHQscixvLGksYSx1PSh0PWUscj1jLG89bCxpPWYseihqbCgobj1zKS5kb20sdC5wYXJlbnROb2RlKS5yZXZlcnNlKCksZnVuY3Rpb24oZSl7aWYoIWEmJiJfc3RhcnQiIT09ZS5pZCYmIl9lbmQiIT09ZS5pZCl7dmFyIHQ9bHAobixlLHIsbyxpKTt0JiYhMSE9PXQuc3BsaXQmJihhPWUpfX0pLGEpO3JldHVybiBmdW5jdGlvbihlLHQsbixyLG8saSxhLHUpe3ZhciBzLGMsbCxmPWUuZG9tO2lmKG4pe2Zvcih2YXIgZD1uLnBhcmVudE5vZGUsbT1yLnBhcmVudE5vZGU7bSYmbSE9PWQ7bT1tLnBhcmVudE5vZGUpe3M9Zi5jbG9uZShtLCExKTtmb3IodmFyIHA9MDtwPHQubGVuZ3RoO3ArKylpZihqcChlLHRbcF0sdSxzLHMpKXtzPTA7YnJlYWt9cyYmKGMmJnMuYXBwZW5kQ2hpbGQoYyksbD1sfHxzLGM9cyl9IWl8fGEubWl4ZWQmJmYuaXNCbG9jayhuKXx8KHI9Zi5zcGxpdChuLHIpKSxjJiYoby5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjLG8pLGwuYXBwZW5kQ2hpbGQobykpfXJldHVybiByfShzLGQsdSxlLGUsITAsbSxsKX0scD1mdW5jdGlvbihlKXt2YXIgdCxuO3ZuKGUpJiZhLmdldENvbnRlbnRFZGl0YWJsZShlKSYmKHQ9aSxpPSJ0cnVlIj09PWEuZ2V0Q29udGVudEVkaXRhYmxlKGUpLG49ITApO3ZhciByPXRlKGUuY2hpbGROb2Rlcyk7aWYoaSYmIW4pZm9yKHZhciBvPTA7bzxkLmxlbmd0aCYmIWpwKHMsZFtvXSxsLGUsZSk7bysrKTtpZihtLmRlZXAmJnIubGVuZ3RoKXtmb3Iobz0wO288ci5sZW5ndGg7bysrKXAocltvXSk7biYmKGk9dCl9fSxnPWZ1bmN0aW9uKGUpe3ZhciB0LG49YS5nZXQoZT8iX3N0YXJ0IjoiX2VuZCIpLHI9bltlPyJmaXJzdENoaWxkIjoibGFzdENoaWxkIl07cmV0dXJuIGtsKHQ9cikmJnZuKHQpJiYoIl9zdGFydCI9PT10LmlkfHwiX2VuZCI9PT10LmlkKSYmKHI9cltlPyJmaXJzdENoaWxkIjoibGFzdENoaWxkIl0pLEVuKHIpJiYwPT09ci5kYXRhLmxlbmd0aCYmKHI9ZT9uLnByZXZpb3VzU2libGluZ3x8bi5uZXh0U2libGluZzpuLm5leHRTaWJsaW5nfHxuLnByZXZpb3VzU2libGluZyksYS5yZW1vdmUobiwhMCkscn0sbj1mdW5jdGlvbihlKXt2YXIgdCxuLHI9dGYocyxlLGQsITApO2lmKG0uc3BsaXQpe2lmKHI9b3AociksKHQ9SXAocyxyLCEwKSkhPT0obj1JcChzLHIpKSl7aWYodD1NcCh0LCEwKSxuPU1wKG4sITEpLExwKGEsdCxuKSl7dmFyIG89Qi5mcm9tKHQuZmlyc3RDaGlsZCkuZ2V0T3IodCk7cmV0dXJuIHUoVXAoYSxvLCEwLCJzcGFuIix7aWQ6Il9zdGFydCIsImRhdGEtbWNlLXR5cGUiOiJib29rbWFyayJ9KSksdm9pZCBnKCEwKX1pZihMcChhLG4sdCkpe289Qi5mcm9tKG4ubGFzdENoaWxkKS5nZXRPcihuKTtyZXR1cm4gdShVcChhLG8sITEsInNwYW4iLHtpZDoiX2VuZCIsImRhdGEtbWNlLXR5cGUiOiJib29rbWFyayJ9KSksdm9pZCBnKCExKX10PUZwKGEsdCwic3BhbiIse2lkOiJfc3RhcnQiLCJkYXRhLW1jZS10eXBlIjoiYm9va21hcmsifSksbj1GcChhLG4sInNwYW4iLHtpZDoiX2VuZCIsImRhdGEtbWNlLXR5cGUiOiJib29rbWFyayJ9KTt2YXIgaT1hLmNyZWF0ZVJuZygpO2kuc2V0U3RhcnRBZnRlcih0KSxpLnNldEVuZEJlZm9yZShuKSxyZihhLGksZnVuY3Rpb24oZSl7eihlLGZ1bmN0aW9uKGUpe2tsKGUpfHxrbChlLnBhcmVudE5vZGUpfHx1KGUpfSl9KSx1KHQpLHUobiksdD1nKCEwKSxuPWcoKX1lbHNlIHQ9bj11KHQpO3Iuc3RhcnRDb250YWluZXI9dC5wYXJlbnROb2RlP3QucGFyZW50Tm9kZTp0LHIuc3RhcnRPZmZzZXQ9YS5ub2RlSW5kZXgodCksci5lbmRDb250YWluZXI9bi5wYXJlbnROb2RlP24ucGFyZW50Tm9kZTpuLHIuZW5kT2Zmc2V0PWEubm9kZUluZGV4KG4pKzF9cmYoYSxyLGZ1bmN0aW9uKGUpe3ooZSxmdW5jdGlvbih0KXtwKHQpO3ooWyJ1bmRlcmxpbmUiLCJsaW5lLXRocm91Z2giLCJvdmVybGluZSJdLGZ1bmN0aW9uKGUpe3ZuKHQpJiZzLmRvbS5nZXRTdHlsZSh0LCJ0ZXh0LWRlY29yYXRpb24iKT09PWUmJnQucGFyZW50Tm9kZSYmemwoYSx0LnBhcmVudE5vZGUpPT09ZSYmanAocyx7ZGVlcDohMSxleGFjdDohMCxpbmxpbmU6InNwYW4iLHN0eWxlczp7dGV4dERlY29yYXRpb246ZX19LG51bGwsdCl9KX0pfSl9O2lmKGUpaWYoQWwoZSkpe3ZhciByPWEuY3JlYXRlUm5nKCk7ci5zZXRTdGFydEJlZm9yZShlKSxyLnNldEVuZEFmdGVyKGUpLG4ocil9ZWxzZSBuKGUpO2Vsc2UgaWYoImZhbHNlIiE9PWEuZ2V0Q29udGVudEVkaXRhYmxlKHQuZ2V0Tm9kZSgpKSl0LmlzQ29sbGFwc2VkKCkmJm0uaW5saW5lJiYhc2YocykubGVuZ3RoP05wKHMsYyxsLGYpOihnZih0LCEwLGZ1bmN0aW9uKCl7cGYocyxuKX0pLG0uaW5saW5lJiZmcChzLGMsbCx0LmdldFN0YXJ0KCkpJiZEbChhLHQsdC5nZXRSbmcoKSkscy5ub2RlQ2hhbmdlZCgpKTtlbHNle2U9dC5nZXROb2RlKCk7Zm9yKHZhciBvPTA7bzxkLmxlbmd0aCYmKCFkW29dLmNlRmFsc2VPdmVycmlkZXx8IWpwKHMsZFtvXSxsLGUsZSkpO28rKyk7fX0sVnA9eXQuZWFjaCxxcD1mdW5jdGlvbihlKXtyZXR1cm4gdm4oZSkmJiFrbChlKSYmIWdsKGUpJiYhd24oZSl9LCRwPWZ1bmN0aW9uKGUsdCl7dmFyIG47Zm9yKG49ZTtuO249blt0XSl7aWYoRW4obikmJjAhPT1uLm5vZGVWYWx1ZS5sZW5ndGgpcmV0dXJuIGU7aWYodm4obikmJiFrbChuKSlyZXR1cm4gbn1yZXR1cm4gZX0sV3A9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT1uZXcgS2YoZSk7aWYodCYmbiYmKHQ9JHAodCwicHJldmlvdXNTaWJsaW5nIiksbj0kcChuLCJuZXh0U2libGluZyIpLGkuY29tcGFyZSh0LG4pKSl7Zm9yKHI9dC5uZXh0U2libGluZztyJiZyIT09bjspcj0obz1yKS5uZXh0U2libGluZyx0LmFwcGVuZENoaWxkKG8pO3JldHVybiBlLnJlbW92ZShuKSx5dC5lYWNoKHl0LmdyZXAobi5jaGlsZE5vZGVzKSxmdW5jdGlvbihlKXt0LmFwcGVuZENoaWxkKGUpfSksdH1yZXR1cm4gbn0sS3A9ZnVuY3Rpb24oZSx0LG4pe1ZwKGUuY2hpbGROb2RlcyxmdW5jdGlvbihlKXtxcChlKSYmKHQoZSkmJm4oZSksZS5oYXNDaGlsZE5vZGVzKCkmJktwKGUsdCxuKSl9KX0sWHA9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IVVsKHQsZSxuKSl9fSxZcD1mdW5jdGlvbih0LG4scil7cmV0dXJuIGZ1bmN0aW9uKGUpe3Quc2V0U3R5bGUoZSxuLHIpLCIiPT09ZS5nZXRBdHRyaWJ1dGUoInN0eWxlIikmJmUucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpLEdwKHQsZSl9fSxHcD1mdW5jdGlvbihlLHQpeyJTUEFOIj09PXQubm9kZU5hbWUmJjA9PT1lLmdldEF0dHJpYnModCkubGVuZ3RoJiZlLnJlbW92ZSh0LCEwKX0sSnA9ZnVuY3Rpb24obixlLHIsbyl7VnAoZSxmdW5jdGlvbih0KXtWcChuLmRvbS5zZWxlY3QodC5pbmxpbmUsbyksZnVuY3Rpb24oZSl7cXAoZSkmJmpwKG4sdCxyLGUsdC5leGFjdD9lOm51bGwpfSksZnVuY3Rpb24ocixlLHQpe2lmKGUuY2xlYXJfY2hpbGRfc3R5bGVzKXt2YXIgbj1lLmxpbmtzPyIqOm5vdChhKSI6IioiO1ZwKHIuc2VsZWN0KG4sdCksZnVuY3Rpb24obil7cXAobikmJlZwKGUuc3R5bGVzLGZ1bmN0aW9uKGUsdCl7ci5zZXRTdHlsZShuLHQsIiIpfSl9KX19KG4uZG9tLHQsbyl9KX0sUXA9eXQuZWFjaCxacD1mdW5jdGlvbihULFIsQSxyKXt2YXIgZSxEPVQuZm9ybWF0dGVyLmdldChSKSxPPURbMF0sbz0hciYmVC5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSxpPVQuZG9tLHQ9VC5zZWxlY3Rpb24sQj1mdW5jdGlvbihuLGUpe2lmKGU9ZXx8TyxuKXtpZihlLm9uZm9ybWF0JiZlLm9uZm9ybWF0KG4sZSxBLHIpLFFwKGUuc3R5bGVzLGZ1bmN0aW9uKGUsdCl7aS5zZXRTdHlsZShuLHQsSWwoZSxBKSl9KSxlLnN0eWxlcyl7dmFyIHQ9aS5nZXRBdHRyaWIobiwic3R5bGUiKTt0JiZpLnNldEF0dHJpYihuLCJkYXRhLW1jZS1zdHlsZSIsdCl9UXAoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUsdCl7aS5zZXRBdHRyaWIobix0LElsKGUsQSkpfSksUXAoZS5jbGFzc2VzLGZ1bmN0aW9uKGUpe2U9SWwoZSxBKSxpLmhhc0NsYXNzKG4sZSl8fGkuYWRkQ2xhc3MobixlKX0pfX0sZD1mdW5jdGlvbihlLHQpe3ZhciBuPSExO3JldHVybiEhTy5zZWxlY3RvciYmKFFwKGUsZnVuY3Rpb24oZSl7aWYoISgiY29sbGFwc2VkImluIGUmJmUuY29sbGFwc2VkIT09bykpcmV0dXJuIGkuaXModCxlLnNlbGVjdG9yKSYmIWdsKHQpPyhCKHQsZSksIShuPSEwKSk6dm9pZCAwfSksbil9LGE9ZnVuY3Rpb24oayxlLHQscyl7dmFyIF89W10sYz0hMCxsPU8uaW5saW5lfHxPLmJsb2NrLGY9ay5jcmVhdGUobCk7QihmKSxyZihrLGUsZnVuY3Rpb24oZSl7dmFyIGEsdT1mdW5jdGlvbihlKXt2YXIgdD0hMSxuPWMscj1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksbz1lLnBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZih2bihlKSYmay5nZXRDb250ZW50RWRpdGFibGUoZSkmJihuPWMsYz0idHJ1ZSI9PT1rLmdldENvbnRlbnRFZGl0YWJsZShlKSx0PSEwKSxNbChyLCJiciIpKXJldHVybiBhPTAsdm9pZChPLmJsb2NrJiZrLnJlbW92ZShlKSk7aWYoTy53cmFwcGVyJiZscChULGUsUixBKSlhPTA7ZWxzZXtpZihjJiYhdCYmTy5ibG9jayYmIU8ud3JhcHBlciYmQmwoVCxyKSYmUGwoVCxvLGwpKXJldHVybiBlPWsucmVuYW1lKGUsbCksQihlKSxfLnB1c2goZSksdm9pZChhPTApO2lmKE8uc2VsZWN0b3Ipe3ZhciBpPWQoRCxlKTtpZighTy5pbmxpbmV8fGkpcmV0dXJuIHZvaWQoYT0wKX0hY3x8dHx8IVBsKFQsbCxyKXx8IVBsKFQsbyxsKXx8IXMmJjM9PT1lLm5vZGVUeXBlJiYxPT09ZS5ub2RlVmFsdWUubGVuZ3RoJiY2NTI3OT09PWUubm9kZVZhbHVlLmNoYXJDb2RlQXQoMCl8fGdsKGUpfHxPLmlubGluZSYmay5pc0Jsb2NrKGUpPyhhPTAsUXAoeXQuZ3JlcChlLmNoaWxkTm9kZXMpLHUpLHQmJihjPW4pLGE9MCk6KGF8fChhPWsuY2xvbmUoZiwhMSksZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLGUpLF8ucHVzaChhKSksYS5hcHBlbmRDaGlsZChlKSl9fTtRcChlLHUpfSksITA9PT1PLmxpbmtzJiZRcChfLGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpeyJBIj09PWUubm9kZU5hbWUmJkIoZSxPKSxRcCh5dC5ncmVwKGUuY2hpbGROb2RlcyksdCl9O3QoZSl9KSxRcChfLGZ1bmN0aW9uKGUpe3ZhciBuLHQscixvLGksYSx1LHMsYyxsLGYsZCxtLHAsZyxoLHYseSxiLEMsdyx4LFMsTj1mdW5jdGlvbihlKXt2YXIgbj0hMTtyZXR1cm4gUXAoZS5jaGlsZE5vZGVzLGZ1bmN0aW9uKGUpe2lmKCh0PWUpJiYxPT09dC5ub2RlVHlwZSYmIWtsKHQpJiYhZ2wodCkmJiF3bih0KSlyZXR1cm4gbj1lLCExO3ZhciB0fSksbn0sRT0obj0wLFFwKGUuY2hpbGROb2RlcyxmdW5jdGlvbihlKXt2YXIgdDsodD1lKSYmRW4odCkmJjA9PT10Lmxlbmd0aHx8a2woZSl8fG4rK30pLG4pOyEoMTxfLmxlbmd0aCkmJmsuaXNCbG9jayhlKXx8MCE9PUU/KE8uaW5saW5lfHxPLndyYXBwZXIpJiYoTy5leGFjdHx8MSE9PUV8fCgoUz1OKHc9ZSkpJiYha2woUykmJnNwKGssUyxPKSYmKHg9ay5jbG9uZShTLCExKSxCKHgpLGsucmVwbGFjZSh4LHcsITApLGsucmVtb3ZlKFMsITApKSxlPXh8fHcpLEpwKFQsRCxBLGUpLHY9Tyx5PVIsYj1BLGxwKGg9VCwoQz1lKS5wYXJlbnROb2RlLHksYikmJmpwKGgsdixiLEMpfHx2Lm1lcmdlX3dpdGhfcGFyZW50cyYmaC5kb20uZ2V0UGFyZW50KEMucGFyZW50Tm9kZSxmdW5jdGlvbihlKXtpZihscChoLGUseSxiKSlyZXR1cm4ganAoaCx2LGIsQyksITB9KSxkPWsscD1BLGc9ZSwobT1PKS5zdHlsZXMmJm0uc3R5bGVzLmJhY2tncm91bmRDb2xvciYmS3AoZyxYcChkLCJmb250U2l6ZSIpLFlwKGQsImJhY2tncm91bmRDb2xvciIsSWwobS5zdHlsZXMuYmFja2dyb3VuZENvbG9yLHApKSkscz1rLGw9ZSxmPWZ1bmN0aW9uKGUpe2lmKDE9PT1lLm5vZGVUeXBlJiZlLnBhcmVudE5vZGUmJjE9PT1lLnBhcmVudE5vZGUubm9kZVR5cGUpe3ZhciB0PXpsKHMsZS5wYXJlbnROb2RlKTtzLmdldFN0eWxlKGUsImNvbG9yIikmJnQ/cy5zZXRTdHlsZShlLCJ0ZXh0LWRlY29yYXRpb24iLHQpOnMuZ2V0U3R5bGUoZSwidGV4dC1kZWNvcmF0aW9uIik9PT10JiZzLnNldFN0eWxlKGUsInRleHQtZGVjb3JhdGlvbiIsbnVsbCl9fSwoYz1PKS5zdHlsZXMmJihjLnN0eWxlcy5jb2xvcnx8Yy5zdHlsZXMudGV4dERlY29yYXRpb24pJiYoeXQud2FsayhsLGYsImNoaWxkTm9kZXMiKSxmKGwpKSxpPWssdT1lLCJzdWIiIT09KGE9TykuaW5saW5lJiYic3VwIiE9PWEuaW5saW5lfHwoS3AodSxYcChpLCJmb250U2l6ZSIpLFlwKGksImZvbnRTaXplIiwiIikpLGkucmVtb3ZlKGkuc2VsZWN0KCJzdXAiPT09YS5pbmxpbmU/InN1YiI6InN1cCIsdSksITApKSx0PWsscj1PLChvPWUpJiYhMSE9PXIubWVyZ2Vfc2libGluZ3MmJihvPVdwKHQsT2wobyksbyksbz1XcCh0LG8sT2wobywhMCkpKSk6ay5yZW1vdmUoZSwhMCl9KX07aWYoImZhbHNlIiE9PWkuZ2V0Q29udGVudEVkaXRhYmxlKHQuZ2V0Tm9kZSgpKSl7aWYoTyl7aWYocilBbChyKT9kKEQscil8fCgoZT1pLmNyZWF0ZVJuZygpKS5zZXRTdGFydEJlZm9yZShyKSxlLnNldEVuZEFmdGVyKHIpLGEoaSx0ZihULGUsRCksMCwhMCkpOmEoaSxyLDAsITApO2Vsc2UgaWYobyYmTy5pbmxpbmUmJiFzZihUKS5sZW5ndGgpIWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9ZS5zZWxlY3Rpb24sYT1pLmdldFJuZygpLHU9YS5zdGFydE9mZnNldCxzPWEuc3RhcnRDb250YWluZXIubm9kZVZhbHVlOyhyPWhsKGUuZ2V0Qm9keSgpLGkuZ2V0U3RhcnQoKSkpJiYobz15cChyKSk7dmFyIGMsbCxmPS9bXlxzXHUwMGEwXHUwMGFkXHUyMDBiXHVmZWZmXS87aWYocyYmMDx1JiZ1PHMubGVuZ3RoJiZmLnRlc3Qocy5jaGFyQXQodSkpJiZmLnRlc3Qocy5jaGFyQXQodS0xKSkpe3ZhciBkPWkuZ2V0Qm9va21hcmsoKTthLmNvbGxhcHNlKCEwKTt2YXIgbT10ZihlLGEsZS5mb3JtYXR0ZXIuZ2V0KHQpKTttPW9wKG0pLGUuZm9ybWF0dGVyLmFwcGx5KHQsbixtKSxpLm1vdmVUb0Jvb2ttYXJrKGQpfWVsc2UgciYmby5ub2RlVmFsdWU9PT1ncHx8KGM9ZS5nZXREb2MoKSxsPWJwKCEwKS5kb20oKSxvPShyPWMuaW1wb3J0Tm9kZShsLCEwKSkuZmlyc3RDaGlsZCxhLmluc2VydE5vZGUociksdT0xKSxlLmZvcm1hdHRlci5hcHBseSh0LG4sciksaS5zZXRDdXJzb3JMb2NhdGlvbihvLHUpfShULFIsQSk7ZWxzZXt2YXIgbj10LmdldE5vZGUoKTtULnNldHRpbmdzLmZvcmNlZF9yb290X2Jsb2NrfHwhRFswXS5kZWZhdWx0QmxvY2t8fGkuZ2V0UGFyZW50KG4saS5pc0Jsb2NrKXx8WnAoVCxEWzBdLmRlZmF1bHRCbG9jayksdC5zZXRSbmcoYW0odC5nZXRSbmcoKSkpLGdmKHQsITAsZnVuY3Rpb24oZSl7cGYoVCxmdW5jdGlvbihlLHQpe3ZhciBuPXQ/ZTp0ZihULGUsRCk7YShpLG4pfSl9KSxEbChpLHQsdC5nZXRSbmcoKSksVC5ub2RlQ2hhbmdlZCgpfXU9VCxScChfcFtSXSxmdW5jdGlvbihlKXtlKHUpfSl9dmFyIHV9ZWxzZXtyPXQuZ2V0Tm9kZSgpO2Zvcih2YXIgcz0wLGM9RC5sZW5ndGg7czxjO3MrKylpZihEW3NdLmNlRmFsc2VPdmVycmlkZSYmaS5pcyhyLERbc10uc2VsZWN0b3IpKXJldHVybiB2b2lkIEIocixEW3NdKX19LGVnPWZ1bmN0aW9uKG4sZSl7cmV0dXJuIFUoZSxmdW5jdGlvbihlKXt2YXIgdD1uLmZpcmUoIkdldFNlbGVjdGlvblJhbmdlIix7cmFuZ2U6ZX0pO3JldHVybiB0LnJhbmdlIT09ZT90LnJhbmdlOmV9KX0sdGc9ZnVuY3Rpb24oZSx0KXt2YXIgbj0odHx8Vi5kb2N1bWVudCkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3JldHVybiB6KGUsZnVuY3Rpb24oZSl7bi5hcHBlbmRDaGlsZChlLmRvbSgpKX0pLEN0LmZyb21Eb20obil9LG5nPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm57ZWxlbWVudDp4KGUpLHdpZHRoOngodCkscm93czp4KG4pfX0scmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZWxlbWVudDp4KGUpLGNlbGxzOngodCl9fSxvZz1mdW5jdGlvbihlLHQpe3ZhciBuPXBhcnNlSW50KEluKGUsdCksMTApO3JldHVybiBpc05hTihuKT8xOm59LGlnPWZ1bmN0aW9uKGUpe3JldHVybiBXKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jZWxscygpLmxlbmd0aD5lP3QuY2VsbHMoKS5sZW5ndGg6ZX0sMCl9LGFnPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9ZS5yb3dzKCksbz0wO288ci5sZW5ndGg7bysrKWZvcih2YXIgaT1yW29dLmNlbGxzKCksYT0wO2E8aS5sZW5ndGg7YSsrKWlmKER0KGlbYV0sdCkpcmV0dXJuIEIuc29tZSgobj1vLHt4OngoYSkseTp4KG4pfSkpO3JldHVybiBCLm5vbmUoKX0sdWc9ZnVuY3Rpb24oZSx0LG4scixvKXtmb3IodmFyIGk9W10sYT1lLnJvd3MoKSx1PW47dTw9bzt1Kyspe3ZhciBzPWFbdV0uY2VsbHMoKSxjPXQ8cj9zLnNsaWNlKHQscisxKTpzLnNsaWNlKHIsdCsxKTtpLnB1c2gocmcoYVt1XS5lbGVtZW50KCksYykpfXJldHVybiBpfSxzZz1mdW5jdGlvbihlKXt2YXIgbz1uZyhwdShlKSwwLFtdKTtyZXR1cm4geihZYShlLCJ0ciIpLGZ1bmN0aW9uKG4scil7eihZYShuLCJ0ZCx0aCIpLGZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKGUsdCxuLHIsbyl7Zm9yKHZhciBpPW9nKG8sInJvd3NwYW4iKSxhPW9nKG8sImNvbHNwYW4iKSx1PWUucm93cygpLHM9bjtzPG4raTtzKyspe3Vbc118fCh1W3NdPXJnKGd1KHIpLFtdKSk7Zm9yKHZhciBjPXQ7Yzx0K2E7YysrKXt1W3NdLmNlbGxzKClbY109cz09PW4mJmM9PT10P286cHUobyl9fX0obyxmdW5jdGlvbihlLHQsbil7Zm9yKDtyPXQsbz1uLGk9dm9pZCAwLCgoaT1lLnJvd3MoKSlbb10/aVtvXS5jZWxscygpOltdKVtyXTspdCsrO3ZhciByLG8saTtyZXR1cm4gdH0obyx0LHIpLHIsbixlKX0pfSksbmcoby5lbGVtZW50KCksaWcoby5yb3dzKCkpLG8ucm93cygpKX0sY2c9ZnVuY3Rpb24oZSl7cmV0dXJuIG49VSgodD1lKS5yb3dzKCksZnVuY3Rpb24oZSl7dmFyIHQ9VShlLmNlbGxzKCksZnVuY3Rpb24oZSl7dmFyIHQ9Z3UoZSk7cmV0dXJuIE1uKHQsImNvbHNwYW4iKSxNbih0LCJyb3dzcGFuIiksdH0pLG49cHUoZS5lbGVtZW50KCkpO3JldHVybiBlbihuLHQpLG59KSxyPXB1KHQuZWxlbWVudCgpKSxvPUN0LmZyb21UYWcoInRib2R5IiksZW4obyxuKSxadChyLG8pLHI7dmFyIHQsbixyLG99LGxnPWZ1bmN0aW9uKGwsZSx0KXtyZXR1cm4gYWcobCxlKS5iaW5kKGZ1bmN0aW9uKGMpe3JldHVybiBhZyhsLHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdD1sLHI9ZSxvPShuPWMpLngoKSxpPW4ueSgpLGE9ci54KCksdT1yLnkoKSxzPWk8dT91Zyh0LG8saSxhLHUpOnVnKHQsbyx1LGEsaSksbmcodC5lbGVtZW50KCksaWcocykscyk7dmFyIHQsbixyLG8saSxhLHUsc30pfSl9LGZnPWZ1bmN0aW9uKHQsbil7cmV0dXJuIEsodCxmdW5jdGlvbihlKXtyZXR1cm4ibGkiPT09d3QoZSkmJmZmKGUsbil9KS5mb2xkKHgoW10pLGZ1bmN0aW9uKGUpe3JldHVybiBLKHQsZnVuY3Rpb24oZSl7cmV0dXJuInVsIj09PXd0KGUpfHwib2wiPT09d3QoZSl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuW0N0LmZyb21UYWcoImxpIiksQ3QuZnJvbVRhZyh3dChlKSldfSkuZ2V0T3IoW10pfSl9LGRnPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1DdC5mcm9tRG9tKHQuY29tbW9uQW5jZXN0b3JDb250YWluZXIpLG89eWQocixlKSxpPUgobyxmdW5jdGlvbihlKXtyZXR1cm4gWG4oZSl8fFduKGUpfSksYT1mZyhvLHQpLHU9aS5jb25jYXQoYS5sZW5ndGg/YTpRbihuPXIpP010KG4pLmZpbHRlcihKbikuZm9sZCh4KFtdKSxmdW5jdGlvbihlKXtyZXR1cm5bbixlXX0pOkpuKG4pP1tuXTpbXSk7cmV0dXJuIFUodSxwdSl9LG1nPWZ1bmN0aW9uKCl7cmV0dXJuIHRnKFtdKX0scGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1DdC5mcm9tRG9tKHQuY2xvbmVDb250ZW50cygpKSxyPWRnKGUsdCksbz1XKHIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gWnQodCxlKSx0fSxuKSwwPHIubGVuZ3RoP3RnKFtvXSk6bzt2YXIgbixyLG99LGdnPWZ1bmN0aW9uKGUsbyl7cmV0dXJuIHQ9ZSxuPW9bMF0sZXUobiwidGFibGUiLE4oRHQsdCkpLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQ9b1swXSxuPW9bby5sZW5ndGgtMV0scj1zZyhlKTtyZXR1cm4gbGcocix0LG4pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdGcoW2NnKGUpXSl9KX0pLmdldE9yVGh1bmsobWcpO3ZhciB0LG59LGhnPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPXVmKHQsZSk7cmV0dXJuIDA8by5sZW5ndGg/Z2coZSxvKToobj1lLDA8KHI9dCkubGVuZ3RoJiZyWzBdLmNvbGxhcHNlZD9tZygpOnBnKG4sclswXSkpfSx2Zz1mdW5jdGlvbihlLHQpe3JldHVybiAwPD10JiZ0PGUubGVuZ3RoJiZUbChlLmNoYXJBdCh0KSl9LHlnPWZ1bmN0aW9uKGUpe3ZhciB0PUN1KGUuaW5uZXJUZXh0KTtyZXR1cm4gbXQuYnJvd3Nlci5pc0lFKCk/dC5yZXBsYWNlKC9eWyBcZlxuXHJcdFx2XSsvLCIiKTp0fSxiZz1mdW5jdGlvbihlLHQsbil7aWYodm9pZCAwPT09biYmKG49e30pLG4uZ2V0PSEwLG4uZm9ybWF0PXQsbi5zZWxlY3Rpb249ITAsKG49ZS5maXJlKCJCZWZvcmVHZXRDb250ZW50IixuKSkuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuIGUuZmlyZSgiR2V0Q29udGVudCIsbiksbi5jb250ZW50O2lmKCJ0ZXh0Ij09PW4uZm9ybWF0KXJldHVybiBsPWUsQi5mcm9tKGwuc2VsZWN0aW9uLmdldFJuZygpKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9bC5kb20uYWRkKGwuZ2V0Qm9keSgpLCJkaXYiLHsiZGF0YS1tY2UtYm9ndXMiOiJhbGwiLHN0eWxlOiJvdmVyZmxvdzogaGlkZGVuOyBvcGFjaXR5OiAwOyJ9LGUuY2xvbmVDb250ZW50cygpKSxuPXlnKHQpLHI9Q3UodC50ZXh0Q29udGVudCk7aWYobC5kb20ucmVtb3ZlKHQpLHZnKHIsMCl8fHZnKHIsci5sZW5ndGgtMSkpe3ZhciBvPWwuZG9tLmdldFBhcmVudChlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLGwuZG9tLmlzQmxvY2spLGk9eWcobyksYT1pLmluZGV4T2Yobik7cmV0dXJuLTE9PT1hP246KHZnKGksYS0xKT8iICI6IiIpK24rKHZnKGksYStuLmxlbmd0aCk/IiAiOiIiKX1yZXR1cm4gbn0pLmdldE9yKCIiKTtuLmdldElubmVyPSEwO3ZhciByLG8saSxhLHUscyxjLGwsZj0obz1uLGk9KHI9ZSkuc2VsZWN0aW9uLmdldFJuZygpLGE9ci5kb20uY3JlYXRlKCJib2R5IiksdT1yLnNlbGVjdGlvbi5nZXRTZWwoKSxzPWVnKHIsb2YodSkpLChjPW8uY29udGV4dHVhbD9oZyhDdC5mcm9tRG9tKHIuZ2V0Qm9keSgpKSxzKS5kb20oKTppLmNsb25lQ29udGVudHMoKSkmJmEuYXBwZW5kQ2hpbGQoYyksci5zZWxlY3Rpb24uc2VyaWFsaXplci5zZXJpYWxpemUoYSxvKSk7cmV0dXJuInRyZWUiPT09bi5mb3JtYXQ/Zjoobi5jb250ZW50PWUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCk/IiI6ZixlLmZpcmUoIkdldENvbnRlbnQiLG4pLG4uY29udGVudCl9LENnPWZ1bmN0aW9uKGUpe3JldHVybiB2bihlKT9lLm91dGVySFRNTDpFbihlKT95ci5lbmNvZGVSYXcoZS5kYXRhLCExKTprbihlKT8iXHgzYyEtLSIrZS5kYXRhKyItLVx4M2UiOiIifSx3Zz1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQsbj1WLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHI9Vi5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKGUmJihuLmlubmVySFRNTD1lKTt0PW4uZmlyc3RDaGlsZDspci5hcHBlbmRDaGlsZCh0KTtyZXR1cm4gcn0odCk7aWYoZS5oYXNDaGlsZE5vZGVzKCkmJm48ZS5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIG89ZS5jaGlsZE5vZGVzW25dO28ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocixvKX1lbHNlIGUuYXBwZW5kQ2hpbGQocil9LHhnPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixwLGcsbyxoLHYsYyx5LGwsaSxhPVUodGUodC5jaGlsZE5vZGVzKSxDZyk7cmV0dXJuIGc9ZSxvPShwPWEpLmxlbmd0aCtnLmxlbmd0aCsyLGg9bmV3IEFycmF5KG8pLHY9bmV3IEFycmF5KG8pLGM9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1sKGUsdCxuLHIpO2lmKG51bGw9PT1pfHxpLnN0YXJ0PT09dCYmaS5kaWFnPT09dC1yfHxpLmVuZD09PWUmJmkuZGlhZz09PWUtbilmb3IodmFyIGE9ZSx1PW47YTx0fHx1PHI7KWE8dCYmdTxyJiZwW2FdPT09Z1t1XT8oby5wdXNoKFswLHBbYV1dKSwrK2EsKyt1KTpyLW48dC1lPyhvLnB1c2goWzIscFthXV0pLCsrYSk6KG8ucHVzaChbMSxnW3VdXSksKyt1KTtlbHNle2MoZSxpLnN0YXJ0LG4saS5zdGFydC1pLmRpYWcsbyk7Zm9yKHZhciBzPWkuc3RhcnQ7czxpLmVuZDsrK3Mpby5wdXNoKFswLHBbc11dKTtjKGkuZW5kLHQsaS5lbmQtaS5kaWFnLHIsbyl9fSx5PWZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbz1lO28tdDxyJiZvPG4mJnBbb109PT1nW28tdF07KSsrbztyZXR1cm57c3RhcnQ6ZSxlbmQ6byxkaWFnOnR9fSxsPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXQtZSxpPXItbjtpZigwPT1vfHwwPT1pKXJldHVybiBudWxsO3ZhciBhLHUscyxjLGwsZj1vLWksZD1pK28sbT0oZCUyPT0wP2Q6MStkKS8yO2ZvcihoWzErbV09ZSx2WzErbV09dCsxLGE9MDthPD1tOysrYSl7Zm9yKHU9LWE7dTw9YTt1Kz0yKXtmb3Iocz11K20sdT09PS1hfHx1IT09YSYmaFtzLTFdPGhbcysxXT9oW3NdPWhbcysxXTpoW3NdPWhbcy0xXSsxLGw9KGM9aFtzXSktZStuLXU7Yzx0JiZsPHImJnBbY109PT1nW2xdOyloW3NdPSsrYywrK2w7aWYoZiUyIT0wJiZmLWE8PXUmJnU8PWYrYSYmdltzLWZdPD1oW3NdKXJldHVybiB5KHZbcy1mXSx1K2Utbix0LHIpfWZvcih1PWYtYTt1PD1mK2E7dSs9Mil7Zm9yKHM9dSttLWYsdT09PWYtYXx8dSE9PWYrYSYmdltzKzFdPD12W3MtMV0/dltzXT12W3MrMV0tMTp2W3NdPXZbcy0xXSxsPShjPXZbc10tMSktZStuLXU7ZTw9YyYmbjw9bCYmcFtjXT09PWdbbF07KXZbc109Yy0tLGwtLTtpZihmJTI9PTAmJi1hPD11JiZ1PD1hJiZ2W3NdPD1oW3MrZl0pcmV0dXJuIHkodltzXSx1K2Utbix0LHIpfX19LGk9W10sYygwLHAubGVuZ3RoLDAsZy5sZW5ndGgsaSksbj10LHI9MCx6KGksZnVuY3Rpb24oZSl7MD09PWVbMF0/cisrOjE9PT1lWzBdPyh3ZyhuLGVbMV0scikscisrKToyPT09ZVswXSYmZnVuY3Rpb24oZSx0KXtpZihlLmhhc0NoaWxkTm9kZXMoKSYmdDxlLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgbj1lLmNoaWxkTm9kZXNbdF07bi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pfX0obixyKX0pLHR9LFNnPU9hKEIubm9uZSgpKSxOZz1mdW5jdGlvbihuKXt2YXIgZSx0PShlPW4uZ2V0Qm9keSgpLEgoVSh0ZShlLmNoaWxkTm9kZXMpLENnKSxmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aH0pKSxyPVkodCxmdW5jdGlvbihlKXt2YXIgdD1WZihuLnNlcmlhbGl6ZXIsZSk7cmV0dXJuIDA8dC5sZW5ndGg/W3RdOltdfSksbz1yLmpvaW4oIiIpO3JldHVybi0xIT09by5pbmRleE9mKCI8L2lmcmFtZT4iKT97dHlwZToiZnJhZ21lbnRlZCIsZnJhZ21lbnRzOnIsY29udGVudDoiIixib29rbWFyazpudWxsLGJlZm9yZUJvb2ttYXJrOm51bGx9Ont0eXBlOiJjb21wbGV0ZSIsZnJhZ21lbnRzOm51bGwsY29udGVudDpvLGJvb2ttYXJrOm51bGwsYmVmb3JlQm9va21hcms6bnVsbH19LEVnPWZ1bmN0aW9uKGUsdCxuKXsiZnJhZ21lbnRlZCI9PT10LnR5cGU/eGcodC5mcmFnbWVudHMsZS5nZXRCb2R5KCkpOmUuc2V0Q29udGVudCh0LmNvbnRlbnQse2Zvcm1hdDoicmF3In0pLGUuc2VsZWN0aW9uLm1vdmVUb0Jvb2ttYXJrKG4/dC5iZWZvcmVCb29rbWFyazp0LmJvb2ttYXJrKX0sa2c9ZnVuY3Rpb24oZSl7cmV0dXJuImZyYWdtZW50ZWQiPT09ZS50eXBlP2UuZnJhZ21lbnRzLmpvaW4oIiIpOmUuY29udGVudH0sX2c9ZnVuY3Rpb24oZSl7dmFyIHQ9Q3QuZnJvbVRhZygiYm9keSIsU2cuZ2V0KCkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe3ZhciBlPVYuZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCJ1bmRvIik7cmV0dXJuIFNnLnNldChCLnNvbWUoZSkpLGV9KSk7cmV0dXJuIGR1KHQsa2coZSkpLHooWWEodCwiKltkYXRhLW1jZS1ib2d1c10iKSxybiksdC5kb20oKS5pbm5lckhUTUx9LFRnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISghZXx8IXQpJiYocj10LGtnKGUpPT09a2cocil8fChuPXQsX2coZSk9PT1fZyhuKSkpO3ZhciBuLHJ9LFJnPWZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5nZXQoKX0sQWc9ZnVuY3Rpb24oZSx0LG4pe1JnKG4pJiYoZS50eXBpbmc9dCl9LERnPWZ1bmN0aW9uKGUsdCl7ZS50eXBpbmcmJihBZyhlLCExLHQpLGUuYWRkKCkpfSxPZz1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFRmfSxCZz1mdW5jdGlvbihlLHQpe1ptKGUuc2VyaWFsaXplci5nZXROb2RlRmlsdGVycygpLGUuc2VyaWFsaXplci5nZXRBdHRyaWJ1dGVGaWx0ZXJzKCksdCl9LFBnPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6ImNvbXBsZXRlIixmcmFnbWVudHM6W10sY29udGVudDoiIixib29rbWFyazpudWxsLGJlZm9yZUJvb2ttYXJrOm51bGx9fSxMZz1mdW5jdGlvbihzKXtyZXR1cm57dW5kb01hbmFnZXI6e2JlZm9yZUNoYW5nZTpmdW5jdGlvbihlLHQpe3JldHVybiBuPXMscj10LHZvaWQoUmcoZSkmJnIuc2V0KEIuc29tZSgkcyhuLnNlbGVjdGlvbikpKSk7dmFyIG4scn0sYWRkVW5kb0xldmVsOmZ1bmN0aW9uKGUsdCxuLHIsbyxpKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scixvLGksYSl7dmFyIHU9TmcoZSk7aWYoaT1pfHx7fSxpPXl0LmV4dGVuZChpLHUpLCExPT09Umcocil8fGUucmVtb3ZlZClyZXR1cm4gbnVsbDt2YXIgcz10LmRhdGFbbi5nZXQoKV07aWYoZS5maXJlKCJCZWZvcmVBZGRVbmRvIix7bGV2ZWw6aSxsYXN0TGV2ZWw6cyxvcmlnaW5hbEV2ZW50OmF9KS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4gbnVsbDtpZihzJiZUZyhzLGkpKXJldHVybiBudWxsO3QuZGF0YVtuLmdldCgpXSYmby5nZXQoKS5lYWNoKGZ1bmN0aW9uKGUpe3QuZGF0YVtuLmdldCgpXS5iZWZvcmVCb29rbWFyaz1lfSk7dmFyIGM9ZS5nZXRQYXJhbSgiY3VzdG9tX3VuZG9fcmVkb19sZXZlbHMiLDAsIm51bWJlciIpO2lmKGMmJnQuZGF0YS5sZW5ndGg+Yyl7Zm9yKHZhciBsPTA7bDx0LmRhdGEubGVuZ3RoLTE7bCsrKXQuZGF0YVtsXT10LmRhdGFbbCsxXTt0LmRhdGEubGVuZ3RoLS0sbi5zZXQodC5kYXRhLmxlbmd0aCl9aS5ib29rbWFyaz0kcyhlLnNlbGVjdGlvbiksbi5nZXQoKTx0LmRhdGEubGVuZ3RoLTEmJih0LmRhdGEubGVuZ3RoPW4uZ2V0KCkrMSksdC5kYXRhLnB1c2goaSksbi5zZXQodC5kYXRhLmxlbmd0aC0xKTt2YXIgZj17bGV2ZWw6aSxsYXN0TGV2ZWw6cyxvcmlnaW5hbEV2ZW50OmF9O3JldHVybiBlLmZpcmUoIkFkZFVuZG8iLGYpLDA8bi5nZXQoKSYmKGUuc2V0RGlydHkoITApLGUuZmlyZSgiY2hhbmdlIixmKSksaX0ocyxlLHQsbixyLG8saSl9LHVuZG86ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByPXMsaT10LGE9biwobz1lKS50eXBpbmcmJihvLmFkZCgpLG8udHlwaW5nPSExLEFnKG8sITEsaSkpLDA8YS5nZXQoKSYmKGEuc2V0KGEuZ2V0KCktMSksdT1vLmRhdGFbYS5nZXQoKV0sRWcocix1LCEwKSxyLnNldERpcnR5KCEwKSxyLmZpcmUoIlVuZG8iLHtsZXZlbDp1fSkpLHU7dmFyIHIsbyxpLGEsdX0scmVkbzpmdW5jdGlvbihlLHQpe3JldHVybiBuPXMsbz10LChyPWUpLmdldCgpPG8ubGVuZ3RoLTEmJihyLnNldChyLmdldCgpKzEpLGk9b1tyLmdldCgpXSxFZyhuLGksITEpLG4uc2V0RGlydHkoITApLG4uZmlyZSgiUmVkbyIse2xldmVsOml9KSksaTt2YXIgbixyLG8saX0sY2xlYXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1zLG89dCwocj1lKS5kYXRhPVtdLG8uc2V0KDApLHIudHlwaW5nPSExLHZvaWQgbi5maXJlKCJDbGVhclVuZG9zIik7dmFyIG4scixvfSxyZXNldDpmdW5jdGlvbihlKXtyZXR1cm4odD1lKS5jbGVhcigpLHZvaWQgdC5hZGQoKTt2YXIgdH0saGFzVW5kbzpmdW5jdGlvbihlLHQpe3JldHVybiBuPXMscj1lLDA8dC5nZXQoKXx8ci50eXBpbmcmJnIuZGF0YVswXSYmIVRnKE5nKG4pLHIuZGF0YVswXSk7dmFyIG4scn0saGFzUmVkbzpmdW5jdGlvbihlLHQpe3JldHVybiBuPWUsdC5nZXQoKTxuLmRhdGEubGVuZ3RoLTEmJiFuLnR5cGluZzt2YXIgbn0sdHJhbnNhY3Q6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBvPW4sRGcocj1lLHQpLHIuYmVmb3JlQ2hhbmdlKCksci5pZ25vcmUobyksci5hZGQoKTt2YXIgcixvfSxpZ25vcmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt0cnl7ZS5zZXQoZS5nZXQoKSsxKSx0KCl9ZmluYWxseXtlLnNldChlLmdldCgpLTEpfX0oZSx0KX0sZXh0cmE6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIsbyl7aWYodC50cmFuc2FjdChyKSl7dmFyIGk9dC5kYXRhW24uZ2V0KCldLmJvb2ttYXJrLGE9dC5kYXRhW24uZ2V0KCktMV07RWcoZSxhLCEwKSx0LnRyYW5zYWN0KG8pJiYodC5kYXRhW24uZ2V0KCktMV0uYmVmb3JlQm9va21hcms9aSl9fShzLGUsdCxuLHIpfX0sZm9ybWF0dGVyOnthcHBseTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFpwKHMsZSx0LG4pfSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEhwKHMsZSx0LG4scil9LHRvZ2dsZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG89ZSxpPXQsYT1uLHU9KHI9cykuZm9ybWF0dGVyLmdldChvKSx2b2lkKCFmcChyLG8saSxhKXx8InRvZ2dsZSJpbiB1WzBdJiYhdVswXS50b2dnbGU/WnA6SHApKHIsbyxpLGEpO3ZhciByLG8saSxhLHV9fSxlZGl0b3I6e2dldENvbnRlbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1zLHI9ZSxvPXQsQi5mcm9tKG4uZ2V0Qm9keSgpKS5mb2xkKHgoInRyZWUiPT09ci5mb3JtYXQ/bmV3IFRmKCJib2R5IiwxMSk6IiIpLGZ1bmN0aW9uKGUpe3JldHVybiAkZihuLHIsbyxlKX0pO3ZhciBuLHIsb30sc2V0Q29udGVudDpmdW5jdGlvbihlLHQpe3JldHVybiBucChzLGUsdCl9LGluc2VydENvbnRlbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geW0ocyxlLHQpfX0sc2VsZWN0aW9uOntnZXRDb250ZW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGJnKHMsZSx0KX19LHJhdzp7Z2V0TW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gQi5ub25lKCl9fX19LElnPWZ1bmN0aW9uKGUpe3JldHVybiBtZShlLnBsdWdpbnMsInJ0YyIpfSxNZz1mdW5jdGlvbihuKXt2YXIgcj1uO3JldHVybiBkZShuLnBsdWdpbnMsInJ0YyIpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gci5ydGNJbnN0YW5jZT1MZyhuKSxCLm5vbmUoKX0sZnVuY3Rpb24oZSl7cmV0dXJuIEIuc29tZShlLnNldHVwKCkudGhlbihmdW5jdGlvbihlKXt2YXIgbyxpLGEsdDtyZXR1cm4gci5ydGNJbnN0YW5jZT0obz1uLGk9ZSxhPWZ1bmN0aW9uKGUpe3JldHVybiBFKGUpP2U6e319LHQ9cCgiVW5pbXBsZW1lbnRlZCBmZWF0dXJlIGZvciBydGMiKSx7dW5kb01hbmFnZXI6e2JlZm9yZUNoYW5nZTpmLGFkZFVuZG9MZXZlbDp0LHVuZG86ZnVuY3Rpb24oKXtyZXR1cm4gaS51bmRvKCksUGcoKX0scmVkbzpmdW5jdGlvbigpe3JldHVybiBpLnJlZG8oKSxQZygpfSxjbGVhcjp0LHJlc2V0OnQsaGFzVW5kbzpmdW5jdGlvbigpe3JldHVybiBpLmhhc1VuZG8oKX0saGFzUmVkbzpmdW5jdGlvbigpe3JldHVybiBpLmhhc1JlZG8oKX0sdHJhbnNhY3Q6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBpLnRyYW5zYWN0KG4pLFBnKCl9LGlnbm9yZTp0LGV4dHJhOnR9LGZvcm1hdHRlcjp7YXBwbHk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBpLmFwcGx5Rm9ybWF0KGUsYSh0KSl9LHJlbW92ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gaS5yZW1vdmVGb3JtYXQoZSxhKHQpKX0sdG9nZ2xlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaS50b2dnbGVGb3JtYXQoZSxhKHQpKX19LGVkaXRvcjp7Z2V0Q29udGVudDpmdW5jdGlvbihlLHQpe2lmKCJodG1sIiE9PXQmJiJ0cmVlIiE9PXQpcmV0dXJuIExnKG8pLmVkaXRvci5nZXRDb250ZW50KGUsdCk7dmFyIG49aS5nZXRDb250ZW50KCkscj1PZih7aW5uZXI6ITB9KTtyZXR1cm4gQmcobyxuKSwidHJlZSI9PT10P246ci5zZXJpYWxpemUobil9LHNldENvbnRlbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1PZyhlKT9lOm8ucGFyc2VyLnBhcnNlKGUse2lzUm9vdENvbnRlbnQ6ITAsaW5zZXJ0OiEwfSk7cmV0dXJuIGkuc2V0Q29udGVudChuKSxlfSxpbnNlcnRDb250ZW50OmZ1bmN0aW9uKGUsdCl7dmFyIG49T2coZSk/ZTpvLnBhcnNlci5wYXJzZShlLHtpbnNlcnQ6ITB9KTtpLmluc2VydENvbnRlbnQobil9fSxzZWxlY3Rpb246e2dldENvbnRlbnQ6ZnVuY3Rpb24oZSx0KXtpZigiaHRtbCIhPT1lJiYidHJlZSIhPT1lKXJldHVybiBMZyhvKS5zZWxlY3Rpb24uZ2V0Q29udGVudChlLHQpO3ZhciBuPWkuZ2V0U2VsZWN0ZWRDb250ZW50KCkscj1PZih7fSk7cmV0dXJuIEJnKG8sbiksInRyZWUiPT09ZT9uOnIuc2VyaWFsaXplKG4pfX0scmF3OntnZXRNb2RlbDpmdW5jdGlvbigpe3JldHVybiBCLnNvbWUoaS5nZXRSYXdNb2RlbCgpKX19fSksZS5pc1JlbW90ZX0pKX0pfSxGZz1mdW5jdGlvbihlKXtyZXR1cm4gZS5ydGNJbnN0YW5jZT9lLnJ0Y0luc3RhbmNlOkxnKGUpfSxVZz1mdW5jdGlvbihlKXt2YXIgdD1lLnJ0Y0luc3RhbmNlO2lmKHQpcmV0dXJuIHQ7dGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZ2V0IFJUQyBpbnN0YW5jZSBub3QgeWV0IGluaXRpYWxpemVkLiIpfSx6Zz1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgbixyLG89dC5mb3JtYXQ/dC5mb3JtYXQ6Imh0bWwiO3JldHVybiBuPXQscj1vLEZnKGUpLmVkaXRvci5nZXRDb250ZW50KG4scil9LGpnPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLHI9dCxvPW4sRmcoZSkuZWRpdG9yLnNldENvbnRlbnQocixvKTt2YXIgcixvfSxIZz1FYS5ET00sVmc9ZnVuY3Rpb24oZSl7cmV0dXJuIEIuZnJvbShlKS5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlc3Ryb3koKX0pfSxxZz1mdW5jdGlvbihlKXtpZighZS5yZW1vdmVkKXt2YXIgdD1lLl9zZWxlY3Rpb25PdmVycmlkZXMsbj1lLmVkaXRvclVwbG9hZCxyPWUuZ2V0Qm9keSgpLG89ZS5nZXRFbGVtZW50KCk7ciYmZS5zYXZlKHtpc19yZW1vdmluZzohMH0pLGUucmVtb3ZlZD0hMCxlLnVuYmluZEFsbE5hdGl2ZUV2ZW50cygpLGUuaGFzSGlkZGVuSW5wdXQmJm8mJkhnLnJlbW92ZShvLm5leHRTaWJsaW5nKSxlLmZpcmUoInJlbW92ZSIpLGUuZWRpdG9yTWFuYWdlci5yZW1vdmUoZSksIWUuaW5saW5lJiZyJiYoaT1lLEhnLnNldFN0eWxlKGkuaWQsImRpc3BsYXkiLGkub3JnRGlzcGxheSkpLGUuZmlyZSgiZGV0YWNoIiksSGcucmVtb3ZlKGUuZ2V0Q29udGFpbmVyKCkpLFZnKHQpLFZnKG4pLGUuZGVzdHJveSgpfXZhciBpfSwkZz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPWUuc2VsZWN0aW9uLGE9ZS5kb207ZS5kZXN0cm95ZWR8fCh0fHxlLnJlbW92ZWQ/KHR8fChlLmVkaXRvck1hbmFnZXIub2ZmKCJiZWZvcmV1bmxvYWQiLGUuX2JlZm9yZVVubG9hZCksZS50aGVtZSYmZS50aGVtZS5kZXN0cm95JiZlLnRoZW1lLmRlc3Ryb3koKSxWZyhpKSxWZyhhKSksKHI9KG49ZSkuZm9ybUVsZW1lbnQpJiYoci5fbWNlT2xkU3VibWl0JiYoci5zdWJtaXQ9ci5fbWNlT2xkU3VibWl0LHIuX21jZU9sZFN1Ym1pdD1udWxsKSxIZy51bmJpbmQociwic3VibWl0IHJlc2V0IixuLmZvcm1FdmVudERlbGVnYXRlKSksKG89ZSkuY29udGVudEFyZWFDb250YWluZXI9by5mb3JtRWxlbWVudD1vLmNvbnRhaW5lcj1vLmVkaXRvckNvbnRhaW5lcj1udWxsLG8uYm9keUVsZW1lbnQ9by5jb250ZW50RG9jdW1lbnQ9by5jb250ZW50V2luZG93PW51bGwsby5pZnJhbWVFbGVtZW50PW8udGFyZ2V0RWxtPW51bGwsby5zZWxlY3Rpb24mJihvLnNlbGVjdGlvbj1vLnNlbGVjdGlvbi53aW49by5zZWxlY3Rpb24uZG9tPW8uc2VsZWN0aW9uLmRvbS5kb2M9bnVsbCksZS5kZXN0cm95ZWQ9ITApOmUucmVtb3ZlKCkpfSxXZz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEtnPShBcD1mdW5jdGlvbihlLHQpe3JldHVybiBFKGUpJiZFKHQpP0tnKGUsdCk6dH0sZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtpZigwPT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJDYW4ndCBtZXJnZSB6ZXJvIG9iamVjdHMiKTtmb3IodmFyIG49e30scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdO2Zvcih2YXIgaSBpbiBvKVdnLmNhbGwobyxpKSYmKG5baV09QXAobltpXSxvW2ldKSl9cmV0dXJuIG59KSxYZz1vdCgpLmRldmljZVR5cGUsWWc9WGcuaXNUb3VjaCgpLEdnPVhnLmlzUGhvbmUoKSxKZz1YZy5pc1RhYmxldCgpLFFnPVsibGlzdHMiLCJhdXRvbGluayIsImF1dG9zYXZlIl0sWmc9e3RhYmxlX2dyaWQ6ITEsb2JqZWN0X3Jlc2l6aW5nOiExLHJlc2l6ZTohMX0sZWg9ZnVuY3Rpb24oZSl7dmFyIHQ9ayhlKT9lLmpvaW4oIiAiKTplLG49VShxKHQpP3Quc3BsaXQoIiAiKTpbXSxLZSk7cmV0dXJuIEgobixmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aH0pfSx0aD1mdW5jdGlvbihuLGUpe3ZhciB0LHIsbz1jZShlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE0obix0KX0pO3JldHVybiB0PW8udCxyPW8uZix7c2VjdGlvbnM6eCh0KSxzZXR0aW5nczp4KHIpfX0sbmg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zZWN0aW9ucygpLmhhc093blByb3BlcnR5KHQpfSxyaD1mdW5jdGlvbihlLHQpe3JldHVybiBkZShlLCJ0b29sYmFyX21vZGUiKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGRlKGUsInRvb2xiYXJfZHJhd2VyIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiExPT09ZT8id3JhcCI6ZX0pfSkuZ2V0T3IodCl9LG9oPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYyxsLGY9ZWgobi5mb3JjZWRfcGx1Z2lucyksZD1laChyLnBsdWdpbnMpLG09bmgobz10LGk9Im1vYmlsZSIpP28uc2VjdGlvbnMoKVtpXTp7fSxwPW0ucGx1Z2lucz9laChtLnBsdWdpbnMpOmQsZz1lJiYocz11PSJtb2JpbGUiLGM9KGE9dCkuc2VjdGlvbnMoKSxuaChhLHUpJiZjW3VdLnRoZW1lPT09cyk/SChwLE4oTSxRZykpOmUmJm5oKHQsIm1vYmlsZSIpP3A6ZCxoPShsPWcsW10uY29uY2F0KGVoKGYpKS5jb25jYXQoZWgobCkpKTtyZXR1cm4geXQuZXh0ZW5kKHIse3BsdWdpbnM6aC5qb2luKCIgIil9KX0saWg9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHUscyxjLGwsZixkPWU/e21vYmlsZTooaT1vLm1vYmlsZXx8e30sYT10LHU9e3Jlc2l6ZTohMSx0b29sYmFyX21vZGU6cmgoaSwic2Nyb2xsaW5nIiksdG9vbGJhcl9zdGlja3k6ITF9LHhlKHhlKHhlKHt9LFpnKSx1KSxhP3ttZW51YmFyOiExfTp7fSkpfTp7fSxtPXRoKFsibW9iaWxlIl0sS2coZCxvKSkscD15dC5leHRlbmQobixyLG0uc2V0dGluZ3MoKSwoZj1tLGUmJm5oKGYsIm1vYmlsZSIpP2Z1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHI9ZS5zZWN0aW9ucygpLG89ci5oYXNPd25Qcm9wZXJ0eSh0KT9yW3RdOnt9O3JldHVybiB5dC5leHRlbmQoe30sbixvKX0obSwibW9iaWxlIik6e30pLHt2YWxpZGF0ZTohMCxleHRlcm5hbF9wbHVnaW5zOihzPXIsYz1tLnNldHRpbmdzKCksbD1jLmV4dGVybmFsX3BsdWdpbnM/Yy5leHRlcm5hbF9wbHVnaW5zOnt9LHMmJnMuZXh0ZXJuYWxfcGx1Z2lucz95dC5leHRlbmQoe30scy5leHRlcm5hbF9wbHVnaW5zLGwpOmwpfSk7cmV0dXJuIG9oKGUsbSxyLHApfSxhaD1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdSxzLGM9KGk9bixhPVlnLHU9ZSxzPXtpZDp0LHRoZW1lOiJzaWx2ZXIiLHRvb2xiYXJfbW9kZTpyaChvLCJmbG9hdGluZyIpLHBsdWdpbnM6IiIsZG9jdW1lbnRfYmFzZV91cmw6aSxhZGRfZm9ybV9zdWJtaXRfdHJpZ2dlcjohMCxzdWJtaXRfcGF0Y2g6ITAsYWRkX3VubG9hZF90cmlnZ2VyOiEwLGNvbnZlcnRfdXJsczohMCxyZWxhdGl2ZV91cmxzOiEwLHJlbW92ZV9zY3JpcHRfaG9zdDohMCxvYmplY3RfcmVzaXppbmc6ITAsZG9jdHlwZToiPCFET0NUWVBFIGh0bWw+Iix2aXN1YWw6ITAsZm9udF9zaXplX2xlZ2FjeV92YWx1ZXM6Inh4LXNtYWxsLHNtYWxsLG1lZGl1bSxsYXJnZSx4LWxhcmdlLHh4LWxhcmdlLDMwMCUiLGZvcmNlZF9yb290X2Jsb2NrOiJwIixoaWRkZW5faW5wdXQ6ITAsaW5saW5lX3N0eWxlczohMCxjb252ZXJ0X2ZvbnRzX3RvX3NwYW5zOiEwLGluZGVudDohMCxpbmRlbnRfYmVmb3JlOiJwLGgxLGgyLGgzLGg0LGg1LGg2LGJsb2NrcXVvdGUsZGl2LHRpdGxlLHN0eWxlLHByZSxzY3JpcHQsdGQsdGgsdWwsb2wsbGksZGwsZHQsZGQsYXJlYSx0YWJsZSx0aGVhZCx0Zm9vdCx0Ym9keSx0cixzZWN0aW9uLHN1bW1hcnksYXJ0aWNsZSxoZ3JvdXAsYXNpZGUsZmlndXJlLGZpZ2NhcHRpb24sb3B0aW9uLG9wdGdyb3VwLGRhdGFsaXN0IixpbmRlbnRfYWZ0ZXI6InAsaDEsaDIsaDMsaDQsaDUsaDYsYmxvY2txdW90ZSxkaXYsdGl0bGUsc3R5bGUscHJlLHNjcmlwdCx0ZCx0aCx1bCxvbCxsaSxkbCxkdCxkZCxhcmVhLHRhYmxlLHRoZWFkLHRmb290LHRib2R5LHRyLHNlY3Rpb24sc3VtbWFyeSxhcnRpY2xlLGhncm91cCxhc2lkZSxmaWd1cmUsZmlnY2FwdGlvbixvcHRpb24sb3B0Z3JvdXAsZGF0YWxpc3QiLGVudGl0eV9lbmNvZGluZzoibmFtZWQiLHVybF9jb252ZXJ0ZXI6dS5jb252ZXJ0VVJMLHVybF9jb252ZXJ0ZXJfc2NvcGU6dX0seGUoeGUoe30scyksYT9aZzp7fSkpO3JldHVybiBpaChHZ3x8SmcsR2csYyxyLG8pfSx1aD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEIuZnJvbSh0LnNldHRpbmdzW25dKS5maWx0ZXIoZSl9LHNoPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1PXQgaW4gZS5zZXR0aW5ncz9lLnNldHRpbmdzW3RdOm47cmV0dXJuImhhc2giPT09cj8oYT17fSwic3RyaW5nIj09dHlwZW9mKGk9dSk/eigwPGkuaW5kZXhPZigiPSIpP2kuc3BsaXQoL1s7LF0oPyFbXj07LF0qKD86WzssXXwkKSkvKTppLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiPSIpOzE8dC5sZW5ndGg/YVt5dC50cmltKHRbMF0pXT15dC50cmltKHRbMV0pOmFbeXQudHJpbSh0WzBdKV09eXQudHJpbSh0WzBdKX0pOmE9aSxhKToic3RyaW5nIj09PXI/dWgocSxlLHQpLmdldE9yKG4pOiJudW1iZXIiPT09cj91aChELGUsdCkuZ2V0T3Iobik6ImJvb2xlYW4iPT09cj91aChULGUsdCkuZ2V0T3Iobik6Im9iamVjdCI9PT1yP3VoKEUsZSx0KS5nZXRPcihuKToiYXJyYXkiPT09cj91aChrLGUsdCkuZ2V0T3Iobik6InN0cmluZ1tdIj09PXI/dWgoKG89cSxmdW5jdGlvbihlKXtyZXR1cm4gayhlKSYmRyhlLG8pfSksZSx0KS5nZXRPcihuKToiZnVuY3Rpb24iPT09cj91aChBLGUsdCkuZ2V0T3Iobik6dX0sY2g9KERwPXt9LHthZGQ6ZnVuY3Rpb24oZSx0KXtEcFtlXT10fSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIERwW2VdP0RwW2VdOntpY29uczp7fX19LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gbWUoRHAsZSl9fSksbGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5kb20oKVtlXX0sZmg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcGFyc2VJbnQoRm4odCxlKSwxMCl9LGRoPU4obGgsImNsaWVudFdpZHRoIiksbWg9TihsaCwiY2xpZW50SGVpZ2h0IikscGg9TihmaCwibWFyZ2luLXRvcCIpLGdoPU4oZmgsIm1hcmdpbi1sZWZ0IiksaGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscyxjLGwsZixkLG0scD1DdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKSxnPWUuaW5saW5lP3A6KHI9cCxDdC5mcm9tRG9tKHIuZG9tKCkub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpKSxoPShvPWUuaW5saW5lLGE9dCx1PW4scz0oaT1nKS5kb20oKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx7eDphLShvP3MubGVmdCtpLmRvbSgpLmNsaWVudExlZnQrZ2goaSk6MCkseTp1LShvP3MudG9wK2kuZG9tKCkuY2xpZW50VG9wK3BoKGkpOjApfSk7cmV0dXJuIGw9aC54LGY9aC55LGQ9ZGgoYz1nKSxtPW1oKGMpLDA8PWwmJjA8PWYmJmw8PWQmJmY8PW19LHZoPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5pbmxpbmU/ZS5nZXRCb2R5KCk6ZS5nZXRDb250ZW50QXJlYUNvbnRhaW5lcigpO3JldHVybiB0PW4sQi5mcm9tKHQpLm1hcChDdC5mcm9tRG9tKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEJ0KFB0KGUpLGUpfSkuZ2V0T3IoITEpfTtmdW5jdGlvbiB5aChuKXt2YXIgdCxvPVtdLGk9ZnVuY3Rpb24oKXt2YXIgZT1uLnRoZW1lO3JldHVybiBlJiZlLmdldE5vdGlmaWNhdGlvbk1hbmFnZXJJbXBsP2UuZ2V0Tm90aWZpY2F0aW9uTWFuYWdlckltcGwoKTpmdW5jdGlvbiB0KCl7dmFyIGU9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIlRoZW1lIGRpZCBub3QgcHJvdmlkZSBhIE5vdGlmaWNhdGlvbk1hbmFnZXIgaW1wbGVtZW50YXRpb24uIil9O3JldHVybntvcGVuOmUsY2xvc2U6ZSxyZXBvc2l0aW9uOmUsZ2V0QXJnczplfX0oKX0sYT1mdW5jdGlvbigpezA8by5sZW5ndGgmJmkoKS5yZXBvc2l0aW9uKG8pfSx1PWZ1bmN0aW9uKHQpe1gobyxmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KS5lYWNoKGZ1bmN0aW9uKGUpe28uc3BsaWNlKGUsMSl9KX0scj1mdW5jdGlvbihyKXtpZighbi5yZW1vdmVkJiZ2aChuKSlyZXR1cm4gSyhvLGZ1bmN0aW9uKGUpe3JldHVybiB0PWkoKS5nZXRBcmdzKGUpLG49ciwhKHQudHlwZSE9PW4udHlwZXx8dC50ZXh0IT09bi50ZXh0fHx0LnByb2dyZXNzQmFyfHx0LnRpbWVvdXR8fG4ucHJvZ3Jlc3NCYXJ8fG4udGltZW91dCk7dmFyIHQsbn0pLmdldE9yVGh1bmsoZnVuY3Rpb24oKXtuLmVkaXRvck1hbmFnZXIuc2V0QWN0aXZlKG4pO3ZhciBlLHQ9aSgpLm9wZW4ocixmdW5jdGlvbigpe3UodCksYSgpfSk7cmV0dXJuIGU9dCxvLnB1c2goZSksYSgpLHR9KX07cmV0dXJuKHQ9bikub24oIlNraW5Mb2FkZWQiLGZ1bmN0aW9uKCl7dmFyIGU9dC5nZXRQYXJhbSgic2VydmljZV9tZXNzYWdlIik7ZSYmcih7dGV4dDplLHR5cGU6Indhcm5pbmciLHRpbWVvdXQ6MH0pfSksdC5vbigiUmVzaXplRWRpdG9yIFJlc2l6ZVdpbmRvdyBOb2RlQ2hhbmdlIixmdW5jdGlvbigpe2ZhLnJlcXVlc3RBbmltYXRpb25GcmFtZShhKX0pLHQub24oInJlbW92ZSIsZnVuY3Rpb24oKXt6KG8uc2xpY2UoKSxmdW5jdGlvbihlKXtpKCkuY2xvc2UoZSl9KX0pLHtvcGVuOnIsY2xvc2U6ZnVuY3Rpb24oKXtCLmZyb20ob1swXSkuZWFjaChmdW5jdGlvbihlKXtpKCkuY2xvc2UoZSksdShlKSxhKCl9KX0sZ2V0Tm90aWZpY2F0aW9uczpmdW5jdGlvbigpe3JldHVybiBvfX19dmFyIGJoPUZhLlBsdWdpbk1hbmFnZXIsQ2g9RmEuVGhlbWVNYW5hZ2VyO3ZhciB3aD1mdW5jdGlvbihuKXt2YXIgcj1bXSxvPWZ1bmN0aW9uKCl7dmFyIGU9bi50aGVtZTtyZXR1cm4gZSYmZS5nZXRXaW5kb3dNYW5hZ2VySW1wbD9lLmdldFdpbmRvd01hbmFnZXJJbXBsKCk6ZnVuY3Rpb24gdCgpe3ZhciBlPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJUaGVtZSBkaWQgbm90IHByb3ZpZGUgYSBXaW5kb3dNYW5hZ2VyIGltcGxlbWVudGF0aW9uLiIpfTtyZXR1cm57b3BlbjplLG9wZW5Vcmw6ZSxhbGVydDplLGNvbmZpcm06ZSxjbG9zZTplLGdldFBhcmFtczplLHNldFBhcmFtczplfX0oKX0saT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0P3QuYXBwbHkoZSxhcmd1bWVudHMpOnVuZGVmaW5lZH19LGE9ZnVuY3Rpb24oZSl7dmFyIHQ7ci5wdXNoKGUpLHQ9ZSxuLmZpcmUoIk9wZW5XaW5kb3ciLHtkaWFsb2c6dH0pfSx1PWZ1bmN0aW9uKHQpe3ZhciBlO2U9dCxuLmZpcmUoIkNsb3NlV2luZG93Iix7ZGlhbG9nOmV9KSwwPT09KHI9SChyLGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dH0pKS5sZW5ndGgmJm4uZm9jdXMoKX0scz1mdW5jdGlvbihlKXtuLmVkaXRvck1hbmFnZXIuc2V0QWN0aXZlKG4pLExtKG4pO3ZhciB0PWUoKTtyZXR1cm4gYSh0KSx0fTtyZXR1cm4gbi5vbigicmVtb3ZlIixmdW5jdGlvbigpe3oocixmdW5jdGlvbihlKXtvKCkuY2xvc2UoZSl9KX0pLHtvcGVuOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZnVuY3Rpb24oKXtyZXR1cm4gbygpLm9wZW4oZSx0LHUpfSl9LG9wZW5Vcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIHMoZnVuY3Rpb24oKXtyZXR1cm4gbygpLm9wZW5VcmwoZSx1KX0pfSxhbGVydDpmdW5jdGlvbihlLHQsbil7bygpLmFsZXJ0KGUsaShufHx0aGlzLHQpKX0sY29uZmlybTpmdW5jdGlvbihlLHQsbil7bygpLmNvbmZpcm0oZSxpKG58fHRoaXMsdCkpfSxjbG9zZTpmdW5jdGlvbigpe0IuZnJvbShyW3IubGVuZ3RoLTFdKS5lYWNoKGZ1bmN0aW9uKGUpe28oKS5jbG9zZShlKSx1KGUpfSl9fX0seGg9ZnVuY3Rpb24oZSx0KXtlLm5vdGlmaWNhdGlvbk1hbmFnZXIub3Blbih7dHlwZToiZXJyb3IiLHRleHQ6dH0pfSxTaD1mdW5jdGlvbihlLHQpe2UuX3NraW5Mb2FkZWQ/eGgoZSx0KTplLm9uKCJTa2luTG9hZGVkIixmdW5jdGlvbigpe3hoKGUsdCl9KX0sTmg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87cj10LG89e21lc3NhZ2U6bn0sZS5maXJlKHIsbyksVi5jb25zb2xlLmVycm9yKG4pfSxFaD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG4/IkZhaWxlZCB0byBsb2FkICIrZSsiOiAiK24rIiBmcm9tIHVybCAiK3Q6IkZhaWxlZCB0byBsb2FkICIrZSsiIHVybDogIit0fSxraD1mdW5jdGlvbihlLHQsbil7TmgoZSwiUGx1Z2luTG9hZEVycm9yIixFaCgicGx1Z2luIix0LG4pKX0sX2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07dmFyIHI9Vi53aW5kb3cuY29uc29sZTtyJiYoci5lcnJvcj9yLmVycm9yLmFwcGx5KHIsU2UoW2VdLHQpKTpyLmxvZy5hcHBseShyLFNlKFtlXSx0KSkpfSxUaD1mdW5jdGlvbih0KXt2YXIgZSxuLHI9KG49KGU9dCkuZ2V0UGFyYW0oImNvbnRlbnRfY3NzIikscShuKT9VKG4uc3BsaXQoIiwiKSxLZSk6ayhuKT9uOiExPT09bnx8ZS5pbmxpbmU/W106WyJkZWZhdWx0Il0pLG89dC5lZGl0b3JNYW5hZ2VyLmJhc2VVUkwrIi9za2lucy9jb250ZW50IixpPSJjb250ZW50Iit0LmVkaXRvck1hbmFnZXIuc3VmZml4KyIuY3NzIixhPSEwPT09dC5pbmxpbmU7cmV0dXJuIFUocixmdW5jdGlvbihlKXtyZXR1cm4vXlthLXowLTlcLV0rJC9pLnRlc3QoZSkmJiFhP28rIi8iK2UrIi8iK2k6dC5kb2N1bWVudEJhc2VVUkkudG9BYnNvbHV0ZShlKX0pfTt2YXIgUmg9ZnVuY3Rpb24gTUUocixvKXt2YXIgZT1mdW5jdGlvbihlKXt2YXIgdD1vKGUpO2lmKHQ8PTB8fG51bGw9PT10KXt2YXIgbj1GbihlLHIpO3JldHVybiBwYXJzZUZsb2F0KG4pfHwwfXJldHVybiB0fSxpPWZ1bmN0aW9uKG8sZSl7cmV0dXJuIFcoZSxmdW5jdGlvbihlLHQpe3ZhciBuPUZuKG8sdCkscj1uPT09dW5kZWZpbmVkPzA6cGFyc2VJbnQobiwxMCk7cmV0dXJuIGlzTmFOKHIpP2U6ZStyfSwwKX07cmV0dXJue3NldDpmdW5jdGlvbihlLHQpe2lmKCFEKHQpJiYhdC5tYXRjaCgvXlswLTldKyQvKSl0aHJvdyBuZXcgRXJyb3IocisiLnNldCBhY2NlcHRzIG9ubHkgcG9zaXRpdmUgaW50ZWdlciB2YWx1ZXMuIFZhbHVlIHdhcyAiK3QpO3ZhciBuPWUuZG9tKCk7T24obikmJihuLnN0eWxlW3JdPXQrInB4Iil9LGdldDplLGdldE91dGVyOmUsYWdncmVnYXRlOmksbWF4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1pKGUsbik7cmV0dXJuIHI8dD90LXI6MH19fSgiaGVpZ2h0IixmdW5jdGlvbihlKXt2YXIgdD1lLmRvbSgpO3JldHVybiBvbihlKT90LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDp0Lm9mZnNldEhlaWdodH0pLEFoPWZ1bmN0aW9uKHIsZSl7cmV0dXJuIHIudmlldyhlKS5mb2xkKHgoW10pLGZ1bmN0aW9uKGUpe3ZhciB0PXIub3duZXIoZSksbj1BaChyLHQpO3JldHVybltlXS5jb25jYXQobil9KX0sRGg9LyogKi9PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCx2aWV3OmZ1bmN0aW9uKGUpe3JldHVybihlLmRvbSgpPT09Vi5kb2N1bWVudD9CLm5vbmUoKTpCLmZyb20oZS5kb20oKS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQpKS5tYXAoQ3QuZnJvbURvbSl9LG93bmVyOmZ1bmN0aW9uKGUpe3JldHVybiBQdChlKX19KSxPaD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbz1DdC5mcm9tRG9tKFYuZG9jdW1lbnQpLGk9bG4obyksYT0odD1lLHI9KG49RGgpLm93bmVyKHQpLEFoKG4scikpLHU9Y24oZSkscz0kKGEsZnVuY3Rpb24oZSx0KXt2YXIgbj1jbih0KTtyZXR1cm57bGVmdDplLmxlZnQrbi5sZWZ0KCksdG9wOmUudG9wK24udG9wKCl9fSx7bGVmdDowLHRvcDowfSk7cmV0dXJuIHVuKHMubGVmdCt1LmxlZnQoKStpLmxlZnQoKSxzLnRvcCt1LnRvcCgpK2kudG9wKCkpfSxCaD1mdW5jdGlvbihlKXtyZXR1cm4idGV4dGFyZWEiPT09d3QoZSl9LFBoPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1mdW5jdGlvbihlKXt2YXIgdD1lLmRvbSgpLm93bmVyRG9jdW1lbnQsbj10LmJvZHkscj10LmRlZmF1bHRWaWV3LG89dC5kb2N1bWVudEVsZW1lbnQ7aWYobj09PWUuZG9tKCkpcmV0dXJuIHVuKG4ub2Zmc2V0TGVmdCxuLm9mZnNldFRvcCk7dmFyIGk9c24oci5wYWdlWU9mZnNldCxvLnNjcm9sbFRvcCksYT1zbihyLnBhZ2VYT2Zmc2V0LG8uc2Nyb2xsTGVmdCksdT1zbihvLmNsaWVudFRvcCxuLmNsaWVudFRvcCkscz1zbihvLmNsaWVudExlZnQsbi5jbGllbnRMZWZ0KTtyZXR1cm4gY24oZSkudHJhbnNsYXRlKGEtcyxpLXUpfShlKSxvPShuPWUsUmguZ2V0KG4pKTtyZXR1cm57ZWxlbWVudDplLGJvdHRvbTpyLnRvcCgpK28saGVpZ2h0Om8scG9zOnIsY2xlYW51cDp0fX0sTGg9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciBuPUh0KGUpO2lmKDA9PT1uLmxlbmd0aHx8QmgoZSkpcmV0dXJue2VsZW1lbnQ6ZSxvZmZzZXQ6dH07aWYodDxuLmxlbmd0aCYmIUJoKG5bdF0pKXJldHVybntlbGVtZW50Om5bdF0sb2Zmc2V0OjB9O3ZhciByPW5bbi5sZW5ndGgtMV07cmV0dXJuIEJoKHIpP3tlbGVtZW50OmUsb2Zmc2V0OnR9OiJpbWciPT09d3Qocik/e2VsZW1lbnQ6cixvZmZzZXQ6MX06RXQocik/e2VsZW1lbnQ6cixvZmZzZXQ6dmYocikubGVuZ3RofTp7ZWxlbWVudDpyLG9mZnNldDpIdChyKS5sZW5ndGh9fShlLHQpLHI9Q3QuZnJvbUh0bWwoJzxzcGFuIGRhdGEtbWNlLWJvZ3VzPSJhbGwiPlx1ZmVmZjwvc3Bhbj4nKTtyZXR1cm4gR3Qobi5lbGVtZW50LHIpLFBoKHIsZnVuY3Rpb24oKXtyZXR1cm4gbm4ocil9KX0sSWg9ZnVuY3Rpb24obixyLG8saSl7emgobixmdW5jdGlvbihlLHQpe3JldHVybiBGaChuLHIsbyxpKX0sbyl9LE1oPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYSx1PXtlbG06ci5lbGVtZW50LmRvbSgpLGFsaWduVG9Ub3A6b307aT11LGUuZmlyZSgiU2Nyb2xsSW50b1ZpZXciLGkpLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwobih0LGxuKHQpLnRvcCgpLHIsbyksYT11LGUuZmlyZSgiQWZ0ZXJTY3JvbGxJbnRvVmlldyIsYSkpfSxGaD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1DdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKSxpPUN0LmZyb21Eb20oZS5nZXREb2MoKSk7by5kb20oKS5vZmZzZXRXaWR0aDt2YXIgYT1MaChDdC5mcm9tRG9tKG4uc3RhcnRDb250YWluZXIpLG4uc3RhcnRPZmZzZXQpO01oKGUsaSx0LGEsciksYS5jbGVhbnVwKCl9LFVoPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGk9Q3QuZnJvbURvbShlLmdldERvYygpKTtNaChlLGksbiwobz10LFBoKEN0LmZyb21Eb20obyksZikpLHIpfSx6aD1mdW5jdGlvbihlLHQsbil7dmFyIHI9bi5zdGFydENvbnRhaW5lcixvPW4uc3RhcnRPZmZzZXQsaT1uLmVuZENvbnRhaW5lcixhPW4uZW5kT2Zmc2V0O3QoQ3QuZnJvbURvbShyKSxDdC5mcm9tRG9tKGkpKTt2YXIgdT1lLmRvbS5jcmVhdGVSbmcoKTt1LnNldFN0YXJ0KHIsbyksdS5zZXRFbmQoaSxhKSxlLnNlbGVjdGlvbi5zZXRSbmcobil9LGpoPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWUucG9zO2lmKG4pZm4oby5sZWZ0KCksby50b3AoKSxyKTtlbHNle3ZhciBpPW8udG9wKCktdCtlLmhlaWdodDtmbihvLmxlZnQoKSxpLHIpfX0sSGg9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1uK3QsYT1yLnBvcy50b3AoKSx1PXIuYm90dG9tLHM9bjw9dS1hO2lmKGE8dClqaChyLG4sITEhPT1vLGUpO2Vsc2UgaWYoaTxhKXtqaChyLG4scz8hMSE9PW86ITA9PT1vLGUpfWVsc2UgaTx1JiYhcyYmamgocixuLCEwPT09byxlKX0sVmg9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89ZS5kb20oKS5kZWZhdWx0Vmlldy5pbm5lckhlaWdodDtIaChlLHQsbyxuLHIpfSxxaD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lLmRvbSgpLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0O0hoKGUsdCxvLG4scik7dmFyIGk9T2gobi5lbGVtZW50KSxhPXBuKFYud2luZG93KTtpLnRvcCgpPGEueT9kbihuLmVsZW1lbnQsITEhPT1yKTppLnRvcCgpPmEuYm90dG9tJiZkbihuLmVsZW1lbnQsITA9PT1yKX0sJGg9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBJaChlLFZoLHQsbil9LFdoPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVWgoZSx0LFZoLG4pfSxLaD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEloKGUscWgsdCxuKX0sWGg9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBVaChlLHQscWgsbil9LFloPWZ1bmN0aW9uKGUsdCxuKXsoZS5pbmxpbmU/JGg6S2gpKGUsdCxuKX0sR2g9ZnVuY3Rpb24oZSl7cmV0dXJuIEFuKGUpfHxEbihlKX0sSmg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscz1uO2lmKHMuY2FyZXRQb3NpdGlvbkZyb21Qb2ludCkobz1zLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoZSx0KSkmJigocj1uLmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KG8ub2Zmc2V0Tm9kZSxvLm9mZnNldCksci5jb2xsYXBzZSghMCkpO2Vsc2UgaWYobi5jYXJldFJhbmdlRnJvbVBvaW50KXI9bi5jYXJldFJhbmdlRnJvbVBvaW50KGUsdCk7ZWxzZSBpZihzLmJvZHkuY3JlYXRlVGV4dFJhbmdlKXtyPXMuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTt0cnl7ci5tb3ZlVG9Qb2ludChlLHQpLHIuY29sbGFwc2UoITApfWNhdGNoKGMpe3I9ZnVuY3Rpb24oZSxuLHQpe3ZhciByLG89dC5lbGVtZW50RnJvbVBvaW50KGUsbiksaT10LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7aWYobyYmIkhUTUwiIT09by50YWdOYW1lfHwobz10LmJvZHkpLGkubW92ZVRvRWxlbWVudFRleHQobyksMDwocj0ocj15dC50b0FycmF5KGkuZ2V0Q2xpZW50UmVjdHMoKSkpLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4oZT1NYXRoLmFicyhNYXRoLm1heChlLnRvcC1uLGUuYm90dG9tLW4pKSktKHQ9TWF0aC5hYnMoTWF0aC5tYXgodC50b3Atbix0LmJvdHRvbS1uKSkpfSkpLmxlbmd0aCl7bj0oclswXS5ib3R0b20rclswXS50b3ApLzI7dHJ5e3JldHVybiBpLm1vdmVUb1BvaW50KGUsbiksaS5jb2xsYXBzZSghMCksaX1jYXRjaChhKXt9fXJldHVybiBudWxsfShlLHQsbil9cmV0dXJuIGk9cixhPW4uYm9keSx1PWkmJmkucGFyZW50RWxlbWVudD9pLnBhcmVudEVsZW1lbnQoKTpudWxsLERuKGZ1bmN0aW9uKGUsdCxuKXtmb3IoO2UmJmUhPT10Oyl7aWYobihlKSlyZXR1cm4gZTtlPWUucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0odSxhLEdoKSk/bnVsbDppfXJldHVybiByfSxRaD1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPW4/dC5zdGFydENvbnRhaW5lcjp0LmVuZENvbnRhaW5lcixhPW4/dC5zdGFydE9mZnNldDp0LmVuZE9mZnNldDtyZXR1cm4gQi5mcm9tKGkpLm1hcChDdC5mcm9tRG9tKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHImJnQuY29sbGFwc2VkP2U6VnQoZSxvKGUsYSkpLmdldE9yKGUpfSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gTnQoZSk/Qi5zb21lKGUpOk10KGUpLmZpbHRlcihOdCl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCl9KS5nZXRPcihlKX0sWmg9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBRaChlLHQsITAsbixmdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLm1pbihlLmRvbSgpLmNoaWxkTm9kZXMubGVuZ3RoLHQpfSl9LGV2PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUWgoZSx0LCExLG4sZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDx0P3QtMTp0fSl9LHR2PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWU7ZSYmRW4oZSkmJjA9PT1lLmxlbmd0aDspZT10P2UubmV4dFNpYmxpbmc6ZS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGV8fG59LG52PWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciBuLHIsbz10LmZvcm1hdD90LmZvcm1hdDoiaHRtbCI7cmV0dXJuIG49byxyPXQsVWcoZSkuc2VsZWN0aW9uLmdldENvbnRlbnQobixyKX0scnY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmdCYmZS5zdGFydENvbnRhaW5lcj09PXQuc3RhcnRDb250YWluZXImJmUuc3RhcnRPZmZzZXQ9PT10LnN0YXJ0T2Zmc2V0JiZlLmVuZENvbnRhaW5lcj09PXQuZW5kQ29udGFpbmVyJiZlLmVuZE9mZnNldD09PXQuZW5kT2Zmc2V0fSxvdj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGwhPT1mdW5jdGlvbihlLHQsbil7Zm9yKDtlJiZlIT09dDspe2lmKG4oZSkpcmV0dXJuIGU7ZT1lLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9KGUsdCxuKX0saXY9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBvdihlLHQsZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWU9PT1ufSl9LGF2PWZ1bmN0aW9uKGUpe3JldHVybiBlJiYiVEFCTEUiPT09ZS5ub2RlTmFtZX0sdXY9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uZXcgQWkodCxlLmdldFBhcmVudCh0LnBhcmVudE5vZGUsZS5pc0Jsb2NrKXx8ZS5nZXRSb290KCkpO3Q9cltuPyJwcmV2IjoibmV4dCJdKCk7KWlmKFJuKHQpKXJldHVybiEwfSxzdj1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdT1lLmdldFJvb3QoKSxzPWUuc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKSxjPWUuZ2V0UGFyZW50KG8ucGFyZW50Tm9kZSxlLmlzQmxvY2spfHx1O2lmKHImJlJuKG8pJiZ0JiZlLmlzRW1wdHkoYykpcmV0dXJuIEIuc29tZShDcyhvLnBhcmVudE5vZGUsZS5ub2RlSW5kZXgobykpKTtmb3IodmFyIGwsZixkPW5ldyBBaShvLGMpO2E9ZFtyPyJwcmV2IjoibmV4dCJdKCk7KXtpZigiZmFsc2UiPT09ZS5nZXRDb250ZW50RWRpdGFibGVQYXJlbnQoYSl8fChmPXUsRXUobD1hKSYmITE9PT1vdihsLGYsZ2wpKSlyZXR1cm4gQi5ub25lKCk7aWYoRW4oYSkmJjA8YS5ub2RlVmFsdWUubGVuZ3RoKXJldHVybiExPT09aXYoYSx1LCJBIik/Qi5zb21lKENzKGEscj9hLm5vZGVWYWx1ZS5sZW5ndGg6MCkpOkIubm9uZSgpO2lmKGUuaXNCbG9jayhhKXx8c1thLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXJldHVybiBCLm5vbmUoKTtpPWF9cmV0dXJuIG4mJmk/Qi5zb21lKENzKGksMCkpOkIubm9uZSgpfSxjdj1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzPWUuZ2V0Um9vdCgpLGM9ITE7bz1yWyhuPyJzdGFydCI6ImVuZCIpKyJDb250YWluZXIiXSxpPXJbKG4/InN0YXJ0IjoiZW5kIikrIk9mZnNldCJdO3ZhciBsLGYsZCxtPXZuKG8pJiZpPT09by5jaGlsZE5vZGVzLmxlbmd0aCxwPWUuc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKTtpZih1PW4sRXUobykpcmV0dXJuIEIubm9uZSgpO2lmKHZuKG8pJiZpPm8uY2hpbGROb2Rlcy5sZW5ndGgtMSYmKHU9ITEpLF9uKG8pJiYobz1zLGk9MCksbz09PXMpe2lmKHUmJihhPW8uY2hpbGROb2Rlc1swPGk/aS0xOjBdKSl7aWYoRXUoYSkpcmV0dXJuIEIubm9uZSgpO2lmKHBbYS5ub2RlTmFtZV18fGF2KGEpKXJldHVybiBCLm5vbmUoKX1pZihvLmhhc0NoaWxkTm9kZXMoKSl7aWYoaT1NYXRoLm1pbighdSYmMDxpP2ktMTppLG8uY2hpbGROb2Rlcy5sZW5ndGgtMSksbz1vLmNoaWxkTm9kZXNbaV0saT1FbihvKSYmbT9vLmRhdGEubGVuZ3RoOjAsIXQmJm89PT1zLmxhc3RDaGlsZCYmYXYobykpcmV0dXJuIEIubm9uZSgpO2lmKGZ1bmN0aW9uKGUsdCl7Zm9yKDt0JiZ0IT09ZTspe2lmKERuKHQpKXJldHVybiEwO3Q9dC5wYXJlbnROb2RlfXJldHVybiExfShzLG8pfHxFdShvKSlyZXR1cm4gQi5ub25lKCk7aWYoby5oYXNDaGlsZE5vZGVzKCkmJiExPT09YXYobykpe3ZhciBnPW5ldyBBaShhPW8scyk7ZG97aWYoRG4oYSl8fEV1KGEpKXtjPSExO2JyZWFrfWlmKEVuKGEpJiYwPGEubm9kZVZhbHVlLmxlbmd0aCl7aT11PzA6YS5ub2RlVmFsdWUubGVuZ3RoLG89YSxjPSEwO2JyZWFrfWlmKHBbYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSYmKCEobD1hKXx8IS9eKFREfFRIfENBUFRJT04pJC8udGVzdChsLm5vZGVOYW1lKSkpe2k9ZS5ub2RlSW5kZXgoYSksbz1hLnBhcmVudE5vZGUsdXx8aSsrLGM9ITA7YnJlYWt9fXdoaWxlKGE9dT9nLm5leHQoKTpnLnByZXYoKSl9fX1yZXR1cm4gdCYmKEVuKG8pJiYwPT09aSYmc3YoZSxtLHQsITAsbykuZWFjaChmdW5jdGlvbihlKXtvPWUuY29udGFpbmVyKCksaT1lLm9mZnNldCgpLGM9ITB9KSx2bihvKSYmKCEoYT0oYT1vLmNoaWxkTm9kZXNbaV0pfHxvLmNoaWxkTm9kZXNbaS0xXSl8fCFSbihhKXx8KGQ9IkEiLChmPWEpLnByZXZpb3VzU2libGluZyYmZi5wcmV2aW91c1NpYmxpbmcubm9kZU5hbWU9PT1kKXx8dXYoZSxhLCExKXx8dXYoZSxhLCEwKXx8c3YoZSxtLHQsITAsYSkuZWFjaChmdW5jdGlvbihlKXtvPWUuY29udGFpbmVyKCksaT1lLm9mZnNldCgpLGM9ITB9KSkpLHUmJiF0JiZFbihvKSYmaT09PW8ubm9kZVZhbHVlLmxlbmd0aCYmc3YoZSxtLHQsITEsbykuZWFjaChmdW5jdGlvbihlKXtvPWUuY29udGFpbmVyKCksaT1lLm9mZnNldCgpLGM9ITB9KSxjP0Iuc29tZShDcyhvLGkpKTpCLm5vbmUoKX0sbHY9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmNvbGxhcHNlZCxyPXQuY2xvbmVSYW5nZSgpLG89Q3MuZnJvbVJhbmdlU3RhcnQodCk7cmV0dXJuIGN2KGUsbiwhMCxyKS5lYWNoKGZ1bmN0aW9uKGUpe24mJkNzLmlzQWJvdmUobyxlKXx8ci5zZXRTdGFydChlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCkpfSksbnx8Y3YoZSxuLCExLHIpLmVhY2goZnVuY3Rpb24oZSl7ci5zZXRFbmQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKX0pLG4mJnIuY29sbGFwc2UoITApLHJ2KHQscik/Qi5ub25lKCk6Qi5zb21lKHIpfSxmdj1mdW5jdGlvbihlKXtyZXR1cm4gMD09PWUuZG9tKCkubGVuZ3RoPyhubihlKSxCLm5vbmUoKSk6Qi5zb21lKGUpfSxkdj1mdW5jdGlvbihyLGUpe3ZhciB0PUIuZnJvbShlLmZpcnN0Q2hpbGQpLm1hcChDdC5mcm9tRG9tKSxuPUIuZnJvbShlLmxhc3RDaGlsZCkubWFwKEN0LmZyb21Eb20pO3IuZGVsZXRlQ29udGVudHMoKSxyLmluc2VydE5vZGUoZSk7dmFyIG89dC5iaW5kKEZ0KS5maWx0ZXIoRXQpLmJpbmQoZnYpLGk9bi5iaW5kKFV0KS5maWx0ZXIoRXQpLmJpbmQoZnYpO0J1KG8sdC5maWx0ZXIoRXQpLGZ1bmN0aW9uKGUsdCl7dmFyIG4scjtuPXQuZG9tKCkscj1lLmRvbSgpLmRhdGEsbi5pbnNlcnREYXRhKDAsciksbm4oZSl9KSxCdShpLG4uZmlsdGVyKEV0KSxmdW5jdGlvbihlLHQpe3ZhciBuPXQuZG9tKCkubGVuZ3RoO3QuZG9tKCkuYXBwZW5kRGF0YShlLmRvbSgpLmRhdGEpLHIuc2V0RW5kKHQuZG9tKCksbiksbm4oZSl9KSxyLmNvbGxhcHNlKCExKX0sbXY9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcixvPShyPXQseGUoeGUoe2Zvcm1hdDoiaHRtbCJ9LG4pLHtzZXQ6ITAsc2VsZWN0aW9uOiEwLGNvbnRlbnQ6cn0pKTtpZihvLm5vX2V2ZW50c3x8IShvPWUuZmlyZSgiQmVmb3JlU2V0Q29udGVudCIsbykpLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtuLmNvbnRlbnQ9ZnVuY3Rpb24oZSx0KXtpZigicmF3Ij09PXQuZm9ybWF0KXJldHVybiB0LmNvbnRlbnQ7dmFyIG49ZS5wYXJzZXIucGFyc2UodC5jb250ZW50LHhlKHtpc1Jvb3RDb250ZW50OiEwLGZvcmNlZF9yb290X2Jsb2NrOiExfSx0KSk7cmV0dXJuIE9mKHt2YWxpZGF0ZTplLnZhbGlkYXRlfSxlLnNjaGVtYSkuc2VyaWFsaXplKG4pfShlLG8pO3ZhciBpPWUuc2VsZWN0aW9uLmdldFJuZygpO2R2KGksaS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQobi5jb250ZW50KSksZS5zZWxlY3Rpb24uc2V0Um5nKGkpLFloKGUsaSksby5ub19ldmVudHN8fGUuZmlyZSgiU2V0Q29udGVudCIsbyl9ZWxzZSBlLmZpcmUoIlNldENvbnRlbnQiLG8pfTtmdW5jdGlvbiBwdihlKXtyZXR1cm57Z2V0Qm9va21hcms6TihObCxlKSxtb3ZlVG9Cb29rbWFyazpOKEVsLGUpfX0ocHY9cHZ8fHt9KS5pc0Jvb2ttYXJrTm9kZT1rbDt2YXIgZ3Y9cHYsaHY9ZnVuY3Rpb24odCxuLGUpe2lmKGUuY29sbGFwc2VkKXJldHVybiExO2lmKG10LmJyb3dzZXIuaXNJRSgpJiZlLnN0YXJ0T2Zmc2V0PT09ZS5lbmRPZmZzZXQtMSYmZS5zdGFydENvbnRhaW5lcj09PWUuZW5kQ29udGFpbmVyKXt2YXIgcj1lLnN0YXJ0Q29udGFpbmVyLmNoaWxkTm9kZXNbZS5zdGFydE9mZnNldF07aWYodm4ocikpcmV0dXJuIEYoci5nZXRDbGllbnRSZWN0cygpLGZ1bmN0aW9uKGUpe3JldHVybiB6dShlLHQsbil9KX1yZXR1cm4gRihlLmdldENsaWVudFJlY3RzKCksZnVuY3Rpb24oZSl7cmV0dXJuIHp1KGUsdCxuKX0pfSx2dj17QkFDS1NQQUNFOjgsREVMRVRFOjQ2LERPV046NDAsRU5URVI6MTMsTEVGVDozNyxSSUdIVDozOSxTUEFDRUJBUjozMixUQUI6OSxVUDozOCxFTkQ6MzUsSE9NRTozNixtb2RpZmllclByZXNzZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2hpZnRLZXl8fGUuY3RybEtleXx8ZS5hbHRLZXl8fHRoaXMubWV0YUtleVByZXNzZWQoZSl9LG1ldGFLZXlQcmVzc2VkOmZ1bmN0aW9uKGUpe3JldHVybiBtdC5tYWM/ZS5tZXRhS2V5OmUuY3RybEtleSYmIWUuYWx0S2V5fX0seXY9RG4sYnY9QW4sQ3Y9ZnVuY3Rpb24ocixzKXt2YXIgYyxsLGYsZCxtLHAsZyxoLHYseSxiLEMsdyx4LFM9cy5kb20sTj15dC5lYWNoLEU9cy5nZXREb2MoKSxrPVYuZG9jdW1lbnQsXz1NYXRoLmFicyxUPU1hdGgucm91bmQsUj1zLmdldEJvZHkoKSxBPXtudzpbMCwwLC0xLC0xXSxuZTpbMSwwLDEsLTFdLHNlOlsxLDEsMSwxXSxzdzpbMCwxLC0xLDFdfSxEPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYoIklNRyI9PT1lLm5vZGVOYW1lfHxzLmRvbS5pcyhlLCJmaWd1cmUuaW1hZ2UiKSl9LG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7IWZ1bmN0aW9uKGUsdCl7aWYoImxvbmdwcmVzcyIhPT1lLnR5cGUmJjAhPT1lLnR5cGUuaW5kZXhPZigidG91Y2giKSlyZXR1cm4gRChlLnRhcmdldCkmJiFodihlLmNsaWVudFgsZS5jbGllbnRZLHQpO3ZhciBuPWUudG91Y2hlc1swXTtyZXR1cm4gRChlLnRhcmdldCkmJiFodihuLmNsaWVudFgsbi5jbGllbnRZLHQpfShlLHMuc2VsZWN0aW9uLmdldFJuZygpKXx8ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8cy5zZWxlY3Rpb24uc2VsZWN0KHQpfSxPPWZ1bmN0aW9uKGUpe3JldHVybiBzLmRvbS5pcyhlLCJmaWd1cmUuaW1hZ2UiKT9lLnF1ZXJ5U2VsZWN0b3IoImltZyIpOmV9LEI9ZnVuY3Rpb24oZSl7dmFyIHQ9bmMocyk7cmV0dXJuITEhPT10JiYhbXQuaU9TJiYoInN0cmluZyIhPXR5cGVvZiB0JiYodD0idGFibGUsaW1nLGZpZ3VyZS5pbWFnZSxkaXYiKSwiZmFsc2UiIT09ZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXJlc2l6ZSIpJiYoZSE9PXMuZ2V0Qm9keSgpJiZSdChDdC5mcm9tRG9tKGUpLHQpKSl9LFA9ZnVuY3Rpb24oZSx0LG4pe1Muc2V0U3R5bGVzKE8oZSkse3dpZHRoOnQsaGVpZ2h0Om59KX0sTD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdTt0PWUuc2NyZWVuWC1tLG49ZS5zY3JlZW5ZLXAsYj10KmRbMl0rZyxDPW4qZFszXStoLGI9Yjw1PzU6YixDPUM8NT81OkMsKEQoYykmJiExIT09cy5nZXRQYXJhbSgicmVzaXplX2ltZ19wcm9wb3J0aW9uYWwiLCEwLCJib29sZWFuIik/IXZ2Lm1vZGlmaWVyUHJlc3NlZChlKTp2di5tb2RpZmllclByZXNzZWQoZSkpJiYoXyh0KT5fKG4pPyhDPVQoYip2KSxiPVQoQy92KSk6KGI9VChDL3YpLEM9VChiKnYpKSksUChsLGIsQykscj0wPChyPWQuc3RhcnRQb3MueCt0KT9yOjAsbz0wPChvPWQuc3RhcnRQb3MueStuKT9vOjAsUy5zZXRTdHlsZXMoZix7bGVmdDpyLHRvcDpvLGRpc3BsYXk6ImJsb2NrIn0pLGYuaW5uZXJIVE1MPWIrIiAmdGltZXM7ICIrQyxkWzJdPDAmJmwuY2xpZW50V2lkdGg8PWImJlMuc2V0U3R5bGUobCwibGVmdCIsdm9pZCAwKyhnLWIpKSxkWzNdPDAmJmwuY2xpZW50SGVpZ2h0PD1DJiZTLnNldFN0eWxlKGwsInRvcCIsdm9pZCAwKyhoLUMpKSwodD1SLnNjcm9sbFdpZHRoLXcpKyhuPVIuc2Nyb2xsSGVpZ2h0LXgpIT09MCYmUy5zZXRTdHlsZXMoZix7bGVmdDpyLXQsdG9wOm8tbn0pLHl8fChpPWMsYT1nLHU9aCxzLmZpcmUoIk9iamVjdFJlc2l6ZVN0YXJ0Iix7dGFyZ2V0Omksd2lkdGg6YSxoZWlnaHQ6dX0pLHk9ITApfSxJPWZ1bmN0aW9uKCl7dmFyIGU9eTt5PSExO3ZhciB0LG4scixvPWZ1bmN0aW9uKGUsdCl7dCYmKGMuc3R5bGVbZV18fCFzLnNjaGVtYS5pc1ZhbGlkKGMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxlKT9TLnNldFN0eWxlKE8oYyksZSx0KTpTLnNldEF0dHJpYihPKGMpLGUsIiIrdCkpfTtlJiYobygid2lkdGgiLGIpLG8oImhlaWdodCIsQykpLFMudW5iaW5kKEUsIm1vdXNlbW92ZSIsTCksUy51bmJpbmQoRSwibW91c2V1cCIsSSksayE9PUUmJihTLnVuYmluZChrLCJtb3VzZW1vdmUiLEwpLFMudW5iaW5kKGssIm1vdXNldXAiLEkpKSxTLnJlbW92ZShsKSxTLnJlbW92ZShmKSxpKGMpLGUmJih0PWMsbj1iLHI9QyxzLmZpcmUoIk9iamVjdFJlc2l6ZWQiLHt0YXJnZXQ6dCx3aWR0aDpuLGhlaWdodDpyfSksUy5zZXRBdHRyaWIoYywic3R5bGUiLFMuZ2V0QXR0cmliKGMsInN0eWxlIikpKSxzLm5vZGVDaGFuZ2VkKCl9LGk9ZnVuY3Rpb24oZSl7TSgpLEYoKTt2YXIgdD1TLmdldFBvcyhlLFIpLHI9dC54LG89dC55LG49ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxpPW4ud2lkdGh8fG4ucmlnaHQtbi5sZWZ0LGE9bi5oZWlnaHR8fG4uYm90dG9tLW4udG9wO2MhPT1lJiYoYz1lLGI9Qz0wKTt2YXIgdT1zLmZpcmUoIk9iamVjdFNlbGVjdGVkIix7dGFyZ2V0OmV9KTtCKGUpJiYhdS5pc0RlZmF1bHRQcmV2ZW50ZWQoKT9OKEEsZnVuY3Rpb24obixlKXt2YXIgdDsodD1TLmdldCgibWNlUmVzaXplSGFuZGxlIitlKSkmJlMucmVtb3ZlKHQpLHQ9Uy5hZGQoUiwiZGl2Iix7aWQ6Im1jZVJlc2l6ZUhhbmRsZSIrZSwiZGF0YS1tY2UtYm9ndXMiOiJhbGwiLCJjbGFzcyI6Im1jZS1yZXNpemVoYW5kbGUiLHVuc2VsZWN0YWJsZTohMCxzdHlsZToiY3Vyc29yOiIrZSsiLXJlc2l6ZTsgbWFyZ2luOjA7IHBhZGRpbmc6MCJ9KSwxMT09PW10LmllJiYodC5jb250ZW50RWRpdGFibGU9ITEpLFMuYmluZCh0LCJtb3VzZWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0O2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLG09KHQ9ZSkuc2NyZWVuWCxwPXQuc2NyZWVuWSxnPU8oYykuY2xpZW50V2lkdGgsaD1PKGMpLmNsaWVudEhlaWdodCx2PWgvZywoZD1uKS5zdGFydFBvcz17eDppKm5bMF0rcix5OmEqblsxXStvfSx3PVIuc2Nyb2xsV2lkdGgseD1SLnNjcm9sbEhlaWdodCxsPWMuY2xvbmVOb2RlKCEwKSxTLmFkZENsYXNzKGwsIm1jZS1jbG9uZWRyZXNpemFibGUiKSxTLnNldEF0dHJpYihsLCJkYXRhLW1jZS1ib2d1cyIsImFsbCIpLGwuY29udGVudEVkaXRhYmxlPSExLGwudW5TZWxlY3RhYmU9ITAsUy5zZXRTdHlsZXMobCx7bGVmdDpyLHRvcDpvLG1hcmdpbjowfSksUChsLGksYSksbC5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiksUi5hcHBlbmRDaGlsZChsKSxTLmJpbmQoRSwibW91c2Vtb3ZlIixMKSxTLmJpbmQoRSwibW91c2V1cCIsSSksayE9PUUmJihTLmJpbmQoaywibW91c2Vtb3ZlIixMKSxTLmJpbmQoaywibW91c2V1cCIsSSkpLGY9Uy5hZGQoUiwiZGl2Iix7ImNsYXNzIjoibWNlLXJlc2l6ZS1oZWxwZXIiLCJkYXRhLW1jZS1ib2d1cyI6ImFsbCJ9LGcrIiAmdGltZXM7ICIraCl9KSxuLmVsbT10LFMuc2V0U3R5bGVzKHQse2xlZnQ6aSpuWzBdK3ItdC5vZmZzZXRXaWR0aC8yLHRvcDphKm5bMV0rby10Lm9mZnNldEhlaWdodC8yfSl9KTpNKCksYy5zZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiwiMSIpfSxNPWZ1bmN0aW9uKCl7RigpLGMmJmMucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpLG9lKEEsZnVuY3Rpb24oZSx0KXt2YXIgbj1TLmdldCgibWNlUmVzaXplSGFuZGxlIit0KTtuJiYoUy51bmJpbmQobiksUy5yZW1vdmUobikpfSl9LG89ZnVuY3Rpb24oZSl7dmFyIHQsbj1mdW5jdGlvbihlLHQpe2lmKGUpZG97aWYoZT09PXQpcmV0dXJuITB9d2hpbGUoZT1lLnBhcmVudE5vZGUpfTt5fHxzLnJlbW92ZWR8fChOKFMuc2VsZWN0KCJpbWdbZGF0YS1tY2Utc2VsZWN0ZWRdLGhyW2RhdGEtbWNlLXNlbGVjdGVkXSIpLGZ1bmN0aW9uKGUpe2UucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpfSksdD0ibW91c2Vkb3duIj09PWUudHlwZT9lLnRhcmdldDpyLmdldE5vZGUoKSxuKHQ9Uy4kKHQpLmNsb3Nlc3QoInRhYmxlLGltZyxmaWd1cmUuaW1hZ2UsaHIiKVswXSxSKSYmKHUoKSxuKHIuZ2V0U3RhcnQoITApLHQpJiZuKHIuZ2V0RW5kKCEwKSx0KSk/aSh0KTpNKCkpfSxhPWZ1bmN0aW9uKGUpe3JldHVybiB5dihmdW5jdGlvbihlLHQpe2Zvcig7dCYmdCE9PWU7KXtpZihidih0KXx8eXYodCkpcmV0dXJuIHQ7dD10LnBhcmVudE5vZGV9cmV0dXJuIG51bGx9KHMuZ2V0Qm9keSgpLGUpKX0sRj1mdW5jdGlvbigpe29lKEEsZnVuY3Rpb24oZSl7ZS5lbG0mJihTLnVuYmluZChlLmVsbSksZGVsZXRlIGUuZWxtKX0pfSx1PWZ1bmN0aW9uKCl7dHJ5e3MuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoImVuYWJsZU9iamVjdFJlc2l6aW5nIiwhMSwhMSl9Y2F0Y2goZSl7fX07cy5vbigiaW5pdCIsZnVuY3Rpb24oKXtpZih1KCksbXQuYnJvd3Nlci5pc0lFKCl8fG10LmJyb3dzZXIuaXNFZGdlKCkpe3Mub24oIm1vdXNlZG93biBjbGljayIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQsbj10Lm5vZGVOYW1lO3l8fCEvXihUQUJMRXxJTUd8SFIpJC8udGVzdChuKXx8YSh0KXx8KDIhPT1lLmJ1dHRvbiYmcy5zZWxlY3Rpb24uc2VsZWN0KHQsIlRBQkxFIj09PW4pLCJtb3VzZWRvd24iPT09ZS50eXBlJiZzLm5vZGVDaGFuZ2VkKCkpfSk7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7ZmEuc2V0RWRpdG9yVGltZW91dChzLGZ1bmN0aW9uKCl7cmV0dXJuIHMuc2VsZWN0aW9uLnNlbGVjdChlKX0pfTtpZihhKGUudGFyZ2V0KSlyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgdChlLnRhcmdldCk7L14oVEFCTEV8SU1HfEhSKSQvLnRlc3QoZS50YXJnZXQubm9kZU5hbWUpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLCJJTUciPT09ZS50YXJnZXQudGFnTmFtZSYmdChlLnRhcmdldCkpfTtTLmJpbmQoUiwibXNjb250cm9sc2VsZWN0IixlKSxzLm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7cmV0dXJuIFMudW5iaW5kKFIsIm1zY29udHJvbHNlbGVjdCIsZSl9KX12YXIgdD1mYS50aHJvdHRsZShmdW5jdGlvbihlKXtzLmNvbXBvc2luZ3x8byhlKX0pO3Mub24oIm5vZGVjaGFuZ2UgUmVzaXplRWRpdG9yIFJlc2l6ZVdpbmRvdyBSZXNpemVDb250ZW50IGRyb3AgRnVsbHNjcmVlblN0YXRlQ2hhbmdlZCIsdCkscy5vbigia2V5dXAgY29tcG9zaXRpb25lbmQiLGZ1bmN0aW9uKGUpe2MmJiJUQUJMRSI9PT1jLm5vZGVOYW1lJiZ0KGUpfSkscy5vbigiaGlkZSBibHVyIixNKSxzLm9uKCJjb250ZXh0bWVudSBsb25ncHJlc3MiLG4sITApfSkscy5vbigicmVtb3ZlIixGKTtyZXR1cm57aXNSZXNpemFibGU6QixzaG93UmVzaXplUmVjdDppLGhpZGVSZXNpemVSZWN0Ok0sdXBkYXRlUmVzaXplUmVjdDpvLGRlc3Ryb3k6ZnVuY3Rpb24oKXtjPWw9bnVsbH19fSx3dj1mdW5jdGlvbihlLHQsbil7aWYoZSYmZS5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIHI9SChlW3RdLGZ1bmN0aW9uKGUpe3JldHVybiBlIT09bn0pOzA9PT1yLmxlbmd0aD9kZWxldGUgZVt0XTplW3RdPXJ9fTt2YXIgeHY9ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnNlbGVjdH0sU3Y9ZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IWUub3duZXJEb2N1bWVudCkmJkJ0KEN0LmZyb21Eb20oZS5vd25lckRvY3VtZW50KSxDdC5mcm9tRG9tKGUpKX0sTnY9ZnVuY3Rpb24odSxzLGUsYyl7dmFyIGwsZixuPWZ1bmN0aW9uIGgoaSxuKXt2YXIgYSx1O3JldHVybntzZWxlY3RvckNoYW5nZWRXaXRoVW5iaW5kOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGF8fChhPXt9LHU9e30sbi5vbigiTm9kZUNoYW5nZSIsZnVuY3Rpb24oZSl7dmFyIG49ZS5lbGVtZW50LHI9aS5nZXRQYXJlbnRzKG4sbnVsbCxpLmdldFJvb3QoKSksbz17fTt5dC5lYWNoKGEsZnVuY3Rpb24oZSxuKXt5dC5lYWNoKHIsZnVuY3Rpb24odCl7aWYoaS5pcyh0LG4pKXJldHVybiB1W25dfHwoeXQuZWFjaChlLGZ1bmN0aW9uKGUpe2UoITAse25vZGU6dCxzZWxlY3RvcjpuLHBhcmVudHM6cn0pfSksdVtuXT1lKSxvW25dPWUsITF9KX0pLHl0LmVhY2godSxmdW5jdGlvbihlLHQpe29bdF18fChkZWxldGUgdVt0XSx5dC5lYWNoKGUsZnVuY3Rpb24oZSl7ZSghMSx7bm9kZTpuLHNlbGVjdG9yOnQscGFyZW50czpyfSl9KSl9KX0pKSxhW2VdfHwoYVtlXT1bXSksYVtlXS5wdXNoKHQpLHt1bmJpbmQ6ZnVuY3Rpb24oKXt3dihhLGUsdCksd3YodSxlLHQpfX19fX0odSxjKS5zZWxlY3RvckNoYW5nZWRXaXRoVW5iaW5kLHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbXYoYyxlLHQpfSxyPWZ1bmN0aW9uKGUpe3ZhciB0PW8oKTt0LmNvbGxhcHNlKCEhZSksaSh0KX0sZD1mdW5jdGlvbigpe3JldHVybiBzLmdldFNlbGVjdGlvbj9zLmdldFNlbGVjdGlvbigpOnMuZG9jdW1lbnQuc2VsZWN0aW9ufSxvPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9ZnVuY3Rpb24oZSx0LG4pe3RyeXtyZXR1cm4gdC5jb21wYXJlQm91bmRhcnlQb2ludHMoZSxuKX1jYXRjaChyKXtyZXR1cm4tMX19O2lmKCFzKXJldHVybiBudWxsO3ZhciBvPXMuZG9jdW1lbnQ7aWYobnVsbD09bylyZXR1cm4gbnVsbDtpZihjLmJvb2ttYXJrIT09dW5kZWZpbmVkJiYhMT09PVltKGMpKXt2YXIgaT1JbShjKTtpZihpLmlzU29tZSgpKXJldHVybiBpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZWcoYyxbZV0pWzBdfSkuZ2V0T3Ioby5jcmVhdGVSYW5nZSgpKX10cnl7KGU9ZCgpKSYmIWhuKGUuYW5jaG9yTm9kZSkmJih0PTA8ZS5yYW5nZUNvdW50P2UuZ2V0UmFuZ2VBdCgwKTplLmNyZWF0ZVJhbmdlP2UuY3JlYXRlUmFuZ2UoKTpvLmNyZWF0ZVJhbmdlKCkpfWNhdGNoKGEpe31yZXR1cm4odD0odD1lZyhjLFt0XSlbMF0pfHwoby5jcmVhdGVSYW5nZT9vLmNyZWF0ZVJhbmdlKCk6by5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpKSkuc2V0U3RhcnQmJjk9PT10LnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlJiZ0LmNvbGxhcHNlZCYmKG49dS5nZXRSb290KCksdC5zZXRTdGFydChuLDApLHQuc2V0RW5kKG4sMCkpLGwmJmYmJigwPT09cih0LlNUQVJUX1RPX1NUQVJULHQsbCkmJjA9PT1yKHQuRU5EX1RPX0VORCx0LGwpP3Q9ZjpmPWw9bnVsbCksdH0saT1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKChyPWUpJiYoeHYocil8fFN2KHIuc3RhcnRDb250YWluZXIpJiZTdihyLmVuZENvbnRhaW5lcikpKXt2YXIgcixvPXh2KGUpP2U6bnVsbDtpZihvKXtmPW51bGw7dHJ5e28uc2VsZWN0KCl9Y2F0Y2goYSl7fX1lbHNle3ZhciBpPWQoKTtpZihlPWMuZmlyZSgiU2V0U2VsZWN0aW9uUmFuZ2UiLHtyYW5nZTplLGZvcndhcmQ6dH0pLnJhbmdlLGkpe2Y9ZTt0cnl7aS5yZW1vdmVBbGxSYW5nZXMoKSxpLmFkZFJhbmdlKGUpfWNhdGNoKGEpe30hMT09PXQmJmkuZXh0ZW5kJiYoaS5jb2xsYXBzZShlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCksaS5leHRlbmQoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KSksbD0wPGkucmFuZ2VDb3VudD9pLmdldFJhbmdlQXQoMCk6bnVsbH1lLmNvbGxhcHNlZHx8ZS5zdGFydENvbnRhaW5lciE9PWUuZW5kQ29udGFpbmVyfHwhaS5zZXRCYXNlQW5kRXh0ZW50fHxtdC5pZXx8ZS5lbmRPZmZzZXQtZS5zdGFydE9mZnNldDwyJiZlLnN0YXJ0Q29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSYmKG49ZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW2Uuc3RhcnRPZmZzZXRdKSYmIklNRyI9PT1uLnRhZ05hbWUmJihpLnNldEJhc2VBbmRFeHRlbnQoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0LGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KSxpLmFuY2hvck5vZGU9PT1lLnN0YXJ0Q29udGFpbmVyJiZpLmZvY3VzTm9kZT09PWUuZW5kQ29udGFpbmVyfHxpLnNldEJhc2VBbmRFeHRlbnQobiwwLG4sMSkpLGMuZmlyZSgiQWZ0ZXJTZXRTZWxlY3Rpb25SYW5nZSIse3JhbmdlOmUsZm9yd2FyZDp0fSl9fX0sYT1mdW5jdGlvbigpe3ZhciBlPWQoKTtpZighZXx8IWUuYW5jaG9yTm9kZXx8IWUuZm9jdXNOb2RlKXJldHVybiEwO3ZhciB0PXUuY3JlYXRlUm5nKCk7dC5zZXRTdGFydChlLmFuY2hvck5vZGUsZS5hbmNob3JPZmZzZXQpLHQuY29sbGFwc2UoITApO3ZhciBuPXUuY3JlYXRlUm5nKCk7cmV0dXJuIG4uc2V0U3RhcnQoZS5mb2N1c05vZGUsZS5mb2N1c09mZnNldCksbi5jb2xsYXBzZSghMCksdC5jb21wYXJlQm91bmRhcnlQb2ludHModC5TVEFSVF9UT19TVEFSVCxuKTw9MH0sbT17Ym9va21hcmtNYW5hZ2VyOm51bGwsY29udHJvbFNlbGVjdGlvbjpudWxsLGRvbTp1LHdpbjpzLHNlcmlhbGl6ZXI6ZSxlZGl0b3I6Yyxjb2xsYXBzZTpyLHNldEN1cnNvckxvY2F0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49dS5jcmVhdGVSbmcoKTtlPyhuLnNldFN0YXJ0KGUsdCksbi5zZXRFbmQoZSx0KSxpKG4pLHIoITEpKTooZGYodSxuLGMuZ2V0Qm9keSgpLCEwKSxpKG4pKX0sZ2V0Q29udGVudDpmdW5jdGlvbihlKXtyZXR1cm4gbnYoYyxlKX0sc2V0Q29udGVudDp0LGdldEJvb2ttYXJrOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHAuZ2V0Qm9va21hcmsoZSx0KX0sbW92ZVRvQm9va21hcms6ZnVuY3Rpb24oZSl7cmV0dXJuIHAubW92ZVRvQm9va21hcmsoZSl9LHNlbGVjdDpmdW5jdGlvbihlLHQpe3ZhciByLG4sbztyZXR1cm4gcj11LG49ZSxvPXQsQi5mcm9tKG4pLm1hcChmdW5jdGlvbihlKXt2YXIgdD1yLm5vZGVJbmRleChlKSxuPXIuY3JlYXRlUm5nKCk7cmV0dXJuIG4uc2V0U3RhcnQoZS5wYXJlbnROb2RlLHQpLG4uc2V0RW5kKGUucGFyZW50Tm9kZSx0KzEpLG8mJihkZihyLG4sZSwhMCksZGYocixuLGUsITEpKSxufSkuZWFjaChpKSxlfSxpc0NvbGxhcHNlZDpmdW5jdGlvbigpe3ZhciBlPW8oKSx0PWQoKTtyZXR1cm4hKCFlfHxlLml0ZW0pJiYoZS5jb21wYXJlRW5kUG9pbnRzPzA9PT1lLmNvbXBhcmVFbmRQb2ludHMoIlN0YXJ0VG9FbmQiLGUpOiF0fHxlLmNvbGxhcHNlZCl9LGlzRm9yd2FyZDphLHNldE5vZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHQodS5nZXRPdXRlckhUTUwoZSkpLGV9LGdldE5vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbixyLG87aWYoIXQpcmV0dXJuIGU7cj10LnN0YXJ0Q29udGFpbmVyLG89dC5lbmRDb250YWluZXI7dmFyIGk9dC5zdGFydE9mZnNldCxhPXQuZW5kT2Zmc2V0O3JldHVybiBuPXQuY29tbW9uQW5jZXN0b3JDb250YWluZXIsIXQuY29sbGFwc2VkJiYocj09PW8mJmEtaTwyJiZyLmhhc0NoaWxkTm9kZXMoKSYmKG49ci5jaGlsZE5vZGVzW2ldKSwzPT09ci5ub2RlVHlwZSYmMz09PW8ubm9kZVR5cGUmJihyPXIubGVuZ3RoPT09aT90dihyLm5leHRTaWJsaW5nLCEwKTpyLnBhcmVudE5vZGUsbz0wPT09YT90dihvLnByZXZpb3VzU2libGluZywhMSk6by5wYXJlbnROb2RlLHImJnI9PT1vKSk/cjpuJiYzPT09bi5ub2RlVHlwZT9uLnBhcmVudE5vZGU6bn0oYy5nZXRCb2R5KCksbygpKX0sZ2V0U2VsOmQsc2V0Um5nOmksZ2V0Um5nOm8sZ2V0U3RhcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFpoKGMuZ2V0Qm9keSgpLG8oKSxlKX0sZ2V0RW5kOmZ1bmN0aW9uKGUpe3JldHVybiBldihjLmdldEJvZHkoKSxvKCksZSl9LGdldFNlbGVjdGVkQmxvY2tzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGk9W10sYT1lLmdldFJvb3QoKTtpZihuPWUuZ2V0UGFyZW50KG58fFpoKGEsdCx0LmNvbGxhcHNlZCksZS5pc0Jsb2NrKSxyPWUuZ2V0UGFyZW50KHJ8fGV2KGEsdCx0LmNvbGxhcHNlZCksZS5pc0Jsb2NrKSxuJiZuIT09YSYmaS5wdXNoKG4pLG4mJnImJm4hPT1yKWZvcih2YXIgdT1uZXcgQWkobz1uLGEpOyhvPXUubmV4dCgpKSYmbyE9PXI7KWUuaXNCbG9jayhvKSYmaS5wdXNoKG8pO3JldHVybiByJiZuIT09ciYmciE9PWEmJmkucHVzaChyKSxpfSh1LG8oKSxlLHQpfSxub3JtYWxpemU6ZnVuY3Rpb24oKXt2YXIgZT1vKCksdD1kKCk7aWYoMTxvZih0KS5sZW5ndGh8fCFtZihjKSlyZXR1cm4gZTt2YXIgbj1sdih1LGUpO3JldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7aShlLGEoKSl9KSxuLmdldE9yKGUpfSxzZWxlY3RvckNoYW5nZWQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbihlLHQpLG19LHNlbGVjdG9yQ2hhbmdlZFdpdGhVbmJpbmQ6bixnZXRTY3JvbGxDb250YWluZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD11LmdldFJvb3QoKTt0JiYiQk9EWSIhPT10Lm5vZGVOYW1lOyl7aWYodC5zY3JvbGxIZWlnaHQ+dC5jbGllbnRIZWlnaHQpe2U9dDticmVha310PXQucGFyZW50Tm9kZX1yZXR1cm4gZX0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcj1lLG89dCx2b2lkKChuPWMpLmlubGluZT9XaDpYaCkobixyLG8pO3ZhciBuLHIsb30scGxhY2VDYXJldEF0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoSmgoZSx0LGMuZ2V0RG9jKCkpKX0sZ2V0Qm91bmRpbmdDbGllbnRSZWN0OmZ1bmN0aW9uKCl7dmFyIGU9bygpO3JldHVybiBlLmNvbGxhcHNlZD9Tcy5mcm9tUmFuZ2VTdGFydChlKS5nZXRDbGllbnRSZWN0cygpWzBdOmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtzPWw9Zj1udWxsLGcuZGVzdHJveSgpfX0scD1ndihtKSxnPUN2KG0sYyk7cmV0dXJuIG0uYm9va21hcmtNYW5hZ2VyPXAsbS5jb250cm9sU2VsZWN0aW9uPWcsbX0sRXY9ZnVuY3Rpb24oZSxhLHUpe2UuYWRkTm9kZUZpbHRlcigiZm9udCIsZnVuY3Rpb24oZSl7eihlLGZ1bmN0aW9uKGUpe3ZhciB0LG49YS5wYXJzZShlLmF0dHIoInN0eWxlIikpLHI9ZS5hdHRyKCJjb2xvciIpLG89ZS5hdHRyKCJmYWNlIiksaT1lLmF0dHIoInNpemUiKTtyJiYobi5jb2xvcj1yKSxvJiYoblsiZm9udC1mYW1pbHkiXT1vKSxpJiYoblsiZm9udC1zaXplIl09dVtwYXJzZUludChlLmF0dHIoInNpemUiKSwxMCktMV0pLGUubmFtZT0ic3BhbiIsZS5hdHRyKCJzdHlsZSIsYS5zZXJpYWxpemUobikpLHQ9ZSx6KFsiY29sb3IiLCJmYWNlIiwic2l6ZSJdLGZ1bmN0aW9uKGUpe3QuYXR0cihlLG51bGwpfSl9KX0pfSxrdj1mdW5jdGlvbihlLHQpe3ZhciBuLHI9QnIoKTt0LmNvbnZlcnRfZm9udHNfdG9fc3BhbnMmJkV2KGUscix5dC5leHBsb2RlKHQuZm9udF9zaXplX2xlZ2FjeV92YWx1ZXMpKSxuPXIsZS5hZGROb2RlRmlsdGVyKCJzdHJpa2UiLGZ1bmN0aW9uKGUpe3ooZSxmdW5jdGlvbihlKXt2YXIgdD1uLnBhcnNlKGUuYXR0cigic3R5bGUiKSk7dFsidGV4dC1kZWNvcmF0aW9uIl09ImxpbmUtdGhyb3VnaCIsZS5uYW1lPSJzcGFuIixlLmF0dHIoInN0eWxlIixuLnNlcmlhbGl6ZSh0KSl9KX0pfSxfdj1mdW5jdGlvbihlKXt2YXIgdCxuPWRlY29kZVVSSUNvbXBvbmVudChlKS5zcGxpdCgiLCIpLHI9L2RhdGE6KFteO10rKS8uZXhlYyhuWzBdKTtyZXR1cm4gciYmKHQ9clsxXSkse3R5cGU6dCxkYXRhOm5bMV19fSxUdj1mdW5jdGlvbihlLHQpe3ZhciBuO3RyeXtuPVYuYXRvYih0KX1jYXRjaChMRSl7cmV0dXJuIEIubm9uZSgpfWZvcih2YXIgcj1uZXcgVWludDhBcnJheShuLmxlbmd0aCksbz0wO288ci5sZW5ndGg7bysrKXJbb109bi5jaGFyQ29kZUF0KG8pO3JldHVybiBCLnNvbWUobmV3IFYuQmxvYihbcl0se3R5cGU6ZX0pKX0sUnY9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLmluZGV4T2YoImJsb2I6Iik/KGk9ZSxuZXcgZWEoZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbigpe3QoIkNhbm5vdCBjb252ZXJ0ICIraSsiIHRvIEJsb2IuIFJlc291cmNlIG1pZ2h0IG5vdCBleGlzdCBvciBpcyBpbmFjY2Vzc2libGUuIil9O3RyeXt2YXIgcj1uZXcgVi5YTUxIdHRwUmVxdWVzdDtyLm9wZW4oIkdFVCIsaSwhMCksci5yZXNwb25zZVR5cGU9ImJsb2IiLHIub25sb2FkPWZ1bmN0aW9uKCl7MjAwPT09dGhpcy5zdGF0dXM/ZSh0aGlzLnJlc3BvbnNlKTpuKCl9LHIub25lcnJvcj1uLHIuc2VuZCgpfWNhdGNoKG8pe24oKX19KSk6MD09PWUuaW5kZXhPZigiZGF0YToiKT8obz1lLG5ldyBlYShmdW5jdGlvbihlKXt2YXIgdD1fdihvKSxuPXQudHlwZSxyPXQuZGF0YTtUdihuLHIpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gZShuZXcgVi5CbG9iKFtdKSl9LGUpfSkpOm51bGw7dmFyIGksb30sQXY9MCxEdj1mdW5jdGlvbihlKXtyZXR1cm4oZXx8ImJsb2JpZCIpK0F2Kyt9LE92PWZ1bmN0aW9uKHIsbyxpLHQpe3ZhciBhLHU7aWYoMCE9PW8uc3JjLmluZGV4T2YoImJsb2I6Iikpe3ZhciBlPV92KG8uc3JjKSxuPWUuZGF0YSxzPWUudHlwZTthPW4sKHU9ci5nZXRCeURhdGEoYSxzKSk/aSh7aW1hZ2U6byxibG9iSW5mbzp1fSk6UnYoby5zcmMpLnRoZW4oZnVuY3Rpb24oZSl7dT1yLmNyZWF0ZShEdigpLGUsYSksci5hZGQodSksaSh7aW1hZ2U6byxibG9iSW5mbzp1fSl9LGZ1bmN0aW9uKGUpe3QoZSl9KX1lbHNlKHU9ci5nZXRCeVVyaShvLnNyYykpP2koe2ltYWdlOm8sYmxvYkluZm86dX0pOlJ2KG8uc3JjKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBuO249dCxuZXcgZWEoZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFYuRmlsZVJlYWRlcjt0Lm9ubG9hZGVuZD1mdW5jdGlvbigpe2UodC5yZXN1bHQpfSx0LnJlYWRBc0RhdGFVUkwobil9KS50aGVuKGZ1bmN0aW9uKGUpe2E9X3YoZSkuZGF0YSx1PXIuY3JlYXRlKER2KCksdCxhKSxyLmFkZCh1KSxpKHtpbWFnZTpvLGJsb2JJbmZvOnV9KX0pfSxmdW5jdGlvbihlKXt0KGUpfSl9O2Z1bmN0aW9uIEJ2KGksYSl7dmFyIHU9e307cmV0dXJue2ZpbmRBbGw6ZnVuY3Rpb24oZSxuKXtuPW58fHgoITApO3ZhciB0LHI9SCgodD1lKT90ZSh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKSk6W10sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcmM7cmV0dXJuISFtdC5maWxlQXBpJiYoIWUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpJiYoIWUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1wbGFjZWhvbGRlciIpJiYoISghdHx8dD09PW10LnRyYW5zcGFyZW50U3JjKSYmKDA9PT10LmluZGV4T2YoImJsb2I6Iik/IWkuaXNVcGxvYWRlZCh0KSYmbihlKTowPT09dC5pbmRleE9mKCJkYXRhOiIpJiZuKGUpKSkpKX0pLG89VShyLGZ1bmN0aW9uKG4pe2lmKHVbbi5zcmNdIT09dW5kZWZpbmVkKXJldHVybiBuZXcgZWEoZnVuY3Rpb24odCl7dVtuLnNyY10udGhlbihmdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGU7dCh7aW1hZ2U6bixibG9iSW5mbzplLmJsb2JJbmZvfSl9KX0pO3ZhciBlPW5ldyBlYShmdW5jdGlvbihlLHQpe092KGEsbixlLHQpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZGVsZXRlIHVbZS5pbWFnZS5zcmNdLGV9KVsiY2F0Y2giXShmdW5jdGlvbihlKXtyZXR1cm4gZGVsZXRlIHVbbi5zcmNdLGV9KTtyZXR1cm4gdVtuLnNyY109ZX0pO3JldHVybiBlYS5hbGwobyl9fX12YXIgUHY9ZnVuY3Rpb24oZSx0LG4scil7KGUucGFkZF9lbXB0eV93aXRoX2JyfHx0Lmluc2VydCkmJm5bci5uYW1lXT9yLmVtcHR5KCkuYXBwZW5kKG5ldyBUZigiYnIiLDEpKS5zaG9ydEVuZGVkPSEwOnIuZW1wdHkoKS5hcHBlbmQobmV3IFRmKCIjdGV4dCIsMykpLnZhbHVlPURyfSxMdj1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmZpcnN0Q2hpbGQmJmUuZmlyc3RDaGlsZD09PWUubGFzdENoaWxkJiZlLmZpcnN0Q2hpbGQubmFtZT09PXR9LEl2PWZ1bmN0aW9uKHIsZSx0LG4pe3JldHVybiBuLmlzRW1wdHkoZSx0LGZ1bmN0aW9uKGUpe3JldHVybiB0PWUsKG49ci5nZXRFbGVtZW50UnVsZSh0Lm5hbWUpKSYmbi5wYWRkRW1wdHk7dmFyIHQsbn0pfSxNdj1mdW5jdGlvbihlLG8pe3ZhciBpPW8uYmxvYl9jYWNoZSx0PWZ1bmN0aW9uKHQpe3ZhciBlLG4scj10LmF0dHIoInNyYyIpOyhlPXQpLmF0dHIoInNyYyIpPT09bXQudHJhbnNwYXJlbnRTcmN8fGUuYXR0cigiZGF0YS1tY2UtcGxhY2Vob2xkZXIiKXx8dC5hdHRyKCJkYXRhLW1jZS1ib2d1cyIpfHwoKG49L2RhdGE6KFteO10rKTtiYXNlNjQsKFthLXowLTlcK1wvPV0rKS9pLmV4ZWMocikpP0Iuc29tZSh7dHlwZTpuWzFdLGRhdGE6ZGVjb2RlVVJJQ29tcG9uZW50KG5bMl0pfSk6Qi5ub25lKCkpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2lmKHQuaW1hZ2VzX2RhdGFpbWdfZmlsdGVyKXt2YXIgbj1uZXcgVi5JbWFnZTtyZXR1cm4gbi5zcmM9ZS5hdHRyKCJzcmMiKSxvZShlLmF0dHJpYnV0ZXMubWFwLGZ1bmN0aW9uKGUsdCl7bi5zZXRBdHRyaWJ1dGUodCxlKX0pLHQuaW1hZ2VzX2RhdGFpbWdfZmlsdGVyKG4pfXJldHVybiEwfSh0LG8pfSkuYmluZChmdW5jdGlvbihlKXt2YXIgdD1lLnR5cGUsbj1lLmRhdGE7cmV0dXJuIEIuZnJvbShpLmdldEJ5RGF0YShuLHQpKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIFR2KHQsbikubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWkuY3JlYXRlKER2KCksZSxuKTtyZXR1cm4gaS5hZGQodCksdH0pfSl9KS5lYWNoKGZ1bmN0aW9uKGUpe3QuYXR0cigic3JjIixlLmJsb2JVcmkoKSl9KX07aSYmZS5hZGRBdHRyaWJ1dGVGaWx0ZXIoInNyYyIsZnVuY3Rpb24oZSl7cmV0dXJuIHooZSx0KX0pfSxGdj1mdW5jdGlvbihlLGcpe3ZhciBoPWUuc2NoZW1hO2cucmVtb3ZlX3RyYWlsaW5nX2JycyYmZS5hZGROb2RlRmlsdGVyKCJiciIsZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscyxjLGwsZj1lLmxlbmd0aCxkPXl0LmV4dGVuZCh7fSxoLmdldEJsb2NrRWxlbWVudHMoKSksbT1oLmdldE5vbkVtcHR5RWxlbWVudHMoKSxwPWguZ2V0V2hpdGVTcGFjZUVsZW1lbnRzKCk7Zm9yKGQuYm9keT0xLHI9MDtyPGY7cisrKWlmKGk9KG89ZVtyXSkucGFyZW50LGRbby5wYXJlbnQubmFtZV0mJm89PT1pLmxhc3RDaGlsZCl7Zm9yKHU9by5wcmV2O3U7KXtpZigic3BhbiIhPT0ocz11Lm5hbWUpfHwiYm9va21hcmsiIT09dS5hdHRyKCJkYXRhLW1jZS10eXBlIikpe2lmKCJiciIhPT1zKWJyZWFrO2lmKCJiciI9PT1zKXtvPW51bGw7YnJlYWt9fXU9dS5wcmV2fW8mJihvLnJlbW92ZSgpLEl2KGgsbSxwLGkpJiYoYz1oLmdldEVsZW1lbnRSdWxlKGkubmFtZSkpJiYoYy5yZW1vdmVFbXB0eT9pLnJlbW92ZSgpOmMucGFkZEVtcHR5JiZQdihnLG4sZCxpKSkpfWVsc2V7Zm9yKGE9bztpJiZpLmZpcnN0Q2hpbGQ9PT1hJiZpLmxhc3RDaGlsZD09PWEmJiFkWyhhPWkpLm5hbWVdOylpPWkucGFyZW50O2E9PT1pJiYhMCE9PWcucGFkZF9lbXB0eV93aXRoX2JyJiYoKGw9bmV3IFRmKCIjdGV4dCIsMykpLnZhbHVlPURyLG8ucmVwbGFjZShsKSl9fSksZS5hZGRBdHRyaWJ1dGVGaWx0ZXIoImhyZWYiLGZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoLG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZT95dC50cmltKGUpOiIiO3JldHVybi9cYihub29wZW5lcilcYi9nLnRlc3QodCk/dDp0LnNwbGl0KCIgIikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwPGUubGVuZ3RofSkuY29uY2F0KFsibm9vcGVuZXIiXSkuc29ydCgpLmpvaW4oIiAiKX07aWYoIWcuYWxsb3dfdW5zYWZlX2xpbmtfdGFyZ2V0KWZvcig7dC0tOyl7dmFyIHI9ZVt0XTsiYSI9PT1yLm5hbWUmJiJfYmxhbmsiPT09ci5hdHRyKCJ0YXJnZXQiKSYmci5hdHRyKCJyZWwiLG4oci5hdHRyKCJyZWwiKSkpfX0pLGcuYWxsb3dfaHRtbF9pbl9uYW1lZF9hbmNob3J8fGUuYWRkQXR0cmlidXRlRmlsdGVyKCJpZCxuYW1lIixmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLG8saT1lLmxlbmd0aDtpLS07KWlmKCJhIj09PShvPWVbaV0pLm5hbWUmJm8uZmlyc3RDaGlsZCYmIW8uYXR0cigiaHJlZiIpKWZvcihyPW8ucGFyZW50LHQ9by5sYXN0Q2hpbGQ7bj10LnByZXYsci5pbnNlcnQodCxvKSx0PW47KTt9KSxnLmZpeF9saXN0X2VsZW1lbnRzJiZlLmFkZE5vZGVGaWx0ZXIoInVsLG9sIixmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPWUubGVuZ3RoO3ItLTspaWYoInVsIj09PShuPSh0PWVbcl0pLnBhcmVudCkubmFtZXx8Im9sIj09PW4ubmFtZSlpZih0LnByZXYmJiJsaSI9PT10LnByZXYubmFtZSl0LnByZXYuYXBwZW5kKHQpO2Vsc2V7dmFyIG89bmV3IFRmKCJsaSIsMSk7by5hdHRyKCJzdHlsZSIsImxpc3Qtc3R5bGUtdHlwZTogbm9uZSIpLHQud3JhcChvKX19KSxnLnZhbGlkYXRlJiZoLmdldFZhbGlkQ2xhc3NlcygpJiZlLmFkZEF0dHJpYnV0ZUZpbHRlcigiY2xhc3MiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsbyxpLGEsdSxzPWUubGVuZ3RoLGM9aC5nZXRWYWxpZENsYXNzZXMoKTtzLS07KXtmb3Iobj0odD1lW3NdKS5hdHRyKCJjbGFzcyIpLnNwbGl0KCIgIiksaT0iIixyPTA7cjxuLmxlbmd0aDtyKyspbz1uW3JdLHU9ITEsKGE9Y1siKiJdKSYmYVtvXSYmKHU9ITApLGE9Y1t0Lm5hbWVdLCF1JiZhJiZhW29dJiYodT0hMCksdSYmKGkmJihpKz0iICIpLGkrPW8pO2kubGVuZ3RofHwoaT1udWxsKSx0LmF0dHIoImNsYXNzIixpKX19KSxNdihlLGcpfSxVdj15dC5tYWtlTWFwLHp2PXl0LmVhY2gsanY9eXQuZXhwbG9kZSxIdj15dC5leHRlbmQsVnY9ZnVuY3Rpb24oVCxSKXt2b2lkIDA9PT1SJiYoUj1ScigpKTt2YXIgQT17fSxEPVtdLE89e30sQj17fTsoVD1UfHx7fSkudmFsaWRhdGU9ISgidmFsaWRhdGUiaW4gVCl8fFQudmFsaWRhdGUsVC5yb290X25hbWU9VC5yb290X25hbWV8fCJib2R5Ijt2YXIgZSx0LFA9ZnVuY3Rpb24oZSl7dmFyIHQsbixyOyhuPWUubmFtZSlpbiBBJiYoKHI9T1tuXSk/ci5wdXNoKGUpOk9bbl09W2VdKSx0PUQubGVuZ3RoO2Zvcig7dC0tOykobj1EW3RdLm5hbWUpaW4gZS5hdHRyaWJ1dGVzLm1hcCYmKChyPUJbbl0pP3IucHVzaChlKTpCW25dPVtlXSk7cmV0dXJuIGV9LG49e3NjaGVtYTpSLGFkZEF0dHJpYnV0ZUZpbHRlcjpmdW5jdGlvbihlLG4pe3p2KGp2KGUpLGZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0PTA7dDxELmxlbmd0aDt0KyspaWYoRFt0XS5uYW1lPT09ZSlyZXR1cm4gdm9pZCBEW3RdLmNhbGxiYWNrcy5wdXNoKG4pO0QucHVzaCh7bmFtZTplLGNhbGxiYWNrczpbbl19KX0pfSxnZXRBdHRyaWJ1dGVGaWx0ZXJzOmZ1bmN0aW9uKCl7cmV0dXJuW10uY29uY2F0KEQpfSxhZGROb2RlRmlsdGVyOmZ1bmN0aW9uKGUsbil7enYoanYoZSksZnVuY3Rpb24oZSl7dmFyIHQ9QVtlXTt0fHwoQVtlXT10PVtdKSx0LnB1c2gobil9KX0sZ2V0Tm9kZUZpbHRlcnM6ZnVuY3Rpb24oKXt2YXIgZT1bXTtmb3IodmFyIHQgaW4gQSlBLmhhc093blByb3BlcnR5KHQpJiZlLnB1c2goe25hbWU6dCxjYWxsYmFja3M6QVt0XX0pO3JldHVybiBlfSxmaWx0ZXJOb2RlOlAscGFyc2U6ZnVuY3Rpb24oZSx1KXt2YXIgdCxuLHIsbyxpLHMsYSxjLGwsZj1bXTt1PXV8fHt9LE89e30sQj17fTt2YXIgZCxtPUh2KFV2KCJzY3JpcHQsc3R5bGUsaGVhZCxodG1sLGJvZHksdGl0bGUsbWV0YSxwYXJhbSIpLFIuZ2V0QmxvY2tFbGVtZW50cygpKSxwPVIuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLGc9Ui5jaGlsZHJlbixoPVQudmFsaWRhdGUsdj0iZm9yY2VkX3Jvb3RfYmxvY2siaW4gdT91LmZvcmNlZF9yb290X2Jsb2NrOlQuZm9yY2VkX3Jvb3RfYmxvY2sseT0hMT09PShkPXYpPyIiOiEwPT09ZD8icCI6ZCxiPVIuZ2V0V2hpdGVTcGFjZUVsZW1lbnRzKCksQz0vXlsgXHRcclxuXSsvLHc9L1sgXHRcclxuXSskLyx4PS9bIFx0XHJcbl0rL2csUz0vXlsgXHRcclxuXSskLztjPWIuaGFzT3duUHJvcGVydHkodS5jb250ZXh0KXx8Yi5oYXNPd25Qcm9wZXJ0eShULnJvb3RfbmFtZSk7dmFyIE49ZnVuY3Rpb24oZSx0KXt2YXIgbixyPW5ldyBUZihlLHQpO3JldHVybiBlIGluIEEmJigobj1PW2VdKT9uLnB1c2gocik6T1tlXT1bcl0pLHJ9LEU9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saT1SLmdldEJsb2NrRWxlbWVudHMoKTtmb3IodD1lLnByZXY7dCYmMz09PXQudHlwZTspe2lmKDA8KHI9dC52YWx1ZS5yZXBsYWNlKHcsIiIpKS5sZW5ndGgpcmV0dXJuIHZvaWQodC52YWx1ZT1yKTtpZihuPXQubmV4dCl7aWYoMz09PW4udHlwZSYmbi52YWx1ZS5sZW5ndGgpe3Q9dC5wcmV2O2NvbnRpbnVlfWlmKCFpW24ubmFtZV0mJiJzY3JpcHQiIT09bi5uYW1lJiYic3R5bGUiIT09bi5uYW1lKXt0PXQucHJldjtjb250aW51ZX19bz10LnByZXYsdC5yZW1vdmUoKSx0PW99fSxrPUhmKHt2YWxpZGF0ZTpoLGFsbG93X2h0bWxfZGF0YV91cmxzOlQuYWxsb3dfaHRtbF9kYXRhX3VybHMsYWxsb3dfc2NyaXB0X3VybHM6VC5hbGxvd19zY3JpcHRfdXJscyxhbGxvd19jb25kaXRpb25hbF9jb21tZW50czpULmFsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzLHByZXNlcnZlX2NkYXRhOlQucHJlc2VydmVfY2RhdGEsc2VsZl9jbG9zaW5nX2VsZW1lbnRzOmZ1bmN0aW9uKGUpe3ZhciB0LG49e307Zm9yKHQgaW4gZSkibGkiIT09dCYmInAiIT09dCYmKG5bdF09ZVt0XSk7cmV0dXJuIG59KFIuZ2V0U2VsZkNsb3NpbmdFbGVtZW50cygpKSxjZGF0YTpmdW5jdGlvbihlKXtsLmFwcGVuZChOKCIjY2RhdGEiLDQpKS52YWx1ZT1lfSx0ZXh0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvO2N8fChlPWUucmVwbGFjZSh4LCIgIikscj1sLmxhc3RDaGlsZCxvPW0sciYmKG9bci5uYW1lXXx8ImJyIj09PXIubmFtZSkmJihlPWUucmVwbGFjZShDLCIiKSkpLDAhPT1lLmxlbmd0aCYmKChuPU4oIiN0ZXh0IiwzKSkucmF3PSEhdCxsLmFwcGVuZChuKS52YWx1ZT1lKX0sY29tbWVudDpmdW5jdGlvbihlKXtsLmFwcGVuZChOKCIjY29tbWVudCIsOCkpLnZhbHVlPWV9LHBpOmZ1bmN0aW9uKGUsdCl7bC5hcHBlbmQoTihlLDcpKS52YWx1ZT10LEUobCl9LGRvY3R5cGU6ZnVuY3Rpb24oZSl7bC5hcHBlbmQoTigiI2RvY3R5cGUiLDEwKSkudmFsdWU9ZSxFKGwpfSxzdGFydDpmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdT1oP1IuZ2V0RWxlbWVudFJ1bGUoZSk6e307aWYodSl7Zm9yKChyPU4odS5vdXRwdXROYW1lfHxlLDEpKS5hdHRyaWJ1dGVzPXQsci5zaG9ydEVuZGVkPW4sbC5hcHBlbmQociksKGE9Z1tsLm5hbWVdKSYmZ1tyLm5hbWVdJiYhYVtyLm5hbWVdJiZmLnB1c2gociksbz1ELmxlbmd0aDtvLS07KShpPURbb10ubmFtZSlpbiB0Lm1hcCYmKChzPUJbaV0pP3MucHVzaChyKTpCW2ldPVtyXSk7bVtlXSYmRShyKSxufHwobD1yKSwhYyYmYltlXSYmKGM9ITApfX0sZW5kOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYT1oP1IuZ2V0RWxlbWVudFJ1bGUoZSk6e307aWYoYSl7aWYobVtlXSYmIWMpe2lmKCh0PWwuZmlyc3RDaGlsZCkmJjM9PT10LnR5cGUpaWYoMDwobj10LnZhbHVlLnJlcGxhY2UoQywiIikpLmxlbmd0aCl0LnZhbHVlPW4sdD10Lm5leHQ7ZWxzZSBmb3Iocj10Lm5leHQsdC5yZW1vdmUoKSx0PXI7dCYmMz09PXQudHlwZTspbj10LnZhbHVlLHI9dC5uZXh0LDAhPT1uLmxlbmd0aCYmIVMudGVzdChuKXx8KHQucmVtb3ZlKCksdD1yKSx0PXI7aWYoKHQ9bC5sYXN0Q2hpbGQpJiYzPT09dC50eXBlKWlmKDA8KG49dC52YWx1ZS5yZXBsYWNlKHcsIiIpKS5sZW5ndGgpdC52YWx1ZT1uLHQ9dC5wcmV2O2Vsc2UgZm9yKHI9dC5wcmV2LHQucmVtb3ZlKCksdD1yO3QmJjM9PT10LnR5cGU7KW49dC52YWx1ZSxyPXQucHJldiwwIT09bi5sZW5ndGgmJiFTLnRlc3Qobil8fCh0LnJlbW92ZSgpLHQ9ciksdD1yfWlmKGMmJmJbZV0mJihjPSExKSxhLnJlbW92ZUVtcHR5JiZJdihSLHAsYixsKSlyZXR1cm4gbz1sLnBhcmVudCxtW2wubmFtZV0/bC5lbXB0eSgpLnJlbW92ZSgpOmwudW53cmFwKCksdm9pZChsPW8pO2EucGFkZEVtcHR5JiYoTHYoaT1sLCIjdGV4dCIpJiZpLmZpcnN0Q2hpbGQudmFsdWU9PT1Ecnx8SXYoUixwLGIsbCkpJiZQdihULHUsbSxsKSxsPWwucGFyZW50fX19LFIpLF89bD1uZXcgVGYodS5jb250ZXh0fHxULnJvb3RfbmFtZSwxMSk7aWYoay5wYXJzZShlLHUuZm9ybWF0KSxoJiZmLmxlbmd0aCYmKHUuY29udGV4dD91LmludmFsaWQ9ITA6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHUscyxjLGwsZixkPVV2KCJ0cix0ZCx0aCx0Ym9keSx0aGVhZCx0Zm9vdCx0YWJsZSIpLG09Ui5nZXROb25FbXB0eUVsZW1lbnRzKCkscD1SLmdldFdoaXRlU3BhY2VFbGVtZW50cygpLGc9Ui5nZXRUZXh0QmxvY2tFbGVtZW50cygpLGg9Ui5nZXRTcGVjaWFsRWxlbWVudHMoKTtmb3IodD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKChuPWVbdF0pLnBhcmVudCYmIW4uZml4ZWQpaWYoZ1tuLm5hbWVdJiYibGkiPT09bi5wYXJlbnQubmFtZSl7Zm9yKGw9bi5uZXh0O2wmJmdbbC5uYW1lXTspbC5uYW1lPSJsaSIsbC5maXhlZD0hMCxuLnBhcmVudC5pbnNlcnQobCxuLnBhcmVudCksbD1sLm5leHQ7bi51bndyYXAobil9ZWxzZXtmb3Iobz1bbl0scj1uLnBhcmVudDtyJiYhUi5pc1ZhbGlkQ2hpbGQoci5uYW1lLG4ubmFtZSkmJiFkW3IubmFtZV07cj1yLnBhcmVudClvLnB1c2gocik7aWYociYmMTxvLmxlbmd0aCl7Zm9yKG8ucmV2ZXJzZSgpLGk9YT1QKG9bMF0uY2xvbmUoKSksYz0wO2M8by5sZW5ndGgtMTtjKyspe2ZvcihSLmlzVmFsaWRDaGlsZChhLm5hbWUsb1tjXS5uYW1lKT8odT1QKG9bY10uY2xvbmUoKSksYS5hcHBlbmQodSkpOnU9YSxzPW9bY10uZmlyc3RDaGlsZDtzJiZzIT09b1tjKzFdOylmPXMubmV4dCx1LmFwcGVuZChzKSxzPWY7YT11fUl2KFIsbSxwLGkpP3IuaW5zZXJ0KG4sb1swXSwhMCk6KHIuaW5zZXJ0KGksb1swXSwhMCksci5pbnNlcnQobixpKSkscj1vWzBdLChJdihSLG0scCxyKXx8THYociwiYnIiKSkmJnIuZW1wdHkoKS5yZW1vdmUoKX1lbHNlIGlmKG4ucGFyZW50KXtpZigibGkiPT09bi5uYW1lKXtpZigobD1uLnByZXYpJiYoInVsIj09PWwubmFtZXx8InVsIj09PWwubmFtZSkpe2wuYXBwZW5kKG4pO2NvbnRpbnVlfWlmKChsPW4ubmV4dCkmJigidWwiPT09bC5uYW1lfHwidWwiPT09bC5uYW1lKSl7bC5pbnNlcnQobixsLmZpcnN0Q2hpbGQsITApO2NvbnRpbnVlfW4ud3JhcChQKG5ldyBUZigidWwiLDEpKSk7Y29udGludWV9Ui5pc1ZhbGlkQ2hpbGQobi5wYXJlbnQubmFtZSwiZGl2IikmJlIuaXNWYWxpZENoaWxkKCJkaXYiLG4ubmFtZSk/bi53cmFwKFAobmV3IFRmKCJkaXYiLDEpKSk6aFtuLm5hbWVdP24uZW1wdHkoKS5yZW1vdmUoKTpuLnVud3JhcCgpfX19KGYpKSx5JiYoImJvZHkiPT09Xy5uYW1lfHx1LmlzUm9vdENvbnRlbnQpJiZmdW5jdGlvbigpe3ZhciBlLHQsbj1fLmZpcnN0Q2hpbGQscj1mdW5jdGlvbihlKXtlJiYoKG49ZS5maXJzdENoaWxkKSYmMz09PW4udHlwZSYmKG4udmFsdWU9bi52YWx1ZS5yZXBsYWNlKEMsIiIpKSwobj1lLmxhc3RDaGlsZCkmJjM9PT1uLnR5cGUmJihuLnZhbHVlPW4udmFsdWUucmVwbGFjZSh3LCIiKSkpfTtpZihSLmlzVmFsaWRDaGlsZChfLm5hbWUseS50b0xvd2VyQ2FzZSgpKSl7Zm9yKDtuOyllPW4ubmV4dCwzPT09bi50eXBlfHwxPT09bi50eXBlJiYicCIhPT1uLm5hbWUmJiFtW24ubmFtZV0mJiFuLmF0dHIoImRhdGEtbWNlLXR5cGUiKT8odHx8KCh0PU4oeSwxKSkuYXR0cihULmZvcmNlZF9yb290X2Jsb2NrX2F0dHJzKSxfLmluc2VydCh0LG4pKSx0LmFwcGVuZChuKSk6KHIodCksdD1udWxsKSxuPWU7cih0KX19KCksIXUuaW52YWxpZCl7Zm9yKGEgaW4gTylpZihPLmhhc093blByb3BlcnR5KGEpKXtmb3Iocz1BW2FdLG89KHQ9T1thXSkubGVuZ3RoO28tLTspdFtvXS5wYXJlbnR8fHQuc3BsaWNlKG8sMSk7Zm9yKG49MCxyPXMubGVuZ3RoO248cjtuKyspc1tuXSh0LGEsdSl9Zm9yKG49MCxyPUQubGVuZ3RoO248cjtuKyspaWYoKHM9RFtuXSkubmFtZSBpbiBCKXtmb3Iobz0odD1CW3MubmFtZV0pLmxlbmd0aDtvLS07KXRbb10ucGFyZW50fHx0LnNwbGljZShvLDEpO2ZvcihvPTAsaT1zLmNhbGxiYWNrcy5sZW5ndGg7bzxpO28rKylzLmNhbGxiYWNrc1tvXSh0LHMubmFtZSx1KX19cmV0dXJuIF99fTtyZXR1cm4gRnYobixUKSxlPW4sKHQ9VCkuaW5saW5lX3N0eWxlcyYma3YoZSx0KSxufSxxdj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG89biwocj1lKSYmci5oYXNFdmVudExpc3RlbmVycygiUHJlUHJvY2VzcyIpJiYhby5ub19ldmVudHM/ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT1lLmRvbTt0PXQuY2xvbmVOb2RlKCEwKTt2YXIgYSx1LHM9Vi5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbjtyZXR1cm4gcy5jcmVhdGVIVE1MRG9jdW1lbnQmJihyPXMuY3JlYXRlSFRNTERvY3VtZW50KCIiKSx5dC5lYWNoKCJCT0RZIj09PXQubm9kZU5hbWU/dC5jaGlsZE5vZGVzOlt0XSxmdW5jdGlvbihlKXtyLmJvZHkuYXBwZW5kQ2hpbGQoci5pbXBvcnROb2RlKGUsITApKX0pLHQ9IkJPRFkiIT09dC5ub2RlTmFtZT9yLmJvZHkuZmlyc3RDaGlsZDpyLmJvZHksbz1pLmRvYyxpLmRvYz1yKSxhPWUsdT14ZSh4ZSh7fSxuKSx7bm9kZTp0fSksYS5maXJlKCJQcmVQcm9jZXNzIix1KSxvJiYoaS5kb2M9byksdH0oZSx0LG4pOnQ7dmFyIHIsb30sJHY9ZnVuY3Rpb24oZSx0LG4pey0xPT09eXQuaW5BcnJheSh0LG4pJiYoZS5hZGRBdHRyaWJ1dGVGaWx0ZXIobixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KWVbbl0uYXR0cih0LG51bGwpfSksdC5wdXNoKG4pKX0sV3Y9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHUscyxjLGwsZj0oaT1yLE9mKHQsbikuc2VyaWFsaXplKGkpKTtyZXR1cm4gYT1lLHM9ZiwodT1vKS5ub19ldmVudHN8fCFhP3M6KGM9YSxsPXhlKHhlKHt9LHUpLHtjb250ZW50OnN9KSxjLmZpcmUoIlBvc3RQcm9jZXNzIixsKS5jb250ZW50KX0sS3Y9ZnVuY3Rpb24oZyxoKXt2YXIgZT1bImRhdGEtbWNlLXNlbGVjdGVkIl0sdj1oJiZoLmRvbT9oLmRvbTpFYS5ET00seT1oJiZoLnNjaGVtYT9oLnNjaGVtYTpScihnKTtnLmVudGl0eV9lbmNvZGluZz1nLmVudGl0eV9lbmNvZGluZ3x8Im5hbWVkIixnLnJlbW92ZV90cmFpbGluZ19icnM9ISgicmVtb3ZlX3RyYWlsaW5nX2JycyJpbiBnKXx8Zy5yZW1vdmVfdHJhaWxpbmdfYnJzO3ZhciB0LHMsYyxiPVZ2KGcseSk7cz1nLGM9diwodD1iKS5hZGRBdHRyaWJ1dGVGaWx0ZXIoImRhdGEtbWNlLXRhYmluZGV4IixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPWUubGVuZ3RoO3ItLTspKG49ZVtyXSkuYXR0cigidGFiaW5kZXgiLG4uYXR0cigiZGF0YS1tY2UtdGFiaW5kZXgiKSksbi5hdHRyKHQsbnVsbCl9KSx0LmFkZEF0dHJpYnV0ZUZpbHRlcigic3JjLGhyZWYsc3R5bGUiLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHIsbz1lLmxlbmd0aCxpPSJkYXRhLW1jZS0iK3QsYT1zLnVybF9jb252ZXJ0ZXIsdT1zLnVybF9jb252ZXJ0ZXJfc2NvcGU7by0tOykocj0obj1lW29dKS5hdHRyKGkpKSE9PXVuZGVmaW5lZD8obi5hdHRyKHQsMDxyLmxlbmd0aD9yOm51bGwpLG4uYXR0cihpLG51bGwpKToocj1uLmF0dHIodCksInN0eWxlIj09PXQ/cj1jLnNlcmlhbGl6ZVN0eWxlKGMucGFyc2VTdHlsZShyKSxuLm5hbWUpOmEmJihyPWEuY2FsbCh1LHIsdCxuLm5hbWUpKSxuLmF0dHIodCwwPHIubGVuZ3RoP3I6bnVsbCkpfSksdC5hZGRBdHRyaWJ1dGVGaWx0ZXIoImNsYXNzIixmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPWUubGVuZ3RoO3ItLTspKG49KHQ9ZVtyXSkuYXR0cigiY2xhc3MiKSkmJihuPXQuYXR0cigiY2xhc3MiKS5yZXBsYWNlKC8oPzpefFxzKW1jZS1pdGVtLVx3Kyg/IVxTKS9nLCIiKSx0LmF0dHIoImNsYXNzIiwwPG4ubGVuZ3RoP246bnVsbCkpfSksdC5hZGRBdHRyaWJ1dGVGaWx0ZXIoImRhdGEtbWNlLXR5cGUiLGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsbz1lLmxlbmd0aDtvLS07KXtpZigiYm9va21hcmsiPT09KHI9ZVtvXSkuYXR0cigiZGF0YS1tY2UtdHlwZSIpJiYhbi5jbGVhbnVwKUIuZnJvbShyLmZpcnN0Q2hpbGQpLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4hYnUoZS52YWx1ZSl9KT9yLnVud3JhcCgpOnIucmVtb3ZlKCl9fSksdC5hZGROb2RlRmlsdGVyKCJub3NjcmlwdCIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49ZS5sZW5ndGg7bi0tOykodD1lW25dLmZpcnN0Q2hpbGQpJiYodC52YWx1ZT15ci5kZWNvZGUodC52YWx1ZSkpfSksdC5hZGROb2RlRmlsdGVyKCJzY3JpcHQsc3R5bGUiLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHIsbyxpPWUubGVuZ3RoLGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvKDwhLS1cW0NEQVRBXFt8XF1cXS0tPikvZywiXG4iKS5yZXBsYWNlKC9eW1xyXG5dKnxbXHJcbl0qJC9nLCIiKS5yZXBsYWNlKC9eXHMqKCg8IS0tKT8oXHMqXC9cLyk/XHMqPCFcW0NEQVRBXFt8KDwhLS1ccyopP1wvXCpccyo8IVxbQ0RBVEFcW1xzKlwqXC98KFwvXC8pP1xzKjwhLS18XC9cKlxzKjwhLS1ccypcKlwvKVxzKltcclxuXSovZ2ksIiIpLnJlcGxhY2UoL1xzKihcL1wqXHMqXF1cXT5ccypcKlwvKC0tPik/fFxzKlwvXC9ccypcXVxdPigtLT4pP3xcL1wvXHMqKC0tPik/fFxdXF0+fFwvXCpccyotLT5ccypcKlwvfFxzKi0tPlxzKilccyokL2csIiIpfTtpLS07KXI9KG49ZVtpXSkuZmlyc3RDaGlsZD9uLmZpcnN0Q2hpbGQudmFsdWU6IiIsInNjcmlwdCI9PT10Pygobz1uLmF0dHIoInR5cGUiKSkmJm4uYXR0cigidHlwZSIsIm1jZS1uby90eXBlIj09PW8/bnVsbDpvLnJlcGxhY2UoL15tY2VcLS8sIiIpKSwieGh0bWwiPT09cy5lbGVtZW50X2Zvcm1hdCYmMDxyLmxlbmd0aCYmKG4uZmlyc3RDaGlsZC52YWx1ZT0iLy8gPCFbQ0RBVEFbXG4iK2EocikrIlxuLy8gXV0+IikpOiJ4aHRtbCI9PT1zLmVsZW1lbnRfZm9ybWF0JiYwPHIubGVuZ3RoJiYobi5maXJzdENoaWxkLnZhbHVlPSJceDNjIS0tXG4iK2EocikrIlxuLS1ceDNlIil9KSx0LmFkZE5vZGVGaWx0ZXIoIiNjb21tZW50IixmdW5jdGlvbihlKXtmb3IodmFyIHQsbj1lLmxlbmd0aDtuLS07KXQ9ZVtuXSxzLnByZXNlcnZlX2NkYXRhJiYwPT09dC52YWx1ZS5pbmRleE9mKCJbQ0RBVEFbIik/KHQubmFtZT0iI2NkYXRhIix0LnR5cGU9NCx0LnZhbHVlPWMuZGVjb2RlKHQudmFsdWUucmVwbGFjZSgvXlxbQ0RBVEFcW3xcXVxdJC9nLCIiKSkpOjA9PT10LnZhbHVlLmluZGV4T2YoIm1jZTpwcm90ZWN0ZWQgIikmJih0Lm5hbWU9IiN0ZXh0Iix0LnR5cGU9Myx0LnJhdz0hMCx0LnZhbHVlPXVuZXNjYXBlKHQudmFsdWUpLnN1YnN0cigxNCkpfSksdC5hZGROb2RlRmlsdGVyKCJ4bWw6bmFtZXNwYWNlLGlucHV0IixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPWUubGVuZ3RoO3ItLTspNz09PShuPWVbcl0pLnR5cGU/bi5yZW1vdmUoKToxPT09bi50eXBlJiYoImlucHV0IiE9PXR8fG4uYXR0cigidHlwZSIpfHxuLmF0dHIoInR5cGUiLCJ0ZXh0IikpfSksdC5hZGRBdHRyaWJ1dGVGaWx0ZXIoImRhdGEtbWNlLXR5cGUiLGZ1bmN0aW9uKGUpe3ooZSxmdW5jdGlvbihlKXsiZm9ybWF0LWNhcmV0Ij09PWUuYXR0cigiZGF0YS1tY2UtdHlwZSIpJiYoZS5pc0VtcHR5KHQuc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKSk/ZS5yZW1vdmUoKTplLnVud3JhcCgpKX0pfSksdC5hZGRBdHRyaWJ1dGVGaWx0ZXIoImRhdGEtbWNlLXNyYyxkYXRhLW1jZS1ocmVmLGRhdGEtbWNlLXN0eWxlLGRhdGEtbWNlLXNlbGVjdGVkLGRhdGEtbWNlLWV4cGFuZG8sZGF0YS1tY2UtdHlwZSxkYXRhLW1jZS1yZXNpemUsZGF0YS1tY2UtcGxhY2Vob2xkZXIiLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspZVtuXS5hdHRyKHQsbnVsbCl9KTtyZXR1cm57c2NoZW1hOnksYWRkTm9kZUZpbHRlcjpiLmFkZE5vZGVGaWx0ZXIsYWRkQXR0cmlidXRlRmlsdGVyOmIuYWRkQXR0cmlidXRlRmlsdGVyLHNlcmlhbGl6ZTpmdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgbixyLG8saSxhLHUscyxjLGwsZj14ZSh7Zm9ybWF0OiJodG1sIn0sdCksZD1xdihoLGUsZiksbT0obj12LHI9ZCxpPUN1KChvPWYpLmdldElubmVyP3IuaW5uZXJIVE1MOm4uZ2V0T3V0ZXJIVE1MKHIpKSxvLnNlbGVjdGlvbnx8bnIoQ3QuZnJvbURvbShyKSk/aTp5dC50cmltKGkpKSxwPShhPWIsdT1tLGM9KHM9Zikuc2VsZWN0aW9uP3hlKHtmb3JjZWRfcm9vdF9ibG9jazohMX0scyk6cyxmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmImJyIj09PWUubmFtZX0sbj1lLmxhc3RDaGlsZDtpZih0KG4pKXt2YXIgcj1uLnByZXY7dChyKSYmKG4ucmVtb3ZlKCksci5yZW1vdmUoKSl9fShsPWEucGFyc2UodSxjKSksbCk7cmV0dXJuInRyZWUiPT09Zi5mb3JtYXQ/cDpXdihoLGcseSxwLGYpfSxhZGRSdWxlczpmdW5jdGlvbihlKXt5LmFkZFZhbGlkRWxlbWVudHMoZSl9LHNldFJ1bGVzOmZ1bmN0aW9uKGUpe3kuc2V0VmFsaWRFbGVtZW50cyhlKX0sYWRkVGVtcEF0dHI6TigkdixiLGUpLGdldFRlbXBBdHRyczpmdW5jdGlvbigpe3JldHVybiBlfSxnZXROb2RlRmlsdGVyczpiLmdldE5vZGVGaWx0ZXJzLGdldEF0dHJpYnV0ZUZpbHRlcnM6Yi5nZXRBdHRyaWJ1dGVGaWx0ZXJzfX0sWHY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1LdihlLHQpO3JldHVybntzY2hlbWE6bi5zY2hlbWEsYWRkTm9kZUZpbHRlcjpuLmFkZE5vZGVGaWx0ZXIsYWRkQXR0cmlidXRlRmlsdGVyOm4uYWRkQXR0cmlidXRlRmlsdGVyLHNlcmlhbGl6ZTpuLnNlcmlhbGl6ZSxhZGRSdWxlczpuLmFkZFJ1bGVzLHNldFJ1bGVzOm4uc2V0UnVsZXMsYWRkVGVtcEF0dHI6bi5hZGRUZW1wQXR0cixnZXRUZW1wQXR0cnM6bi5nZXRUZW1wQXR0cnMsZ2V0Tm9kZUZpbHRlcnM6bi5nZXROb2RlRmlsdGVycyxnZXRBdHRyaWJ1dGVGaWx0ZXJzOm4uZ2V0QXR0cmlidXRlRmlsdGVyc319O2Z1bmN0aW9uIFl2KHUscyl7dmFyIHI9e30sbj1mdW5jdGlvbihlLHIsbyx0KXt2YXIgaT1uZXcgVi5YTUxIdHRwUmVxdWVzdDtpLm9wZW4oIlBPU1QiLHMudXJsKSxpLndpdGhDcmVkZW50aWFscz1zLmNyZWRlbnRpYWxzLGkudXBsb2FkLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7dChlLmxvYWRlZC9lLnRvdGFsKjEwMCl9LGkub25lcnJvcj1mdW5jdGlvbigpe28oIkltYWdlIHVwbG9hZCBmYWlsZWQgZHVlIHRvIGEgWEhSIFRyYW5zcG9ydCBlcnJvci4gQ29kZTogIitpLnN0YXR1cyl9LGkub25sb2FkPWZ1bmN0aW9uKCl7aWYoaS5zdGF0dXM8MjAwfHwzMDA8PWkuc3RhdHVzKW8oIkhUVFAgRXJyb3I6ICIraS5zdGF0dXMpO2Vsc2V7dmFyIGUsdCxuPUpTT04ucGFyc2UoaS5yZXNwb25zZVRleHQpO2lmKG4mJiJzdHJpbmciPT10eXBlb2Ygbi5sb2NhdGlvbilyKChlPXMuYmFzZVBhdGgsdD1uLmxvY2F0aW9uLGU/ZS5yZXBsYWNlKC9cLyQvLCIiKSsiLyIrdC5yZXBsYWNlKC9eXC8vLCIiKTp0KSk7ZWxzZSBvKCJJbnZhbGlkIEpTT046ICIraS5yZXNwb25zZVRleHQpfX07dmFyIG49bmV3IFYuRm9ybURhdGE7bi5hcHBlbmQoImZpbGUiLGUuYmxvYigpLGUuZmlsZW5hbWUoKSksaS5zZW5kKG4pfSxjPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3VybDp0LGJsb2JJbmZvOmUsc3RhdHVzOiEwfX0sbD1mdW5jdGlvbihlLHQpe3JldHVybnt1cmw6IiIsYmxvYkluZm86ZSxzdGF0dXM6ITEsZXJyb3I6dH19LGY9ZnVuY3Rpb24oZSx0KXt5dC5lYWNoKHJbZV0sZnVuY3Rpb24oZSl7ZSh0KX0pLGRlbGV0ZSByW2VdfSxvPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGU9eXQuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiF1LmlzVXBsb2FkZWQoZS5ibG9iVXJpKCkpfSksZWEuYWxsKHl0Lm1hcChlLGZ1bmN0aW9uKGUpe3JldHVybiB1LmlzUGVuZGluZyhlLmJsb2JVcmkoKSk/KHQ9ZS5ibG9iVXJpKCksbmV3IGVhKGZ1bmN0aW9uKGUpe3JbdF09clt0XXx8W10sclt0XS5wdXNoKGUpfSkpOihvPWUsaT1zLmhhbmRsZXIsYT1uLHUubWFya1BlbmRpbmcoby5ibG9iVXJpKCkpLG5ldyBlYShmdW5jdGlvbih0KXt2YXIgbjt0cnl7dmFyIHI9ZnVuY3Rpb24oKXtuJiZuLmNsb3NlKCl9O2kobyxmdW5jdGlvbihlKXtyKCksdS5tYXJrVXBsb2FkZWQoby5ibG9iVXJpKCksZSksZihvLmJsb2JVcmkoKSxjKG8sZSkpLHQoYyhvLGUpKX0sZnVuY3Rpb24oZSl7cigpLHUucmVtb3ZlRmFpbGVkKG8uYmxvYlVyaSgpKSxmKG8uYmxvYlVyaSgpLGwobyxlKSksdChsKG8sZSkpfSxmdW5jdGlvbihlKXtlPDB8fDEwMDxlfHwobj1ufHxhKCkpLnByb2dyZXNzQmFyLnZhbHVlKGUpfSl9Y2F0Y2goZSl7dChsKG8sZS5tZXNzYWdlKSl9fSkpO3ZhciBvLGksYSx0fSkpfTtyZXR1cm4hMT09PUEocy5oYW5kbGVyKSYmKHMuaGFuZGxlcj1uKSx7dXBsb2FkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMudXJsfHxzLmhhbmRsZXIhPT1uP28oZSx0KTpuZXcgZWEoZnVuY3Rpb24oZSl7ZShbXSl9KX19fXZhciBHdj0wLEp2PWZ1bmN0aW9uKGUpe3JldHVybiBlK0d2KysrKHQ9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCg0Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KX0sInMiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKDM2KSt0KCkrdCgpK3QoKSk7dmFyIHR9LFF2PWZ1bmN0aW9uKHUpe3ZhciBuLG8sZSx0LHIsaSxzPShuPVtdLG89ZnVuY3Rpb24oZSl7aWYoIWUuYmxvYnx8IWUuYmFzZTY0KXRocm93IG5ldyBFcnJvcigiYmxvYiBhbmQgYmFzZTY0IHJlcHJlc2VudGF0aW9ucyBvZiB0aGUgaW1hZ2UgYXJlIHJlcXVpcmVkIGZvciBCbG9iSW5mbyB0byBiZSBjcmVhdGVkIik7dmFyIHQ9ZS5pZHx8SnYoImJsb2JpZCIpLG49ZS5uYW1lfHx0O3JldHVybntpZDp4KHQpLG5hbWU6eChuKSxmaWxlbmFtZTp4KG4rIi4iKyh7ImltYWdlL2pwZWciOiJqcGciLCJpbWFnZS9qcGciOiJqcGciLCJpbWFnZS9naWYiOiJnaWYiLCJpbWFnZS9wbmciOiJwbmcifVtlLmJsb2IudHlwZS50b0xvd2VyQ2FzZSgpXXx8ImRhdCIpKSxibG9iOngoZS5ibG9iKSxiYXNlNjQ6eChlLmJhc2U2NCksYmxvYlVyaTp4KGUuYmxvYlVyaXx8Vi5VUkwuY3JlYXRlT2JqZWN0VVJMKGUuYmxvYikpLHVyaTp4KGUudXJpKX19LHtjcmVhdGU6ZnVuY3Rpb24oZSx0LG4scil7aWYocShlKSlyZXR1cm4gbyh7aWQ6ZSxuYW1lOnIsYmxvYjp0LGJhc2U2NDpufSk7aWYoRShlKSlyZXR1cm4gbyhlKTt0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gaW5wdXQgdHlwZSIpfSxhZGQ6ZnVuY3Rpb24oZSl7dChlLmlkKCkpfHxuLnB1c2goZSl9LGdldDp0PWZ1bmN0aW9uKHQpe3JldHVybiBlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkKCk9PT10fSl9LGdldEJ5VXJpOmZ1bmN0aW9uKHQpe3JldHVybiBlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJsb2JVcmkoKT09PXR9KX0sZ2V0QnlEYXRhOmZ1bmN0aW9uKHQsbil7cmV0dXJuIGUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmFzZTY0KCk9PT10JiZlLmJsb2IoKS50eXBlPT09bn0pfSxmaW5kRmlyc3Q6ZT1mdW5jdGlvbihlKXtyZXR1cm4gSyhuLGUpLmdldE9yVW5kZWZpbmVkKCl9LHJlbW92ZUJ5VXJpOmZ1bmN0aW9uKHQpe249SChuLGZ1bmN0aW9uKGUpe3JldHVybiBlLmJsb2JVcmkoKSE9PXR8fChWLlVSTC5yZXZva2VPYmplY3RVUkwoZS5ibG9iVXJpKCkpLCExKX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7eihuLGZ1bmN0aW9uKGUpe1YuVVJMLnJldm9rZU9iamVjdFVSTChlLmJsb2JVcmkoKSl9KSxuPVtdfX0pLGE9ZnVuY3Rpb24gdygpe3ZhciBuPXt9LHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm57c3RhdHVzOmUscmVzdWx0VXJpOnR9fSx0PWZ1bmN0aW9uKGUpe3JldHVybiBlIGluIG59O3JldHVybntoYXNCbG9iVXJpOnQsZ2V0UmVzdWx0VXJpOmZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07cmV0dXJuIHQ/dC5yZXN1bHRVcmk6bnVsbH0saXNQZW5kaW5nOmZ1bmN0aW9uKGUpe3JldHVybiEhdChlKSYmMT09PW5bZV0uc3RhdHVzfSxpc1VwbG9hZGVkOmZ1bmN0aW9uKGUpe3JldHVybiEhdChlKSYmMj09PW5bZV0uc3RhdHVzfSxtYXJrUGVuZGluZzpmdW5jdGlvbihlKXtuW2VdPXIoMSxudWxsKX0sbWFya1VwbG9hZGVkOmZ1bmN0aW9uKGUsdCl7bltlXT1yKDIsdCl9LHJlbW92ZUZhaWxlZDpmdW5jdGlvbihlKXtkZWxldGUgbltlXX0sZGVzdHJveTpmdW5jdGlvbigpe249e319fX0oKSxjPVtdLGw9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB1LnNlbGVjdGlvbj90KGUpOltdfX0sZj1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTA7LTEhPT0ocj1lLmluZGV4T2YodCxyKSkmJihlPWUuc3Vic3RyaW5nKDAscikrbitlLnN1YnN0cihyK3QubGVuZ3RoKSxyKz1uLmxlbmd0aC10Lmxlbmd0aCsxKSwtMSE9PXI7KTtyZXR1cm4gZX0sZD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9ZihlLCdzcmM9IicrdCsnIicsJ3NyYz0iJytuKyciJyksZT1mKGUsJ2RhdGEtbWNlLXNyYz0iJyt0KyciJywnZGF0YS1tY2Utc3JjPSInK24rJyInKX0sbT1mdW5jdGlvbih0LG4pe3oodS51bmRvTWFuYWdlci5kYXRhLGZ1bmN0aW9uKGUpeyJmcmFnbWVudGVkIj09PWUudHlwZT9lLmZyYWdtZW50cz1VKGUuZnJhZ21lbnRzLGZ1bmN0aW9uKGUpe3JldHVybiBkKGUsdCxuKX0pOmUuY29udGVudD1kKGUuY29udGVudCx0LG4pfSl9LHA9ZnVuY3Rpb24oKXtyZXR1cm4gdS5ub3RpZmljYXRpb25NYW5hZ2VyLm9wZW4oe3RleHQ6dS50cmFuc2xhdGUoIkltYWdlIHVwbG9hZGluZy4uLiIpLHR5cGU6ImluZm8iLHRpbWVvdXQ6LTEscHJvZ3Jlc3NCYXI6ITB9KX0sZz1mdW5jdGlvbihlLHQpe3ZhciBuLHI9dS5jb252ZXJ0VVJMKHQsInNyYyIpO20oZS5zcmMsdCksdS4kKGUpLmF0dHIoe3NyYzp1LmdldFBhcmFtKCJpbWFnZXNfcmV1c2VfZmlsZW5hbWUiLCExLCJib29sZWFuIik/KG49dCkrKC0xPT09bi5pbmRleE9mKCI/Iik/Ij8iOiImIikrKG5ldyBEYXRlKS5nZXRUaW1lKCk6dCwiZGF0YS1tY2Utc3JjIjpyfSl9LGg9ZnVuY3Rpb24obil7cmV0dXJuIHI9cnx8WXYoYSx7dXJsOnUuZ2V0UGFyYW0oImltYWdlc191cGxvYWRfdXJsIiwiIiwic3RyaW5nIiksYmFzZVBhdGg6dS5nZXRQYXJhbSgiaW1hZ2VzX3VwbG9hZF9iYXNlX3BhdGgiLCIiLCJzdHJpbmciKSxjcmVkZW50aWFsczp1LmdldFBhcmFtKCJpbWFnZXNfdXBsb2FkX2NyZWRlbnRpYWxzIiwhMSwiYm9vbGVhbiIpLGhhbmRsZXI6dS5nZXRQYXJhbSgiaW1hZ2VzX3VwbG9hZF9oYW5kbGVyIixudWxsLCJmdW5jdGlvbiIpfSksYigpLnRoZW4obChmdW5jdGlvbihhKXt2YXIgZT1VKGEsZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmxvYkluZm99KTtyZXR1cm4gci51cGxvYWQoZSxwKS50aGVuKGwoZnVuY3Rpb24oZSl7dmFyIHQ9VShlLGZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPWFbdF0uYmxvYkluZm8saT1hW3RdLmltYWdlO3JldHVybiBlLnN0YXR1cyYmdS5nZXRQYXJhbSgiaW1hZ2VzX3JlcGxhY2VfYmxvYl91cmlzIiwhMCwiYm9vbGVhbiIpPyhzLnJlbW92ZUJ5VXJpKGkuc3JjKSxnKGksZS51cmwpKTplLmVycm9yJiYobj11LHI9ZS5lcnJvcixTaChuLElhLnRyYW5zbGF0ZShbIkZhaWxlZCB0byB1cGxvYWQgaW1hZ2U6IHswfSIscl0pKSkse2VsZW1lbnQ6aSxzdGF0dXM6ZS5zdGF0dXMsdXBsb2FkVXJpOmUudXJsLGJsb2JJbmZvOm99fSk7cmV0dXJuIG4mJm4odCksdH0pKX0pKX0sdj1mdW5jdGlvbihlKXtpZihKcyh1KSlyZXR1cm4gaChlKX0seT1mdW5jdGlvbih0KXtyZXR1cm4hMSE9PUcoYyxmdW5jdGlvbihlKXtyZXR1cm4gZSh0KX0pJiYoMCE9PXQuZ2V0QXR0cmlidXRlKCJzcmMiKS5pbmRleE9mKCJkYXRhOiIpfHx1LmdldFBhcmFtKCJpbWFnZXNfZGF0YWltZ19maWx0ZXIiLHgoITApLCJmdW5jdGlvbiIpKHQpKX0sYj1mdW5jdGlvbigpe3JldHVybihpPWl8fEJ2KGEscykpLmZpbmRBbGwodS5nZXRCb2R5KCkseSkudGhlbihsKGZ1bmN0aW9uKGUpe3JldHVybiBlPUgoZSxmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGV8fChTaCh1LGUpLCExKX0pLHooZSxmdW5jdGlvbihlKXttKGUuaW1hZ2Uuc3JjLGUuYmxvYkluZm8uYmxvYlVyaSgpKSxlLmltYWdlLnNyYz1lLmJsb2JJbmZvLmJsb2JVcmkoKSxlLmltYWdlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc3JjIil9KSxlfSkpfSxDPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL3NyYz0iKGJsb2I6W14iXSspIi9nLGZ1bmN0aW9uKGUsbil7dmFyIHQ9YS5nZXRSZXN1bHRVcmkobik7aWYodClyZXR1cm4nc3JjPSInK3QrJyInO3ZhciByPXMuZ2V0QnlVcmkobik7cmV0dXJuKHI9cnx8Vyh1LmVkaXRvck1hbmFnZXIuZ2V0KCksZnVuY3Rpb24oZSx0KXtyZXR1cm4gZXx8dC5lZGl0b3JVcGxvYWQmJnQuZWRpdG9yVXBsb2FkLmJsb2JDYWNoZS5nZXRCeVVyaShuKX0sbnVsbCkpPydzcmM9ImRhdGE6JytyLmJsb2IoKS50eXBlKyI7YmFzZTY0LCIrci5iYXNlNjQoKSsnIic6ZX0pfTtyZXR1cm4gdS5vbigiU2V0Q29udGVudCIsZnVuY3Rpb24oKXsoSnModSk/djpiKSgpfSksdS5vbigiUmF3U2F2ZUNvbnRlbnQiLGZ1bmN0aW9uKGUpe2UuY29udGVudD1DKGUuY29udGVudCl9KSx1Lm9uKCJHZXRDb250ZW50IixmdW5jdGlvbihlKXtlLnNvdXJjZV92aWV3fHwicmF3Ij09PWUuZm9ybWF0fHwoZS5jb250ZW50PUMoZS5jb250ZW50KSl9KSx1Lm9uKCJQb3N0UmVuZGVyIixmdW5jdGlvbigpe3UucGFyc2VyLmFkZE5vZGVGaWx0ZXIoImltZyIsZnVuY3Rpb24oZSl7eihlLGZ1bmN0aW9uKGUpe3ZhciB0PWUuYXR0cigic3JjIik7aWYoIXMuZ2V0QnlVcmkodCkpe3ZhciBuPWEuZ2V0UmVzdWx0VXJpKHQpO24mJmUuYXR0cigic3JjIixuKX19KX0pfSkse2Jsb2JDYWNoZTpzLGFkZEZpbHRlcjpmdW5jdGlvbihlKXtjLnB1c2goZSl9LHVwbG9hZEltYWdlczpoLHVwbG9hZEltYWdlc0F1dG86dixzY2FuRm9ySW1hZ2VzOmIsZGVzdHJveTpmdW5jdGlvbigpe3MuZGVzdHJveSgpLGEuZGVzdHJveSgpLGk9cj1udWxsfX19LFp2PWZ1bmN0aW9uKHIsZSx0LG4pe3ZhciBvPW5lKHQuZ2V0KCkpLGk9e30sYT17fSx1PUgoamwoci5kb20sZSksZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlJiYhZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIil9KTtvZShuLGZ1bmN0aW9uKGUsbil7eXQuZWFjaCh1LGZ1bmN0aW9uKHQpe3JldHVybiByLmZvcm1hdHRlci5tYXRjaE5vZGUodCxuLHt9LGUuc2ltaWxhcik/KC0xPT09by5pbmRleE9mKG4pJiYoeihlLmNhbGxiYWNrcyxmdW5jdGlvbihlKXtlKCEwLHtub2RlOnQsZm9ybWF0Om4scGFyZW50czp1fSl9KSxpW25dPWUuY2FsbGJhY2tzKSxhW25dPWUuY2FsbGJhY2tzLCExKTohYXAocix0LG4pJiZ2b2lkIDB9KX0pO3ZhciBzPWV5KHQuZ2V0KCksYSxlLHUpO3Quc2V0KHhlKHhlKHt9LGkpLHMpKX0sZXk9ZnVuY3Rpb24oZSxuLHIsbyl7cmV0dXJuIGNlKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW1lKG4sdCl8fCh6KGUsZnVuY3Rpb24oZSl7ZSghMSx7bm9kZTpyLGZvcm1hdDp0LHBhcmVudHM6b30pfSksITEpfSkudH0sdHk9ZnVuY3Rpb24oZSxvLGksYSx0KXt2YXIgbixyLHUscyxjLGwsZixkO3JldHVybiBudWxsPT09by5nZXQoKSYmKHI9ZSx1PU9hKHt9KSwobj1vKS5zZXQoe30pLHIub24oIk5vZGVDaGFuZ2UiLGZ1bmN0aW9uKGUpe1p2KHIsZS5lbGVtZW50LHUsbi5nZXQoKSl9KSksYz1pLGw9YSxmPXQsZD0ocz1vKS5nZXQoKSx6KGMuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXtkW2VdfHwoZFtlXT17c2ltaWxhcjpmLGNhbGxiYWNrczpbXX0pLGRbZV0uY2FsbGJhY2tzLnB1c2gobCl9KSxzLnNldChkKSx7dW5iaW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHQ9aSxuPWEscj0oZT1vKS5nZXQoKSx6KHQuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXtyW2VdLmNhbGxiYWNrcz1IKHJbZV0uY2FsbGJhY2tzLGZ1bmN0aW9uKGUpe3JldHVybiBlIT09bn0pLDA9PT1yW2VdLmNhbGxiYWNrcy5sZW5ndGgmJmRlbGV0ZSByW2VdfSksdm9pZCBlLnNldChyKTt2YXIgZSx0LG4scn19fTtmdW5jdGlvbiBueShlKXt2YXIgcix0LG49e30sbz1mdW5jdGlvbihlLHQpe2UmJigic3RyaW5nIiE9dHlwZW9mIGU/eXQuZWFjaChlLGZ1bmN0aW9uKGUsdCl7byh0LGUpfSk6KGsodCl8fCh0PVt0XSkseXQuZWFjaCh0LGZ1bmN0aW9uKGUpeyJ1bmRlZmluZWQiPT10eXBlb2YgZS5kZWVwJiYoZS5kZWVwPSFlLnNlbGVjdG9yKSwidW5kZWZpbmVkIj09dHlwZW9mIGUuc3BsaXQmJihlLnNwbGl0PSFlLnNlbGVjdG9yfHxlLmlubGluZSksInVuZGVmaW5lZCI9PXR5cGVvZiBlLnJlbW92ZSYmZS5zZWxlY3RvciYmIWUuaW5saW5lJiYoZS5yZW1vdmU9Im5vbmUiKSxlLnNlbGVjdG9yJiZlLmlubGluZSYmKGUubWl4ZWQ9ITAsZS5ibG9ja19leHBhbmQ9ITApLCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc2VzJiYoZS5jbGFzc2VzPWUuY2xhc3Nlcy5zcGxpdCgvXHMrLykpfSksbltlXT10KSl9O3JldHVybiBvKChyPWUuZG9tLHQ9e3ZhbGlnbnRvcDpbe3NlbGVjdG9yOiJ0ZCx0aCIsc3R5bGVzOnt2ZXJ0aWNhbEFsaWduOiJ0b3AifX1dLHZhbGlnbm1pZGRsZTpbe3NlbGVjdG9yOiJ0ZCx0aCIsc3R5bGVzOnt2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifX1dLHZhbGlnbmJvdHRvbTpbe3NlbGVjdG9yOiJ0ZCx0aCIsc3R5bGVzOnt2ZXJ0aWNhbEFsaWduOiJib3R0b20ifX1dLGFsaWdubGVmdDpbe3NlbGVjdG9yOiJmaWd1cmUuaW1hZ2UiLGNvbGxhcHNlZDohMSxjbGFzc2VzOiJhbGlnbi1sZWZ0IixjZUZhbHNlT3ZlcnJpZGU6ITAscHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn0se3NlbGVjdG9yOiJmaWd1cmUscCxoMSxoMixoMyxoNCxoNSxoNix0ZCx0aCx0cixkaXYsdWwsb2wsbGkiLHN0eWxlczp7dGV4dEFsaWduOiJsZWZ0In0saW5oZXJpdDohMSxwcmV2aWV3OiExLGRlZmF1bHRCbG9jazoiZGl2In0se3NlbGVjdG9yOiJpbWcsdGFibGUiLGNvbGxhcHNlZDohMSxzdHlsZXM6eyJmbG9hdCI6ImxlZnQifSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifV0sYWxpZ25jZW50ZXI6W3tzZWxlY3RvcjoiZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpIixzdHlsZXM6e3RleHRBbGlnbjoiY2VudGVyIn0saW5oZXJpdDohMSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUiLGRlZmF1bHRCbG9jazoiZGl2In0se3NlbGVjdG9yOiJmaWd1cmUuaW1hZ2UiLGNvbGxhcHNlZDohMSxjbGFzc2VzOiJhbGlnbi1jZW50ZXIiLGNlRmFsc2VPdmVycmlkZTohMCxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifSx7c2VsZWN0b3I6ImltZyIsY29sbGFwc2VkOiExLHN0eWxlczp7ZGlzcGxheToiYmxvY2siLG1hcmdpbkxlZnQ6ImF1dG8iLG1hcmdpblJpZ2h0OiJhdXRvIn0scHJldmlldzohMX0se3NlbGVjdG9yOiJ0YWJsZSIsY29sbGFwc2VkOiExLHN0eWxlczp7bWFyZ2luTGVmdDoiYXV0byIsbWFyZ2luUmlnaHQ6ImF1dG8ifSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifV0sYWxpZ25yaWdodDpbe3NlbGVjdG9yOiJmaWd1cmUuaW1hZ2UiLGNvbGxhcHNlZDohMSxjbGFzc2VzOiJhbGlnbi1yaWdodCIsY2VGYWxzZU92ZXJyaWRlOiEwLHByZXZpZXc6ImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSJ9LHtzZWxlY3RvcjoiZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpIixzdHlsZXM6e3RleHRBbGlnbjoicmlnaHQifSxpbmhlcml0OiExLHByZXZpZXc6ImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSIsZGVmYXVsdEJsb2NrOiJkaXYifSx7c2VsZWN0b3I6ImltZyx0YWJsZSIsY29sbGFwc2VkOiExLHN0eWxlczp7ImZsb2F0IjoicmlnaHQifSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifV0sYWxpZ25qdXN0aWZ5Olt7c2VsZWN0b3I6ImZpZ3VyZSxwLGgxLGgyLGgzLGg0LGg1LGg2LHRkLHRoLHRyLGRpdix1bCxvbCxsaSIsc3R5bGVzOnt0ZXh0QWxpZ246Imp1c3RpZnkifSxpbmhlcml0OiExLGRlZmF1bHRCbG9jazoiZGl2IixwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifV0sYm9sZDpbe2lubGluZToic3Ryb25nIixyZW1vdmU6ImFsbCIscHJlc2VydmVfYXR0cmlidXRlczpbImNsYXNzIiwic3R5bGUiXX0se2lubGluZToic3BhbiIsc3R5bGVzOntmb250V2VpZ2h0OiJib2xkIn19LHtpbmxpbmU6ImIiLHJlbW92ZToiYWxsIixwcmVzZXJ2ZV9hdHRyaWJ1dGVzOlsiY2xhc3MiLCJzdHlsZSJdfV0saXRhbGljOlt7aW5saW5lOiJlbSIscmVtb3ZlOiJhbGwiLHByZXNlcnZlX2F0dHJpYnV0ZXM6WyJjbGFzcyIsInN0eWxlIl19LHtpbmxpbmU6InNwYW4iLHN0eWxlczp7Zm9udFN0eWxlOiJpdGFsaWMifX0se2lubGluZToiaSIscmVtb3ZlOiJhbGwiLHByZXNlcnZlX2F0dHJpYnV0ZXM6WyJjbGFzcyIsInN0eWxlIl19XSx1bmRlcmxpbmU6W3tpbmxpbmU6InNwYW4iLHN0eWxlczp7dGV4dERlY29yYXRpb246InVuZGVybGluZSJ9LGV4YWN0OiEwfSx7aW5saW5lOiJ1IixyZW1vdmU6ImFsbCIscHJlc2VydmVfYXR0cmlidXRlczpbImNsYXNzIiwic3R5bGUiXX1dLHN0cmlrZXRocm91Z2g6W3tpbmxpbmU6InNwYW4iLHN0eWxlczp7dGV4dERlY29yYXRpb246ImxpbmUtdGhyb3VnaCJ9LGV4YWN0OiEwfSx7aW5saW5lOiJzdHJpa2UiLHJlbW92ZToiYWxsIixwcmVzZXJ2ZV9hdHRyaWJ1dGVzOlsiY2xhc3MiLCJzdHlsZSJdfV0sZm9yZWNvbG9yOntpbmxpbmU6InNwYW4iLHN0eWxlczp7Y29sb3I6IiV2YWx1ZSJ9LGxpbmtzOiEwLHJlbW92ZV9zaW1pbGFyOiEwLGNsZWFyX2NoaWxkX3N0eWxlczohMH0saGlsaXRlY29sb3I6e2lubGluZToic3BhbiIsc3R5bGVzOntiYWNrZ3JvdW5kQ29sb3I6IiV2YWx1ZSJ9LGxpbmtzOiEwLHJlbW92ZV9zaW1pbGFyOiEwLGNsZWFyX2NoaWxkX3N0eWxlczohMH0sZm9udG5hbWU6e2lubGluZToic3BhbiIsdG9nZ2xlOiExLHN0eWxlczp7Zm9udEZhbWlseToiJXZhbHVlIn0sY2xlYXJfY2hpbGRfc3R5bGVzOiEwfSxmb250c2l6ZTp7aW5saW5lOiJzcGFuIix0b2dnbGU6ITEsc3R5bGVzOntmb250U2l6ZToiJXZhbHVlIn0sY2xlYXJfY2hpbGRfc3R5bGVzOiEwfSxmb250c2l6ZV9jbGFzczp7aW5saW5lOiJzcGFuIixhdHRyaWJ1dGVzOnsiY2xhc3MiOiIldmFsdWUifX0sYmxvY2txdW90ZTp7YmxvY2s6ImJsb2NrcXVvdGUiLHdyYXBwZXI6ITAscmVtb3ZlOiJhbGwifSxzdWJzY3JpcHQ6e2lubGluZToic3ViIn0sc3VwZXJzY3JpcHQ6e2lubGluZToic3VwIn0sY29kZTp7aW5saW5lOiJjb2RlIn0sbGluazp7aW5saW5lOiJhIixzZWxlY3RvcjoiYSIscmVtb3ZlOiJhbGwiLHNwbGl0OiEwLGRlZXA6ITAsb25tYXRjaDpmdW5jdGlvbigpe3JldHVybiEwfSxvbmZvcm1hdDpmdW5jdGlvbihuLGUsdCl7eXQuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7ci5zZXRBdHRyaWIobix0LGUpfSl9fSxyZW1vdmVmb3JtYXQ6W3tzZWxlY3RvcjoiYixzdHJvbmcsZW0saSxmb250LHUsc3RyaWtlLHN1YixzdXAsZGZuLGNvZGUsc2FtcCxrYmQsdmFyLGNpdGUsbWFyayxxLGRlbCxpbnMiLHJlbW92ZToiYWxsIixzcGxpdDohMCxleHBhbmQ6ITEsYmxvY2tfZXhwYW5kOiEwLGRlZXA6ITB9LHtzZWxlY3Rvcjoic3BhbiIsYXR0cmlidXRlczpbInN0eWxlIiwiY2xhc3MiXSxyZW1vdmU6ImVtcHR5IixzcGxpdDohMCxleHBhbmQ6ITEsZGVlcDohMH0se3NlbGVjdG9yOiIqIixhdHRyaWJ1dGVzOlsic3R5bGUiLCJjbGFzcyJdLHNwbGl0OiExLGV4cGFuZDohMSxkZWVwOiEwfV19LHl0LmVhY2goInAgaDEgaDIgaDMgaDQgaDUgaDYgZGl2IGFkZHJlc3MgcHJlIGRpdiBkdCBkZCBzYW1wIi5zcGxpdCgvXHMvKSxmdW5jdGlvbihlKXt0W2VdPXtibG9jazplLHJlbW92ZToiYWxsIn19KSx0KSksbyhlLmdldFBhcmFtKCJmb3JtYXRzIikpLHtnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/bltlXTpufSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIG1lKG4sZSl9LHJlZ2lzdGVyOm8sdW5yZWdpc3RlcjpmdW5jdGlvbihlKXtyZXR1cm4gZSYmbltlXSYmZGVsZXRlIG5bZV0sbn19fXZhciByeSxveSxpeT15dC5lYWNoLGF5PUVhLkRPTSx1eT1mdW5jdGlvbihlLHQpe3ZhciBuLG8scixtPXQmJnQuc2NoZW1hfHxScih7fSkscD1mdW5jdGlvbihlKXtvPSJzdHJpbmciPT10eXBlb2YgZT97bmFtZTplLGNsYXNzZXM6W10sYXR0cnM6e319OmU7dmFyIHQsbixyPWF5LmNyZWF0ZShvLm5hbWUpO3JldHVybiB0PXIsKG49bykuY2xhc3Nlcy5sZW5ndGgmJmF5LmFkZENsYXNzKHQsbi5jbGFzc2VzLmpvaW4oIiAiKSksYXkuc2V0QXR0cmlicyh0LG4uYXR0cnMpLHJ9LGc9ZnVuY3Rpb24obixlLHQpe3ZhciByLG8saSxhLHUscyxjLGw9MDxlLmxlbmd0aCYmZVswXSxmPWwmJmwubmFtZSxkPShhPWYsdT0ic3RyaW5nIiE9dHlwZW9mKGk9bik/aS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOmkscz1tLmdldEVsZW1lbnRSdWxlKHUpLCEoIShjPXMmJnMucGFyZW50c1JlcXVpcmVkKXx8IWMubGVuZ3RoKSYmKGEmJi0xIT09eXQuaW5BcnJheShjLGEpP2E6Y1swXSkpO2lmKGQpZj09PWQ/KG89ZVswXSxlPWUuc2xpY2UoMSkpOm89ZDtlbHNlIGlmKGwpbz1lWzBdLGU9ZS5zbGljZSgxKTtlbHNlIGlmKCF0KXJldHVybiBuO3JldHVybiBvJiYocj1wKG8pKS5hcHBlbmRDaGlsZChuKSx0JiYocnx8KHI9YXkuY3JlYXRlKCJkaXYiKSkuYXBwZW5kQ2hpbGQobikseXQuZWFjaCh0LGZ1bmN0aW9uKGUpe3ZhciB0PXAoZSk7ci5pbnNlcnRCZWZvcmUodCxuKX0pKSxnKHIsZSxvJiZvLnNpYmxpbmdzKX07cmV0dXJuIGUmJmUubGVuZ3RoPyhvPWVbMF0sbj1wKG8pLChyPWF5LmNyZWF0ZSgiZGl2IikpLmFwcGVuZENoaWxkKGcobixlLnNsaWNlKDEpLG8uc2libGluZ3MpKSxyKToiIn0sc3k9ZnVuY3Rpb24oZSl7dmFyIHQsYT17Y2xhc3NlczpbXSxhdHRyczp7fX07cmV0dXJuIioiIT09KGU9YS5zZWxlY3Rvcj15dC50cmltKGUpKSYmKHQ9ZS5yZXBsYWNlKC8oPzooWyNcLl18Ojo/KShbXHdcLV0rKXwoXFspKFteXF1dKylcXT8pL2csZnVuY3Rpb24oZSx0LG4scixvKXtzd2l0Y2godCl7Y2FzZSIjIjphLmF0dHJzLmlkPW47YnJlYWs7Y2FzZSIuIjphLmNsYXNzZXMucHVzaChuKTticmVhaztjYXNlIjoiOi0xIT09eXQuaW5BcnJheSgiY2hlY2tlZCBkaXNhYmxlZCBlbmFibGVkIHJlYWQtb25seSByZXF1aXJlZCIuc3BsaXQoIiAiKSxuKSYmKGEuYXR0cnNbbl09bil9aWYoIlsiPT09cil7dmFyIGk9by5tYXRjaCgvKFtcd1wtXSspKD86XD1cIihbXlwiXSspKT8vKTtpJiYoYS5hdHRyc1tpWzFdXT1pWzJdKX1yZXR1cm4iIn0pKSxhLm5hbWU9dHx8ImRpdiIsYX0sY3k9ZnVuY3Rpb24obixlKXt2YXIgdCxyLG8saSxhPSIiLHU9KGk9bi5nZXRQYXJhbSgicHJldmlld19zdHlsZXMiLCJmb250LWZhbWlseSBmb250LXNpemUgZm9udC13ZWlnaHQgZm9udC1zdHlsZSB0ZXh0LWRlY29yYXRpb24gdGV4dC10cmFuc2Zvcm0gY29sb3IgYmFja2dyb3VuZC1jb2xvciBib3JkZXIgYm9yZGVyLXJhZGl1cyBvdXRsaW5lIHRleHQtc2hhZG93IikscShpKT9pOiIiKTtpZigiIj09PXUpcmV0dXJuIiI7dmFyIHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvJShcdyspL2csIiIpfTtpZigic3RyaW5nIj09dHlwZW9mIGUpe2lmKCEoZT1uLmZvcm1hdHRlci5nZXQoZSkpKXJldHVybjtlPWVbMF19aWYoInByZXZpZXciaW4gZSl7dmFyIGM9ZGUoZSwicHJldmlldyIpO2lmKGMuaXMoITEpKXJldHVybiIiO3U9Yy5nZXRPcih1KX10PWUuYmxvY2t8fGUuaW5saW5lfHwic3BhbiI7dmFyIGwsZj0obD1lLnNlbGVjdG9yKSYmInN0cmluZyI9PXR5cGVvZiBsPyhsPShsPWwuc3BsaXQoL1xzKixccyovKVswXSkucmVwbGFjZSgvXHMqKH5cK3x+fFwrfD4pXHMqL2csIiQxIikseXQubWFwKGwuc3BsaXQoLyg/Oj58XHMrKD8hW15cW1xdXStcXSkpLyksZnVuY3Rpb24oZSl7dmFyIHQ9eXQubWFwKGUuc3BsaXQoLyg/On5cK3x+fFwrKS8pLHN5KSxuPXQucG9wKCk7cmV0dXJuIHQubGVuZ3RoJiYobi5zaWJsaW5ncz10KSxufSkucmV2ZXJzZSgpKTpbXTtyPWYubGVuZ3RoPyhmWzBdLm5hbWV8fChmWzBdLm5hbWU9dCksdD1lLnNlbGVjdG9yLHV5KGYsbikpOnV5KFt0XSxuKTt2YXIgZD1heS5zZWxlY3QodCxyKVswXXx8ci5maXJzdENoaWxkO3JldHVybiBpeShlLnN0eWxlcyxmdW5jdGlvbihlLHQpeyhlPXMoZSkpJiZheS5zZXRTdHlsZShkLHQsZSl9KSxpeShlLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSx0KXsoZT1zKGUpKSYmYXkuc2V0QXR0cmliKGQsdCxlKX0pLGl5KGUuY2xhc3NlcyxmdW5jdGlvbihlKXtlPXMoZSksYXkuaGFzQ2xhc3MoZCxlKXx8YXkuYWRkQ2xhc3MoZCxlKX0pLG4uZmlyZSgiUHJldmlld0Zvcm1hdHMiKSxheS5zZXRTdHlsZXMocix7cG9zaXRpb246ImFic29sdXRlIixsZWZ0Oi02NTUzNX0pLG4uZ2V0Qm9keSgpLmFwcGVuZENoaWxkKHIpLG89YXkuZ2V0U3R5bGUobi5nZXRCb2R5KCksImZvbnRTaXplIiwhMCksbz0vcHgkLy50ZXN0KG8pP3BhcnNlSW50KG8sMTApOjAsaXkodS5zcGxpdCgiICIpLGZ1bmN0aW9uKGUpe3ZhciB0PWF5LmdldFN0eWxlKGQsZSwhMCk7aWYoISgiYmFja2dyb3VuZC1jb2xvciI9PT1lJiYvdHJhbnNwYXJlbnR8cmdiYVxzKlwoW14pXSssXHMqMFwpLy50ZXN0KHQpJiYodD1heS5nZXRTdHlsZShuLmdldEJvZHkoKSxlLCEwKSwiI2ZmZmZmZiI9PT1heS50b0hleCh0KS50b0xvd2VyQ2FzZSgpKXx8ImNvbG9yIj09PWUmJiIjMDAwMDAwIj09PWF5LnRvSGV4KHQpLnRvTG93ZXJDYXNlKCkpKXtpZigiZm9udC1zaXplIj09PWUmJi9lbXwlJC8udGVzdCh0KSl7aWYoMD09PW8pcmV0dXJuO3Q9cGFyc2VGbG9hdCh0KS8oLyUkLy50ZXN0KHQpPzEwMDoxKSpvKyJweCJ9ImJvcmRlciI9PT1lJiZ0JiYoYSs9InBhZGRpbmc6MCAycHg7IiksYSs9ZSsiOiIrdCsiOyJ9fSksbi5maXJlKCJBZnRlclByZXZpZXdGb3JtYXRzIiksYXkucmVtb3ZlKHIpLGF9LGx5PWZ1bmN0aW9uKHMpe3ZhciBlPW55KHMpLHQ9T2EobnVsbCk7cmV0dXJuIGZ1bmN0aW9uKGUpe2UuYWRkU2hvcnRjdXQoIm1ldGErYiIsIiIsIkJvbGQiKSxlLmFkZFNob3J0Y3V0KCJtZXRhK2kiLCIiLCJJdGFsaWMiKSxlLmFkZFNob3J0Y3V0KCJtZXRhK3UiLCIiLCJVbmRlcmxpbmUiKTtmb3IodmFyIHQ9MTt0PD02O3QrKyllLmFkZFNob3J0Y3V0KCJhY2Nlc3MrIit0LCIiLFsiRm9ybWF0QmxvY2siLCExLCJoIit0XSk7ZS5hZGRTaG9ydGN1dCgiYWNjZXNzKzciLCIiLFsiRm9ybWF0QmxvY2siLCExLCJwIl0pLGUuYWRkU2hvcnRjdXQoImFjY2Vzcys4IiwiIixbIkZvcm1hdEJsb2NrIiwhMSwiZGl2Il0pLGUuYWRkU2hvcnRjdXQoImFjY2Vzcys5IiwiIixbIkZvcm1hdEJsb2NrIiwhMSwiYWRkcmVzcyJdKX0ocyksRXAocykse2dldDplLmdldCxoYXM6ZS5oYXMscmVnaXN0ZXI6ZS5yZWdpc3Rlcix1bnJlZ2lzdGVyOmUudW5yZWdpc3RlcixhcHBseTpmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpO3I9ZSxvPXQsaT1uLFVnKHMpLmZvcm1hdHRlci5hcHBseShyLG8saSl9LHJlbW92ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdTtvPWUsaT10LGE9bix1PXIsVWcocykuZm9ybWF0dGVyLnJlbW92ZShvLGksYSx1KX0sdG9nZ2xlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk7cj1lLG89dCxpPW4sVWcocykuZm9ybWF0dGVyLnRvZ2dsZShyLG8saSl9LG1hdGNoOk4oZnAscyksbWF0Y2hBbGw6TihkcCxzKSxtYXRjaE5vZGU6TihscCxzKSxjYW5BcHBseTpOKG1wLHMpLGZvcm1hdENoYW5nZWQ6Tih0eSxzLHQpLGdldENzc1RleHQ6TihjeSxzKX19LGZ5PWZ1bmN0aW9uKG4scixvKXt2YXIgaT1PYSghMSksYT1mdW5jdGlvbihlKXtBZyhyLCExLG8pLHIuYWRkKHt9LGUpfTtuLm9uKCJpbml0IixmdW5jdGlvbigpe3IuYWRkKCl9KSxuLm9uKCJCZWZvcmVFeGVjQ29tbWFuZCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21tYW5kLnRvTG93ZXJDYXNlKCk7InVuZG8iIT09dCYmInJlZG8iIT09dCYmIm1jZXJlcGFpbnQiIT09dCYmKERnKHIsbyksci5iZWZvcmVDaGFuZ2UoKSl9KSxuLm9uKCJFeGVjQ29tbWFuZCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21tYW5kLnRvTG93ZXJDYXNlKCk7InVuZG8iIT09dCYmInJlZG8iIT09dCYmIm1jZXJlcGFpbnQiIT09dCYmYShlKX0pLG4ub24oIk9iamVjdFJlc2l6ZVN0YXJ0IGN1dCIsZnVuY3Rpb24oKXtyLmJlZm9yZUNoYW5nZSgpfSksbi5vbigiU2F2ZUNvbnRlbnQgT2JqZWN0UmVzaXplZCBibHVyIixhKSxuLm9uKCJkcmFnZW5kIixhKSxuLm9uKCJrZXl1cCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXlDb2RlO2UuaXNEZWZhdWx0UHJldmVudGVkKCl8fCgoMzM8PXQmJnQ8PTM2fHwzNzw9dCYmdDw9NDB8fDQ1PT09dHx8ZS5jdHJsS2V5KSYmKGEoKSxuLm5vZGVDaGFuZ2VkKCkpLDQ2IT09dCYmOCE9PXR8fG4ubm9kZUNoYW5nZWQoKSxpLmdldCgpJiZyLnR5cGluZyYmITE9PT1UZyhOZyhuKSxyLmRhdGFbMF0pJiYoITE9PT1uLmlzRGlydHkoKSYmKG4uc2V0RGlydHkoITApLG4uZmlyZSgiY2hhbmdlIix7bGV2ZWw6ci5kYXRhWzBdLGxhc3RMZXZlbDpudWxsfSkpLG4uZmlyZSgiVHlwaW5nVW5kbyIpLGkuc2V0KCExKSxuLm5vZGVDaGFuZ2VkKCkpKX0pLG4ub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5Q29kZTtpZighZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlpZigzMzw9dCYmdDw9MzZ8fDM3PD10JiZ0PD00MHx8NDU9PT10KXIudHlwaW5nJiZhKGUpO2Vsc2V7dmFyIG49ZS5jdHJsS2V5JiYhZS5hbHRLZXl8fGUubWV0YUtleTshKHQ8MTZ8fDIwPHQpfHwyMjQ9PT10fHw5MT09PXR8fHIudHlwaW5nfHxufHwoci5iZWZvcmVDaGFuZ2UoKSxBZyhyLCEwLG8pLHIuYWRkKHt9LGUpLGkuc2V0KCEwKSl9fSksbi5vbigibW91c2Vkb3duIixmdW5jdGlvbihlKXtyLnR5cGluZyYmYShlKX0pO24ub24oImlucHV0IixmdW5jdGlvbihlKXt2YXIgdCxuO2UuaW5wdXRUeXBlJiYoImluc2VydFJlcGxhY2VtZW50VGV4dCI9PT1lLmlucHV0VHlwZXx8Imluc2VydFRleHQiPT09KG49ZSkuaW5wdXRUeXBlJiZudWxsPT09bi5kYXRhfHwoImluc2VydEZyb21QYXN0ZSI9PT0odD1lKS5pbnB1dFR5cGV8fCJpbnNlcnRGcm9tRHJvcCI9PT10LmlucHV0VHlwZSkpJiZhKGUpfSksbi5vbigiQWRkVW5kbyBVbmRvIFJlZG8gQ2xlYXJVbmRvcyIsZnVuY3Rpb24oZSl7ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8bi5ub2RlQ2hhbmdlZCgpfSl9LGR5PWZ1bmN0aW9uKHMpe3ZhciBlLGM9T2EoQi5ub25lKCkpLGw9T2EoMCksZj1PYSgwKSxkPXtkYXRhOltdLHR5cGluZzohMSxiZWZvcmVDaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgZSx0O2U9bCx0PWMsVWcocykudW5kb01hbmFnZXIuYmVmb3JlQ2hhbmdlKGUsdCl9LGFkZDpmdW5jdGlvbihlLHQpe3JldHVybiBuPWQscj1mLG89bCxpPWMsYT1lLHU9dCxVZyhzKS51bmRvTWFuYWdlci5hZGRVbmRvTGV2ZWwobixyLG8saSxhLHUpO3ZhciBuLHIsbyxpLGEsdX0sdW5kbzpmdW5jdGlvbigpe3JldHVybiBlPWQsdD1sLG49ZixVZyhzKS51bmRvTWFuYWdlci51bmRvKGUsdCxuKTt2YXIgZSx0LG59LHJlZG86ZnVuY3Rpb24oKXtyZXR1cm4gZT1zLHQ9ZixuPWQuZGF0YSxVZyhlKS51bmRvTWFuYWdlci5yZWRvKHQsbik7dmFyIGUsdCxufSxjbGVhcjpmdW5jdGlvbigpe3ZhciBlLHQ7ZT1kLHQ9ZixVZyhzKS51bmRvTWFuYWdlci5jbGVhcihlLHQpfSxyZXNldDpmdW5jdGlvbigpe3ZhciBlO2U9ZCxVZyhzKS51bmRvTWFuYWdlci5yZXNldChlKX0saGFzVW5kbzpmdW5jdGlvbigpe3JldHVybiBlPWQsdD1mLFVnKHMpLnVuZG9NYW5hZ2VyLmhhc1VuZG8oZSx0KTt2YXIgZSx0fSxoYXNSZWRvOmZ1bmN0aW9uKCl7cmV0dXJuIGU9ZCx0PWYsVWcocykudW5kb01hbmFnZXIuaGFzUmVkbyhlLHQpO3ZhciBlLHR9LHRyYW5zYWN0OmZ1bmN0aW9uKGUpe3JldHVybiB0PWQsbj1sLHI9ZSxVZyhzKS51bmRvTWFuYWdlci50cmFuc2FjdCh0LG4scik7dmFyIHQsbixyfSxpZ25vcmU6ZnVuY3Rpb24oZSl7dmFyIHQsbjt0PWwsbj1lLFVnKHMpLnVuZG9NYW5hZ2VyLmlnbm9yZSh0LG4pfSxleHRyYTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpO249ZCxyPWYsbz1lLGk9dCxVZyhzKS51bmRvTWFuYWdlci5leHRyYShuLHIsbyxpKX19O3JldHVybiBJZyhzKXx8ZnkocyxkLGwpLChlPXMpLmFkZFNob3J0Y3V0KCJtZXRhK3oiLCIiLCJVbmRvIiksZS5hZGRTaG9ydGN1dCgibWV0YSt5LG1ldGErc2hpZnQreiIsIiIsIlJlZG8iKSxkfSxteT1bOSwyNyx2di5IT01FLHZ2LkVORCwxOSwyMCw0NCwxNDQsMTQ1LDMzLDM0LDQ1LDE2LDE3LDE4LDkxLDkyLDkzLHZ2LkRPV04sdnYuVVAsdnYuTEVGVCx2di5SSUdIVF0uY29uY2F0KG10LmJyb3dzZXIuaXNGaXJlZm94KCk/WzIyNF06W10pLHB5PSJkYXRhLW1jZS1wbGFjZWhvbGRlciIsZ3k9ZnVuY3Rpb24oZSl7cmV0dXJuImtleWRvd24iPT09ZS50eXBlfHwia2V5dXAiPT09ZS50eXBlfSxoeT1mdW5jdGlvbihlKXt2YXIgdD1lLmtleUNvZGU7cmV0dXJuIHQ9PT12di5CQUNLU1BBQ0V8fHQ9PT12di5ERUxFVEV9LHZ5PWZ1bmN0aW9uKGEpe3ZhciBlLHU9YS5kb20scz1ZcyhhKSxjPShlPWEpLmdldFBhcmFtKCJwbGFjZWhvbGRlciIsV3MuZ2V0QXR0cmliKGUuZ2V0RWxlbWVudCgpLCJwbGFjZWhvbGRlciIpLCJzdHJpbmciKSxsPWZ1bmN0aW9uKGUsdCl7aWYoIWZ1bmN0aW9uKGUpe2lmKGd5KGUpKXt2YXIgdD1lLmtleUNvZGU7cmV0dXJuIWh5KGUpJiYodnYubWV0YUtleVByZXNzZWQoZSl8fGUuYWx0S2V5fHwxMTI8PXQmJnQ8PTEyM3x8TShteSx0KSl9cmV0dXJuITF9KGUpKXt2YXIgbixyLG89YS5nZXRCb2R5KCksaT0hKGd5KG49ZSkmJiEoaHkobil8fCJrZXl1cCI9PT1uLnR5cGUmJjIyOT09PW4ua2V5Q29kZSkpJiZmdW5jdGlvbihlLHQsbil7aWYoZGQoQ3QuZnJvbURvbSh0KSwhMSkpe3ZhciByPSIiPT09bixvPXQuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIW98fCFlLmdldFN0eWxlKHQuZmlyc3RFbGVtZW50Q2hpbGQsInBhZGRpbmctbGVmdCIpJiYhZS5nZXRTdHlsZSh0LmZpcnN0RWxlbWVudENoaWxkLCJwYWRkaW5nLXJpZ2h0IikmJihyPyFlLmlzQmxvY2sobyk6bj09PW8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl9cmV0dXJuITF9KHUsbyxzKTsiIiE9PXUuZ2V0QXR0cmliKG8scHkpPT09aSYmIXR8fCh1LnNldEF0dHJpYihvLHB5LGk/YzpudWxsKSx1LnNldEF0dHJpYihvLCJhcmlhLXBsYWNlaG9sZGVyIixpP2M6bnVsbCkscj1pLGEuZmlyZSgiUGxhY2Vob2xkZXJUb2dnbGUiLHtzdGF0ZTpyfSksYS5vbihpPyJrZXlkb3duIjoia2V5dXAiLGwpLGEub2ZmKGk/ImtleXVwIjoia2V5ZG93biIsbCkpfX07YyYmYS5vbigiaW5pdCIsZnVuY3Rpb24oZSl7bChlLCEwKSxhLm9uKCJjaGFuZ2UgU2V0Q29udGVudCBFeGVjQ29tbWFuZCIsbCksYS5vbigicGFzdGUiLGZ1bmN0aW9uKGUpe3JldHVybiBmYS5zZXRFZGl0b3JUaW1lb3V0KGEsZnVuY3Rpb24oKXtyZXR1cm4gbChlKX0pfSl9KX0seXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG91Y2hlcz09PXVuZGVmaW5lZHx8MSE9PWUudG91Y2hlcy5sZW5ndGg/Qi5ub25lKCk6Qi5zb21lKGUudG91Y2hlc1swXSl9LGJ5PWZ1bmN0aW9uKGEpe3ZhciB1PU9hKEIubm9uZSgpKSxzPU9hKCExKSxyPXphKGZ1bmN0aW9uKGUpe2EuZmlyZSgibG9uZ3ByZXNzIix4ZSh4ZSh7fSxlKSx7dHlwZToibG9uZ3ByZXNzIn0pKSxzLnNldCghMCl9LDQwMCk7YS5vbigidG91Y2hzdGFydCIsZnVuY3Rpb24obil7eXkobikuZWFjaChmdW5jdGlvbihlKXtyLmNhbmNlbCgpO3ZhciB0PXt4OngoZS5jbGllbnRYKSx5OngoZS5jbGllbnRZKSx0YXJnZXQ6eChuLnRhcmdldCl9O3IudGhyb3R0bGUobikscy5zZXQoITEpLHUuc2V0KEIuc29tZSh0KSl9KX0sITApLGEub24oInRvdWNobW92ZSIsZnVuY3Rpb24oZSl7ci5jYW5jZWwoKSx5eShlKS5lYWNoKGZ1bmN0aW9uKGkpe3UuZ2V0KCkuZWFjaChmdW5jdGlvbihlKXt2YXIgdCxuLHIsbzt0PWksbj1lLHI9TWF0aC5hYnModC5jbGllbnRYLW4ueCgpKSxvPU1hdGguYWJzKHQuY2xpZW50WS1uLnkoKSksKDU8cnx8NTxvKSYmKHUuc2V0KEIubm9uZSgpKSxzLnNldCghMSksYS5maXJlKCJsb25ncHJlc3NjYW5jZWwiKSl9KX0pfSwhMCksYS5vbigidG91Y2hlbmQgdG91Y2hjYW5jZWwiLGZ1bmN0aW9uKHQpe3IuY2FuY2VsKCksInRvdWNoY2FuY2VsIiE9PXQudHlwZSYmdS5nZXQoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGFyZ2V0KCkuaXNFcXVhbE5vZGUodC50YXJnZXQpfSkuZWFjaChmdW5jdGlvbigpe3MuZ2V0KCk/dC5wcmV2ZW50RGVmYXVsdCgpOmEuZmlyZSgidGFwIix4ZSh4ZSh7fSx0KSx7dHlwZToidGFwIn0pKX0pfSwhMCl9LEN5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaGFzT3duUHJvcGVydHkodC5ub2RlTmFtZSl9LHd5PWZ1bmN0aW9uKGUsdCl7aWYoRW4odCkpe2lmKDA9PT10Lm5vZGVWYWx1ZS5sZW5ndGgpcmV0dXJuITA7aWYoL15ccyskLy50ZXN0KHQubm9kZVZhbHVlKSYmKCF0Lm5leHRTaWJsaW5nfHxDeShlLHQubmV4dFNpYmxpbmcpKSlyZXR1cm4hMH1yZXR1cm4hMX0seHk9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89ZS5kb20saT1lLnNlbGVjdGlvbixhPWUuc2NoZW1hLHU9YS5nZXRCbG9ja0VsZW1lbnRzKCkscz1pLmdldFN0YXJ0KCksYz1lLmdldEJvZHkoKSxsPVlzKGUpO2lmKHMmJnZuKHMpJiZsKXt2YXIgZj1jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoYS5pc1ZhbGlkQ2hpbGQoZixsLnRvTG93ZXJDYXNlKCkpJiYoZD11LG09YyxwPXMsIUYodmQoQ3QuZnJvbURvbShwKSxDdC5mcm9tRG9tKG0pKSxmdW5jdGlvbihlKXtyZXR1cm4gQ3koZCxlLmRvbSgpKX0pKSl7dmFyIGQsbSxwLGcsaCx2PWkuZ2V0Um5nKCkseT12LnN0YXJ0Q29udGFpbmVyLGI9di5zdGFydE9mZnNldCxDPXYuZW5kQ29udGFpbmVyLHc9di5lbmRPZmZzZXQseD1ZbShlKTtmb3Iocz1jLmZpcnN0Q2hpbGQ7czspaWYoZz11LEVuKGg9cyl8fHZuKGgpJiYhQ3koZyxoKSYmIWtsKGgpKXtpZih3eSh1LHMpKXtzPShuPXMpLm5leHRTaWJsaW5nLG8ucmVtb3ZlKG4pO2NvbnRpbnVlfXR8fCh0PW8uY3JlYXRlKGwsR3MoZSkpLHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxzKSxyPSEwKSxzPShuPXMpLm5leHRTaWJsaW5nLHQuYXBwZW5kQ2hpbGQobil9ZWxzZSB0PW51bGwscz1zLm5leHRTaWJsaW5nO3ImJngmJih2LnNldFN0YXJ0KHksYiksdi5zZXRFbmQoQyx3KSxpLnNldFJuZyh2KSxlLm5vZGVDaGFuZ2VkKCkpfX19LFN5PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lPzE6LTE7cmV0dXJuIHQuc2V0Um5nKFNzKG4uY29udGFpbmVyKCksbi5vZmZzZXQoKStyKS50b1JhbmdlKCkpLHQuZ2V0U2VsKCkubW9kaWZ5KCJtb3ZlIixlPyJmb3J3YXJkIjoiYmFja3dhcmQiLCJ3b3JkIiksITB9LE55PWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5zZWxlY3Rpb24uZ2V0Um5nKCkscj1lP1NzLmZyb21SYW5nZUVuZChuKTpTcy5mcm9tUmFuZ2VTdGFydChuKTtyZXR1cm4hIUEodC5zZWxlY3Rpb24uZ2V0U2VsKCkubW9kaWZ5KSYmKGUmJl91KHIpP1N5KCEwLHQuc2VsZWN0aW9uLHIpOiEoZXx8IVR1KHIpKSYmU3koITEsdC5zZWxlY3Rpb24scikpfSxFeT1FbixreT1mdW5jdGlvbihlKXtyZXR1cm4gRXkoZSkmJmUuZGF0YVswXT09PXl1fSxfeT1mdW5jdGlvbihlKXtyZXR1cm4gRXkoZSkmJmUuZGF0YVtlLmRhdGEubGVuZ3RoLTFdPT09eXV9LFR5PWZ1bmN0aW9uKGUpe3JldHVybiBlLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoeXUpfSxSeT1mdW5jdGlvbihlLHQpe3JldHVybihlP2Z1bmN0aW9uKGUpe2lmKEV5KGUucHJldmlvdXNTaWJsaW5nKSlyZXR1cm4gX3koZS5wcmV2aW91c1NpYmxpbmcpfHxlLnByZXZpb3VzU2libGluZy5hcHBlbmREYXRhKHl1KSxlLnByZXZpb3VzU2libGluZztpZihFeShlKSlyZXR1cm4ga3koZSl8fGUuaW5zZXJ0RGF0YSgwLHl1KSxlO3ZhciB0PVR5KGUpO3JldHVybiBlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsZSksdH06ZnVuY3Rpb24oZSl7aWYoRXkoZS5uZXh0U2libGluZykpcmV0dXJuIGt5KGUubmV4dFNpYmxpbmcpfHxlLm5leHRTaWJsaW5nLmluc2VydERhdGEoMCx5dSksZS5uZXh0U2libGluZztpZihFeShlKSlyZXR1cm4gX3koZSl8fGUuYXBwZW5kRGF0YSh5dSksZTt2YXIgdD1UeShlKTtyZXR1cm4gZS5uZXh0U2libGluZz9lLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsZS5uZXh0U2libGluZyk6ZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHQpLHR9KSh0KX0sQXk9TihSeSwhMCksRHk9TihSeSwhMSksT3k9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRW4oZS5jb250YWluZXIoKSk/UnkodCxlLmNvbnRhaW5lcigpKTpSeSh0LGUuZ2V0Tm9kZSgpKX0sQnk9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmdldCgpO3JldHVybiBuJiZlLmNvbnRhaW5lcigpPT09biYmTnUobil9LFB5PWZ1bmN0aW9uKG4sZSl7cmV0dXJuIGUuZm9sZChmdW5jdGlvbihlKXtoYyhuLmdldCgpKTt2YXIgdD1BeShlKTtyZXR1cm4gbi5zZXQodCksQi5zb21lKFNzKHQsdC5sZW5ndGgtMSkpfSxmdW5jdGlvbihlKXtyZXR1cm4gZGwoZSkubWFwKGZ1bmN0aW9uKGUpe2lmKEJ5KGUsbikpcmV0dXJuIFNzKG4uZ2V0KCksMSk7aGMobi5nZXQoKSk7dmFyIHQ9T3koZSwhMCk7cmV0dXJuIG4uc2V0KHQpLFNzKHQsMSl9KX0sZnVuY3Rpb24oZSl7cmV0dXJuIG1sKGUpLm1hcChmdW5jdGlvbihlKXtpZihCeShlLG4pKXJldHVybiBTcyhuLmdldCgpLG4uZ2V0KCkubGVuZ3RoLTEpO2hjKG4uZ2V0KCkpO3ZhciB0PU95KGUsITEpO3JldHVybiBuLnNldCh0KSxTcyh0LHQubGVuZ3RoLTEpfSl9LGZ1bmN0aW9uKGUpe2hjKG4uZ2V0KCkpO3ZhciB0PUR5KGUpO3JldHVybiBuLnNldCh0KSxCLnNvbWUoU3ModCwxKSl9KX0sTHk9L1tcdTA1OTEtXHUwN0ZGXHVGQjFELVx1RkRGRlx1RkU3MC1cdUZFRkNdLyxJeT1mdW5jdGlvbihlLHQpe3JldHVybiBSdChDdC5mcm9tRG9tKHQpLGUuZ2V0UGFyYW0oImlubGluZV9ib3VuZGFyaWVzX3NlbGVjdG9yIiwiYVtocmVmXSxjb2RlLC5tY2UtYW5ub3RhdGlvbiIsInN0cmluZyIpKX0sTXk9ZnVuY3Rpb24oZSl7cmV0dXJuInJ0bCI9PT1FYS5ET00uZ2V0U3R5bGUoZSwiZGlyZWN0aW9uIiwhMCl8fCh0PWUudGV4dENvbnRlbnQsTHkudGVzdCh0KSk7dmFyIHR9LEZ5PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYT0ocj1lLG89dCxpPW4sSChFYS5ET00uZ2V0UGFyZW50cyhpLmNvbnRhaW5lcigpLCIqIixvKSxyKSk7cmV0dXJuIEIuZnJvbShhW2EubGVuZ3RoLTFdKX0sVXk9ZnVuY3Rpb24oZSx0KXtpZighdClyZXR1cm4gdDt2YXIgbj10LmNvbnRhaW5lcigpLHI9dC5vZmZzZXQoKTtyZXR1cm4gZT9OdShuKT9FbihuLm5leHRTaWJsaW5nKT9TcyhuLm5leHRTaWJsaW5nLDApOlNzLmFmdGVyKG4pOl91KHQpP1NzKG4scisxKTp0Ok51KG4pP0VuKG4ucHJldmlvdXNTaWJsaW5nKT9TcyhuLnByZXZpb3VzU2libGluZyxuLnByZXZpb3VzU2libGluZy5kYXRhLmxlbmd0aCk6U3MuYmVmb3JlKG4pOlR1KHQpP1NzKG4sci0xKTp0fSx6eT1OKFV5LCEwKSxqeT1OKFV5LCExKSxIeT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dLmFwcGx5KG51bGwsdCk7aWYoci5pc1NvbWUoKSlyZXR1cm4gcn1yZXR1cm4gQi5ub25lKCl9LFZ5PVFpKFt7YmVmb3JlOlsiZWxlbWVudCJdfSx7c3RhcnQ6WyJlbGVtZW50Il19LHtlbmQ6WyJlbGVtZW50Il19LHthZnRlcjpbImVsZW1lbnQiXX1dKSxxeT1mdW5jdGlvbihlLHQpe3ZhciBuPURjKHQsZSk7cmV0dXJuIG58fGV9LCR5PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj16eShuKSxvPXF5KHQsci5jb250YWluZXIoKSk7cmV0dXJuIEZ5KGUsbyxyKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGxsKG8scikuYmluZChOKEZ5LGUsbykpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gVnkuYmVmb3JlKGUpfSl9LEIubm9uZSl9LFd5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PT1obChlLHQpfSxLeT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEZ5KGUsdCxuKS5maWx0ZXIoTihXeSx0KSl9LFh5PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1qeShuKTtyZXR1cm4gS3koZSx0LHIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGZsKGUscikuaXNOb25lKCk/Qi5zb21lKFZ5LnN0YXJ0KGUpKTpCLm5vbmUoKX0pfSxZeT1mdW5jdGlvbihlLHQsbil7dmFyIHI9enkobik7cmV0dXJuIEt5KGUsdCxyKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBsbChlLHIpLmlzTm9uZSgpP0Iuc29tZShWeS5lbmQoZSkpOkIubm9uZSgpfSl9LEd5PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1qeShuKSxvPXF5KHQsci5jb250YWluZXIoKSk7cmV0dXJuIEZ5KGUsbyxyKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGZsKG8scikuYmluZChOKEZ5LGUsbykpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gVnkuYWZ0ZXIoZSl9KX0sQi5ub25lKX0sSnk9ZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1NeShaeShlKSl9LFF5PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gSHkoWyR5LFh5LFl5LEd5XSxbZSx0LG5dKS5maWx0ZXIoSnkpfSxaeT1mdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKG8sbyxvLG8pfSxlYj1mdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKHgoImJlZm9yZSIpLHgoInN0YXJ0IikseCgiZW5kIikseCgiYWZ0ZXIiKSl9LHRiPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZvbGQoVnkuYmVmb3JlLFZ5LmJlZm9yZSxWeS5hZnRlcixWeS5hZnRlcil9LG5iPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZvbGQoVnkuc3RhcnQsVnkuc3RhcnQsVnkuZW5kLFZ5LmVuZCl9LHJiPWZ1bmN0aW9uKGEsZSx1LHQsbixzKXtyZXR1cm4gQnUoRnkoZSx1LHQpLEZ5KGUsdSxuKSxmdW5jdGlvbihlLHQpe3JldHVybiBlIT09dCYmKHI9dCxvPURjKGUsbj11KSxpPURjKHIsbiksbyYmbz09PWkpP1Z5LmFmdGVyKGE/ZTp0KTpzO3ZhciBuLHIsbyxpfSkuZ2V0T3Iocyl9LG9iPWZ1bmN0aW9uKGUscil7cmV0dXJuIGUuZm9sZCh4KCEwKSxmdW5jdGlvbihlKXtyZXR1cm4gbj1yLCEoZWIodD1lKT09PWViKG4pJiZaeSh0KT09PVp5KG4pKTt2YXIgdCxufSl9LGliPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/dC5mb2xkKGEoQi5zb21lLFZ5LnN0YXJ0KSxCLm5vbmUsYShCLnNvbWUsVnkuYWZ0ZXIpLEIubm9uZSk6dC5mb2xkKEIubm9uZSxhKEIuc29tZSxWeS5iZWZvcmUpLEIubm9uZSxhKEIuc29tZSxWeS5lbmQpKX0sYWI9ZnVuY3Rpb24oZSxhLHUscyl7dmFyIHQ9VXkoZSxzKSxjPVF5KGEsdSx0KTtyZXR1cm4gUXkoYSx1LHQpLmJpbmQoTihpYixlKSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBuPWEscj11LG89YyxpPVV5KHQ9ZSxzKSxhbCh0LHIsaSkubWFwKE4oVXksdCkpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gby5tYXAodGIpfSxmdW5jdGlvbihlKXtyZXR1cm4gUXkobixyLGUpLm1hcChOKHJiLHQsbixyLGksZSkpLmZpbHRlcihOKG9iLG8pKX0pLmZpbHRlcihKeSk7dmFyIHQsbixyLG8saX0pfSx1Yj0oTihhYiwhMSksTihhYiwhMCksZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbS5jcmVhdGVSbmcoKTtuLnNldFN0YXJ0KHQuY29udGFpbmVyKCksdC5vZmZzZXQoKSksbi5zZXRFbmQodC5jb250YWluZXIoKSx0Lm9mZnNldCgpKSxlLnNlbGVjdGlvbi5zZXRSbmcobil9KSxzYj1mdW5jdGlvbihlLHQpe2U/dC5zZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiwiaW5saW5lLWJvdW5kYXJ5Iik6dC5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIil9LGNiPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gUHkoZSxuKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHViKHQsZSksbn0pfSxsYj1mdW5jdGlvbihlLHQpe2lmKGUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJiEwIT09ZS5jb21wb3NpbmcmJnQuZ2V0KCkpe3ZhciBuPVNzLmZyb21SYW5nZVN0YXJ0KGUuc2VsZWN0aW9uLmdldFJuZygpKTtTcy5pc1RleHRQb3NpdGlvbihuKSYmITE9PT0oX3Uocj1uKXx8VHUocikpJiYodWIoZSxnYyh0LmdldCgpLG4pKSx0LnNldChudWxsKSl9dmFyIHJ9LGZiPWZ1bmN0aW9uKGEsdSxzKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hIWljKGEpJiYobj11LGU9cyxyPSh0PWEpLmdldEJvZHkoKSxvPVNzLmZyb21SYW5nZVN0YXJ0KHQuc2VsZWN0aW9uLmdldFJuZygpKSxpPU4oSXksdCksYWIoZSxpLHIsbykuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gY2IodCxuLGUpfSkuaXNTb21lKCkpO3ZhciB0LG4sZSxyLG8saX19LGRiPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hIWljKHQpJiZOeShlLHQpfX0sbWI9ZnVuY3Rpb24odSl7dmFyIHM9T2EobnVsbCksYz1OKEl5LHUpO3JldHVybiB1Lm9uKCJOb2RlQ2hhbmdlIixmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGE7IWljKHUpfHxtdC5icm93c2VyLmlzSUUoKSYmZS5pbml0aWFsfHwodD1jLG49dS5kb20scj1lLnBhcmVudHMsbz1VKFlhKEN0LmZyb21Eb20obi5nZXRSb290KCkpLCcqW2RhdGEtbWNlLXNlbGVjdGVkPSJpbmxpbmUtYm91bmRhcnkiXScpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpfSksaT1IKG8sdCksYT1IKHIsdCkseihRKGksYSksTihzYiwhMSkpLHooUShhLGkpLE4oc2IsITApKSxsYih1LHMpLGZ1bmN0aW9uKG4scixvLGUpe2lmKHIuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkpe3ZhciB0PUgoZSxuKTt6KHQsZnVuY3Rpb24oZSl7dmFyIHQ9U3MuZnJvbVJhbmdlU3RhcnQoci5zZWxlY3Rpb24uZ2V0Um5nKCkpO1F5KG4sci5nZXRCb2R5KCksdCkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gY2IocixvLGUpfSl9KX19KGMsdSxzLGUucGFyZW50cykpfSksc30scGI9TihkYiwhMCksZ2I9TihkYiwhMSk7KG95PXJ5PXJ5fHx7fSlbb3kuQnI9MF09IkJyIixveVtveS5CbG9jaz0xXT0iQmxvY2siLG95W295LldyYXA9Ml09IldyYXAiLG95W295LkVvbD0zXT0iRW9sIjt2YXIgaGIsdmIseWI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXdzLkJhY2t3YXJkcz9KKHQpOnR9LGJiPWZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbyxpLGEsdSxzLGMsbD10bChuKSxmPXIsZD1bXTtmJiYocz1sLGM9ZixvPXQ9PT13cy5Gb3J3YXJkcz9zLm5leHQoYyk6cy5wcmV2KGMpKTspe2lmKFJuKG8uZ2V0Tm9kZSghMSkpKXJldHVybiB0PT09d3MuRm9yd2FyZHM/e3Bvc2l0aW9uczp5Yih0LGQpLmNvbmNhdChbb10pLGJyZWFrVHlwZTpyeS5CcixicmVha0F0OkIuc29tZShvKX06e3Bvc2l0aW9uczp5Yih0LGQpLGJyZWFrVHlwZTpyeS5CcixicmVha0F0OkIuc29tZShvKX07aWYoby5pc1Zpc2libGUoKSl7aWYoZShmLG8pKXt2YXIgbT0oaT10LGE9ZixSbigodT1vKS5nZXROb2RlKGk9PT13cy5Gb3J3YXJkcykpP3J5LkJyOiExPT09T2MoYSx1KT9yeS5CbG9jazpyeS5XcmFwKTtyZXR1cm57cG9zaXRpb25zOnliKHQsZCksYnJlYWtUeXBlOm0sYnJlYWtBdDpCLnNvbWUobyl9fWQucHVzaChvKSxmPW99ZWxzZSBmPW99cmV0dXJue3Bvc2l0aW9uczp5Yih0LGQpLGJyZWFrVHlwZTpyeS5Fb2wsYnJlYWtBdDpCLm5vbmUoKX19LENiPWZ1bmN0aW9uKG4scixvLGUpe3JldHVybiByKG8sZSkuYnJlYWtBdC5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9cihvLGUpLnBvc2l0aW9ucztyZXR1cm4gbj09PXdzLkJhY2t3YXJkcz90LmNvbmNhdChlKTpbZV0uY29uY2F0KHQpfSkuZ2V0T3IoW10pfSx3Yj1mdW5jdGlvbihlLGkpe3JldHVybiBXKGUsZnVuY3Rpb24oZSxvKXtyZXR1cm4gZS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIEIuc29tZShvKX0sZnVuY3Rpb24ocil7cmV0dXJuIEJ1KFooci5nZXRDbGllbnRSZWN0cygpKSxaKG8uZ2V0Q2xpZW50UmVjdHMoKSksZnVuY3Rpb24oZSx0KXt2YXIgbj1NYXRoLmFicyhpLWUubGVmdCk7cmV0dXJuIE1hdGguYWJzKGktdC5sZWZ0KTw9bj9vOnJ9KS5vcihlKX0pfSxCLm5vbmUoKSl9LHhiPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFooZS5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB3Yih0LGUubGVmdCl9KX0sU2I9TihiYixDcy5pc0Fib3ZlLC0xKSxOYj1OKGJiLENzLmlzQmVsb3csMSksRWI9TihDYiwtMSxTYiksa2I9TihDYiwxLE5iKSxfYj1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlKXtyZXR1cm4gVShlLGZ1bmN0aW9uKGUpe3JldHVybihlPUx1KGUpKS5ub2RlPXQsZX0pfTtpZih2bih0KSlyZXR1cm4gZSh0LmdldENsaWVudFJlY3RzKCkpO2lmKEVuKHQpKXt2YXIgbj10Lm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gbi5zZXRTdGFydCh0LDApLG4uc2V0RW5kKHQsdC5kYXRhLmxlbmd0aCksZShuLmdldENsaWVudFJlY3RzKCkpfX0sVGI9ZnVuY3Rpb24oZSl7cmV0dXJuIFkoZSxfYil9Oyh2Yj1oYj1oYnx8e30pW3ZiLlVwPS0xXT0iVXAiLHZiW3ZiLkRvd249MV09IkRvd24iO3ZhciBSYj1mdW5jdGlvbihvLGksYSxlLHUsdCl7dmFyIHM9MCxjPVtdLG49ZnVuY3Rpb24oZSl7dmFyIHQsbixyO2ZvcihyPVRiKFtlXSksLTE9PT1vJiYocj1yLnJldmVyc2UoKSksdD0wO3Q8ci5sZW5ndGg7dCsrKWlmKG49clt0XSwhYShuLGwpKXtpZigwPGMubGVuZ3RoJiZpKG4sd2UoYykpJiZzKyssbi5saW5lPXMsdShuKSlyZXR1cm4hMDtjLnB1c2gobil9fSxsPXdlKHQuZ2V0Q2xpZW50UmVjdHMoKSk7aWYoIWwpcmV0dXJuIGM7dmFyIHI9dC5nZXROb2RlKCk7cmV0dXJuIG4ociksZnVuY3Rpb24oZSx0LG4scil7Zm9yKDtyPUFjKHIsZSx0cyx0KTspaWYobihyKSlyZXR1cm59KG8sZSxuLHIpLGN9LEFiPU4oUmIsaGIuVXAsRnUsVXUpLERiPU4oUmIsaGIuRG93bixVdSxGdSksT2I9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0PW4sZS5saW5lPnQ7dmFyIHR9fSxCYj1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQ9bixlLmxpbmU9PT10O3ZhciB0fX0sUGI9RG4sTGI9QWMsSWI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5hYnMoZS5sZWZ0LXQpfSxNYj1mdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLmFicyhlLnJpZ2h0LXQpfSxGYj1mdW5jdGlvbihlLHQpe3JldHVybiBlPj10LmxlZnQmJmU8PXQucmlnaHR9LFViPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+PXQudG9wJiZlPD10LmJvdHRvbX0semI9ZnVuY3Rpb24oZSxvKXtyZXR1cm4gYmUoZSxmdW5jdGlvbihlLHQpe3ZhciBuPU1hdGgubWluKEliKGUsbyksTWIoZSxvKSkscj1NYXRoLm1pbihJYih0LG8pLE1iKHQsbykpO3JldHVybiBGYihvLHQpfHwhRmIobyxlKSYmKHI9PT1uJiZQYih0Lm5vZGUpfHxyPG4pP3Q6ZX0pfSxqYj1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPUxiKHIsZSx0cyx0LCFvKTtkb3tpZighaXx8bihpKSlyZXR1cm59d2hpbGUoaT1MYihpLGUsdHMsdCkpfSxIYj1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPVRiKEgodGUoZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKSx4YykpLGE9SChpLE4oVWIsbikpLHU9emIoYSx0KTtpZih1KXt2YXIgcz0heG4odS5ub2RlKTtpZigodT16YihmdW5jdGlvbihlLHIsdCl7dm9pZCAwPT09dCYmKHQ9ITApO3ZhciBvPVtdLG49ZnVuY3Rpb24odCxlKXt2YXIgbj1IKFRiKFtlXSksZnVuY3Rpb24oZSl7cmV0dXJuIXQoZSxyKX0pO3JldHVybiBvPW8uY29uY2F0KG4pLDA9PT1uLmxlbmd0aH07cmV0dXJuIG8ucHVzaChyKSxqYihoYi5VcCxlLE4obixGdSksci5ub2RlLHQpLGpiKGhiLkRvd24sZSxOKG4sVXUpLHIubm9kZSx0KSxvfShlLHUscyksdCkpJiZ4Yyh1Lm5vZGUpKXJldHVybiBvPXQse25vZGU6KHI9dSkubm9kZSxiZWZvcmU6SWIocixvKTxNYihyLG8pfX1yZXR1cm4gbnVsbH0sVmI9QW4scWI9RG4sJGI9ZnVuY3Rpb24oZSx0LG4scixvKXtyZXR1cm4gdC5fc2VsZWN0aW9uT3ZlcnJpZGVzLnNob3dDYXJldChlLG4scixvKX0sV2I9ZnVuY3Rpb24oZSx0KXt2YXIgbixyO3JldHVybiBlLmZpcmUoIkJlZm9yZU9iamVjdFNlbGVjdGVkIix7dGFyZ2V0OnR9KS5pc0RlZmF1bHRQcmV2ZW50ZWQoKT9udWxsOigocj0obj10KS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNlbGVjdE5vZGUobikscil9LEtiPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1GYygxLGUuZ2V0Qm9keSgpLHQpLG89U3MuZnJvbVJhbmdlU3RhcnQociksaT1vLmdldE5vZGUoKTtpZihxYihpKSlyZXR1cm4gJGIoMSxlLGksIW8uaXNBdEVuZCgpLCExKTt2YXIgYT1vLmdldE5vZGUoITApO2lmKHFiKGEpKXJldHVybiAkYigxLGUsYSwhMSwhMSk7dmFyIHU9ZS5kb20uZ2V0UGFyZW50KG8uZ2V0Tm9kZSgpLGZ1bmN0aW9uKGUpe3JldHVybiBxYihlKXx8VmIoZSl9KTtyZXR1cm4gcWIodSk/JGIoMSxlLHUsITEsbik6bnVsbH0sWGI9ZnVuY3Rpb24oZSx0LG4pe2lmKCF0fHwhdC5jb2xsYXBzZWQpcmV0dXJuIHQ7dmFyIHI9S2IoZSx0LG4pO3JldHVybiByfHx0fSxZYj1EbixHYj1qdSxKYj1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lPT09d3MuRm9yd2FyZHMsaT1vP2lkOmFkO2lmKCFyLmNvbGxhcHNlZCl7dmFyIGE9R2Iocik7aWYoWWIoYSkpcmV0dXJuICRiKGUsdCxhLGU9PT13cy5CYWNrd2FyZHMsITApfXZhciB1PVN1KHIuc3RhcnRDb250YWluZXIpLHM9emMoZSx0LmdldEJvZHkoKSxyKTtpZihpKHMpKXJldHVybiBXYih0LHMuZ2V0Tm9kZSghbykpO3ZhciBjPVV5KG8sbihzKSk7aWYoIWMpcmV0dXJuIHU/cjpudWxsO2lmKGkoYykpcmV0dXJuICRiKGUsdCxjLmdldE5vZGUoIW8pLG8sITApO3ZhciBsPW4oYyk7cmV0dXJuIGwmJmkobCkmJlZjKGMsbCk/JGIoZSx0LGwuZ2V0Tm9kZSghbyksbywhMCk6dT9YYih0LGMudG9SYW5nZSgpLCEwKTpudWxsfSxRYj1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdTt1PUdiKHIpO3ZhciBzPXpjKGUsdC5nZXRCb2R5KCksciksYz1uKHQuZ2V0Qm9keSgpLE9iKDEpLHMpLGw9SChjLEJiKDEpKSxmPXdlKHMuZ2V0Q2xpZW50UmVjdHMoKSk7aWYoKGlkKHMpfHxyZChzKSkmJih1PXMuZ2V0Tm9kZSgpKSwoYWQocyl8fG9kKHMpKSYmKHU9cy5nZXROb2RlKCEwKSksIWYpcmV0dXJuIG51bGw7dmFyIGQ9Zi5sZWZ0O2lmKChvPXpiKGwsZCkpJiZZYihvLm5vZGUpKXJldHVybiBpPU1hdGguYWJzKGQtby5sZWZ0KSxhPU1hdGguYWJzKGQtby5yaWdodCksJGIoZSx0LG8ubm9kZSxpPGEsITApO2lmKHUpe3ZhciBtPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYz10bCh0KSxsPVtdLGY9MCxkPWZ1bmN0aW9uKGUpe3JldHVybiB3ZShlLmdldENsaWVudFJlY3RzKCkpfSxtPWQodT0xPT09ZT8obz1jLm5leHQsaT1VdSxhPUZ1LFNzLmFmdGVyKHIpKToobz1jLnByZXYsaT1GdSxhPVV1LFNzLmJlZm9yZShyKSkpO2Rve2lmKHUuaXNWaXNpYmxlKCkmJiFhKHM9ZCh1KSxtKSl7aWYoMDxsLmxlbmd0aCYmaShzLHdlKGwpKSYmZisrLChzPUx1KHMpKS5wb3NpdGlvbj11LHMubGluZT1mLG4ocykpcmV0dXJuIGw7bC5wdXNoKHMpfX13aGlsZSh1PW8odSkpO3JldHVybiBsfShlLHQuZ2V0Qm9keSgpLE9iKDEpLHUpO2lmKG89emIoSChtLEJiKDEpKSxkKSlyZXR1cm4gWGIodCxvLnBvc2l0aW9uLnRvUmFuZ2UoKSwhMCk7aWYobz13ZShIKG0sQmIoMCkpKSlyZXR1cm4gWGIodCxvLnBvc2l0aW9uLnRvUmFuZ2UoKSwhMCl9fSxaYj1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdT10bChlLmdldEJvZHkoKSkscz1OKEhjLHUubmV4dCksYz1OKEhjLHUucHJldik7aWYobi5jb2xsYXBzZWQmJiIiIT09WXMoZSkpe2lmKCEocj1lLmRvbS5nZXRQYXJlbnQobi5zdGFydENvbnRhaW5lciwiUFJFIikpKXJldHVybjsoMT09PXQ/czpjKShTcy5mcm9tUmFuZ2VTdGFydChuKSl8fChhPShpPWUpLmRvbS5jcmVhdGUoWXMoaSkpLCghbXQuaWV8fDExPD1tdC5pZSkmJihhLmlubmVySFRNTD0nPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nKSxvPWEsMT09PXQ/ZS4kKHIpLmFmdGVyKG8pOmUuJChyKS5iZWZvcmUobyksZS5zZWxlY3Rpb24uc2VsZWN0KG8sITApLGUuc2VsZWN0aW9uLmNvbGxhcHNlKCkpfX0sZUM9ZnVuY3Rpb24obCxmKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZSx0LG4scixvLGksYSx1LHMsYz0odD1mLHI9dGwoKGU9bCkuZ2V0Qm9keSgpKSxvPU4oSGMsci5uZXh0KSxpPU4oSGMsci5wcmV2KSxhPXQ/d3MuRm9yd2FyZHM6d3MuQmFja3dhcmRzLHU9dD9vOmkscz1lLnNlbGVjdGlvbi5nZXRSbmcoKSwobj1KYihhLGUsdSxzKSk/bjoobj1aYihlLGEscykpfHxudWxsKTtyZXR1cm4hIWMmJihsLnNlbGVjdGlvbi5zZXRSbmcoYyksITApfX0sdEM9ZnVuY3Rpb24odSxzKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZSx0LG4scixvLGksYT0ocj0odD1zKT8xOi0xLG89dD9EYjpBYixpPShlPXUpLnNlbGVjdGlvbi5nZXRSbmcoKSwobj1RYihyLGUsbyxpKSk/bjoobj1aYihlLHIsaSkpfHxudWxsKTtyZXR1cm4hIWEmJih1LnNlbGVjdGlvbi5zZXRSbmcoYSksITApfX0sbkM9ZnVuY3Rpb24ocixvKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdCxlPW8/U3MuZnJvbVJhbmdlRW5kKHIuc2VsZWN0aW9uLmdldFJuZygpKTpTcy5mcm9tUmFuZ2VTdGFydChyLnNlbGVjdGlvbi5nZXRSbmcoKSksbj0obz9OYjpTYikoci5nZXRCb2R5KCksZSk7cmV0dXJuKG8/ZWU6Wikobi5wb3NpdGlvbnMpLmZpbHRlcigodD1vLGZ1bmN0aW9uKGUpe3JldHVybih0P2FkOmlkKShlKX0pKS5mb2xkKHgoITEpLGZ1bmN0aW9uKGUpe3JldHVybiByLnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpLCEwfSl9fSxyQz1mdW5jdGlvbihvLGUpe3JldHVybiBZKGUsZnVuY3Rpb24oZSl7dmFyIHQsbixyPSh0PUx1KGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLG49LTEse2xlZnQ6dC5sZWZ0LW4sdG9wOnQudG9wLW4scmlnaHQ6dC5yaWdodCsyKm4sYm90dG9tOnQuYm90dG9tKzIqbix3aWR0aDp0LndpZHRoK24saGVpZ2h0OnQuaGVpZ2h0K259KTtyZXR1cm5be3g6ci5sZWZ0LHk6byhyKSxjZWxsOmV9LHt4OnIucmlnaHQseTpvKHIpLGNlbGw6ZX1dfSl9LG9DPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYSx1PVlhKEN0LmZyb21Eb20obiksInRkLHRoLGNhcHRpb24iKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCl9KSxzPUgockMoZSx1KSxmdW5jdGlvbihlKXtyZXR1cm4gdChlLG8pfSk7cmV0dXJuIGk9cixhPW8sVyhzLGZ1bmN0aW9uKGUscil7cmV0dXJuIGUuZm9sZChmdW5jdGlvbigpe3JldHVybiBCLnNvbWUocil9LGZ1bmN0aW9uKGUpe3ZhciB0PU1hdGguc3FydChNYXRoLmFicyhlLngtaSkrTWF0aC5hYnMoZS55LWEpKSxuPU1hdGguc3FydChNYXRoLmFicyhyLngtaSkrTWF0aC5hYnMoci55LWEpKTtyZXR1cm4gQi5zb21lKG48dD9yOmUpfSl9LEIubm9uZSgpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2VsbH0pfSxpQz1OKG9DLGZ1bmN0aW9uKGUpe3JldHVybiBlLmJvdHRvbX0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS55PHR9KSxhQz1OKG9DLGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvcH0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS55PnR9KSx1Qz1mdW5jdGlvbih0LG4pe3JldHVybiBaKG4uZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gaUModCxlLmxlZnQsZS50b3ApfSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4geGIobWwodD1lKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFNiKHQsZSkucG9zaXRpb25zLmNvbmNhdChlKX0pLmdldE9yKFtdKSxuKTt2YXIgdH0pfSxzQz1mdW5jdGlvbih0LG4pe3JldHVybiBlZShuLmdldENsaWVudFJlY3RzKCkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGFDKHQsZS5sZWZ0LGUudG9wKX0pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHhiKGRsKHQ9ZSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybltlXS5jb25jYXQoTmIodCxlKS5wb3NpdGlvbnMpfSkuZ2V0T3IoW10pLG4pO3ZhciB0fSl9LGNDPWZ1bmN0aW9uKGUsdCl7ZS5zZWxlY3Rpb24uc2V0Um5nKHQpLFloKGUsdCl9LGxDPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1PWUodCxuKTtyZXR1cm4oYT11KS5icmVha1R5cGU9PT1yeS5XcmFwJiYwPT09YS5wb3NpdGlvbnMubGVuZ3RofHwhUm4obi5nZXROb2RlKCkpJiYoKGk9dSkuYnJlYWtUeXBlPT09cnkuQnImJjE9PT1pLnBvc2l0aW9ucy5sZW5ndGgpPyhyPWUsbz10LCF1LmJyZWFrQXQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiByKG8sZSkuYnJlYWtBdC5pc1NvbWUoKX0pLmdldE9yKCExKSk6dS5icmVha0F0LmlzTm9uZSgpfSxmQz1OKGxDLFNiKSxkQz1OKGxDLE5iKSxtQz1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzPWUuc2VsZWN0aW9uLmdldFJuZygpLGM9dD8xOi0xO2lmKHdjKCkmJihvPXQsaT1zLGE9bix1PVNzLmZyb21SYW5nZVN0YXJ0KGkpLGNsKCFvLGEpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0VxdWFsKHUpfSkuZ2V0T3IoITEpKSl7dmFyIGw9JGIoYyxlLG4sIXQsITApO3JldHVybiBjQyhlLGwpLCEwfXJldHVybiExfSxwQz1mdW5jdGlvbihlLHQpe3ZhciBuPXQuZ2V0Tm9kZShlKTtyZXR1cm4gdm4obikmJiJUQUJMRSI9PT1uLm5vZGVOYW1lP0Iuc29tZShuKTpCLm5vbmUoKX0sZ0M9ZnVuY3Rpb24odSxzLGMpe3ZhciBlPXBDKCEhcyxjKSx0PSExPT09cztlLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gY0ModSxjLnRvUmFuZ2UoKSl9LGZ1bmN0aW9uKGEpe3JldHVybiBjbCh0LHUuZ2V0Qm9keSgpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNFcXVhbChjKX0pLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gY0ModSxjLnRvUmFuZ2UoKSl9LGZ1bmN0aW9uKGUpe3JldHVybiBuPXMsbz1hLHQ9Yyx2b2lkKChpPVlzKHI9dSkpP3IudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXt2YXIgZT1DdC5mcm9tVGFnKGkpO0xuKGUsR3MocikpLFp0KGUsQ3QuZnJvbVRhZygiYnIiKSksKG4/SnQ6R3QpKEN0LmZyb21Eb20obyksZSk7dmFyIHQ9ci5kb20uY3JlYXRlUm5nKCk7dC5zZXRTdGFydChlLmRvbSgpLDApLHQuc2V0RW5kKGUuZG9tKCksMCksY0Mocix0KX0pOmNDKHIsdC50b1JhbmdlKCkpKTt2YXIgbixyLG8sdCxpfSl9KX0saEM9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscyxjLGw9ZS5zZWxlY3Rpb24uZ2V0Um5nKCksZj1Tcy5mcm9tUmFuZ2VTdGFydChsKSxkPWUuZ2V0Qm9keSgpO2lmKCF0JiZmQyhyLGYpKXt2YXIgbT0odT1kLHVDKHM9bixjPWYpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gWihjLmdldENsaWVudFJlY3RzKCkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHdiKEViKHUsU3MuYmVmb3JlKHMpKSxlLmxlZnQpfSl9KS5nZXRPcihTcy5iZWZvcmUocykpKTtyZXR1cm4gZ0MoZSx0LG0pLCEwfWlmKHQmJmRDKHIsZikpe209KG89ZCxzQyhpPW4sYT1mKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIFooYS5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB3YihrYihvLFNzLmFmdGVyKGkpKSxlLmxlZnQpfSl9KS5nZXRPcihTcy5hZnRlcihpKSkpO3JldHVybiBnQyhlLHQsbSksITB9cmV0dXJuITF9LHZDPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIEIuZnJvbSh0LmRvbS5nZXRQYXJlbnQodC5zZWxlY3Rpb24uZ2V0Tm9kZSgpLCJ0ZCx0aCIpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBCLmZyb20odC5kb20uZ2V0UGFyZW50KGUsInRhYmxlIikpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbUModCxuLGUpfSl9KS5nZXRPcighMSl9fSx5Qz1mdW5jdGlvbihuLHIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBCLmZyb20obi5kb20uZ2V0UGFyZW50KG4uc2VsZWN0aW9uLmdldE5vZGUoKSwidGQsdGgiKSkuYmluZChmdW5jdGlvbih0KXtyZXR1cm4gQi5mcm9tKG4uZG9tLmdldFBhcmVudCh0LCJ0YWJsZSIpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGhDKG4scixlLHQpfSl9KS5nZXRPcighMSl9fSxiQz1mdW5jdGlvbihlKXtyZXR1cm4gTShbImZpZ2NhcHRpb24iXSx3dChlKSl9LENDPWZ1bmN0aW9uKGUpe3ZhciB0PVYuZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gdC5zZXRTdGFydEJlZm9yZShlLmRvbSgpKSx0LnNldEVuZEJlZm9yZShlLmRvbSgpKSx0fSx3Qz1mdW5jdGlvbihlLHQsbil7KG4/WnQ6UXQpKGUsdCl9LHhDPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiIiPT09dD8obD1lLGY9cixkPUN0LmZyb21UYWcoImJyIiksd0MobCxkLGYpLENDKGQpKToobz1lLGk9cixhPXQsdT1uLHM9Q3QuZnJvbVRhZyhhKSxjPUN0LmZyb21UYWcoImJyIiksTG4ocyx1KSxadChzLGMpLHdDKG8scyxpKSxDQyhjKSk7dmFyIG8saSxhLHUscyxjLGwsZixkfSxTQz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ/KG89ZS5kb20oKSxOYihvLG4pLmJyZWFrQXQuaXNOb25lKCkpOihyPWUuZG9tKCksU2IocixuKS5icmVha0F0LmlzTm9uZSgpKTt2YXIgcixvfSxOQz1mdW5jdGlvbih0LG4pe3ZhciBlLHIsbz1DdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSxpPVNzLmZyb21SYW5nZVN0YXJ0KHQuc2VsZWN0aW9uLmdldFJuZygpKSxhPVlzKHQpLHU9R3ModCk7cmV0dXJuIGU9aSxyPU4oRHQsbyksWmEoQ3QuZnJvbURvbShlLmNvbnRhaW5lcigpKSxLbixyKS5maWx0ZXIoYkMpLmV4aXN0cyhmdW5jdGlvbigpe2lmKFNDKG8sbixpKSl7dmFyIGU9eEMobyxhLHUsbik7cmV0dXJuIHQuc2VsZWN0aW9uLnNldFJuZyhlKSwhMH1yZXR1cm4hMX0pfSxFQz1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiEhZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmTkMoZSx0KX19LGtDPWZ1bmN0aW9uKGUscil7cmV0dXJuIFkoVShlLGZ1bmN0aW9uKGUpe3JldHVybiB4ZSh7c2hpZnRLZXk6ITEsYWx0S2V5OiExLGN0cmxLZXk6ITEsbWV0YUtleTohMSxrZXlDb2RlOjAsYWN0aW9uOmZ9LGUpfSksZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ZSwobj1yKS5rZXlDb2RlPT09dC5rZXlDb2RlJiZuLnNoaWZ0S2V5PT09dC5zaGlmdEtleSYmbi5hbHRLZXk9PT10LmFsdEtleSYmbi5jdHJsS2V5PT09dC5jdHJsS2V5JiZuLm1ldGFLZXk9PT10Lm1ldGFLZXk/W2VdOltdO3ZhciB0LG59KX0sX0M9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkobnVsbCx0KX19LFRDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEsoa0MoZSx0KSxmdW5jdGlvbihlKXtyZXR1cm4gZS5hY3Rpb24oKX0pfSxSQz1mdW5jdGlvbihpLGEpe2kub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvOyExPT09ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHQ9aSxuPWEscj1lLG89b3QoKS5vcyxUQyhbe2tleUNvZGU6dnYuUklHSFQsYWN0aW9uOmVDKHQsITApfSx7a2V5Q29kZTp2di5MRUZULGFjdGlvbjplQyh0LCExKX0se2tleUNvZGU6dnYuVVAsYWN0aW9uOnRDKHQsITEpfSx7a2V5Q29kZTp2di5ET1dOLGFjdGlvbjp0Qyh0LCEwKX0se2tleUNvZGU6dnYuUklHSFQsYWN0aW9uOnZDKHQsITApfSx7a2V5Q29kZTp2di5MRUZULGFjdGlvbjp2Qyh0LCExKX0se2tleUNvZGU6dnYuVVAsYWN0aW9uOnlDKHQsITEpfSx7a2V5Q29kZTp2di5ET1dOLGFjdGlvbjp5Qyh0LCEwKX0se2tleUNvZGU6dnYuUklHSFQsYWN0aW9uOmZiKHQsbiwhMCl9LHtrZXlDb2RlOnZ2LkxFRlQsYWN0aW9uOmZiKHQsbiwhMSl9LHtrZXlDb2RlOnZ2LlJJR0hULGN0cmxLZXk6IW8uaXNPU1goKSxhbHRLZXk6by5pc09TWCgpLGFjdGlvbjpwYih0LG4pfSx7a2V5Q29kZTp2di5MRUZULGN0cmxLZXk6IW8uaXNPU1goKSxhbHRLZXk6by5pc09TWCgpLGFjdGlvbjpnYih0LG4pfSx7a2V5Q29kZTp2di5VUCxhY3Rpb246RUModCwhMSl9LHtrZXlDb2RlOnZ2LkRPV04sYWN0aW9uOkVDKHQsITApfV0scikuZWFjaChmdW5jdGlvbihlKXtyLnByZXZlbnREZWZhdWx0KCl9KSl9KX0sQUM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQnQoZSx0KT9aYSh0LGZ1bmN0aW9uKGUpe3JldHVybiBHbihlKXx8UW4oZSl9LChuPWUsZnVuY3Rpb24oZSl7cmV0dXJuIER0KG4sQ3QuZnJvbURvbShlLmRvbSgpLnBhcmVudE5vZGUpKX0pKTpCLm5vbmUoKTt2YXIgbn0sREM9ZnVuY3Rpb24oZSl7dmFyIHQsbixyO2UuZG9tLmlzRW1wdHkoZS5nZXRCb2R5KCkpJiYoZS5zZXRDb250ZW50KCIiKSxuPSh0PWUpLmdldEJvZHkoKSxyPW4uZmlyc3RDaGlsZCYmdC5kb20uaXNCbG9jayhuLmZpcnN0Q2hpbGQpP24uZmlyc3RDaGlsZDpuLHQuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKHIsMCkpfSxPQz1mdW5jdGlvbihlLHQpe3JldHVybntmcm9tOmUsdG86dH19LEJDPWZ1bmN0aW9uKGUsdCl7dmFyIG49Q3QuZnJvbURvbShlKSxyPUN0LmZyb21Eb20odC5jb250YWluZXIoKSk7cmV0dXJuIEFDKG4scikubWFwKGZ1bmN0aW9uKGUpe3JldHVybntibG9jazplLHBvc2l0aW9uOnR9fSl9LFBDPWZ1bmN0aW9uKG8saSxlKXt2YXIgdD1CQyhvLFNzLmZyb21SYW5nZVN0YXJ0KGUpKSxuPXQuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gYWwoaSxvLGUucG9zaXRpb24pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIEJDKG8sZSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0PW8sbj1pLFJuKChyPWUpLnBvc2l0aW9uLmdldE5vZGUoKSkmJiExPT09ZGQoci5ibG9jayk/Y2woITEsci5ibG9jay5kb20oKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0VxdWFsKHIucG9zaXRpb24pP2FsKG4sdCxlKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBCQyh0LGUpfSk6Qi5zb21lKHIpfSkuZ2V0T3Iocik6cjt2YXIgdCxuLHJ9KX0pfSk7cmV0dXJuIEJ1KHQsbixPQykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiExPT09RHQoKHI9ZSkuZnJvbS5ibG9jayxyLnRvLmJsb2NrKSYmTXQoKG49ZSkuZnJvbS5ibG9jaykuYmluZChmdW5jdGlvbih0KXtyZXR1cm4gTXQobi50by5ibG9jaykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBEdCh0LGUpfSl9KS5pc1NvbWUoKSYmKCExPT09RG4oKHQ9ZSkuZnJvbS5ibG9jay5kb20oKSkmJiExPT09RG4odC50by5ibG9jay5kb20oKSkpO3ZhciB0LG4scn0pfSxMQz1mdW5jdGlvbihlKXt2YXIgdCxuPSh0PUh0KGUpLFgodCxLbikuZm9sZChmdW5jdGlvbigpe3JldHVybiB0fSxmdW5jdGlvbihlKXtyZXR1cm4gdC5zbGljZSgwLGUpfSkpO3JldHVybiB6KG4sbm4pLG59LElDPWZ1bmN0aW9uKGUsdCl7dmFyIG49eWQodCxlKTtyZXR1cm4gSyhuLnJldmVyc2UoKSxmdW5jdGlvbihlKXtyZXR1cm4gZGQoZSl9KS5lYWNoKG5uKX0sTUM9ZnVuY3Rpb24oZSx0LG4scil7aWYoZGQobikpcmV0dXJuIHBkKG4pLGRsKG4uZG9tKCkpOzA9PT1IKHp0KHIpLGZ1bmN0aW9uKGUpe3JldHVybiFkZChlKX0pLmxlbmd0aCYmZGQodCkmJkd0KHIsQ3QuZnJvbVRhZygiYnIiKSk7dmFyIG89Zmwobi5kb20oKSxTcy5iZWZvcmUoci5kb20oKSkpO3JldHVybiB6KExDKHQpLGZ1bmN0aW9uKGUpe0d0KHIsZSl9KSxJQyhlLHQpLG99LEZDPWZ1bmN0aW9uKGUsdCxuKXtpZihkZChuKSlyZXR1cm4gbm4obiksZGQodCkmJnBkKHQpLGRsKHQuZG9tKCkpO3ZhciByPW1sKG4uZG9tKCkpO3JldHVybiB6KExDKHQpLGZ1bmN0aW9uKGUpe1p0KG4sZSl9KSxJQyhlLHQpLHJ9LFVDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEJ0KHQsZSk/KG49eWQoZSx0KSxCLmZyb20obltuLmxlbmd0aC0xXSkpOkIubm9uZSgpO3ZhciBufSx6Qz1mdW5jdGlvbihlLHQpe2NsKGUsdC5kb20oKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldE5vZGUoKX0pLm1hcChDdC5mcm9tRG9tKS5maWx0ZXIoWW4pLmVhY2gobm4pfSxqQz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHpDKCEwLHQpLHpDKCExLG4pLFVDKHQsbikuZm9sZChOKEZDLGUsdCxuKSxOKE1DLGUsdCxuKSl9LEhDPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0P2pDKGUscixuKTpqQyhlLG4scil9LFZDPWZ1bmN0aW9uKHQsbil7dmFyIGUscixvLGk9Q3QuZnJvbURvbSh0LmdldEJvZHkoKSksYT0oZT1pLmRvbSgpLHI9biwoKG89dC5zZWxlY3Rpb24uZ2V0Um5nKCkpLmNvbGxhcHNlZD9QQyhlLHIsbyk6Qi5ub25lKCkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIEhDKGksbixlLmZyb20uYmxvY2ssZS50by5ibG9jayl9KSk7cmV0dXJuIGEuZWFjaChmdW5jdGlvbihlKXt0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpfSksYS5pc1NvbWUoKX0scUM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1DdC5mcm9tRG9tKHQpLHI9TihEdCxlKTtyZXR1cm4gUWEobix0cixyKS5pc1NvbWUoKX0sJEM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89ZmwoZS5kb20oKSxTcy5mcm9tUmFuZ2VTdGFydCh0KSkuaXNOb25lKCksaT1sbChlLmRvbSgpLFNzLmZyb21SYW5nZUVuZCh0KSkuaXNOb25lKCk7cmV0dXJuIShxQyhuPWUsKHI9dCkuc3RhcnRDb250YWluZXIpfHxxQyhuLHIuZW5kQ29udGFpbmVyKSkmJm8mJml9LFdDPWZ1bmN0aW9uKGUpe3ZhciBuLHIsbyx0LGk9Q3QuZnJvbURvbShlLmdldEJvZHkoKSksYT1lLnNlbGVjdGlvbi5nZXRSbmcoKTtyZXR1cm4gJEMoaSxhKT8oKHQ9ZSkuc2V0Q29udGVudCgiIiksdC5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24oKSwhMCk6KG49aSxyPWUuc2VsZWN0aW9uLG89ci5nZXRSbmcoKSxCdShBQyhuLEN0LmZyb21Eb20oby5zdGFydENvbnRhaW5lcikpLEFDKG4sQ3QuZnJvbURvbShvLmVuZENvbnRhaW5lcikpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuITE9PT1EdChlLHQpJiYoby5kZWxldGVDb250ZW50cygpLEhDKG4sITAsZSx0KS5lYWNoKGZ1bmN0aW9uKGUpe3Iuc2V0Um5nKGUudG9SYW5nZSgpKX0pLCEwKX0pLmdldE9yKCExKSl9LEtDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJldDKGUpfSxYQz1mdW5jdGlvbihlKXtyZXR1cm4gamMoZSkuZXhpc3RzKFluKX0sWUM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPUgoeWQoQ3QuZnJvbURvbShuLmNvbnRhaW5lcigpKSx0KSxLbiksbz1aKHIpLmdldE9yKHQpO3JldHVybiBhbChlLG8uZG9tKCksbikuZmlsdGVyKFhDKX0sR0M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gamModCkuZXhpc3RzKFluKXx8WUMoITAsZSx0KS5pc1NvbWUoKX0sSkM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj10LEIuZnJvbShuLmdldE5vZGUoITApKS5tYXAoQ3QuZnJvbURvbSkuZXhpc3RzKFluKXx8WUMoITEsZSx0KS5pc1NvbWUoKTt2YXIgbn0sUUM9TihZQywhMSksWkM9TihZQywhMCksZXc9UWkoW3tyZW1vdmU6WyJlbGVtZW50Il19LHttb3ZlVG9FbGVtZW50OlsiZWxlbWVudCJdfSx7bW92ZVRvUG9zaXRpb246WyJwb3NpdGlvbiJdfV0pLHR3PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXIuZ2V0Tm9kZSghMT09PXQpO3JldHVybiBBQyhDdC5mcm9tRG9tKGUpLEN0LmZyb21Eb20obi5nZXROb2RlKCkpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGRkKGUpP2V3LnJlbW92ZShlLmRvbSgpKTpldy5tb3ZlVG9FbGVtZW50KG8pfSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBCLnNvbWUoZXcubW92ZVRvRWxlbWVudChvKSl9KX0sbnc9ZnVuY3Rpb24odSxzLGMpe3JldHVybiBhbChzLHUsYykuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gYT1lLmdldE5vZGUoKSx0cihDdC5mcm9tRG9tKGEpKXx8UW4oQ3QuZnJvbURvbShhKSk/Qi5ub25lKCk6KHQ9dSxvPWUsaT1mdW5jdGlvbihlKXtyZXR1cm4gWG4oQ3QuZnJvbURvbShlKSkmJiFPYyhyLG8sdCl9LFVjKCEobj1zKSxyPWMpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gVWMobixvKS5mb2xkKHgoITEpLGkpfSxpKT9CLm5vbmUoKTpzJiZEbihlLmdldE5vZGUoKSl8fCExPT09cyYmRG4oZS5nZXROb2RlKCEwKSk/dHcodSxzLGMsZSk6cyYmYWQoYyl8fCExPT09cyYmaWQoYyk/Qi5zb21lKGV3Lm1vdmVUb1Bvc2l0aW9uKGUpKTpCLm5vbmUoKSk7dmFyIHQsbixyLG8saSxhfSl9LHJ3PWZ1bmN0aW9uKHIsZSxvKXtyZXR1cm4gaT1lLGE9by5nZXROb2RlKCExPT09aSksdT1pPyJhZnRlciI6ImJlZm9yZSIsdm4oYSkmJmEuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpPT09dT8odD1lLG49by5nZXROb2RlKCExPT09ZSksKHQmJkRuKG4ubmV4dFNpYmxpbmcpP0Iuc29tZShldy5tb3ZlVG9FbGVtZW50KG4ubmV4dFNpYmxpbmcpKTohMT09PXQmJkRuKG4ucHJldmlvdXNTaWJsaW5nKT9CLnNvbWUoZXcubW92ZVRvRWxlbWVudChuLnByZXZpb3VzU2libGluZykpOkIubm9uZSgpKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIG53KHIsZSxvKX0sQi5zb21lKSk6bncocixlLG8pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9cixuPW8sZS5mb2xkKGZ1bmN0aW9uKGUpe3JldHVybiBCLnNvbWUoZXcucmVtb3ZlKGUpKX0sZnVuY3Rpb24oZSl7cmV0dXJuIEIuc29tZShldy5tb3ZlVG9FbGVtZW50KGUpKX0sZnVuY3Rpb24oZSl7cmV0dXJuIE9jKG4sZSx0KT9CLm5vbmUoKTpCLnNvbWUoZXcubW92ZVRvUG9zaXRpb24oZSkpfSk7dmFyIHQsbn0pO3ZhciB0LG4saSxhLHV9LG93PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEIuZnJvbSh1dyhlLmdldEJvZHkoKSx0KSl9LGl3PWZ1bmN0aW9uKGEsdSl7dmFyIGU9YS5zZWxlY3Rpb24uZ2V0Tm9kZSgpO3JldHVybiBvdyhhLGUpLmZpbHRlcihEbikuZm9sZChmdW5jdGlvbigpe3ZhciBlLHQsbixyLG8saTtyZXR1cm4oZT1hLmdldEJvZHkoKSx0PXUsbj1hLnNlbGVjdGlvbi5nZXRSbmcoKSxyPUZjKHQ/MTotMSxlLG4pLG89U3MuZnJvbVJhbmdlU3RhcnQociksaT1DdC5mcm9tRG9tKGUpLCghMT09PXQmJmFkKG8pP0Iuc29tZShldy5yZW1vdmUoby5nZXROb2RlKCEwKSkpOnQmJmlkKG8pP0Iuc29tZShldy5yZW1vdmUoby5nZXROb2RlKCkpKTohMT09PXQmJmlkKG8pJiZKQyhpLG8pP1FDKGksbykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBldy5yZW1vdmUoZS5nZXROb2RlKCkpfSk6dCYmYWQobykmJkdDKGksbyk/WkMoaSxvKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGV3LnJlbW92ZShlLmdldE5vZGUoKSl9KTpydyhlLHQsbykpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKGZ1bmN0aW9uKGUpe3JldHVybiBvLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpLERkKG8saSxDdC5mcm9tRG9tKGUpKSwhMH0sKHI9aT11LGZ1bmN0aW9uKGUpe3ZhciB0PXI/U3MuYmVmb3JlKGUpOlNzLmFmdGVyKGUpO3JldHVybiBuLnNlbGVjdGlvbi5zZXRSbmcodC50b1JhbmdlKCkpLCEwfSksKHQ9bj1vPWEsZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2VsZWN0aW9uLnNldFJuZyhlLnRvUmFuZ2UoKSksITB9KSk7dmFyIHQsbixyLG8saX0pKS5nZXRPcighMSl9LGZ1bmN0aW9uKCl7cmV0dXJuITB9KX0sYXc9ZnVuY3Rpb24odCxuKXt2YXIgZT10LnNlbGVjdGlvbi5nZXROb2RlKCk7cmV0dXJuISFEbihlKSYmb3codCxlLnBhcmVudE5vZGUpLmZpbHRlcihEbikuZm9sZChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBlPUN0LmZyb21Eb20odC5nZXRCb2R5KCkpLHooWWEoZSwiLm1jZS1vZmZzY3JlZW4tc2VsZWN0aW9uIiksbm4pLERkKHQsbixDdC5mcm9tRG9tKHQuc2VsZWN0aW9uLmdldE5vZGUoKSkpLERDKHQpLCEwfSxmdW5jdGlvbigpe3JldHVybiEwfSl9LHV3PWZ1bmN0aW9uKGUsdCl7Zm9yKDt0JiZ0IT09ZTspe2lmKEFuKHQpfHxEbih0KSlyZXR1cm4gdDt0PXQucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0sc3c9ZnVuY3Rpb24oZSl7dmFyIHQsbj11dyhlLmdldEJvZHkoKSxlLnNlbGVjdGlvbi5nZXROb2RlKCkpO3JldHVybiBBbihuKSYmZS5kb20uaXNCbG9jayhuKSYmZS5kb20uaXNFbXB0eShuKSYmKHQ9ZS5kb20uY3JlYXRlKCJiciIseyJkYXRhLW1jZS1ib2d1cyI6IjEifSksZS5kb20uc2V0SFRNTChuLCIiKSxuLmFwcGVuZENoaWxkKHQpLGUuc2VsZWN0aW9uLnNldFJuZyhTcy5iZWZvcmUodCkudG9SYW5nZSgpKSksITB9LGN3PWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCk/aXc6YXcpKGUsdCl9LGx3PWZ1bmN0aW9uKGUsdCxuLHIsbyxpKXt2YXIgYSx1LHM9JGIocixlLGkuZ2V0Tm9kZSghbyksbywhMCk7aWYodC5jb2xsYXBzZWQpe3ZhciBjPXQuY2xvbmVSYW5nZSgpO28/Yy5zZXRFbmQocy5zdGFydENvbnRhaW5lcixzLnN0YXJ0T2Zmc2V0KTpjLnNldFN0YXJ0KHMuZW5kQ29udGFpbmVyLHMuZW5kT2Zmc2V0KSxjLmRlbGV0ZUNvbnRlbnRzKCl9ZWxzZSB0LmRlbGV0ZUNvbnRlbnRzKCk7cmV0dXJuIGUuc2VsZWN0aW9uLnNldFJuZyhzKSxhPWUuZG9tLEVuKHU9bikmJjA9PT11LmRhdGEubGVuZ3RoJiZhLnJlbW92ZSh1KSwhMH0sZnc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnNlbGVjdGlvbi5nZXRSbmcoKTtpZighRW4obi5jb21tb25BbmNlc3RvckNvbnRhaW5lcikpcmV0dXJuITE7dmFyIHI9dD93cy5Gb3J3YXJkczp3cy5CYWNrd2FyZHMsbz10bChlLmdldEJvZHkoKSksaT1OKEhjLG8ubmV4dCksYT1OKEhjLG8ucHJldiksdT10P2k6YSxzPXQ/aWQ6YWQsYz16YyhyLGUuZ2V0Qm9keSgpLG4pLGw9VXkodCx1KGMpKTtpZighbHx8IVZjKGMsbCkpcmV0dXJuITE7aWYocyhsKSlyZXR1cm4gbHcoZSxuLGMuZ2V0Tm9kZSgpLHIsdCxsKTt2YXIgZj11KGwpO3JldHVybiEhKGYmJnMoZikmJlZjKGwsZikpJiZsdyhlLG4sYy5nZXROb2RlKCkscix0LGYpfShlLHQpfSxkdz1mdW5jdGlvbih0LG4pe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gUHkobixlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHViKHQsZSksITB9KS5nZXRPcighMSl9fSxtdz1mdW5jdGlvbihyLG8saSxhKXt2YXIgdT1yLmdldEJvZHkoKSxzPU4oSXkscik7ci51bmRvTWFuYWdlci5pZ25vcmUoZnVuY3Rpb24oKXt2YXIgZSx0LG47ci5zZWxlY3Rpb24uc2V0Um5nKChlPWksdD1hLChuPVYuZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSkuc2V0U3RhcnQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSxuLnNldEVuZCh0LmNvbnRhaW5lcigpLHQub2Zmc2V0KCkpLG4pKSxyLmV4ZWNDb21tYW5kKCJEZWxldGUiKSxReShzLHUsU3MuZnJvbVJhbmdlU3RhcnQoci5zZWxlY3Rpb24uZ2V0Um5nKCkpKS5tYXAobmIpLm1hcChkdyhyLG8pKX0pLHIubm9kZUNoYW5nZWQoKX0scHc9ZnVuY3Rpb24obixyLGksbyl7dmFyIGUsdCxhPShlPW4uZ2V0Qm9keSgpLHQ9by5jb250YWluZXIoKSxEYyh0LGUpfHxlKSx1PU4oSXksbikscz1ReSh1LGEsbyk7cmV0dXJuIHMuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gaT9lLmZvbGQoeChCLnNvbWUobmIoZSkpKSxCLm5vbmUseChCLnNvbWUodGIoZSkpKSxCLm5vbmUpOmUuZm9sZChCLm5vbmUseChCLnNvbWUodGIoZSkpKSxCLm5vbmUseChCLnNvbWUobmIoZSkpKSl9KS5tYXAoZHcobixyKSkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe3ZhciB0PXVsKGksYSxvKSxlPXQuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gUXkodSxhLGUpfSk7cmV0dXJuIHMuaXNTb21lKCkmJmUuaXNTb21lKCk/RnkodSxhLG8pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hIUJ1KGRsKG89ZSksbWwobyksZnVuY3Rpb24oZSx0KXt2YXIgbj1VeSghMCxlKSxyPVV5KCExLHQpO3JldHVybiBsbChvLG4pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0VxdWFsKHIpfSkuZ2V0T3IoITApfSkuZ2V0T3IoITApJiYoRGQobixpLEN0LmZyb21Eb20oZSkpLCEwKTt2YXIgb30pLmdldE9yKCExKTplLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBpP213KG4scixvLGUpOm13KG4scixlLG8pLCEwfSl9KS5nZXRPcighMSl9KX0sZ3c9ZnVuY3Rpb24oZSx0LG4pe2lmKGUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJmljKGUpKXt2YXIgcj1Tcy5mcm9tUmFuZ2VTdGFydChlLnNlbGVjdGlvbi5nZXRSbmcoKSk7cmV0dXJuIHB3KGUsdCxuLHIpfXJldHVybiExfSxodz1mdW5jdGlvbihlKXtyZXR1cm4gMT09PUh0KGUpLmxlbmd0aH0sdnc9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscz1OKGtwLHQpLGM9VShIKHIscyksZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCl9KTtpZigwPT09Yy5sZW5ndGgpRGQodCxlLG4pO2Vsc2V7dmFyIGw9KG89bi5kb20oKSxpPWMsYT1icCghMSksdT1TcChpLGEuZG9tKCkpLEd0KEN0LmZyb21Eb20obyksYSksbm4oQ3QuZnJvbURvbShvKSksU3ModSwwKSk7dC5zZWxlY3Rpb24uc2V0Um5nKGwudG9SYW5nZSgpKX19LHl3PWZ1bmN0aW9uKHIsbyl7dmFyIHQsZT1DdC5mcm9tRG9tKHIuZ2V0Qm9keSgpKSxuPUN0LmZyb21Eb20oci5zZWxlY3Rpb24uZ2V0U3RhcnQoKSkscz1IKCh0PXlkKG4sZSksWCh0LEtuKS5mb2xkKHgodCksZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2xpY2UoMCxlKX0pKSxodyk7cmV0dXJuIGVlKHMpLm1hcChmdW5jdGlvbihlKXt2YXIgdCxpLGEsdSxuPVNzLmZyb21SYW5nZVN0YXJ0KHIuc2VsZWN0aW9uLmdldFJuZygpKTtyZXR1cm4gaT1vLGE9bix1PWUuZG9tKCksISghQnUoZGwodSksbWwodSksZnVuY3Rpb24oZSx0KXt2YXIgbj1VeSghMCxlKSxyPVV5KCExLHQpLG89VXkoITEsYSk7cmV0dXJuIGk/bGwodSxvKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNFcXVhbChyKSYmYS5pc0VxdWFsKG4pfSkuZ2V0T3IoITEpOmZsKHUsbykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXF1YWwobikmJmEuaXNFcXVhbChyKX0pLmdldE9yKCExKX0pLmdldE9yKCEwKXx8Z2woKHQ9ZSkuZG9tKCkpJiZ2cCh0LmRvbSgpKSkmJih2dyhvLHIsZSxzKSwhMCl9KS5nZXRPcighMSl9LGJ3PWZ1bmN0aW9uKGUsdCl7cmV0dXJuISFlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiZ5dyhlLHQpfSxDdz1mdW5jdGlvbihlLHQpe3JldHVybiEhZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmKG49ZSxyPXQsbz1Tcy5mcm9tUmFuZ2VTdGFydChuLnNlbGVjdGlvbi5nZXRSbmcoKSksYWwocixuLmdldEJvZHkoKSxvKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuKHI/dGQ6bmQpKGUpfSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gQi5mcm9tKEJjKHI/MDotMSxlKSl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG4uc2VsZWN0aW9uLnNlbGVjdChlKSwhMH0pLmdldE9yKCExKSk7dmFyIG4scixvfSx3dz1mdW5jdGlvbihlKXt2YXIgdD1wYXJzZUludChlLDEwKTtyZXR1cm4gaXNOYU4odCk/MDp0fSx4dz1mdW5jdGlvbihlLHQpe3JldHVybihlfHwidGFibGUiPT09d3QodCk/Im1hcmdpbiI6InBhZGRpbmciKSsoInJ0bCI9PT1Gbih0LCJkaXJlY3Rpb24iKT8iLXJpZ2h0IjoiLWxlZnQiKX0sU3c9ZnVuY3Rpb24oZSl7dmFyIHIsdD1FdyhlKTtyZXR1cm4hZS5tb2RlLmlzUmVhZE9ubHkoKSYmKDE8dC5sZW5ndGh8fChyPWUsRyh0LGZ1bmN0aW9uKGUpe3ZhciB0PXh3KHRjKHIpLGUpLG49em4oZSx0KS5tYXAod3cpLmdldE9yKDApO3JldHVybiJmYWxzZSIhPT1yLmRvbS5nZXRDb250ZW50RWRpdGFibGUoZS5kb20oKSkmJjA8bn0pKSl9LE53PWZ1bmN0aW9uKGUpe3JldHVybiBKbihlKXx8UW4oZSl9LEV3PWZ1bmN0aW9uKGUpe3JldHVybiBIKFUoZS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSxDdC5mcm9tRG9tKSxmdW5jdGlvbihlKXtyZXR1cm4hTncoZSkmJiFNdChlKS5tYXAoTncpLmdldE9yKCExKSYmWmEoZSxmdW5jdGlvbihlKXtyZXR1cm4gQW4oZS5kb20oKSl8fERuKGUuZG9tKCkpfSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiBBbihlLmRvbSgpKX0pfSl9LGt3PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb20scj1lLnNlbGVjdGlvbixvPWUuZm9ybWF0dGVyLGk9ZS5nZXRQYXJhbSgiaW5kZW50YXRpb24iLCI0MHB4Iiwic3RyaW5nIiksYT0vW2EteiVdKyQvaS5leGVjKGkpWzBdLHU9cGFyc2VJbnQoaSwxMCkscz10YyhlKSxjPVlzKGUpO2UucXVlcnlDb21tYW5kU3RhdGUoIkluc2VydFVub3JkZXJlZExpc3QiKXx8ZS5xdWVyeUNvbW1hbmRTdGF0ZSgiSW5zZXJ0T3JkZXJlZExpc3QiKXx8IiIhPT1jfHxuLmdldFBhcmVudChyLmdldE5vZGUoKSxuLmlzQmxvY2spfHxvLmFwcGx5KCJkaXYiKSx6KEV3KGUpLGZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIGE9eHcobixDdC5mcm9tRG9tKGkpKTtpZigib3V0ZGVudCI9PT10KXt2YXIgdT1NYXRoLm1heCgwLHd3KGkuc3R5bGVbYV0pLXIpO2Uuc2V0U3R5bGUoaSxhLHU/dStvOiIiKX1lbHNle3U9d3coaS5zdHlsZVthXSkrcitvO2Uuc2V0U3R5bGUoaSxhLHUpfX0obix0LHMsdSxhLGUuZG9tKCkpfSl9LF93PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gc2woZSx0LG4sSmYpfSxUdz1mdW5jdGlvbihlLHQpe3JldHVybiBLKHlkKEN0LmZyb21Eb20odC5jb250YWluZXIoKSksZSksS24pfSxSdz1mdW5jdGlvbihlLG4scil7cmV0dXJuIF93KGUsbi5kb20oKSxyKS5mb3JhbGwoZnVuY3Rpb24odCl7cmV0dXJuIFR3KG4scikuZm9sZChmdW5jdGlvbigpe3JldHVybiExPT09T2ModCxyLG4uZG9tKCkpfSxmdW5jdGlvbihlKXtyZXR1cm4hMT09PU9jKHQscixuLmRvbSgpKSYmQnQoZSxDdC5mcm9tRG9tKHQuY29udGFpbmVyKCkpKX0pfSl9LEF3PWZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gVHcobixyKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIF93KHQsbi5kb20oKSxyKS5mb3JhbGwoZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1PYyhlLHIsbi5kb20oKSl9KX0sZnVuY3Rpb24oZSl7cmV0dXJuIF93KHQsZS5kb20oKSxyKS5pc05vbmUoKX0pfSxEdz1OKEF3LCExKSxPdz1OKEF3LCEwKSxCdz1OKFJ3LCExKSxQdz1OKFJ3LCEwKSxMdz1mdW5jdGlvbihlLHQsbil7aWYoZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmU3coZSkpe3ZhciByPWUuZG9tLG89ZS5zZWxlY3Rpb24uZ2V0Um5nKCksaT1Tcy5mcm9tUmFuZ2VTdGFydChvKSxhPXIuZ2V0UGFyZW50KG8uc3RhcnRDb250YWluZXIsci5pc0Jsb2NrKTtpZihudWxsIT09YSYmRHcoQ3QuZnJvbURvbShhKSxpKSlyZXR1cm4ga3coZSwib3V0ZGVudCIpLCEwfXJldHVybiExfSxJdz1mdW5jdGlvbihvLGkpe28ub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG4scjshMT09PWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJih0PW8sbj1pLHI9ZSxUQyhbe2tleUNvZGU6dnYuQkFDS1NQQUNFLGFjdGlvbjpfQyhMdyx0LCExKX0se2tleUNvZGU6dnYuQkFDS1NQQUNFLGFjdGlvbjpfQyhjdyx0LCExKX0se2tleUNvZGU6dnYuREVMRVRFLGFjdGlvbjpfQyhjdyx0LCEwKX0se2tleUNvZGU6dnYuQkFDS1NQQUNFLGFjdGlvbjpfQyhmdyx0LCExKX0se2tleUNvZGU6dnYuREVMRVRFLGFjdGlvbjpfQyhmdyx0LCEwKX0se2tleUNvZGU6dnYuQkFDS1NQQUNFLGFjdGlvbjpfQyhndyx0LG4sITEpfSx7a2V5Q29kZTp2di5ERUxFVEUsYWN0aW9uOl9DKGd3LHQsbiwhMCl9LHtrZXlDb2RlOnZ2LkJBQ0tTUEFDRSxhY3Rpb246X0Mob20sdCwhMSl9LHtrZXlDb2RlOnZ2LkRFTEVURSxhY3Rpb246X0Mob20sdCwhMCl9LHtrZXlDb2RlOnZ2LkJBQ0tTUEFDRSxhY3Rpb246X0MoQ3csdCwhMSl9LHtrZXlDb2RlOnZ2LkRFTEVURSxhY3Rpb246X0MoQ3csdCwhMCl9LHtrZXlDb2RlOnZ2LkJBQ0tTUEFDRSxhY3Rpb246X0MoS0MsdCwhMSl9LHtrZXlDb2RlOnZ2LkRFTEVURSxhY3Rpb246X0MoS0MsdCwhMCl9LHtrZXlDb2RlOnZ2LkJBQ0tTUEFDRSxhY3Rpb246X0MoVkMsdCwhMSl9LHtrZXlDb2RlOnZ2LkRFTEVURSxhY3Rpb246X0MoVkMsdCwhMCl9LHtrZXlDb2RlOnZ2LkJBQ0tTUEFDRSxhY3Rpb246X0MoYncsdCwhMSl9LHtrZXlDb2RlOnZ2LkRFTEVURSxhY3Rpb246X0MoYncsdCwhMCl9XSxyKS5lYWNoKGZ1bmN0aW9uKGUpe3IucHJldmVudERlZmF1bHQoKX0pKX0pLG8ub24oImtleXVwIixmdW5jdGlvbihlKXt2YXIgdCxuOyExPT09ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHQ9byxuPWUsVEMoW3trZXlDb2RlOnZ2LkJBQ0tTUEFDRSxhY3Rpb246X0Moc3csdCl9LHtrZXlDb2RlOnZ2LkRFTEVURSxhY3Rpb246X0Moc3csdCl9XSxuKSl9KX0sTXc9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPXQsbz1lLmRvbSxpPWUuc2NoZW1hLmdldE1vdmVDYXJldEJlZm9yZU9uRW50ZXJFbGVtZW50cygpO2lmKHQpe2lmKC9eKExJfERUfEREKSQvLnRlc3QodC5ub2RlTmFtZSkpe3ZhciBhPWZ1bmN0aW9uKGUpe2Zvcig7ZTspe2lmKDE9PT1lLm5vZGVUeXBlfHwzPT09ZS5ub2RlVHlwZSYmZS5kYXRhJiYvW1xyXG5cc10vLnRlc3QoZS5kYXRhKSlyZXR1cm4gZTtlPWUubmV4dFNpYmxpbmd9fSh0LmZpcnN0Q2hpbGQpO2EmJi9eKFVMfE9MfERMKSQvLnRlc3QoYS5ub2RlTmFtZSkmJnQuaW5zZXJ0QmVmb3JlKG8uZG9jLmNyZWF0ZVRleHROb2RlKERyKSx0LmZpcnN0Q2hpbGQpfXZhciB1PW8uY3JlYXRlUm5nKCk7aWYodC5ub3JtYWxpemUoKSx0Lmhhc0NoaWxkTm9kZXMoKSl7Zm9yKHZhciBzPW5ldyBBaSh0LHQpO249cy5jdXJyZW50KCk7KXtpZihFbihuKSl7dS5zZXRTdGFydChuLDApLHUuc2V0RW5kKG4sMCk7YnJlYWt9aWYoaVtuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXt1LnNldFN0YXJ0QmVmb3JlKG4pLHUuc2V0RW5kQmVmb3JlKG4pO2JyZWFrfXI9bixuPXMubmV4dCgpfW58fCh1LnNldFN0YXJ0KHIsMCksdS5zZXRFbmQociwwKSl9ZWxzZSBSbih0KT90Lm5leHRTaWJsaW5nJiZvLmlzQmxvY2sodC5uZXh0U2libGluZyk/KHUuc2V0U3RhcnRCZWZvcmUodCksdS5zZXRFbmRCZWZvcmUodCkpOih1LnNldFN0YXJ0QWZ0ZXIodCksdS5zZXRFbmRBZnRlcih0KSk6KHUuc2V0U3RhcnQodCwwKSx1LnNldEVuZCh0LDApKTtlLnNlbGVjdGlvbi5zZXRSbmcodSksWWgoZSx1KX19LEZ3PWZ1bmN0aW9uKGUpe3JldHVybiBCLmZyb20oZS5kb20uZ2V0UGFyZW50KGUuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSxlLmRvbS5pc0Jsb2NrKSl9LFV3PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLm5vZGVOYW1lPT09dH0senc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJi9eKE9MfFVMfExJKSQvLnRlc3QoZS5ub2RlTmFtZSl9LGp3PWZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4vXihMSXxEVHxERCkkLy50ZXN0KHQubm9kZU5hbWUpP3Q6ZX0sSHc9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1lW24/ImZpcnN0Q2hpbGQiOiJsYXN0Q2hpbGQiXTtyJiYhdm4ocik7KXI9cltuPyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyJdO3JldHVybiByPT09dH0sVnc9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1lLmRvbSxhPWUuc2VsZWN0aW9uLmdldFJuZygpO2lmKG4hPT1lLmdldEJvZHkoKSl7dmFyIHU7encodT1uKSYmencodS5wYXJlbnROb2RlKSYmKG89IkxJIik7dmFyIHMsYyxsPW8/dChvKTppLmNyZWF0ZSgiQlIiKTtpZihIdyhuLHIsITApJiZIdyhuLHIsITEpKVV3KG4sIkxJIik/aS5pbnNlcnRBZnRlcihsLGp3KG4pKTppLnJlcGxhY2UobCxuKTtlbHNlIGlmKEh3KG4sciwhMCkpVXcobiwiTEkiKT8oaS5pbnNlcnRBZnRlcihsLGp3KG4pKSxsLmFwcGVuZENoaWxkKGkuZG9jLmNyZWF0ZVRleHROb2RlKCIgIikpLGwuYXBwZW5kQ2hpbGQobikpOm4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobCxuKTtlbHNlIGlmKEh3KG4sciwhMSkpaS5pbnNlcnRBZnRlcihsLGp3KG4pKTtlbHNle249ancobik7dmFyIGY9YS5jbG9uZVJhbmdlKCk7Zi5zZXRTdGFydEFmdGVyKHIpLGYuc2V0RW5kQWZ0ZXIobik7dmFyIGQ9Zi5leHRyYWN0Q29udGVudHMoKTsiTEkiPT09byYmKGM9IkxJIiwocz1kKS5maXJzdENoaWxkJiZzLmZpcnN0Q2hpbGQubm9kZU5hbWU9PT1jKT8obD1kLmZpcnN0Q2hpbGQsaS5pbnNlcnRBZnRlcihkLG4pKTooaS5pbnNlcnRBZnRlcihkLG4pLGkuaW5zZXJ0QWZ0ZXIobCxuKSl9aS5yZW1vdmUociksTXcoZSxsKX19LHF3PWZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPid9LCR3PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubm9kZU5hbWU9PT10fHxlLnByZXZpb3VzU2libGluZyYmZS5wcmV2aW91c1NpYmxpbmcubm9kZU5hbWU9PT10fSxXdz1mdW5jdGlvbihlLHQpe3JldHVybiB0JiZlLmlzQmxvY2sodCkmJiEvXihURHxUSHxDQVBUSU9OfEZPUk0pJC8udGVzdCh0Lm5vZGVOYW1lKSYmIS9eKGZpeGVkfGFic29sdXRlKS9pLnRlc3QodC5zdHlsZS5wb3NpdGlvbikmJiJ0cnVlIiE9PWUuZ2V0Q29udGVudEVkaXRhYmxlKHQpfSxLdz1mdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT1Fbih0KT9uOmU/MT09PW4mJnQuZGF0YS5jaGFyQXQobi0xKT09PXl1PzA6bjpuPT09dC5kYXRhLmxlbmd0aC0xJiZ0LmRhdGEuY2hhckF0KG4pPT09eXU/dC5kYXRhLmxlbmd0aDpufSxYdz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1lLmdldFJvb3QoKTtmb3Iobj10O24hPT1vJiYiZmFsc2UiIT09ZS5nZXRDb250ZW50RWRpdGFibGUobik7KSJ0cnVlIj09PWUuZ2V0Q29udGVudEVkaXRhYmxlKG4pJiYocj1uKSxuPW4ucGFyZW50Tm9kZTtyZXR1cm4gbiE9PW8/cjpvfSxZdz1mdW5jdGlvbihvLGksZSl7Qi5mcm9tKGUuc3R5bGUpLm1hcChvLmRvbS5wYXJzZVN0eWxlKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49ZS5kb20oKTtpZihPbihuKSlmb3IodmFyIHI9MDtyPG4uc3R5bGUubGVuZ3RoO3IrKyl7dmFyIG89bi5zdHlsZS5pdGVtKHIpO3Rbb109bi5zdHlsZVtvXX1yZXR1cm4gdH0oQ3QuZnJvbURvbShpKSksbj14ZSh4ZSh7fSx0KSxlKTtvLmRvbS5zZXRTdHlsZXMoaSxuKX0pO3ZhciB0PUIuZnJvbShlWyJjbGFzcyJdKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoL1xzKy8pfSksbj1CLmZyb20oaS5jbGFzc05hbWUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gSChlLnNwbGl0KC9ccysvKSxmdW5jdGlvbihlKXtyZXR1cm4iIiE9PWV9KX0pO0J1KHQsbixmdW5jdGlvbih0LGUpe3ZhciBuPUgoZSxmdW5jdGlvbihlKXtyZXR1cm4hTSh0LGUpfSkscj1TZSh0LG4pO28uZG9tLnNldEF0dHJpYihpLCJjbGFzcyIsci5qb2luKCIgIikpfSk7dmFyIHI9WyJzdHlsZSIsImNsYXNzIl0sYT1sZShlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIU0ocix0KX0pO28uZG9tLnNldEF0dHJpYnMoaSxhKX0sR3c9ZnVuY3Rpb24oZSx0KXt2YXIgbj1ZcyhlKTtpZihuJiZuLnRvTG93ZXJDYXNlKCk9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7dmFyIHI9R3MoZSk7WXcoZSx0LHIpfX0sSnc9ZnVuY3Rpb24oYSxlKXt2YXIgdCx1LGkscyxuLHIsbyxjLGwsZixkPWEuZG9tLG09YS5zY2hlbWEscD1tLmdldE5vbkVtcHR5RWxlbWVudHMoKSxnPWEuc2VsZWN0aW9uLmdldFJuZygpLGg9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89dSxpPW0uZ2V0VGV4dElubGluZUVsZW1lbnRzKCk7aWYocj10PWV8fCJUQUJMRSI9PT1jfHwiSFIiPT09Yz9kLmNyZWF0ZShlfHxsKTpzLmNsb25lTm9kZSghMSksITE9PT1hLmdldFBhcmFtKCJrZWVwX3N0eWxlcyIsITApKWQuc2V0QXR0cmliKHQsInN0eWxlIixudWxsKSxkLnNldEF0dHJpYih0LCJjbGFzcyIsbnVsbCk7ZWxzZSBkb3tpZihpW28ubm9kZU5hbWVdKXtpZihnbChvKXx8a2wobykpY29udGludWU7bj1vLmNsb25lTm9kZSghMSksZC5zZXRBdHRyaWIobiwiaWQiLCIiKSx0Lmhhc0NoaWxkTm9kZXMoKT9uLmFwcGVuZENoaWxkKHQuZmlyc3RDaGlsZCk6cj1uLHQuYXBwZW5kQ2hpbGQobil9fXdoaWxlKChvPW8ucGFyZW50Tm9kZSkmJm8hPT13KTtyZXR1cm4gR3coYSx0KSxxdyhyKSx0fSx2PWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1LdyhlLHUsaSk7aWYoRW4odSkmJihlPzA8cjpyPHUubm9kZVZhbHVlLmxlbmd0aCkpcmV0dXJuITE7aWYodS5wYXJlbnROb2RlPT09cyYmZiYmIWUpcmV0dXJuITA7aWYoZSYmdm4odSkmJnU9PT1zLmZpcnN0Q2hpbGQpcmV0dXJuITA7aWYoJHcodSwiVEFCTEUiKXx8JHcodSwiSFIiKSlyZXR1cm4gZiYmIWV8fCFmJiZlO3ZhciBvPW5ldyBBaSh1LHMpO2ZvcihFbih1KSYmKGUmJjA9PT1yP28ucHJldigpOmV8fHIhPT11Lm5vZGVWYWx1ZS5sZW5ndGh8fG8ubmV4dCgpKTt0PW8uY3VycmVudCgpOyl7aWYodm4odCkpe2lmKCF0LmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSYmKG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHBbbl0mJiJiciIhPT1uKSlyZXR1cm4hMX1lbHNlIGlmKEVuKHQpJiYhL15bIFx0XHJcbl0qJC8udGVzdCh0Lm5vZGVWYWx1ZSkpcmV0dXJuITE7ZT9vLnByZXYoKTpvLm5leHQoKX1yZXR1cm4hMH0seT1mdW5jdGlvbigpe249L14oSFsxLTZdfFBSRXxGSUdVUkUpJC8udGVzdChjKSYmIkhHUk9VUCIhPT1FP2gobCk6aCgpLGEuZ2V0UGFyYW0oImVuZF9jb250YWluZXJfb25fZW1wdHlfYmxvY2siLCExKSYmV3coZCxvKSYmZC5pc0VtcHR5KHMpP249ZC5zcGxpdChvLHMpOmQuaW5zZXJ0QWZ0ZXIobixzKSxNdyhhLG4pfTtsdihkLGcpLmVhY2goZnVuY3Rpb24oZSl7Zy5zZXRTdGFydChlLnN0YXJ0Q29udGFpbmVyLGUuc3RhcnRPZmZzZXQpLGcuc2V0RW5kKGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KX0pLHU9Zy5zdGFydENvbnRhaW5lcixpPWcuc3RhcnRPZmZzZXQsbD1ZcyhhKTt2YXIgYj0hKCFlfHwhZS5zaGlmdEtleSksQz0hKCFlfHwhZS5jdHJsS2V5KTt2bih1KSYmdS5oYXNDaGlsZE5vZGVzKCkmJihmPWk+dS5jaGlsZE5vZGVzLmxlbmd0aC0xLHU9dS5jaGlsZE5vZGVzW01hdGgubWluKGksdS5jaGlsZE5vZGVzLmxlbmd0aC0xKV18fHUsaT1mJiZFbih1KT91Lm5vZGVWYWx1ZS5sZW5ndGg6MCk7dmFyIHc9WHcoZCx1KTtpZih3KXsobCYmIWJ8fCFsJiZiKSYmKHU9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHUscyxjLGwsZixkPXR8fCJQIixtPWUuZG9tLHA9WHcobSxyKTtpZighKGE9bS5nZXRQYXJlbnQocixtLmlzQmxvY2spKXx8IVd3KG0sYSkpe2lmKGw9KGE9YXx8cCk9PT1lLmdldEJvZHkoKXx8KGY9YSkmJi9eKFREfFRIfENBUFRJT04pJC8udGVzdChmLm5vZGVOYW1lKT9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6YS5wYXJlbnROb2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIWEuaGFzQ2hpbGROb2RlcygpKXJldHVybiBpPW0uY3JlYXRlKGQpLEd3KGUsaSksYS5hcHBlbmRDaGlsZChpKSxuLnNldFN0YXJ0KGksMCksbi5zZXRFbmQoaSwwKSxpO2ZvcihzPXI7cy5wYXJlbnROb2RlIT09YTspcz1zLnBhcmVudE5vZGU7Zm9yKDtzJiYhbS5pc0Jsb2NrKHMpOylzPSh1PXMpLnByZXZpb3VzU2libGluZztpZih1JiZlLnNjaGVtYS5pc1ZhbGlkQ2hpbGQobCxkLnRvTG93ZXJDYXNlKCkpKXtmb3IoaT1tLmNyZWF0ZShkKSxHdyhlLGkpLHUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaSx1KSxzPXU7cyYmIW0uaXNCbG9jayhzKTspYz1zLm5leHRTaWJsaW5nLGkuYXBwZW5kQ2hpbGQocykscz1jO24uc2V0U3RhcnQocixvKSxuLnNldEVuZChyLG8pfX1yZXR1cm4gcn0oYSxsLGcsdSxpKSkscz1kLmdldFBhcmVudCh1LGQuaXNCbG9jayksbz1zP2QuZ2V0UGFyZW50KHMucGFyZW50Tm9kZSxkLmlzQmxvY2spOm51bGwsYz1zP3Mubm9kZU5hbWUudG9VcHBlckNhc2UoKToiIjt2YXIgeCxTLE4sRT1vP28ubm9kZU5hbWUudG9VcHBlckNhc2UoKToiIjtpZigiTEkiIT09RXx8Q3x8KG89KHM9bykucGFyZW50Tm9kZSxjPUUpLC9eKExJfERUfEREKSQvLnRlc3QoYykmJmQuaXNFbXB0eShzKSlWdyhhLGgsbyxzLGwpO2Vsc2UgaWYoIWx8fHMhPT1hLmdldEJvZHkoKSlsPWx8fCJQIixTdShzKT8obj1PdShzKSxkLmlzRW1wdHkocykmJnF3KHMpLEd3KGEsbiksTXcoYSxuKSk6digpP3koKTp2KCEwKT8obj1zLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGgoKSxzKSxNdyhhLCR3KHMsIkhSIik/bjpzKSk6KChOPShTPWcpLmNsb25lUmFuZ2UoKSkuc2V0U3RhcnQoUy5zdGFydENvbnRhaW5lcixLdyghMCxTLnN0YXJ0Q29udGFpbmVyLFMuc3RhcnRPZmZzZXQpKSxOLnNldEVuZChTLmVuZENvbnRhaW5lcixLdyghMSxTLmVuZENvbnRhaW5lcixTLmVuZE9mZnNldCkpLCh0PU4uY2xvbmVSYW5nZSgpKS5zZXRFbmRBZnRlcihzKSxyPXQuZXh0cmFjdENvbnRlbnRzKCkseD1yLHooWGEoQ3QuZnJvbURvbSh4KSxFdCksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb20oKTt0Lm5vZGVWYWx1ZT1DdSh0Lm5vZGVWYWx1ZSl9KSxmdW5jdGlvbihlKXtmb3IoO0VuKGUpJiYoZS5ub2RlVmFsdWU9ZS5ub2RlVmFsdWUucmVwbGFjZSgvXltcclxuXSsvLCIiKSksZT1lLmZpcnN0Q2hpbGQ7KTt9KHIpLG49ci5maXJzdENoaWxkLGQuaW5zZXJ0QWZ0ZXIocixzKSxmdW5jdGlvbihlLHQsbil7dmFyIHIsbz1uLGk9W107aWYobyl7Zm9yKDtvPW8uZmlyc3RDaGlsZDspe2lmKGUuaXNCbG9jayhvKSlyZXR1cm47dm4obykmJiF0W28ubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0mJmkucHVzaChvKX1mb3Iocj1pLmxlbmd0aDtyLS07KSEobz1pW3JdKS5oYXNDaGlsZE5vZGVzKCl8fG8uZmlyc3RDaGlsZD09PW8ubGFzdENoaWxkJiYiIj09PW8uZmlyc3RDaGlsZC5ub2RlVmFsdWU/ZS5yZW1vdmUobyk6KGE9ZSwodT1vKSYmIkEiPT09dS5ub2RlTmFtZSYmYS5pc0VtcHR5KHUpJiZlLnJlbW92ZShvKSk7dmFyIGEsdX19KGQscCxuKSxmdW5jdGlvbihlLHQpe3Qubm9ybWFsaXplKCk7dmFyIG49dC5sYXN0Q2hpbGQ7biYmIS9eKGxlZnR8cmlnaHQpJC9naS50ZXN0KGUuZ2V0U3R5bGUobiwiZmxvYXQiLCEwKSl8fGUuYWRkKHQsImJyIil9KGQscyksZC5pc0VtcHR5KHMpJiZxdyhzKSxuLm5vcm1hbGl6ZSgpLGQuaXNFbXB0eShuKT8oZC5yZW1vdmUobikseSgpKTooR3coYSxuKSxNdyhhLG4pKSksZC5zZXRBdHRyaWIobiwiaWQiLCIiKSxhLmZpcmUoIk5ld0Jsb2NrIix7bmV3QmxvY2s6bn0pfX0sUXc9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuY3JlYXRlKCJzcGFuIix7fSwiJm5ic3A7Iik7bi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyLG4pLHQuc2Nyb2xsSW50b1ZpZXcociksZS5yZW1vdmUocil9LFp3PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWUuY3JlYXRlUm5nKCk7cj8oby5zZXRTdGFydEJlZm9yZShuKSxvLnNldEVuZEJlZm9yZShuKSk6KG8uc2V0U3RhcnRBZnRlcihuKSxvLnNldEVuZEFmdGVyKG4pKSx0LnNldFJuZyhvKX0sZXg9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89ZS5zZWxlY3Rpb24saT1lLmRvbSxhPW8uZ2V0Um5nKCk7bHYoaSxhKS5lYWNoKGZ1bmN0aW9uKGUpe2Euc2V0U3RhcnQoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KSxhLnNldEVuZChlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCl9KTt2YXIgdT1hLnN0YXJ0T2Zmc2V0LHM9YS5zdGFydENvbnRhaW5lcjtpZigxPT09cy5ub2RlVHlwZSYmcy5oYXNDaGlsZE5vZGVzKCkpe3ZhciBjPXU+cy5jaGlsZE5vZGVzLmxlbmd0aC0xO3M9cy5jaGlsZE5vZGVzW01hdGgubWluKHUscy5jaGlsZE5vZGVzLmxlbmd0aC0xKV18fHMsdT1jJiYzPT09cy5ub2RlVHlwZT9zLm5vZGVWYWx1ZS5sZW5ndGg6MH12YXIgbD1pLmdldFBhcmVudChzLGkuaXNCbG9jayksZj1sP2kuZ2V0UGFyZW50KGwucGFyZW50Tm9kZSxpLmlzQmxvY2spOm51bGwsZD1mP2Yubm9kZU5hbWUudG9VcHBlckNhc2UoKToiIixtPSEoIXR8fCF0LmN0cmxLZXkpOyJMSSIhPT1kfHxtfHwobD1mKSxzJiYzPT09cy5ub2RlVHlwZSYmdT49cy5ub2RlVmFsdWUubGVuZ3RoJiYhZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixvPW5ldyBBaSh0LG4pLGk9ZS5nZXROb25FbXB0eUVsZW1lbnRzKCk7cj1vLm5leHQoKTspaWYoaVtyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldfHwwPHIubGVuZ3RoKXJldHVybiEwfShlLnNjaGVtYSxzLGwpJiYobj1pLmNyZWF0ZSgiYnIiKSxhLmluc2VydE5vZGUobiksYS5zZXRTdGFydEFmdGVyKG4pLGEuc2V0RW5kQWZ0ZXIobikscj0hMCksbj1pLmNyZWF0ZSgiYnIiKSxFcyhpLGEsbiksUXcoaSxvLG4pLFp3KGksbyxuLHIpLGUudW5kb01hbmFnZXIuYWRkKCl9LHR4PWZ1bmN0aW9uKGUsdCl7dmFyIG49Q3QuZnJvbVRhZygiYnIiKTtHdChDdC5mcm9tRG9tKHQpLG4pLGUudW5kb01hbmFnZXIuYWRkKCl9LG54PWZ1bmN0aW9uKGUsdCl7cngoZS5nZXRCb2R5KCksdCl8fEp0KEN0LmZyb21Eb20odCksQ3QuZnJvbVRhZygiYnIiKSk7dmFyIG49Q3QuZnJvbVRhZygiYnIiKTtKdChDdC5mcm9tRG9tKHQpLG4pLFF3KGUuZG9tLGUuc2VsZWN0aW9uLG4uZG9tKCkpLFp3KGUuZG9tLGUuc2VsZWN0aW9uLG4uZG9tKCksITEpLGUudW5kb01hbmFnZXIuYWRkKCl9LHJ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49U3MuYWZ0ZXIodCksISFSbihuLmdldE5vZGUoKSl8fGxsKGUsU3MuYWZ0ZXIodCkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gUm4oZS5nZXROb2RlKCkpfSkuZ2V0T3IoITEpO3ZhciBufSxveD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmIkEiPT09ZS5ub2RlTmFtZSYmImhyZWYiaW4gZX0saXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZCh4KCExKSxveCxveCx4KCExKSl9LGF4PWZ1bmN0aW9uKGUsdCl7dC5mb2xkKGYsTih0eCxlKSxOKG54LGUpLGYpfSx1eD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPShyPU4oSXksbj1lKSxvPVNzLmZyb21SYW5nZVN0YXJ0KG4uc2VsZWN0aW9uLmdldFJuZygpKSxReShyLG4uZ2V0Qm9keSgpLG8pLmZpbHRlcihpeCkpO2kuaXNTb21lKCk/aS5lYWNoKE4oYXgsZSkpOmV4KGUsdCl9LHN4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEZ3KGUpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDx0Lmxlbmd0aCYmUnQoQ3QuZnJvbURvbShlKSx0KX0pLmlzU29tZSgpfSxjeD1RaShbe2JyOltdfSx7YmxvY2s6W119LHtub25lOltdfV0pLGx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHN4KG49ZSxuLmdldFBhcmFtKCJub19uZXdsaW5lX3NlbGVjdG9yIiwiIikpO3ZhciBufSxmeD1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4iIj09PVlzKGUpPT09bn19LGR4PWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBGdyhlKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIFFuKEN0LmZyb21Eb20oZSkpfSkuaXNTb21lKCk9PT1ufX0sbXg9ZnVuY3Rpb24obixyKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gRncoZSkuZm9sZCh4KCIiKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpfSk9PT1uLnRvVXBwZXJDYXNlKCk9PT1yfX0scHg9ZnVuY3Rpb24oZSl7cmV0dXJuIG14KCJwcmUiLGUpfSxneD1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nZXRQYXJhbSgiYnJfaW5fcHJlIiwhMCk9PT1ufX0saHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc3gobj1lLG4uZ2V0UGFyYW0oImJyX25ld2xpbmVfc2VsZWN0b3IiLCIubWNlLXRvYyBoMixmaWdjYXB0aW9uLGNhcHRpb24iKSk7dmFyIG59LHZ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9LHl4PWZ1bmN0aW9uKGUpe3ZhciB0PVlzKGUpLG49ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89ZS5nZXRSb290KCk7Zm9yKG49dDtuIT09byYmImZhbHNlIiE9PWUuZ2V0Q29udGVudEVkaXRhYmxlKG4pOykidHJ1ZSI9PT1lLmdldENvbnRlbnRFZGl0YWJsZShuKSYmKHI9biksbj1uLnBhcmVudE5vZGU7cmV0dXJuIG4hPT1vP3I6b30oZS5kb20sZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSk7cmV0dXJuIG4mJmUuc2NoZW1hLmlzVmFsaWRDaGlsZChuLm5vZGVOYW1lLHR8fCJQIil9LGJ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIFcoZSxmdW5jdGlvbihlLHQpe3JldHVybiBlJiZ0KG4scil9LCEwKT9CLnNvbWUodCk6Qi5ub25lKCl9fSxDeD1mdW5jdGlvbihlLHQpe3JldHVybiBIeShbYngoW2x4XSxjeC5ub25lKCkpLGJ4KFtteCgic3VtbWFyeSIsITApXSxjeC5icigpKSxieChbcHgoITApLGd4KCExKSx2eF0sY3guYnIoKSksYngoW3B4KCEwKSxneCghMSldLGN4LmJsb2NrKCkpLGJ4KFtweCghMCksZ3goITApLHZ4XSxjeC5ibG9jaygpKSxieChbcHgoITApLGd4KCEwKV0sY3guYnIoKSksYngoW2R4KCEwKSx2eF0sY3guYnIoKSksYngoW2R4KCEwKV0sY3guYmxvY2soKSksYngoW2Z4KCEwKSx2eCx5eF0sY3guYmxvY2soKSksYngoW2Z4KCEwKV0sY3guYnIoKSksYngoW2h4XSxjeC5icigpKSxieChbZngoITEpLHZ4XSxjeC5icigpKSxieChbeXhdLGN4LmJsb2NrKCkpXSxbZSwhKCF0fHwhdC5zaGlmdEtleSldKS5nZXRPcihjeC5ub25lKCkpfSx3eD1mdW5jdGlvbihlLHQpe0N4KGUsdCkuZm9sZChmdW5jdGlvbigpe3V4KGUsdCl9LGZ1bmN0aW9uKCl7SncoZSx0KX0sZil9LHh4PWZ1bmN0aW9uKG8pe28ub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG4scjtlLmtleUNvZGU9PT12di5FTlRFUiYmKHQ9bywobj1lKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KG4ucHJldmVudERlZmF1bHQoKSwocj10LnVuZG9NYW5hZ2VyKS50eXBpbmcmJihyLnR5cGluZz0hMSxyLmFkZCgpKSx0LnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7ITE9PT10LnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiZ0LmV4ZWNDb21tYW5kKCJEZWxldGUiKSx3eCh0LG4pfSkpKX0pfSxTeD1mdW5jdGlvbihuLHIpe3ZhciBlPXIuY29udGFpbmVyKCksdD1yLm9mZnNldCgpO3JldHVybiBFbihlKT8oZS5pbnNlcnREYXRhKHQsbiksQi5zb21lKENzKGUsdCtuLmxlbmd0aCkpKTpqYyhyKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9Q3QuZnJvbVRleHQobik7cmV0dXJuKHIuaXNBdEVuZCgpP0p0Okd0KShlLHQpLENzKHQuZG9tKCksbi5sZW5ndGgpfSl9LE54PU4oU3gsRHIpLEV4PU4oU3gsIiAiKSxreD1mdW5jdGlvbihlKXtyZXR1cm4gQ3MuaXNUZXh0UG9zaXRpb24oZSkmJiFlLmlzQXRTdGFydCgpJiYhZS5pc0F0RW5kKCl9LF94PWZ1bmN0aW9uKGUsdCl7dmFyIG49SCh5ZChDdC5mcm9tRG9tKHQuY29udGFpbmVyKCkpLGUpLEtuKTtyZXR1cm4gWihuKS5nZXRPcihlKX0sVHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ga3godCk/R2YodCk6R2YodCl8fGZsKF94KGUsdCkuZG9tKCksdCkuZXhpc3RzKEdmKX0sUng9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ga3godCk/WWYodCk6WWYodCl8fGxsKF94KGUsdCkuZG9tKCksdCkuZXhpc3RzKFlmKX0sQXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGpjKGUpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIFphKGUsTnQpfSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiB0PUZuKGUsIndoaXRlLXNwYWNlIiksTShbInByZSIsInByZS13cmFwIl0sdCk7dmFyIHR9KX0sRHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcj10LGZsKGUuZG9tKCkscikuaXNOb25lKCl8fChuPXQsbGwoZS5kb20oKSxuKS5pc05vbmUoKSl8fER3KGUsdCl8fE93KGUsdCl8fEpDKGUsdCl8fEdDKGUsdCk7dmFyIG4scn0sT3g9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saT0ocj0obj10KS5jb250YWluZXIoKSxvPW4ub2Zmc2V0KCksRW4ocikmJm88ci5kYXRhLmxlbmd0aD9DcyhyLG8rMSk6bik7cmV0dXJuIUF4KGkpJiYoT3coZSxpKXx8UHcoZSxpKXx8R0MoZSxpKXx8UngoZSxpKSl9LEJ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49ZSwhQXgocj10KSYmKER3KG4scil8fEJ3KG4scil8fEpDKG4scil8fFR4KG4scikpfHxPeChlLHQpO3ZhciBuLHJ9LFB4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9sKGUuY2hhckF0KHQpKX0sTHg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb250YWluZXIoKTtyZXR1cm4gRW4odCkmJnFlKHQuZGF0YSxEcil9LEl4PWZ1bmN0aW9uKGUpe3ZhciBuLHQ9ZS5kYXRhLHI9KG49dC5zcGxpdCgiIiksVShuLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9sKGUpJiYwPHQmJnQ8bi5sZW5ndGgtMSYmUmwoblt0LTFdKSYmUmwoblt0KzFdKT8iICI6ZX0pLmpvaW4oIiIpKTtyZXR1cm4gciE9PXQmJihlLmRhdGE9ciwhMCl9LE14PWZ1bmN0aW9uKGwsZSl7cmV0dXJuIEIuc29tZShlKS5maWx0ZXIoTHgpLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHUscyxjPWUuY29udGFpbmVyKCk7cmV0dXJuKGk9bCx1PShhPWMpLmRhdGEscz1DcyhhLDApLCEoIVB4KHUsMCl8fEJ4KGkscyl8fChhLmRhdGE9IiAiK3Uuc2xpY2UoMSksMCkpfHxJeChjKXx8KHQ9bCxyPShuPWMpLmRhdGEsbz1DcyhuLHIubGVuZ3RoLTEpLCEoIVB4KHIsci5sZW5ndGgtMSl8fEJ4KHQsbyl8fChuLmRhdGE9ci5zbGljZSgwLC0xKSsiICIsMCkpKSk/Qi5zb21lKGUpOkIubm9uZSgpfSl9LEZ4PWZ1bmN0aW9uKHQpe3ZhciBlPUN0LmZyb21Eb20odC5nZXRCb2R5KCkpO3Quc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJk14KGUsQ3MuZnJvbVJhbmdlU3RhcnQodC5zZWxlY3Rpb24uZ2V0Um5nKCkpKS5lYWNoKGZ1bmN0aW9uKGUpe3Quc2VsZWN0aW9uLnNldFJuZyhlLnRvUmFuZ2UoKSl9KX0sVXg9ZnVuY3Rpb24ocixvKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ciwoIUF4KG49ZSkmJihEeCh0LG4pfHxUeCh0LG4pfHxSeCh0LG4pKT9OeDpFeCkobyk7dmFyIHQsbn19LHp4PWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1Tcy5mcm9tUmFuZ2VTdGFydChlLnNlbGVjdGlvbi5nZXRSbmcoKSksbz1DdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKTtpZihlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpKXt2YXIgaT1OKEl5LGUpLGE9U3MuZnJvbVJhbmdlU3RhcnQoZS5zZWxlY3Rpb24uZ2V0Um5nKCkpO3JldHVybiBReShpLGUuZ2V0Qm9keSgpLGEpLmJpbmQoKG49byxmdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKGZ1bmN0aW9uKGUpe3JldHVybiBmbChuLmRvbSgpLFNzLmJlZm9yZShlKSl9LGZ1bmN0aW9uKGUpe3JldHVybiBkbChlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG1sKGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gbGwobi5kb20oKSxTcy5hZnRlcihlKSl9KX0pKS5iaW5kKFV4KG8scikpLmV4aXN0cygodD1lLGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpLHQubm9kZUNoYW5nZWQoKSwhMH0pKX1yZXR1cm4hMX0sang9ZnVuY3Rpb24ocil7ci5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbjshMT09PWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJih0PXIsbj1lLFRDKFt7a2V5Q29kZTp2di5TUEFDRUJBUixhY3Rpb246X0MoengsdCl9XSxuKS5lYWNoKGZ1bmN0aW9uKGUpe24ucHJldmVudERlZmF1bHQoKX0pKX0pfSxIeD1mdW5jdGlvbihlLHQpe3ZhciBuO3QuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpJiYoT3UodCksKG49ZSkuc2VsZWN0aW9uLnNldFJuZyhuLnNlbGVjdGlvbi5nZXRSbmcoKSksZS5zZWxlY3Rpb24uc2Nyb2xsSW50b1ZpZXcodCkpfSxWeD1mdW5jdGlvbihlLHQpe3ZhciBuLHI9KG49ZSx0dShDdC5mcm9tRG9tKG4uZ2V0Qm9keSgpKSwiKltkYXRhLW1jZS1jYXJldF0iKS5mb2xkKHgobnVsbCksZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCl9KSk7aWYocilyZXR1cm4iY29tcG9zaXRpb25zdGFydCI9PT10LnR5cGU/KHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHZvaWQgSHgoZSxyKSk6dm9pZChrdShyKSYmKEh4KGUsciksZS51bmRvTWFuYWdlci5hZGQoKSkpfSxxeD1vdCgpLmJyb3dzZXIsJHg9ZnVuY3Rpb24odCl7dmFyIGUsbjtlPXQsbj1VYShmdW5jdGlvbigpe2UuY29tcG9zaW5nfHxGeChlKX0sMCkscXguaXNJRSgpJiYoZS5vbigia2V5cHJlc3MiLGZ1bmN0aW9uKGUpe24udGhyb3R0bGUoKX0pLGUub24oInJlbW92ZSIsZnVuY3Rpb24oZSl7bi5jYW5jZWwoKX0pKSx0Lm9uKCJpbnB1dCIsZnVuY3Rpb24oZSl7ITE9PT1lLmlzQ29tcG9zaW5nJiZGeCh0KX0pfSxXeD1mdW5jdGlvbihyKXtyLm9uKCJrZXlkb3duIixmdW5jdGlvbihlKXt2YXIgdCxuOyExPT09ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHQ9cixuPWUsVEMoW3trZXlDb2RlOnZ2LkVORCxhY3Rpb246bkModCwhMCl9LHtrZXlDb2RlOnZ2LkhPTUUsYWN0aW9uOm5DKHQsITEpfV0sbikuZWFjaChmdW5jdGlvbihlKXtuLnByZXZlbnREZWZhdWx0KCl9KSl9KX0sS3g9ZnVuY3Rpb24oZSl7dmFyIHQsbj1tYihlKTsodD1lKS5vbigia2V5dXAgY29tcG9zaXRpb25zdGFydCIsTihWeCx0KSksUkMoZSxuKSxJdyhlLG4pLHh4KGUpLGp4KGUpLCR4KGUpLFd4KGUpfSxYeD0oWXgucHJvdG90eXBlLm5vZGVDaGFuZ2VkPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPXRoaXMuZWRpdG9yLnNlbGVjdGlvbjt0aGlzLmVkaXRvci5pbml0aWFsaXplZCYmbyYmIXRoaXMuZWRpdG9yLmdldFBhcmFtKCJkaXNhYmxlX25vZGVjaGFuZ2UiKSYmIXRoaXMuZWRpdG9yLm1vZGUuaXNSZWFkT25seSgpJiYocj10aGlzLmVkaXRvci5nZXRCb2R5KCksKHQ9by5nZXRTdGFydCghMCl8fHIpLm93bmVyRG9jdW1lbnQ9PT10aGlzLmVkaXRvci5nZXREb2MoKSYmdGhpcy5lZGl0b3IuZG9tLmlzQ2hpbGRPZih0LHIpfHwodD1yKSxuPVtdLHRoaXMuZWRpdG9yLmRvbS5nZXRQYXJlbnQodCxmdW5jdGlvbihlKXtpZihlPT09cilyZXR1cm4hMDtuLnB1c2goZSl9KSwoZT1lfHx7fSkuZWxlbWVudD10LGUucGFyZW50cz1uLHRoaXMuZWRpdG9yLmZpcmUoIk5vZGVDaGFuZ2UiLGUpKX0sWXgucHJvdG90eXBlLmlzU2FtZUVsZW1lbnRQYXRoPWZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5lZGl0b3IuJChlKS5wYXJlbnRzVW50aWwodGhpcy5lZGl0b3IuZ2V0Qm9keSgpKS5hZGQoZSk7aWYobi5sZW5ndGg9PT10aGlzLmxhc3RQYXRoLmxlbmd0aCl7Zm9yKHQ9bi5sZW5ndGg7MDw9dCYmblt0XT09PXRoaXMubGFzdFBhdGhbdF07dC0tKTtpZigtMT09PXQpcmV0dXJuIHRoaXMubGFzdFBhdGg9biwhMH1yZXR1cm4gdGhpcy5sYXN0UGF0aD1uLCExfSxZeCk7ZnVuY3Rpb24gWXgocil7dmFyIG87dGhpcy5sYXN0UGF0aD1bXSx0aGlzLmVkaXRvcj1yO3ZhciB0PXRoaXM7Im9uc2VsZWN0aW9uY2hhbmdlImluIHIuZ2V0RG9jKCl8fHIub24oIk5vZGVDaGFuZ2UgY2xpY2sgbW91c2V1cCBrZXl1cCBmb2N1cyIsZnVuY3Rpb24oZSl7dmFyIHQ9ci5zZWxlY3Rpb24uZ2V0Um5nKCksbj17c3RhcnRDb250YWluZXI6dC5zdGFydENvbnRhaW5lcixzdGFydE9mZnNldDp0LnN0YXJ0T2Zmc2V0LGVuZENvbnRhaW5lcjp0LmVuZENvbnRhaW5lcixlbmRPZmZzZXQ6dC5lbmRPZmZzZXR9OyJub2RlY2hhbmdlIiE9PWUudHlwZSYmcnYobixvKXx8ci5maXJlKCJTZWxlY3Rpb25DaGFuZ2UiKSxvPW59KSxyLm9uKCJjb250ZXh0bWVudSIsZnVuY3Rpb24oKXtyLmZpcmUoIlNlbGVjdGlvbkNoYW5nZSIpfSksci5vbigiU2VsZWN0aW9uQ2hhbmdlIixmdW5jdGlvbigpe3ZhciBlPXIuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKTshZXx8IW10LnJhbmdlJiZyLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpfHxtZihyKSYmIXQuaXNTYW1lRWxlbWVudFBhdGgoZSkmJnIuZG9tLmlzQ2hpbGRPZihlLHIuZ2V0Qm9keSgpKSYmci5ub2RlQ2hhbmdlZCh7c2VsZWN0aW9uQ2hhbmdlOiEwfSl9KSxyLm9uKCJtb3VzZXVwIixmdW5jdGlvbihlKXshZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmbWYocikmJigiSU1HIj09PXIuc2VsZWN0aW9uLmdldE5vZGUoKS5ub2RlTmFtZT9mYS5zZXRFZGl0b3JUaW1lb3V0KHIsZnVuY3Rpb24oKXtyLm5vZGVDaGFuZ2VkKCl9KTpyLm5vZGVDaGFuZ2VkKCkpfSl9dmFyIEd4PWZ1bmN0aW9uKGUpe3ZhciB0LG47KHQ9ZSkub24oImNsaWNrIixmdW5jdGlvbihlKXt0LmRvbS5nZXRQYXJlbnQoZS50YXJnZXQsImRldGFpbHMiKSYmZS5wcmV2ZW50RGVmYXVsdCgpfSksKG49ZSkucGFyc2VyLmFkZE5vZGVGaWx0ZXIoImRldGFpbHMiLGZ1bmN0aW9uKGUpe3ooZSxmdW5jdGlvbihlKXtlLmF0dHIoImRhdGEtbWNlLW9wZW4iLGUuYXR0cigib3BlbiIpKSxlLmF0dHIoIm9wZW4iLCJvcGVuIil9KX0pLG4uc2VyaWFsaXplci5hZGROb2RlRmlsdGVyKCJkZXRhaWxzIixmdW5jdGlvbihlKXt6KGUsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hdHRyKCJkYXRhLW1jZS1vcGVuIik7ZS5hdHRyKCJvcGVuIixxKHQpP3Q6bnVsbCksZS5hdHRyKCJkYXRhLW1jZS1vcGVuIixudWxsKX0pfSl9LEp4PWZ1bmN0aW9uKGUpe3JldHVybiB2bihlKSYmR24oQ3QuZnJvbURvbShlKSl9LFF4PWZ1bmN0aW9uKHQpe3Qub24oImNsaWNrIixmdW5jdGlvbihlKXszPD1lLmRldGFpbCYmZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZWxlY3Rpb24uZ2V0Um5nKCksbj1Dcy5mcm9tUmFuZ2VTdGFydCh0KSxyPUNzLmZyb21SYW5nZUVuZCh0KTtpZihDcy5pc0VsZW1lbnRQb3NpdGlvbihuKSl7dmFyIG89bi5jb250YWluZXIoKTtKeChvKSYmZGwobykuZWFjaChmdW5jdGlvbihlKXtyZXR1cm4gdC5zZXRTdGFydChlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCkpfSl9aWYoQ3MuaXNFbGVtZW50UG9zaXRpb24ocikpe289bi5jb250YWluZXIoKTtKeChvKSYmbWwobykuZWFjaChmdW5jdGlvbihlKXtyZXR1cm4gdC5zZXRFbmQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKX0pfWUuc2VsZWN0aW9uLnNldFJuZyhhbSh0KSl9KHQpfSl9LFp4PWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1lLm93bmVyRG9jdW1lbnQscj1uLmRvY3VtZW50RWxlbWVudCxvPW4uZGVmYXVsdFZpZXc7cmV0dXJue3RvcDp0LnRvcCtvLnBhZ2VZT2Zmc2V0LXIuY2xpZW50VG9wLGxlZnQ6dC5sZWZ0K28ucGFnZVhPZmZzZXQtci5jbGllbnRMZWZ0fX0sZVM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj0odT1lKS5pbmxpbmU/WngodS5nZXRCb2R5KCkpOntsZWZ0OjAsdG9wOjB9LGE9KGk9ZSkuZ2V0Qm9keSgpLHI9aS5pbmxpbmU/e2xlZnQ6YS5zY3JvbGxMZWZ0LHRvcDphLnNjcm9sbFRvcH06e2xlZnQ6MCx0b3A6MH0se3BhZ2VYOihvPWZ1bmN0aW9uKGUsdCl7aWYodC50YXJnZXQub3duZXJEb2N1bWVudD09PWUuZ2V0RG9jKCkpcmV0dXJue2xlZnQ6dC5wYWdlWCx0b3A6dC5wYWdlWX07dmFyIG4scixvLGksYSx1PVp4KGUuZ2V0Q29udGVudEFyZWFDb250YWluZXIoKSkscz0ocj0obj1lKS5nZXRCb2R5KCksbz1uLmdldERvYygpLmRvY3VtZW50RWxlbWVudCxpPXtsZWZ0OnIuc2Nyb2xsTGVmdCx0b3A6ci5zY3JvbGxUb3B9LGE9e2xlZnQ6ci5zY3JvbGxMZWZ0fHxvLnNjcm9sbExlZnQsdG9wOnIuc2Nyb2xsVG9wfHxvLnNjcm9sbFRvcH0sbi5pbmxpbmU/aTphKTtyZXR1cm57bGVmdDp0LnBhZ2VYLXUubGVmdCtzLmxlZnQsdG9wOnQucGFnZVktdS50b3Arcy50b3B9fShlLHQpKS5sZWZ0LW4ubGVmdCtyLmxlZnQscGFnZVk6by50b3Atbi50b3Arci50b3B9O3ZhciBuLHIsbyxpLGEsdX0sdFM9RG4sblM9QW4sclM9ZnVuY3Rpb24oZSl7ZSYmZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9LG9TPWZ1bmN0aW9uKHUscyl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKDA9PT1lLmJ1dHRvbil7dmFyIHQ9SyhzLmRvbS5nZXRQYXJlbnRzKGUudGFyZ2V0KSxmdW5jdGlvbigpe2Zvcih2YXIgbj1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyluW2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoblt0XShlKSlyZXR1cm4hMDtyZXR1cm4hMX19KHRTLG5TKSkuZ2V0T3IobnVsbCk7aWYoaT1zLmdldEJvZHkoKSx0UyhhPXQpJiZhIT09aSl7dmFyIG49cy5kb20uZ2V0UG9zKHQpLHI9cy5nZXRCb2R5KCksbz1zLmdldERvYygpLmRvY3VtZW50RWxlbWVudDt1LmVsZW1lbnQ9dCx1LnNjcmVlblg9ZS5zY3JlZW5YLHUuc2NyZWVuWT1lLnNjcmVlblksdS5tYXhYPShzLmlubGluZT9yLnNjcm9sbFdpZHRoOm8ub2Zmc2V0V2lkdGgpLTIsdS5tYXhZPShzLmlubGluZT9yLnNjcm9sbEhlaWdodDpvLm9mZnNldEhlaWdodCktMix1LnJlbFg9ZS5wYWdlWC1uLngsdS5yZWxZPWUucGFnZVktbi55LHUud2lkdGg9dC5vZmZzZXRXaWR0aCx1LmhlaWdodD10Lm9mZnNldEhlaWdodCx1Lmdob3N0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXQuY2xvbmVOb2RlKCEwKTtlLmRvbS5zZXRTdHlsZXMobyx7d2lkdGg6bixoZWlnaHQ6cn0pLGUuZG9tLnNldEF0dHJpYihvLCJkYXRhLW1jZS1zZWxlY3RlZCIsbnVsbCk7dmFyIGk9ZS5kb20uY3JlYXRlKCJkaXYiLHsiY2xhc3MiOiJtY2UtZHJhZy1jb250YWluZXIiLCJkYXRhLW1jZS1ib2d1cyI6ImFsbCIsdW5zZWxlY3RhYmxlOiJvbiIsY29udGVudGVkaXRhYmxlOiJmYWxzZSJ9KTtyZXR1cm4gZS5kb20uc2V0U3R5bGVzKGkse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsb3BhY2l0eTouNSxvdmVyZmxvdzoiaGlkZGVuIixib3JkZXI6MCxwYWRkaW5nOjAsbWFyZ2luOjAsd2lkdGg6bixoZWlnaHQ6cn0pLGUuZG9tLnNldFN0eWxlcyhvLHttYXJnaW46MCxib3hTaXppbmc6ImJvcmRlci1ib3gifSksaS5hcHBlbmRDaGlsZChvKSxpfShzLHQsdS53aWR0aCx1LmhlaWdodCl9fXZhciBpLGF9fSxpUz1mdW5jdGlvbihnLGgpe3ZhciB2PWZhLnRocm90dGxlKGZ1bmN0aW9uKGUsdCl7aC5fc2VsZWN0aW9uT3ZlcnJpZGVzLmhpZGVGYWtlQ2FyZXQoKSxoLnNlbGVjdGlvbi5wbGFjZUNhcmV0QXQoZSx0KX0sMCk7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1LHMsYyxsLGYsZCxtPU1hdGgubWF4KE1hdGguYWJzKGUuc2NyZWVuWC1nLnNjcmVlblgpLE1hdGguYWJzKGUuc2NyZWVuWS1nLnNjcmVlblkpKTtpZihnLmVsZW1lbnQmJiFnLmRyYWdnaW5nJiYxMDxtKXtpZihoLmZpcmUoImRyYWdzdGFydCIse3RhcmdldDpnLmVsZW1lbnR9KS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47Zy5kcmFnZ2luZz0hMCxoLmZvY3VzKCl9aWYoZy5kcmFnZ2luZyl7dmFyIHA9KGY9Zyx7cGFnZVg6KGQ9ZVMoaCxlKSkucGFnZVgtZi5yZWxYLHBhZ2VZOmQucGFnZVkrNX0pO2M9Zy5naG9zdCxsPWguZ2V0Qm9keSgpLGMucGFyZW50Tm9kZSE9PWwmJmwuYXBwZW5kQ2hpbGQoYyksdD1nLmdob3N0LG49cCxyPWcud2lkdGgsbz1nLmhlaWdodCxpPWcubWF4WCxhPWcubWF4WSxzPXU9MCx0LnN0eWxlLmxlZnQ9bi5wYWdlWCsicHgiLHQuc3R5bGUudG9wPW4ucGFnZVkrInB4IixuLnBhZ2VYK3I+aSYmKHU9bi5wYWdlWCtyLWkpLG4ucGFnZVkrbz5hJiYocz1uLnBhZ2VZK28tYSksdC5zdHlsZS53aWR0aD1yLXUrInB4Iix0LnN0eWxlLmhlaWdodD1vLXMrInB4Iix2KGUuY2xpZW50WCxlLmNsaWVudFkpfX19LGFTPWZ1bmN0aW9uKGwsZil7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGwuZHJhZ2dpbmcmJihzPShpPWYpLnNlbGVjdGlvbixjPXMuZ2V0U2VsKCkuZ2V0UmFuZ2VBdCgwKS5zdGFydENvbnRhaW5lcixhPTM9PT1jLm5vZGVUeXBlP2MucGFyZW50Tm9kZTpjLHU9bC5lbGVtZW50LGEhPT11JiYhaS5kb20uaXNDaGlsZE9mKGEsdSkmJiF0UyhhKSkpe3ZhciB0PShyPWwuZWxlbWVudCwobz1yLmNsb25lTm9kZSghMCkpLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc2VsZWN0ZWQiKSxvKSxuPWYuZmlyZSgiZHJvcCIse3RhcmdldENsb25lOnQsY2xpZW50WDplLmNsaWVudFgsY2xpZW50WTplLmNsaWVudFl9KTtuLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwodD1uLnRhcmdldENsb25lLGYudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXtyUyhsLmVsZW1lbnQpLGYuaW5zZXJ0Q29udGVudChmLmRvbS5nZXRPdXRlckhUTUwodCkpLGYuX3NlbGVjdGlvbk92ZXJyaWRlcy5oaWRlRmFrZUNhcmV0KCl9KSl9dmFyIHIsbyxpLGEsdSxzLGM7dVMobCl9fSx1Uz1mdW5jdGlvbihlKXtlLmRyYWdnaW5nPSExLGUuZWxlbWVudD1udWxsLHJTKGUuZ2hvc3QpfSxzUz1mdW5jdGlvbihlKXt2YXIgdCxuLHI9e30sbz1FYS5ET00saT1WLmRvY3VtZW50LGE9b1MocixlKSx1PWlTKHIsZSkscz1hUyhyLGUpLGM9KHQ9cixmdW5jdGlvbigpe3QuZHJhZ2dpbmcmJm4uZmlyZSgiZHJhZ2VuZCIpLHVTKHQpfSk7KG49ZSkub24oIm1vdXNlZG93biIsYSksZS5vbigibW91c2Vtb3ZlIix1KSxlLm9uKCJtb3VzZXVwIixzKSxvLmJpbmQoaSwibW91c2Vtb3ZlIix1KSxvLmJpbmQoaSwibW91c2V1cCIsYyksZS5vbigicmVtb3ZlIixmdW5jdGlvbigpe28udW5iaW5kKGksIm1vdXNlbW92ZSIsdSksby51bmJpbmQoaSwibW91c2V1cCIsYyl9KX0sY1M9ZnVuY3Rpb24oZSl7dmFyIG4saSxhLHUsdDtzUyhlKSwobj1lKS5vbigiZHJvcCIsZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmNsaWVudFg/bi5nZXREb2MoKS5lbGVtZW50RnJvbVBvaW50KGUuY2xpZW50WCxlLmNsaWVudFkpOm51bGw7KHRTKHQpfHx0UyhuLmRvbS5nZXRDb250ZW50RWRpdGFibGVQYXJlbnQodCkpKSYmZS5wcmV2ZW50RGVmYXVsdCgpfSksZS5nZXRQYXJhbSgiYmxvY2tfdW5zdXBwb3J0ZWRfZHJvcCIsITAsImJvb2xlYW4iKSYmKGE9ZnVuY3Rpb24oZSl7aWYoIWUuZGVmYXVsdFByZXZlbnRlZCl7dmFyIHQ9ZS5kYXRhVHJhbnNmZXI7dCYmKE0odC50eXBlcywiRmlsZXMiKXx8MDx0LmZpbGVzLmxlbmd0aCkmJmUucHJldmVudERlZmF1bHQoKX19LHU9ZnVuY3Rpb24oZSl7am0oaSxlLnRhcmdldCkmJmEoZSl9LHQ9ZnVuY3Rpb24oKXt2YXIgdD1FYS5ET00sbj1pLmRvbSxyPVYuZG9jdW1lbnQsbz1pLmlubGluZT9pLmdldEJvZHkoKTppLmdldERvYygpLGU9WyJkcm9wIiwiZHJhZ292ZXIiXTt6KGUsZnVuY3Rpb24oZSl7dC5iaW5kKHIsZSx1KSxuLmJpbmQobyxlLGEpfSksaS5vbigicmVtb3ZlIixmdW5jdGlvbigpe3ooZSxmdW5jdGlvbihlKXt0LnVuYmluZChyLGUsdSksbi51bmJpbmQobyxlLGEpfSl9KX0sKGk9ZSkub24oImluaXQiLGZ1bmN0aW9uKCl7ZmEuc2V0RWRpdG9yVGltZW91dChpLHQsMCl9KSl9LGxTPUFuLGZTPURuLGRTPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUuZ2V0Qm9keSgpO3QmJnQhPT1uOyl7aWYobFModCl8fGZTKHQpKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfXJldHVybiBudWxsfSxtUz1mdW5jdGlvbihnKXt2YXIgaCx2PWcuZ2V0Qm9keSgpLG89Q2MoZyx2LGZ1bmN0aW9uKGUpe3JldHVybiBnLmRvbS5pc0Jsb2NrKGUpfSxmdW5jdGlvbigpe3JldHVybiBZbShnKX0pLHk9InNlbC0iK2cuZG9tLnVuaXF1ZUlkKCksYT1mdW5jdGlvbihlKXtlJiZnLnNlbGVjdGlvbi5zZXRSbmcoZSl9LHI9ZnVuY3Rpb24oKXtyZXR1cm4gZy5zZWxlY3Rpb24uZ2V0Um5nKCl9LGI9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHZvaWQgMD09PXImJihyPSEwKSxnLmZpcmUoIlNob3dDYXJldCIse3RhcmdldDp0LGRpcmVjdGlvbjplLGJlZm9yZTpufSkuaXNEZWZhdWx0UHJldmVudGVkKCk/bnVsbDoociYmZy5zZWxlY3Rpb24uc2Nyb2xsSW50b1ZpZXcodCwtMT09PWUpLG8uc2hvdyhuLHQpKX0sdD1mdW5jdGlvbihlKXtyZXR1cm4gRXUoZSl8fEF1KGUpfHxEdShlKX0sQz1mdW5jdGlvbihlKXtyZXR1cm4gdChlLnN0YXJ0Q29udGFpbmVyKXx8dChlLmVuZENvbnRhaW5lcil9LHU9ZnVuY3Rpb24oZSl7dmFyIHQ9Zy5zY2hlbWEuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCksbj1nLmRvbS5jcmVhdGVSbmcoKSxyPWUuc3RhcnRDb250YWluZXIsbz1lLnN0YXJ0T2Zmc2V0LGk9ZS5lbmRDb250YWluZXIsYT1lLmVuZE9mZnNldDtyZXR1cm4gbWUodCxyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpPzA9PT1vP24uc2V0U3RhcnRCZWZvcmUocik6bi5zZXRTdGFydEFmdGVyKHIpOm4uc2V0U3RhcnQocixvKSxtZSh0LGkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk/MD09PWE/bi5zZXRFbmRCZWZvcmUoaSk6bi5zZXRFbmRBZnRlcihpKTpuLnNldEVuZChpLGEpLG59LHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHUscyxjPWcuJCxsPWcuZG9tO2lmKCFlKXJldHVybiBudWxsO2lmKGUuY29sbGFwc2VkKXtpZighQyhlKSlpZighMT09PXQpe2lmKGE9emMoLTEsdixlKSx4YyhhLmdldE5vZGUoITApKSlyZXR1cm4gYigtMSxhLmdldE5vZGUoITApLCExLCExKTtpZih4YyhhLmdldE5vZGUoKSkpcmV0dXJuIGIoLTEsYS5nZXROb2RlKCksIWEuaXNBdEVuZCgpLCExKX1lbHNle2lmKGE9emMoMSx2LGUpLHhjKGEuZ2V0Tm9kZSgpKSlyZXR1cm4gYigxLGEuZ2V0Tm9kZSgpLCFhLmlzQXRFbmQoKSwhMSk7aWYoeGMoYS5nZXROb2RlKCEwKSkpcmV0dXJuIGIoMSxhLmdldE5vZGUoITApLCExLCExKX1yZXR1cm4gbnVsbH1vPWUuc3RhcnRDb250YWluZXIsaT1lLnN0YXJ0T2Zmc2V0O3ZhciBmPWUuZW5kT2Zmc2V0O2lmKDM9PT1vLm5vZGVUeXBlJiYwPT09aSYmZlMoby5wYXJlbnROb2RlKSYmKG89by5wYXJlbnROb2RlLGk9bC5ub2RlSW5kZXgobyksbz1vLnBhcmVudE5vZGUpLDEhPT1vLm5vZGVUeXBlKXJldHVybiBudWxsO2lmKGY9PT1pKzEmJm89PT1lLmVuZENvbnRhaW5lciYmKG49by5jaGlsZE5vZGVzW2ldKSwhZlMobikpcmV0dXJuIG51bGw7dT1zPW4uY2xvbmVOb2RlKCEwKTt2YXIgZD1nLmZpcmUoIk9iamVjdFNlbGVjdGVkIix7dGFyZ2V0Om4sdGFyZ2V0Q2xvbmU6dX0pO2lmKGQuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuIG51bGw7cj10dShDdC5mcm9tRG9tKGcuZ2V0Qm9keSgpKSwiIyIreSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBjKFtdKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGMoW2UuZG9tKCldKX0pLHU9ZC50YXJnZXRDbG9uZSwwPT09ci5sZW5ndGgmJihyPWMoJzxkaXYgZGF0YS1tY2UtYm9ndXM9ImFsbCIgY2xhc3M9Im1jZS1vZmZzY3JlZW4tc2VsZWN0aW9uIj48L2Rpdj4nKS5hdHRyKCJpZCIseSkpLmFwcGVuZFRvKGcuZ2V0Qm9keSgpKSxlPWcuZG9tLmNyZWF0ZVJuZygpLHU9PT1zJiZtdC5pZT8oci5lbXB0eSgpLmFwcGVuZCgnPHAgc3R5bGU9ImZvbnQtc2l6ZTogMCIgZGF0YS1tY2UtYm9ndXM9ImFsbCI+XHhhMDwvcD4nKS5hcHBlbmQodSksZS5zZXRTdGFydEFmdGVyKHJbMF0uZmlyc3RDaGlsZC5maXJzdENoaWxkKSxlLnNldEVuZEFmdGVyKHUpKTooci5lbXB0eSgpLmFwcGVuZChEcikuYXBwZW5kKHUpLmFwcGVuZChEciksZS5zZXRTdGFydChyWzBdLmZpcnN0Q2hpbGQsMSksZS5zZXRFbmQoclswXS5sYXN0Q2hpbGQsMCkpLHIuY3NzKHt0b3A6bC5nZXRQb3MobixnLmdldEJvZHkoKSkueX0pLHJbMF0uZm9jdXMoKTt2YXIgbT1nLnNlbGVjdGlvbi5nZXRTZWwoKTttLnJlbW92ZUFsbFJhbmdlcygpLG0uYWRkUmFuZ2UoZSk7dmFyIHA9Q3QuZnJvbURvbShuKTtyZXR1cm4geihZYShDdC5mcm9tRG9tKGcuZ2V0Qm9keSgpKSwiKltkYXRhLW1jZS1zZWxlY3RlZF0iKSxmdW5jdGlvbihlKXtEdChwLGUpfHxNbihlLCJkYXRhLW1jZS1zZWxlY3RlZCIpfSksZy5kb20uZ2V0QXR0cmliKG4sImRhdGEtbWNlLXNlbGVjdGVkIil8fG4uc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIsIjEiKSxoPW4sdygpLGV9LGM9ZnVuY3Rpb24oKXtoJiYoaC5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiksdHUoQ3QuZnJvbURvbShnLmdldEJvZHkoKSksIiMiK3kpLmVhY2gobm4pLGg9bnVsbCksdHUoQ3QuZnJvbURvbShnLmdldEJvZHkoKSksIiMiK3kpLmVhY2gobm4pLGg9bnVsbH0sdz1mdW5jdGlvbigpe28uaGlkZSgpfTtyZXR1cm4gbXQuY2VGYWxzZSYmZnVuY3Rpb24oKXtnLm9uKCJtb3VzZXVwIixmdW5jdGlvbihlKXt2YXIgdD1yKCk7dC5jb2xsYXBzZWQmJmhoKGcsZS5jbGllbnRYLGUuY2xpZW50WSkmJmEoS2IoZyx0LCExKSl9KSxnLm9uKCJjbGljayIsZnVuY3Rpb24oZSl7dmFyIHQ9ZFMoZyxlLnRhcmdldCk7dCYmKGZTKHQpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGcuZm9jdXMoKSksbFModCkmJmcuZG9tLmlzQ2hpbGRPZih0LGcuc2VsZWN0aW9uLmdldE5vZGUoKSkmJmMoKSl9KSxnLm9uKCJibHVyIE5ld0Jsb2NrIixmdW5jdGlvbigpe2MoKX0pLGcub24oIlJlc2l6ZVdpbmRvdyBGdWxsc2NyZWVuU3RhdGVDaGFuZ2VkIixmdW5jdGlvbigpe3JldHVybiBvLnJlcG9zaXRpb24oKX0pO3ZhciBuLGk9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89Zy5kb20uZ2V0UGFyZW50KGUsZy5kb20uaXNCbG9jayksaT1nLmRvbS5nZXRQYXJlbnQodCxnLmRvbS5pc0Jsb2NrKTtyZXR1cm4hKCFvfHwhZy5kb20uaXNDaGlsZE9mKG8saSl8fCExIT09ZlMoZFMoZyxvKSkpfHxvJiYobj1vLHI9aSwhKGcuZG9tLmdldFBhcmVudChuLGcuZG9tLmlzQmxvY2spPT09Zy5kb20uZ2V0UGFyZW50KHIsZy5kb20uaXNCbG9jaykpKSYmZnVuY3Rpb24oZSl7dmFyIHQ9dGwoZSk7aWYoIWUuZmlyc3RDaGlsZClyZXR1cm4hMTt2YXIgbj1Tcy5iZWZvcmUoZS5maXJzdENoaWxkKSxyPXQubmV4dChuKTtyZXR1cm4gciYmIWlkKHIpJiYhYWQocil9KG8pfTsobj1nKS5vbigidGFwIixmdW5jdGlvbihlKXt2YXIgdD1kUyhuLGUudGFyZ2V0KTtmUyh0KSYmKGUucHJldmVudERlZmF1bHQoKSxzKFdiKG4sdCkpKX0sITApLGcub24oIm1vdXNlZG93biIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7aWYoKHQ9PT12fHwiSFRNTCI9PT10Lm5vZGVOYW1lfHxnLmRvbS5pc0NoaWxkT2YodCx2KSkmJiExIT09aGgoZyxlLmNsaWVudFgsZS5jbGllbnRZKSl7dmFyIG49ZFMoZyx0KTtpZihuKWZTKG4pPyhlLnByZXZlbnREZWZhdWx0KCkscyhXYihnLG4pKSk6KGMoKSxsUyhuKSYmZS5zaGlmdEtleXx8aHYoZS5jbGllbnRYLGUuY2xpZW50WSxnLnNlbGVjdGlvbi5nZXRSbmcoKSl8fCh3KCksZy5zZWxlY3Rpb24ucGxhY2VDYXJldEF0KGUuY2xpZW50WCxlLmNsaWVudFkpKSk7ZWxzZSBpZighMT09PXhjKHQpKXtjKCksdygpO3ZhciByPUhiKHYsZS5jbGllbnRYLGUuY2xpZW50WSk7aWYociYmIWkoZS50YXJnZXQsci5ub2RlKSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBvPWIoMSxyLm5vZGUsci5iZWZvcmUsITEpO2cuZ2V0Qm9keSgpLmZvY3VzKCksYShvKX19fX0pLGcub24oImtleXByZXNzIixmdW5jdGlvbihlKXt2di5tb2RpZmllclByZXNzZWQoZSl8fChlLmtleUNvZGUsZlMoZy5zZWxlY3Rpb24uZ2V0Tm9kZSgpKSYmZS5wcmV2ZW50RGVmYXVsdCgpKX0pLGcub24oIkdldFNlbGVjdGlvblJhbmdlIixmdW5jdGlvbihlKXt2YXIgdD1lLnJhbmdlO2lmKGgpe2lmKCFoLnBhcmVudE5vZGUpcmV0dXJuIHZvaWQoaD1udWxsKTsodD10LmNsb25lUmFuZ2UoKSkuc2VsZWN0Tm9kZShoKSxlLnJhbmdlPXR9fSksZy5vbigiU2V0U2VsZWN0aW9uUmFuZ2UiLGZ1bmN0aW9uKGUpe2UucmFuZ2U9dShlLnJhbmdlKTt2YXIgdD1zKGUucmFuZ2UsZS5mb3J3YXJkKTt0JiYoZS5yYW5nZT10KX0pO3ZhciB0LGU7Zy5vbigiQWZ0ZXJTZXRTZWxlY3Rpb25SYW5nZSIsZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJhbmdlO0Mobil8fCJtY2VwYXN0ZWJpbiI9PT1uLnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGUuaWR8fHcoKSx0PW4uc3RhcnRDb250YWluZXIucGFyZW50Tm9kZSxnLmRvbS5oYXNDbGFzcyh0LCJtY2Utb2Zmc2NyZWVuLXNlbGVjdGlvbiIpfHxjKCl9KSxnLm9uKCJjb3B5IixmdW5jdGlvbihlKXt2YXIgdCxuPWUuY2xpcGJvYXJkRGF0YTtpZighZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmZS5jbGlwYm9hcmREYXRhJiYhbXQuaWUpe3ZhciByPSh0PWcuZG9tLmdldCh5KSk/dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpWzBdOnQ7ciYmKGUucHJldmVudERlZmF1bHQoKSxuLmNsZWFyRGF0YSgpLG4uc2V0RGF0YSgidGV4dC9odG1sIixyLm91dGVySFRNTCksbi5zZXREYXRhKCJ0ZXh0L3BsYWluIixyLm91dGVyVGV4dCkpfX0pLGNTKGcpLGU9VWEoZnVuY3Rpb24oKXtpZighdC5yZW1vdmVkJiZ0LmdldEJvZHkoKS5jb250YWlucyhWLmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpJiZ0LnNlbGVjdGlvbi5nZXRSbmcoKS5jb2xsYXBzZWQpe3ZhciBlPVhiKHQsdC5zZWxlY3Rpb24uZ2V0Um5nKCksITEpO3Quc2VsZWN0aW9uLnNldFJuZyhlKX19LDApLCh0PWcpLm9uKCJmb2N1cyIsZnVuY3Rpb24oKXtlLnRocm90dGxlKCl9KSx0Lm9uKCJibHVyIixmdW5jdGlvbigpe2UuY2FuY2VsKCl9KX0oKSx7c2hvd0NhcmV0OmIsc2hvd0Jsb2NrQ2FyZXRDb250YWluZXI6ZnVuY3Rpb24oZSl7ZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IikmJihPdShlKSxhKHIoKSksZy5zZWxlY3Rpb24uc2Nyb2xsSW50b1ZpZXcoZSkpfSxoaWRlRmFrZUNhcmV0OncsZGVzdHJveTpmdW5jdGlvbigpe28uZGVzdHJveSgpLGg9bnVsbH19fSxwUz1mdW5jdGlvbih1KXt2YXIgcyxuLHIsbz15dC5lYWNoLGM9dnYuQkFDS1NQQUNFLGw9dnYuREVMRVRFLGY9dS5kb20sZD11LnNlbGVjdGlvbixlPXUucGFyc2VyLHQ9bXQuZ2Vja28saT1tdC5pZSxhPW10LndlYmtpdCxtPSJkYXRhOnRleHQvbWNlLWludGVybmFsLCIscD1pPyJUZXh0IjoiVVJMIixnPWZ1bmN0aW9uKGUsdCl7dHJ5e3UuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoZSwhMSx0KX1jYXRjaChuKXt9fSxoPWZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRGVmYXVsdFByZXZlbnRlZCgpfSx2PWZ1bmN0aW9uKCl7dS5zaG9ydGN1dHMuYWRkKCJtZXRhK2EiLG51bGwsIlNlbGVjdEFsbCIpfSx5PWZ1bmN0aW9uKCl7dS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7aWYoIWgoZSkmJmUua2V5Q29kZT09PWMmJmQuaXNDb2xsYXBzZWQoKSYmMD09PWQuZ2V0Um5nKCkuc3RhcnRPZmZzZXQpe3ZhciB0PWQuZ2V0Tm9kZSgpLnByZXZpb3VzU2libGluZztpZih0JiZ0Lm5vZGVOYW1lJiYidGFibGUiPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCksITF9fSl9LGI9ZnVuY3Rpb24oKXt1LmlubGluZXx8KHUuY29udGVudFN0eWxlcy5wdXNoKCJib2R5IHttaW4taGVpZ2h0OiAxNTBweH0iKSx1Lm9uKCJjbGljayIsZnVuY3Rpb24oZSl7dmFyIHQ7aWYoIkhUTUwiPT09ZS50YXJnZXQubm9kZU5hbWUpe2lmKDExPG10LmllKXJldHVybiB2b2lkIHUuZ2V0Qm9keSgpLmZvY3VzKCk7dD11LnNlbGVjdGlvbi5nZXRSbmcoKSx1LmdldEJvZHkoKS5mb2N1cygpLHUuc2VsZWN0aW9uLnNldFJuZyh0KSx1LnNlbGVjdGlvbi5ub3JtYWxpemUoKSx1Lm5vZGVDaGFuZ2VkKCl9fSkpfTtyZXR1cm4gdS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighaChlKSYmZS5rZXlDb2RlPT09dnYuQkFDS1NQQUNFKXt2YXIgcj0odD1kLmdldFJuZygpKS5zdGFydENvbnRhaW5lcixvPXQuc3RhcnRPZmZzZXQsaT1mLmdldFJvb3QoKTtpZihuPXIsdC5jb2xsYXBzZWQmJjA9PT1vKXtmb3IoO24mJm4ucGFyZW50Tm9kZSYmbi5wYXJlbnROb2RlLmZpcnN0Q2hpbGQ9PT1uJiZuLnBhcmVudE5vZGUhPT1pOyluPW4ucGFyZW50Tm9kZTsiQkxPQ0tRVU9URSI9PT1uLnRhZ05hbWUmJih1LmZvcm1hdHRlci50b2dnbGUoImJsb2NrcXVvdGUiLG51bGwsbiksKHQ9Zi5jcmVhdGVSbmcoKSkuc2V0U3RhcnQociwwKSx0LnNldEVuZChyLDApLGQuc2V0Um5nKHQpKX19fSkscz1mdW5jdGlvbihlKXt2YXIgdD1mLmNyZWF0ZSgiYm9keSIpLG49ZS5jbG9uZUNvbnRlbnRzKCk7cmV0dXJuIHQuYXBwZW5kQ2hpbGQobiksZC5zZXJpYWxpemVyLnNlcmlhbGl6ZSh0LHtmb3JtYXQ6Imh0bWwifSl9LHUub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYT1lLmtleUNvZGU7aWYoIWgoZSkmJihhPT09bHx8YT09PWMpKXtpZih0PXUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCksbj11LmdldEJvZHkoKSx0JiYhZi5pc0VtcHR5KG4pKXJldHVybjtpZighdCYmKHI9dS5zZWxlY3Rpb24uZ2V0Um5nKCksbz1zKHIpLChpPWYuY3JlYXRlUm5nKCkpLnNlbGVjdE5vZGUodS5nZXRCb2R5KCkpLG8hPT1zKGkpKSlyZXR1cm47ZS5wcmV2ZW50RGVmYXVsdCgpLHUuc2V0Q29udGVudCgiIiksbi5maXJzdENoaWxkJiZmLmlzQmxvY2sobi5maXJzdENoaWxkKT91LnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihuLmZpcnN0Q2hpbGQsMCk6dS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24obiwwKSx1Lm5vZGVDaGFuZ2VkKCl9fSksbXQud2luZG93c1Bob25lfHx1Lm9uKCJrZXl1cCBmb2N1c2luIG1vdXNldXAiLGZ1bmN0aW9uKGUpe3Z2Lm1vZGlmaWVyUHJlc3NlZChlKXx8ZC5ub3JtYWxpemUoKX0sITApLGEmJih1LmlubGluZXx8Zi5iaW5kKHUuZ2V0RG9jKCksIm1vdXNlZG93biBtb3VzZXVwIixmdW5jdGlvbihlKXt2YXIgdDtpZihlLnRhcmdldD09PXUuZ2V0RG9jKCkuZG9jdW1lbnRFbGVtZW50KWlmKHQ9ZC5nZXRSbmcoKSx1LmdldEJvZHkoKS5mb2N1cygpLCJtb3VzZWRvd24iPT09ZS50eXBlKXtpZihFdSh0LnN0YXJ0Q29udGFpbmVyKSlyZXR1cm47ZC5wbGFjZUNhcmV0QXQoZS5jbGllbnRYLGUuY2xpZW50WSl9ZWxzZSBkLnNldFJuZyh0KX0pLHUub24oImNsaWNrIixmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDsvXihJTUd8SFIpJC8udGVzdCh0Lm5vZGVOYW1lKSYmImZhbHNlIiE9PWYuZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50KHQpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHUuc2VsZWN0aW9uLnNlbGVjdCh0KSx1Lm5vZGVDaGFuZ2VkKCkpLCJBIj09PXQubm9kZU5hbWUmJmYuaGFzQ2xhc3ModCwibWNlLWl0ZW0tYW5jaG9yIikmJihlLnByZXZlbnREZWZhdWx0KCksZC5zZWxlY3QodCkpfSksWXModSkmJnUub24oImluaXQiLGZ1bmN0aW9uKCl7ZygiRGVmYXVsdFBhcmFncmFwaFNlcGFyYXRvciIsWXModSkpfSksdS5vbigiaW5pdCIsZnVuY3Rpb24oKXt1LmRvbS5iaW5kKHUuZ2V0Qm9keSgpLCJzdWJtaXQiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKX0pfSkseSgpLGUuYWRkTm9kZUZpbHRlcigiYnIiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDt0LS07KSJBcHBsZS1pbnRlcmNoYW5nZS1uZXdsaW5lIj09PWVbdF0uYXR0cigiY2xhc3MiKSYmZVt0XS5yZW1vdmUoKX0pLG10LmlPUz8odS5pbmxpbmV8fHUub24oImtleWRvd24iLGZ1bmN0aW9uKCl7Vi5kb2N1bWVudC5hY3RpdmVFbGVtZW50PT09Vi5kb2N1bWVudC5ib2R5JiZ1LmdldFdpbigpLmZvY3VzKCl9KSxiKCksdS5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0O2Rve2lmKCJBIj09PXQudGFnTmFtZSlyZXR1cm4gdm9pZCBlLnByZXZlbnREZWZhdWx0KCl9d2hpbGUodD10LnBhcmVudE5vZGUpfSksdS5jb250ZW50U3R5bGVzLnB1c2goIi5tY2UtY29udGVudC1ib2R5IHstd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmV9IikpOnYoKSksMTE8PW10LmllJiYoYigpLHkoKSksbXQuaWUmJih2KCksZygiQXV0b1VybERldGVjdCIsITEpLHUub24oImRyYWdzdGFydCIsZnVuY3Rpb24oZSl7dmFyIHQsbixyOyh0PWUpLmRhdGFUcmFuc2ZlciYmKHUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJiJJTUciPT09dC50YXJnZXQudGFnTmFtZSYmZC5zZWxlY3QodC50YXJnZXQpLDA8KG49dS5zZWxlY3Rpb24uZ2V0Q29udGVudCgpKS5sZW5ndGgmJihyPW0rZXNjYXBlKHUuaWQpKyIsIitlc2NhcGUobiksdC5kYXRhVHJhbnNmZXIuc2V0RGF0YShwLHIpKSl9KSx1Lm9uKCJkcm9wIixmdW5jdGlvbihlKXtpZighaChlKSl7dmFyIHQ9KGk9ZSkuZGF0YVRyYW5zZmVyJiYoYT1pLmRhdGFUcmFuc2Zlci5nZXREYXRhKHApKSYmMDw9YS5pbmRleE9mKG0pPyhhPWEuc3Vic3RyKG0ubGVuZ3RoKS5zcGxpdCgiLCIpLHtpZDp1bmVzY2FwZShhWzBdKSxodG1sOnVuZXNjYXBlKGFbMV0pfSk6bnVsbDtpZih0JiZ0LmlkIT09dS5pZCl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPUpoKGUueCxlLnksdS5nZXREb2MoKSk7ZC5zZXRSbmcobikscj10Lmh0bWwsbz0hMCx1LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgibWNlSW5zZXJ0Q2xpcGJvYXJkQ29udGVudCIpP3UuZXhlY0NvbW1hbmQoIm1jZUluc2VydENsaXBib2FyZENvbnRlbnQiLCExLHtjb250ZW50OnIsaW50ZXJuYWw6b30pOnUuZXhlY0NvbW1hbmQoIm1jZUluc2VydENvbnRlbnQiLCExLHIpfX12YXIgcixvLGksYX0pKSx0JiYodS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7aWYoIWgoZSkmJmUua2V5Q29kZT09PWMpe2lmKCF1LmdldEJvZHkoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaHIiKS5sZW5ndGgpcmV0dXJuO2lmKGQuaXNDb2xsYXBzZWQoKSYmMD09PWQuZ2V0Um5nKCkuc3RhcnRPZmZzZXQpe3ZhciB0PWQuZ2V0Tm9kZSgpLG49dC5wcmV2aW91c1NpYmxpbmc7aWYoIkhSIj09PXQubm9kZU5hbWUpcmV0dXJuIGYucmVtb3ZlKHQpLHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpO24mJm4ubm9kZU5hbWUmJiJociI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJihmLnJlbW92ZShuKSxlLnByZXZlbnREZWZhdWx0KCkpfX19KSxWLlJhbmdlLnByb3RvdHlwZS5nZXRDbGllbnRSZWN0c3x8dS5vbigibW91c2Vkb3duIixmdW5jdGlvbihlKXtpZighaChlKSYmIkhUTUwiPT09ZS50YXJnZXQubm9kZU5hbWUpe3ZhciB0PXUuZ2V0Qm9keSgpO3QuYmx1cigpLGZhLnNldEVkaXRvclRpbWVvdXQodSxmdW5jdGlvbigpe3QuZm9jdXMoKX0pfX0pLG49ZnVuY3Rpb24oKXt2YXIgZT1mLmdldEF0dHJpYnMoZC5nZXRTdGFydCgpLmNsb25lTm9kZSghMSkpO3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWQuZ2V0U3RhcnQoKTt0IT09dS5nZXRCb2R5KCkmJihmLnNldEF0dHJpYih0LCJzdHlsZSIsbnVsbCksbyhlLGZ1bmN0aW9uKGUpe3Quc2V0QXR0cmlidXRlTm9kZShlLmNsb25lTm9kZSghMCkpfSkpfX0scj1mdW5jdGlvbigpe3JldHVybiFkLmlzQ29sbGFwc2VkKCkmJmYuZ2V0UGFyZW50KGQuZ2V0U3RhcnQoKSxmLmlzQmxvY2spIT09Zi5nZXRQYXJlbnQoZC5nZXRFbmQoKSxmLmlzQmxvY2spfSx1Lm9uKCJrZXlwcmVzcyIsZnVuY3Rpb24oZSl7dmFyIHQ7aWYoIWgoZSkmJig4PT09ZS5rZXlDb2RlfHw0Nj09PWUua2V5Q29kZSkmJnIoKSlyZXR1cm4gdD1uKCksdS5nZXREb2MoKS5leGVjQ29tbWFuZCgiZGVsZXRlIiwhMSxudWxsKSx0KCksZS5wcmV2ZW50RGVmYXVsdCgpLCExfSksZi5iaW5kKHUuZ2V0RG9jKCksImN1dCIsZnVuY3Rpb24oZSl7dmFyIHQ7IWgoZSkmJnIoKSYmKHQ9bigpLGZhLnNldEVkaXRvclRpbWVvdXQodSxmdW5jdGlvbigpe3QoKX0pKX0pLHUuZ2V0UGFyYW0oInJlYWRvbmx5Iil8fHUub24oIkJlZm9yZUV4ZWNDb21tYW5kIG1vdXNlZG93biIsZnVuY3Rpb24oKXtnKCJTdHlsZVdpdGhDU1MiLCExKSxnKCJlbmFibGVJbmxpbmVUYWJsZUVkaXRpbmciLCExKSxuYyh1KXx8ZygiZW5hYmxlT2JqZWN0UmVzaXppbmciLCExKX0pLHUub24oIlNldENvbnRlbnQgRXhlY0NvbW1hbmQiLGZ1bmN0aW9uKGUpeyJzZXRjb250ZW50IiE9PWUudHlwZSYmIm1jZUluc2VydExpbmsiIT09ZS5jb21tYW5kfHxvKGYuc2VsZWN0KCJhIiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlLG49Zi5nZXRSb290KCk7aWYodC5sYXN0Q2hpbGQ9PT1lKXtmb3IoO3QmJiFmLmlzQmxvY2sodCk7KXtpZih0LnBhcmVudE5vZGUubGFzdENoaWxkIT09dHx8dD09PW4pcmV0dXJuO3Q9dC5wYXJlbnROb2RlfWYuYWRkKHQsImJyIix7ImRhdGEtbWNlLWJvZ3VzIjoxfSl9fSl9KSx1LmNvbnRlbnRTdHlsZXMucHVzaCgiaW1nOi1tb3otYnJva2VuIHstbW96LWZvcmNlLWJyb2tlbi1pbWFnZS1pY29uOjE7bWluLXdpZHRoOjI0cHg7bWluLWhlaWdodDoyNHB4fSIpLG10Lm1hYyYmdS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7IXZ2Lm1ldGFLZXlQcmVzc2VkKGUpfHxlLnNoaWZ0S2V5fHwzNyE9PWUua2V5Q29kZSYmMzkhPT1lLmtleUNvZGV8fChlLnByZXZlbnREZWZhdWx0KCksdS5zZWxlY3Rpb24uZ2V0U2VsKCkubW9kaWZ5KCJtb3ZlIiwzNz09PWUua2V5Q29kZT8iYmFja3dhcmQiOiJmb3J3YXJkIiwibGluZWJvdW5kYXJ5IikpfSkseSgpKSx7cmVmcmVzaENvbnRlbnRFZGl0YWJsZTpmdW5jdGlvbigpe30saXNIaWRkZW46ZnVuY3Rpb24oKXtpZighdHx8dS5yZW1vdmVkKXJldHVybiExO3ZhciBlPXUuc2VsZWN0aW9uLmdldFNlbCgpO3JldHVybiFlfHwhZS5yYW5nZUNvdW50fHwwPT09ZS5yYW5nZUNvdW50fX19LGdTPUVhLkRPTSxoUz1mdW5jdGlvbihlKXtyZXR1cm4gbGUoZSxmdW5jdGlvbihlKXtyZXR1cm4hMT09PVIoZSl9KX0sdlM9ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnNldHRpbmdzLHI9ZS5lZGl0b3JVcGxvYWQuYmxvYkNhY2hlO3JldHVybiBoUyh7YWxsb3dfY29uZGl0aW9uYWxfY29tbWVudHM6bi5hbGxvd19jb25kaXRpb25hbF9jb21tZW50cyxhbGxvd19odG1sX2RhdGFfdXJsczpuLmFsbG93X2h0bWxfZGF0YV91cmxzLGFsbG93X2h0bWxfaW5fbmFtZWRfYW5jaG9yOm4uYWxsb3dfaHRtbF9pbl9uYW1lZF9hbmNob3IsYWxsb3dfc2NyaXB0X3VybHM6bi5hbGxvd19zY3JpcHRfdXJscyxhbGxvd191bnNhZmVfbGlua190YXJnZXQ6bi5hbGxvd191bnNhZmVfbGlua190YXJnZXQsY29udmVydF9mb250c190b19zcGFuczpuLmNvbnZlcnRfZm9udHNfdG9fc3BhbnMsZml4X2xpc3RfZWxlbWVudHM6bi5maXhfbGlzdF9lbGVtZW50cyxmb250X3NpemVfbGVnYWN5X3ZhbHVlczpuLmZvbnRfc2l6ZV9sZWdhY3lfdmFsdWVzLGZvcmNlZF9yb290X2Jsb2NrOm4uZm9yY2VkX3Jvb3RfYmxvY2ssZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnM6bi5mb3JjZWRfcm9vdF9ibG9ja19hdHRycyxwYWRkX2VtcHR5X3dpdGhfYnI6bi5wYWRkX2VtcHR5X3dpdGhfYnIscHJlc2VydmVfY2RhdGE6bi5wcmVzZXJ2ZV9jZGF0YSxyZW1vdmVfdHJhaWxpbmdfYnJzOm4ucmVtb3ZlX3RyYWlsaW5nX2JycyxpbmxpbmVfc3R5bGVzOm4uaW5saW5lX3N0eWxlcyxyb290X25hbWU6KHQ9ZSkuaW5saW5lP3QuZ2V0RWxlbWVudCgpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6dW5kZWZpbmVkLHZhbGlkYXRlOiEwLGJsb2JfY2FjaGU6cixpbWFnZXNfZGF0YWltZ19maWx0ZXI6bi5pbWFnZXNfZGF0YWltZ19maWx0ZXJ9KX0seVM9ZnVuY3Rpb24odSl7dmFyIGU9dS5kb20uZ2V0Um9vdCgpO3UuaW5saW5lfHxtZih1KSYmdS5zZWxlY3Rpb24uZ2V0U3RhcnQoITApIT09ZXx8ZGwoZSkuZWFjaChmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpPWUuZ2V0Tm9kZSgpLGE9eG4oaSk/ZGwoaSkuZ2V0T3IoZSk6ZTttdC5icm93c2VyLmlzSUUoKT8odD11LG49YS50b1JhbmdlKCkscj1DdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSxvPShEbSh0KT9CLmZyb20obik6Qi5ub25lKCkpLm1hcChPbSkuZmlsdGVyKEFtKHIpKSx0LmJvb2ttYXJrPW8uaXNTb21lKCk/bzp0LmJvb2ttYXJrKTp1LnNlbGVjdGlvbi5zZXRSbmcoYS50b1JhbmdlKCkpfSl9LGJTPWZ1bmN0aW9uKGUpe3ZhciB0O2UuYmluZFBlbmRpbmdFdmVudERlbGVnYXRlcygpLGUuaW5pdGlhbGl6ZWQ9ITAsZS5maXJlKCJJbml0IiksZS5mb2N1cyghMCkseVMoZSksZS5ub2RlQ2hhbmdlZCh7aW5pdGlhbDohMH0pLGUuZXhlY0NhbGxiYWNrKCJpbml0X2luc3RhbmNlX2NhbGxiYWNrIixlKSwodD1lKS5zZXR0aW5ncy5hdXRvX2ZvY3VzJiZmYS5zZXRFZGl0b3JUaW1lb3V0KHQsZnVuY3Rpb24oKXt2YXIgZTsoZT0hMD09PXQuc2V0dGluZ3MuYXV0b19mb2N1cz90OnQuZWRpdG9yTWFuYWdlci5nZXQodC5zZXR0aW5ncy5hdXRvX2ZvY3VzKSkuZGVzdHJveWVkfHxlLmZvY3VzKCl9LDEwMCl9LENTPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zZXR0aW5ncyxyPXQuZ2V0RG9jKCksbz10LmdldEJvZHkoKTtuLmJyb3dzZXJfc3BlbGxjaGVja3x8bi5nZWNrb19zcGVsbGNoZWNrfHwoci5ib2R5LnNwZWxsY2hlY2s9ITEsZ1Muc2V0QXR0cmliKG8sInNwZWxsY2hlY2siLCJmYWxzZSIpKSx0LnF1aXJrcz1wUyh0KSx0LmZpcmUoIlBvc3RSZW5kZXIiKTt2YXIgaSxhLHUscyxjLGw9dC5nZXRQYXJhbSgiZGlyZWN0aW9uYWxpdHkiLElhLmlzUnRsKCk/InJ0bCI6dW5kZWZpbmVkKTtpZihsIT09dW5kZWZpbmVkJiYoby5kaXI9bCksbi5wcm90ZWN0JiZ0Lm9uKCJCZWZvcmVTZXRDb250ZW50IixmdW5jdGlvbih0KXt5dC5lYWNoKG4ucHJvdGVjdCxmdW5jdGlvbihlKXt0LmNvbnRlbnQ9dC5jb250ZW50LnJlcGxhY2UoZSxmdW5jdGlvbihlKXtyZXR1cm4iXHgzYyEtLW1jZTpwcm90ZWN0ZWQgIitlc2NhcGUoZSkrIi0tXHgzZSJ9KX0pfSksdC5vbigiU2V0Q29udGVudCIsZnVuY3Rpb24oKXt0LmFkZFZpc3VhbCh0LmdldEJvZHkoKSl9KSwhMT09PWUmJnQubG9hZCh7aW5pdGlhbDohMCxmb3JtYXQ6Imh0bWwifSksdC5zdGFydENvbnRlbnQ9dC5nZXRDb250ZW50KHtmb3JtYXQ6InJhdyJ9KSx0Lm9uKCJjb21wb3NpdGlvbnN0YXJ0IGNvbXBvc2l0aW9uZW5kIixmdW5jdGlvbihlKXt0LmNvbXBvc2luZz0iY29tcG9zaXRpb25zdGFydCI9PT1lLnR5cGV9KSwwPHQuY29udGVudFN0eWxlcy5sZW5ndGgpe3ZhciBmPSIiO3l0LmVhY2godC5jb250ZW50U3R5bGVzLGZ1bmN0aW9uKGUpe2YrPWUrIlxyXG4ifSksdC5kb20uYWRkU3R5bGUoZil9KChpPXQpLmlubGluZT9nUy5zdHlsZVNoZWV0TG9hZGVyOmkuZG9tLnN0eWxlU2hlZXRMb2FkZXIpLmxvYWRBbGwodC5jb250ZW50Q1NTLGZ1bmN0aW9uKGUpe2JTKHQpfSxmdW5jdGlvbihlKXtiUyh0KX0pLG4uY29udGVudF9zdHlsZSYmKGE9dCx1PW4uY29udGVudF9zdHlsZSxzPUN0LmZyb21Eb20oYS5nZXREb2MoKS5oZWFkKSxjPUN0LmZyb21UYWcoInN0eWxlIiksUG4oYywidHlwZSIsInRleHQvY3NzIiksWnQoYyxDdC5mcm9tVGV4dCh1KSksWnQocyxjKSl9LHdTPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zZXR0aW5ncyxyPXQuZ2V0RWxlbWVudCgpLG89dC5nZXREb2MoKTtuLmlubGluZXx8KHQuZ2V0RWxlbWVudCgpLnN0eWxlLnZpc2liaWxpdHk9dC5vcmdWaXNpYmlsaXR5KSxlfHx0LmlubGluZXx8KG8ub3BlbigpLG8ud3JpdGUodC5pZnJhbWVIVE1MKSxvLmNsb3NlKCkpLHQuaW5saW5lJiYoZ1MuYWRkQ2xhc3MociwibWNlLWNvbnRlbnQtYm9keSIpLHQuY29udGVudERvY3VtZW50PW89Vi5kb2N1bWVudCx0LmNvbnRlbnRXaW5kb3c9Vi53aW5kb3csdC5ib2R5RWxlbWVudD1yLHQuY29udGVudEFyZWFDb250YWluZXI9cik7dmFyIHUsaSxhLHMsYyxsLGY9dC5nZXRCb2R5KCk7Zi5kaXNhYmxlZD0hMCx0LnJlYWRvbmx5PSEhbi5yZWFkb25seSx0LnJlYWRvbmx5fHwodC5pbmxpbmUmJiJzdGF0aWMiPT09Z1MuZ2V0U3R5bGUoZiwicG9zaXRpb24iLCEwKSYmKGYuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIiksZi5jb250ZW50RWRpdGFibGU9dC5nZXRQYXJhbSgiY29udGVudF9lZGl0YWJsZV9zdGF0ZSIsITApKSxmLmRpc2FibGVkPSExLHQuZWRpdG9yVXBsb2FkPVF2KHQpLHQuc2NoZW1hPVJyKG4pLHQuZG9tPUVhKG8se2tlZXBfdmFsdWVzOiEwLHVybF9jb252ZXJ0ZXI6dC5jb252ZXJ0VVJMLHVybF9jb252ZXJ0ZXJfc2NvcGU6dCxoZXhfY29sb3JzOm4uZm9yY2VfaGV4X3N0eWxlX2NvbG9ycyx1cGRhdGVfc3R5bGVzOiEwLHJvb3RfZWxlbWVudDp0LmlubGluZT90LmdldEJvZHkoKTpudWxsLGNvbGxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdC5pbmxpbmV9LHNjaGVtYTp0LnNjaGVtYSxjb250ZW50Q3NzQ29yczp0LmdldFBhcmFtKCJjb250ZW50X2Nzc19jb3JzIiwhMSwiYm9vbGVhbiIpLHJlZmVycmVyUG9saWN5OlpzKHQpLG9uU2V0QXR0cmliOmZ1bmN0aW9uKGUpe3QuZmlyZSgiU2V0QXR0cmliIixlKX19KSx0LnBhcnNlcj0oKGk9VnYodlModT10KSx1LnNjaGVtYSkpLmFkZEF0dHJpYnV0ZUZpbHRlcigic3JjLGhyZWYsc3R5bGUsdGFiaW5kZXgiLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHIsbz1lLmxlbmd0aCxpPXUuZG9tLGE9ImRhdGEtbWNlLSIrdDtvLS07KWlmKChyPShuPWVbb10pLmF0dHIodCkpJiYhbi5hdHRyKGEpKXtpZigwPT09ci5pbmRleE9mKCJkYXRhOiIpfHwwPT09ci5pbmRleE9mKCJibG9iOiIpKWNvbnRpbnVlOyJzdHlsZSI9PT10Pygocj1pLnNlcmlhbGl6ZVN0eWxlKGkucGFyc2VTdHlsZShyKSxuLm5hbWUpKS5sZW5ndGh8fChyPW51bGwpLG4uYXR0cihhLHIpLG4uYXR0cih0LHIpKToidGFiaW5kZXgiPT09dD8obi5hdHRyKGEsciksbi5hdHRyKHQsbnVsbCkpOm4uYXR0cihhLHUuY29udmVydFVSTChyLHQsbi5uYW1lKSl9fSksaS5hZGROb2RlRmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDt0LS07KXt2YXIgbj1lW3RdLHI9bi5hdHRyKCJ0eXBlIil8fCJuby90eXBlIjswIT09ci5pbmRleE9mKCJtY2UtIikmJm4uYXR0cigidHlwZSIsIm1jZS0iK3IpfX0pLHUuc2V0dGluZ3MucHJlc2VydmVfY2RhdGEmJmkuYWRkTm9kZUZpbHRlcigiI2NkYXRhIixmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dC0tOyl7dmFyIG49ZVt0XTtuLnR5cGU9OCxuLm5hbWU9IiNjb21tZW50IixuLnZhbHVlPSJbQ0RBVEFbIit1LmRvbS5lbmNvZGUobi52YWx1ZSkrIl1dIn19KSxpLmFkZE5vZGVGaWx0ZXIoInAsaDEsaDIsaDMsaDQsaDUsaDYsZGl2IixmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGgsbj11LnNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCk7dC0tOyl7dmFyIHI9ZVt0XTtyLmlzRW1wdHkobikmJjA9PT1yLmdldEFsbCgiYnIiKS5sZW5ndGgmJihyLmFwcGVuZChuZXcgVGYoImJyIiwxKSkuc2hvcnRFbmRlZD0hMCl9fSksaSksdC5zZXJpYWxpemVyPVh2KChzPShhPXQpLnNldHRpbmdzLHhlKHhlKHt9LHZTKGEpKSxoUyh7dXJsX2NvbnZlcnRlcjpzLnVybF9jb252ZXJ0ZXIsdXJsX2NvbnZlcnRlcl9zY29wZTpzLnVybF9jb252ZXJ0ZXJfc2NvcGUsZWxlbWVudF9mb3JtYXQ6cy5lbGVtZW50X2Zvcm1hdCxlbnRpdGllczpzLmVudGl0aWVzLGVudGl0eV9lbmNvZGluZzpzLmVudGl0eV9lbmNvZGluZyxpbmRlbnQ6cy5pbmRlbnQsaW5kZW50X2FmdGVyOnMuaW5kZW50X2FmdGVyLGluZGVudF9iZWZvcmU6cy5pbmRlbnRfYmVmb3JlLGJsb2NrX2VsZW1lbnRzOnMuYmxvY2tfZWxlbWVudHMsYm9vbGVhbl9hdHRyaWJ1dGVzOnMuYm9vbGVhbl9hdHRyaWJ1dGVzLGN1c3RvbV9lbGVtZW50czpzLmN1c3RvbV9lbGVtZW50cyxleHRlbmRlZF92YWxpZF9lbGVtZW50czpzLmV4dGVuZGVkX3ZhbGlkX2VsZW1lbnRzLGludmFsaWRfZWxlbWVudHM6cy5pbnZhbGlkX2VsZW1lbnRzLGludmFsaWRfc3R5bGVzOnMuaW52YWxpZF9zdHlsZXMsbW92ZV9jYXJldF9iZWZvcmVfb25fZW50ZXJfZWxlbWVudHM6cy5tb3ZlX2NhcmV0X2JlZm9yZV9vbl9lbnRlcl9lbGVtZW50cyxub25fZW1wdHlfZWxlbWVudHM6cy5ub25fZW1wdHlfZWxlbWVudHMsc2NoZW1hOnMuc2NoZW1hLHNlbGZfY2xvc2luZ19lbGVtZW50czpzLnNlbGZfY2xvc2luZ19lbGVtZW50cyxzaG9ydF9lbmRlZF9lbGVtZW50czpzLnNob3J0X2VuZGVkX2VsZW1lbnRzLHNwZWNpYWw6cy5zcGVjaWFsLHRleHRfYmxvY2tfZWxlbWVudHM6cy50ZXh0X2Jsb2NrX2VsZW1lbnRzLHRleHRfaW5saW5lX2VsZW1lbnRzOnMudGV4dF9pbmxpbmVfZWxlbWVudHMsdmFsaWRfY2hpbGRyZW46cy52YWxpZF9jaGlsZHJlbix2YWxpZF9jbGFzc2VzOnMudmFsaWRfY2xhc3Nlcyx2YWxpZF9lbGVtZW50czpzLnZhbGlkX2VsZW1lbnRzLHZhbGlkX3N0eWxlczpzLnZhbGlkX3N0eWxlcyx2ZXJpZnlfaHRtbDpzLnZlcmlmeV9odG1sLHdoaXRlc3BhY2VfZWxlbWVudHM6cy53aGl0ZXNwYWNlX2VsZW1lbnRzfSkpKSx0KSx0LnNlbGVjdGlvbj1Odih0LmRvbSx0LmdldFdpbigpLHQuc2VyaWFsaXplcix0KSx0LmFubm90YXRvcj14Zih0KSx0LmZvcm1hdHRlcj1seSh0KSx0LnVuZG9NYW5hZ2VyPWR5KHQpLHQuX25vZGVDaGFuZ2VEaXNwYXRjaGVyPW5ldyBYeCh0KSx0Ll9zZWxlY3Rpb25PdmVycmlkZXM9bVModCksYnkodCksR3godCksSWcodCl8fFF4KHQpLElnKGM9dCl8fEt4KGMpLFlzKGw9dCkmJmwub24oIk5vZGVDaGFuZ2UiLE4oeHksbCkpLHZ5KHQpLHQuZmlyZSgiUHJlSW5pdCIpLE1nKHQpLmZvbGQoZnVuY3Rpb24oKXtDUyh0LCExKX0sZnVuY3Rpb24oZSl7dC5zZXRQcm9ncmVzc1N0YXRlKCEwKSxlLnRoZW4oZnVuY3Rpb24oZSl7dC5zZXRQcm9ncmVzc1N0YXRlKCExKSxDUyh0LGUpfSl9KX0seFM9RWEuRE9NLFNTPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0UGFyYW0oImRvY3R5cGUiLCI8IURPQ1RZUEUgaHRtbD4iKSsiPGh0bWw+PGhlYWQ+IjtlLmdldFBhcmFtKCJkb2N1bWVudF9iYXNlX3VybCIsIiIpIT09ZS5kb2N1bWVudEJhc2VVcmwmJih0Kz0nPGJhc2UgaHJlZj0iJytlLmRvY3VtZW50QmFzZVVSSS5nZXRVUkkoKSsnIiAvPicpLHQrPSc8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD1VVEYtOCIgLz4nO3ZhciBuPUtzKGUsImJvZHlfaWQiLCJ0aW55bWNlIikscj1LcyhlLCJib2R5X2NsYXNzIiwiIik7cmV0dXJuIFhzKGUpJiYodCs9JzxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtU2VjdXJpdHktUG9saWN5IiBjb250ZW50PSInK1hzKGUpKyciIC8+JyksdCs9JzwvaGVhZD48Ym9keSBpZD0iJytuKyciIGNsYXNzPSJtY2UtY29udGVudC1ib2R5ICcrcisnIiBkYXRhLWlkPSInK2UuaWQrJyI+PGJyPjwvYm9keT48L2h0bWw+J30sTlM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhPWUuZWRpdG9yTWFuYWdlci50cmFuc2xhdGUoIlJpY2ggVGV4dCBBcmVhLiBQcmVzcyBBTFQtMCBmb3IgaGVscC4iKSx1PShuPWUuaWQscj1hLHQuaGVpZ2h0LG89ZS5nZXRQYXJhbSgiaWZyYW1lX2F0dHJzIix7fSksaT1DdC5mcm9tVGFnKCJpZnJhbWUiKSxMbihpLG8pLExuKGkse2lkOm4rIl9pZnIiLGZyYW1lQm9yZGVyOiIwIixhbGxvd1RyYW5zcGFyZW5jeToidHJ1ZSIsdGl0bGU6cn0pLCRhKGksInRveC1lZGl0LWFyZWFfX2lmcmFtZSIpLGkuZG9tKCkpO3Uub25sb2FkPWZ1bmN0aW9uKCl7dS5vbmxvYWQ9bnVsbCxlLmZpcmUoImxvYWQiKX07dmFyIHM9ZnVuY3Rpb24oZSx0KXtpZihWLmRvY3VtZW50LmRvbWFpbiE9PVYud2luZG93LmxvY2F0aW9uLmhvc3RuYW1lJiZtdC5icm93c2VyLmlzSUUoKSl7dmFyIG49SnYoIm1jZSIpO2Vbbl09ZnVuY3Rpb24oKXt3UyhlKX07dmFyIHI9J2phdmFzY3JpcHQ6KGZ1bmN0aW9uKCl7ZG9jdW1lbnQub3BlbigpO2RvY3VtZW50LmRvbWFpbj0iJytWLmRvY3VtZW50LmRvbWFpbisnIjt2YXIgZWQgPSB3aW5kb3cucGFyZW50LnRpbnltY2UuZ2V0KCInK2UuaWQrJyIpO2RvY3VtZW50LndyaXRlKGVkLmlmcmFtZUhUTUwpO2RvY3VtZW50LmNsb3NlKCk7ZWQuJytuKyIodHJ1ZSk7fSkoKSI7cmV0dXJuIHhTLnNldEF0dHJpYih0LCJzcmMiLHIpLCEwfXJldHVybiExfShlLHUpO3JldHVybiBlLmNvbnRlbnRBcmVhQ29udGFpbmVyPXQuaWZyYW1lQ29udGFpbmVyLGUuaWZyYW1lRWxlbWVudD11LGUuaWZyYW1lSFRNTD1TUyhlKSx4Uy5hZGQodC5pZnJhbWVDb250YWluZXIsdSksc30sRVM9RWEuRE9NLGtTPWZ1bmN0aW9uKHQsbixlKXt2YXIgcj1iaC5nZXQoZSksbz1iaC51cmxzW2VdfHx0LmRvY3VtZW50QmFzZVVybC5yZXBsYWNlKC9cLyQvLCIiKTtpZihlPXl0LnRyaW0oZSksciYmLTE9PT15dC5pbkFycmF5KG4sZSkpe2lmKHl0LmVhY2goYmguZGVwZW5kZW5jaWVzKGUpLGZ1bmN0aW9uKGUpe2tTKHQsbixlKX0pLHQucGx1Z2luc1tlXSlyZXR1cm47dHJ5e3ZhciBpPW5ldyByKHQsbyx0LiQpOyh0LnBsdWdpbnNbZV09aSkuaW5pdCYmKGkuaW5pdCh0LG8pLG4ucHVzaChlKSl9Y2F0Y2goTEUpeyFmdW5jdGlvbihlLHQsbil7dmFyIHI9SWEudHJhbnNsYXRlKFsiRmFpbGVkIHRvIGluaXRpYWxpemUgcGx1Z2luOiB7MH0iLHRdKTtfaChyLG4pLFNoKGUscil9KHQsZSxMRSl9fX0sX1M9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXlwtLywiIil9LFRTPWZ1bmN0aW9uKGUpe3JldHVybntlZGl0b3JDb250YWluZXI6ZSxpZnJhbWVDb250YWluZXI6ZX19LFJTPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lLmdldEVsZW1lbnQoKTtyZXR1cm4gZS5pbmxpbmU/VFMobnVsbCk6KHQ9cixuPUVTLmNyZWF0ZSgiZGl2IiksRVMuaW5zZXJ0QWZ0ZXIobix0KSxUUyhuKSl9LEFTPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPWUuZ2V0RWxlbWVudCgpO3JldHVybiBlLm9yZ0Rpc3BsYXk9by5zdHlsZS5kaXNwbGF5LHEob2MoZSkpP2UudGhlbWUucmVuZGVyVUkoKTpBKG9jKGUpKT8obj0odD1lKS5nZXRFbGVtZW50KCksKHI9b2ModCkodCxuKSkuZWRpdG9yQ29udGFpbmVyLm5vZGVUeXBlJiYoci5lZGl0b3JDb250YWluZXIuaWQ9ci5lZGl0b3JDb250YWluZXIuaWR8fHQuaWQrIl9wYXJlbnQiKSxyLmlmcmFtZUNvbnRhaW5lciYmci5pZnJhbWVDb250YWluZXIubm9kZVR5cGUmJihyLmlmcmFtZUNvbnRhaW5lci5pZD1yLmlmcmFtZUNvbnRhaW5lci5pZHx8dC5pZCsiX2lmcmFtZWNvbnRhaW5lciIpLHIuaGVpZ2h0PXIuaWZyYW1lSGVpZ2h0P3IuaWZyYW1lSGVpZ2h0Om4ub2Zmc2V0SGVpZ2h0LHIpOlJTKGUpfSxEUz1mdW5jdGlvbihlKXt2YXIgbix0LHIsbyxpLGE7ZS5maXJlKCJTY3JpcHRzTG9hZGVkIiksbj1lLHQ9eXQudHJpbShRcyhuKSkscj1uLnVpLnJlZ2lzdHJ5LmdldEFsbCgpLmljb25zLG89eGUoeGUoe30sY2guZ2V0KCJkZWZhdWx0IikuaWNvbnMpLGNoLmdldCh0KS5pY29ucyksb2UobyxmdW5jdGlvbihlLHQpe21lKHIsdCl8fG4udWkucmVnaXN0cnkuYWRkSWNvbih0LGUpfSksZnVuY3Rpb24oZSl7dmFyIHQ9b2MoZSk7aWYocSh0KSl7ZS5zZXR0aW5ncy50aGVtZT1fUyh0KTt2YXIgbj1DaC5nZXQodCk7ZS50aGVtZT1uZXcgbihlLENoLnVybHNbdF0pLGUudGhlbWUuaW5pdCYmZS50aGVtZS5pbml0KGUsQ2gudXJsc1t0XXx8ZS5kb2N1bWVudEJhc2VVcmwucmVwbGFjZSgvXC8kLywiIiksZS4kKX1lbHNlIGUudGhlbWU9e319KGUpLGk9ZSxhPVtdLHl0LmVhY2goYWMoaSkuc3BsaXQoL1sgLF0vKSxmdW5jdGlvbihlKXtrUyhpLGEsX1MoZSkpfSk7dmFyIHUscyxjLGwsZj1BUyhlKTtyZXR1cm4gZS5lZGl0b3JDb250YWluZXI9Zi5lZGl0b3JDb250YWluZXI/Zi5lZGl0b3JDb250YWluZXI6bnVsbCwodT1lKS5jb250ZW50Q1NTPXUuY29udGVudENTUy5jb25jYXQoVGgodSkpLGUuaW5saW5lP3dTKGUpOihsPU5TKHM9ZSxjPWYpLGMuZWRpdG9yQ29udGFpbmVyJiYoeFMuZ2V0KGMuZWRpdG9yQ29udGFpbmVyKS5zdHlsZS5kaXNwbGF5PXMub3JnRGlzcGxheSxzLmhpZGRlbj14Uy5pc0hpZGRlbihjLmVkaXRvckNvbnRhaW5lcikpLHMuZ2V0RWxlbWVudCgpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHhTLnNldEF0dHJpYihzLmlkLCJhcmlhLWhpZGRlbiIsInRydWUiKSx2b2lkKGx8fHdTKHMpKSl9LE9TPUVhLkRPTSxCUz1mdW5jdGlvbihlKXtyZXR1cm4iLSI9PT1lLmNoYXJBdCgwKX0sUFM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lYyh0KSxyPXQuZ2V0UGFyYW0oImxhbmd1YWdlX3VybCIsIiIsInN0cmluZyIpO2lmKCExPT09SWEuaGFzQ29kZShuKSYmImVuIiE9PW4pe3ZhciBvPSIiIT09cj9yOnQuZWRpdG9yTWFuYWdlci5iYXNlVVJMKyIvbGFuZ3MvIituKyIuanMiO2UuYWRkKG8sZix1bmRlZmluZWQsZnVuY3Rpb24oKXtOaCh0LCJMYW5ndWFnZUxvYWRFcnJvciIsRWgoImxhbmd1YWdlIixvLG4pKX0pfX0sTFM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBCLmZyb20oZSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwPGUubGVuZ3RoJiYhY2guaGFzKGUpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybnt1cmw6dC5lZGl0b3JNYW5hZ2VyLmJhc2VVUkwrIi9pY29ucy8iK2UrIi9pY29ucyIrbisiLmpzIixuYW1lOkIuc29tZShlKX19KX0sSVM9ZnVuY3Rpb24oZSxvLHQpe3ZhciBuLHI9TFMobywiZGVmYXVsdCIsdCksaT0obj1vLEIuZnJvbShuLmdldFBhcmFtKCJpY29uc191cmwiLCIiLCJzdHJpbmciKSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwPGUubGVuZ3RofSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybnt1cmw6ZSxuYW1lOkIubm9uZSgpfX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gTFMobyxRcyhvKSwiIil9KSk7eihmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj1mdW5jdGlvbihlKXt0LnB1c2goZSl9LHI9MDtyPGUubGVuZ3RoO3IrKyllW3JdLmVhY2gobik7cmV0dXJuIHR9KFtyLGldKSxmdW5jdGlvbihyKXtlLmFkZChyLnVybCxmLHVuZGVmaW5lZCxmdW5jdGlvbigpe3ZhciBlLHQsbjtlPW8sdD1yLnVybCxuPXIubmFtZS5nZXRPclVuZGVmaW5lZCgpLE5oKGUsIkljb25zTG9hZEVycm9yIixFaCgiaWNvbnMiLHQsbikpfSl9KX0sTVM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1SYS5TY3JpcHRMb2FkZXI7IWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPW9jKHQpO2lmKHEobykpe2lmKCFCUyhvKSYmIUNoLnVybHMuaGFzT3duUHJvcGVydHkobykpe3ZhciBpPXQuZ2V0UGFyYW0oInRoZW1lX3VybCIpO2k/Q2gubG9hZChvLHQuZG9jdW1lbnRCYXNlVVJJLnRvQWJzb2x1dGUoaSkpOkNoLmxvYWQobywidGhlbWVzLyIrbysiL3RoZW1lIituKyIuanMiKX1lLmxvYWRRdWV1ZShmdW5jdGlvbigpe0NoLndhaXRGb3IobyxyKX0pfWVsc2UgcigpfShuLGUsdCxmdW5jdGlvbigpe3ZhciByLG87UFMobixlKSxJUyhuLGUsdCkscj1lLG89dCx5dC5lYWNoKHIuZ2V0UGFyYW0oImV4dGVybmFsX3BsdWdpbnMiKSxmdW5jdGlvbihlLHQpe2JoLmxvYWQodCxlLGYsdW5kZWZpbmVkLGZ1bmN0aW9uKCl7a2gocixlLHQpfSksci5zZXR0aW5ncy5wbHVnaW5zKz0iICIrdH0pLHl0LmVhY2goYWMocikuc3BsaXQoL1sgLF0vKSxmdW5jdGlvbihlKXtpZigoZT15dC50cmltKGUpKSYmIWJoLnVybHNbZV0paWYoQlMoZSkpe2U9ZS5zdWJzdHIoMSxlLmxlbmd0aCk7dmFyIHQ9YmguZGVwZW5kZW5jaWVzKGUpO3l0LmVhY2godCxmdW5jdGlvbihlKXt2YXIgdD17cHJlZml4OiJwbHVnaW5zLyIscmVzb3VyY2U6ZSxzdWZmaXg6Ii9wbHVnaW4iK28rIi5qcyJ9LG49YmguY3JlYXRlVXJsKHQsZSk7YmgubG9hZChuLnJlc291cmNlLG4sZix1bmRlZmluZWQsZnVuY3Rpb24oKXtraChyLG4ucHJlZml4K24ucmVzb3VyY2Urbi5zdWZmaXgsbi5yZXNvdXJjZSl9KX0pfWVsc2V7dmFyIG49e3ByZWZpeDoicGx1Z2lucy8iLHJlc291cmNlOmUsc3VmZml4OiIvcGx1Z2luIitvKyIuanMifTtiaC5sb2FkKGUsbixmLHVuZGVmaW5lZCxmdW5jdGlvbigpe2toKHIsbi5wcmVmaXgrbi5yZXNvdXJjZStuLnN1ZmZpeCxlKX0pfX0pLG4ubG9hZFF1ZXVlKGZ1bmN0aW9uKCl7ZS5yZW1vdmVkfHxEUyhlKX0sZSxmdW5jdGlvbigpe2UucmVtb3ZlZHx8RFMoZSl9KX0pfSxGUz1mdW5jdGlvbih0KXt2YXIgZT10LmlkO0lhLnNldENvZGUoZWModCkpO3ZhciBuPWZ1bmN0aW9uKCl7T1MudW5iaW5kKFYud2luZG93LCJyZWFkeSIsbiksdC5yZW5kZXIoKX07aWYoSHIuRXZlbnQuZG9tTG9hZGVkKXtpZih0LmdldEVsZW1lbnQoKSYmbXQuY29udGVudEVkaXRhYmxlKXt2YXIgcixvLGk9Q3QuZnJvbURvbSh0LmdldEVsZW1lbnQoKSksYT1XKGkuZG9tKCkuYXR0cmlidXRlcyxmdW5jdGlvbihlLHQpe3JldHVybiBlW3QubmFtZV09dC52YWx1ZSxlfSx7fSk7dC5vbigicmVtb3ZlIixmdW5jdGlvbigpe2ooaS5kb20oKS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUpe3JldHVybiBNbihpLGUubmFtZSl9KSxMbihpLGEpfSksdC51aS5zdHlsZVNoZWV0TG9hZGVyPShyPWksbz10LGdhLmZvckVsZW1lbnQocix7Y29udGVudENzc0NvcnM6by5nZXRQYXJhbSgiY29udGVudF9jc3NfY29ycyIpLHJlZmVycmVyUG9saWN5OlpzKG8pfSkpLHQuZ2V0UGFyYW0oImlubGluZSIpP3QuaW5saW5lPSEwOih0Lm9yZ1Zpc2liaWxpdHk9dC5nZXRFbGVtZW50KCkuc3R5bGUudmlzaWJpbGl0eSx0LmdldEVsZW1lbnQoKS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iKTt2YXIgdT10LmdldEVsZW1lbnQoKS5mb3JtfHxPUy5nZXRQYXJlbnQoZSwiZm9ybSIpO3UmJih0LmZvcm1FbGVtZW50PXUsdC5nZXRQYXJhbSgiaGlkZGVuX2lucHV0IikmJiFObih0LmdldEVsZW1lbnQoKSkmJihPUy5pbnNlcnRBZnRlcihPUy5jcmVhdGUoImlucHV0Iix7dHlwZToiaGlkZGVuIixuYW1lOmV9KSxlKSx0Lmhhc0hpZGRlbklucHV0PSEwKSx0LmZvcm1FdmVudERlbGVnYXRlPWZ1bmN0aW9uKGUpe3QuZmlyZShlLnR5cGUsZSl9LE9TLmJpbmQodSwic3VibWl0IHJlc2V0Iix0LmZvcm1FdmVudERlbGVnYXRlKSx0Lm9uKCJyZXNldCIsZnVuY3Rpb24oKXt0LnJlc2V0Q29udGVudCgpfSksIXQuZ2V0UGFyYW0oInN1Ym1pdF9wYXRjaCIpfHx1LnN1Ym1pdC5ub2RlVHlwZXx8dS5zdWJtaXQubGVuZ3RofHx1Ll9tY2VPbGRTdWJtaXR8fCh1Ll9tY2VPbGRTdWJtaXQ9dS5zdWJtaXQsdS5zdWJtaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5lZGl0b3JNYW5hZ2VyLnRyaWdnZXJTYXZlKCksdC5zZXREaXJ0eSghMSksdS5fbWNlT2xkU3VibWl0KHUpfSkpLHQud2luZG93TWFuYWdlcj13aCh0KSx0Lm5vdGlmaWNhdGlvbk1hbmFnZXI9eWgodCksInhtbCI9PT10LmdldFBhcmFtKCJlbmNvZGluZyIpJiZ0Lm9uKCJHZXRDb250ZW50IixmdW5jdGlvbihlKXtlLnNhdmUmJihlLmNvbnRlbnQ9T1MuZW5jb2RlKGUuY29udGVudCkpfSksdC5nZXRQYXJhbSgiYWRkX2Zvcm1fc3VibWl0X3RyaWdnZXIiKSYmdC5vbigic3VibWl0IixmdW5jdGlvbigpe3QuaW5pdGlhbGl6ZWQmJnQuc2F2ZSgpfSksdC5nZXRQYXJhbSgiYWRkX3VubG9hZF90cmlnZ2VyIikmJih0Ll9iZWZvcmVVbmxvYWQ9ZnVuY3Rpb24oKXshdC5pbml0aWFsaXplZHx8dC5kZXN0cm95ZWR8fHQuaXNIaWRkZW4oKXx8dC5zYXZlKHtmb3JtYXQ6InJhdyIsbm9fZXZlbnRzOiEwLHNldF9kaXJ0eTohMX0pfSx0LmVkaXRvck1hbmFnZXIub24oIkJlZm9yZVVubG9hZCIsdC5fYmVmb3JlVW5sb2FkKSksdC5lZGl0b3JNYW5hZ2VyLmFkZCh0KSxNUyh0LHQuc3VmZml4KX19ZWxzZSBPUy5iaW5kKFYud2luZG93LCJyZWFkeSIsbil9LFVTPWZ1bmN0aW9uKGUpe3JldHVybiBBKGUpP2U6eCghMSl9LHpTPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10KGUpLG89VVMobik7cmV0dXJuIHIub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBvKGUpP0Iubm9uZSgpOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9ZS5kb20oKSxvPVVTKG4pO3IucGFyZW50Tm9kZTspe3I9ci5wYXJlbnROb2RlO3ZhciBpPUN0LmZyb21Eb20ociksYT10KGkpO2lmKGEuaXNTb21lKCkpcmV0dXJuIGE7aWYobyhpKSlicmVha31yZXR1cm4gQi5ub25lKCl9KGUsdCxvKX0pfSxqUz17ImZvbnQtc2l6ZSI6InNpemUiLCJmb250LWZhbWlseSI6ImZhY2UifSxIUz1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZnVuY3Rpb24ocil7cmV0dXJuIHpuKHIsZSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiJmb250Ij09PXd0KHIpP2RlKGpTLGUpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9cixuPWUsQi5mcm9tKEluKHQsbikpO3ZhciB0LG59KTpCLm5vbmUoKX0pfTtyZXR1cm4gelMoQ3QuZnJvbURvbShuKSxmdW5jdGlvbihlKXtyZXR1cm4gcihlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIER0KEN0LmZyb21Eb20odCksZSl9KX0sVlM9ZnVuY3Rpb24obyl7cmV0dXJuIGZ1bmN0aW9uKHIsZSl7cmV0dXJuIEIuZnJvbShlKS5tYXAoQ3QuZnJvbURvbSkuZmlsdGVyKE50KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBIUyhvLHIsZS5kb20oKSkub3IoKHQ9byxuPWUuZG9tKCksQi5mcm9tKEVhLkRPTS5nZXRTdHlsZShuLHQsITApKSkpO3ZhciB0LG59KS5nZXRPcigiIil9fSxxUz1WUygiZm9udC1zaXplIiksJFM9YShmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9bXCdcIlxcXS9nLCIiKS5yZXBsYWNlKC8sXHMrL2csIiwiKX0sVlMoImZvbnQtZmFtaWx5IikpLFdTPWZ1bmN0aW9uKGUpe3JldHVybiBkbChlLmdldEJvZHkoKSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY29udGFpbmVyKCk7cmV0dXJuIEVuKHQpP3QucGFyZW50Tm9kZTp0fSl9LEtTPWZ1bmN0aW9uKG8pe3JldHVybiBCLmZyb20oby5zZWxlY3Rpb24uZ2V0Um5nKCkpLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQsbixyPW8uZ2V0Qm9keSgpO3JldHVybiBuPXIsKHQ9ZSkuc3RhcnRDb250YWluZXI9PT1uJiYwPT09dC5zdGFydE9mZnNldD9CLm5vbmUoKTpCLmZyb20oby5zZWxlY3Rpb24uZ2V0U3RhcnQoITApKX0pfSxYUz1mdW5jdGlvbihlLHQpe2lmKC9eWzAtOVwuXSskLy50ZXN0KHQpKXt2YXIgbj1wYXJzZUludCh0LDEwKTtpZigxPD1uJiZuPD03KXt2YXIgcj0oYT1lLHl0LmV4cGxvZGUoYS5nZXRQYXJhbSgiZm9udF9zaXplX3N0eWxlX3ZhbHVlcyIsInh4LXNtYWxsLHgtc21hbGwsc21hbGwsbWVkaXVtLGxhcmdlLHgtbGFyZ2UseHgtbGFyZ2UiKSkpLG89KGk9ZSx5dC5leHBsb2RlKGkuZ2V0UGFyYW0oImZvbnRfc2l6ZV9jbGFzc2VzIiwiIikpKTtyZXR1cm4gbz9vW24tMV18fHQ6cltuLTFdfHx0fXJldHVybiB0fXJldHVybiB0O3ZhciBpLGF9LFlTPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1YUyhlLHQpO2UuZm9ybWF0dGVyLnRvZ2dsZSgiZm9udG5hbWUiLHt2YWx1ZToobj1yLnNwbGl0KC9ccyosXHMqLyksVShuLGZ1bmN0aW9uKGUpe3JldHVybi0xPT09ZS5pbmRleE9mKCIgIil8fCRlKGUsJyInKXx8JGUoZSwiJyIpP2U6IiciK2UrIicifSkuam9pbigiLCIpKX0pLGUubm9kZUNoYW5nZWQoKX0sR1M9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhPSJzdHJpbmciIT10eXBlb2Yobj10KT8ocj15dC5leHRlbmQoe3Bhc3RlOm4ucGFzdGUsZGF0YTp7cGFzdGU6bi5wYXN0ZX19LG4pLHtjb250ZW50Om4uY29udGVudCxkZXRhaWxzOnJ9KTp7Y29udGVudDpuLGRldGFpbHM6e319O289YS5jb250ZW50LGk9YS5kZXRhaWxzLEZnKGUpLmVkaXRvci5pbnNlcnRDb250ZW50KG8saSl9LEpTPWZ1bmN0aW9uKGUsdCl7ZS5nZXREb2MoKS5leGVjQ29tbWFuZCh0LCExLG51bGwpfSxRUz15dC5lYWNoLFpTPXl0Lm1hcCxlTj15dC5pbkFycmF5LHROPShuTi5wcm90b3R5cGUuZXhlY0NvbW1hbmQ9ZnVuY3Rpb24odCxuLHIsZSl7dmFyIG8saT0hMSxhPXRoaXM7aWYoIWEuZWRpdG9yLnJlbW92ZWQpe3ZhciB1O2lmKC9eKG1jZUFkZFVuZG9MZXZlbHxtY2VFbmRVbmRvTGV2ZWx8bWNlQmVnaW5VbmRvTGV2ZWx8bWNlUmVwYWludCkkLy50ZXN0KHQpfHxlJiZlLnNraXBfZm9jdXM/KHU9YS5lZGl0b3IsSW0odSkuZWFjaChmdW5jdGlvbihlKXt1LnNlbGVjdGlvbi5zZXRSbmcoZSl9KSk6YS5lZGl0b3IuZm9jdXMoKSwoZT1hLmVkaXRvci5maXJlKCJCZWZvcmVFeGVjQ29tbWFuZCIse2NvbW1hbmQ6dCx1aTpuLHZhbHVlOnJ9KSkuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuITE7dmFyIHM9dC50b0xvd2VyQ2FzZSgpO2lmKG89YS5jb21tYW5kcy5leGVjW3NdKXJldHVybiBvKHMsbixyKSxhLmVkaXRvci5maXJlKCJFeGVjQ29tbWFuZCIse2NvbW1hbmQ6dCx1aTpuLHZhbHVlOnJ9KSwhMDtpZihRUyh0aGlzLmVkaXRvci5wbHVnaW5zLGZ1bmN0aW9uKGUpe2lmKGUuZXhlY0NvbW1hbmQmJmUuZXhlY0NvbW1hbmQodCxuLHIpKXJldHVybiBhLmVkaXRvci5maXJlKCJFeGVjQ29tbWFuZCIse2NvbW1hbmQ6dCx1aTpuLHZhbHVlOnJ9KSwhKGk9ITApfSksaSlyZXR1cm4gaTtpZihhLmVkaXRvci50aGVtZSYmYS5lZGl0b3IudGhlbWUuZXhlY0NvbW1hbmQmJmEuZWRpdG9yLnRoZW1lLmV4ZWNDb21tYW5kKHQsbixyKSlyZXR1cm4gYS5lZGl0b3IuZmlyZSgiRXhlY0NvbW1hbmQiLHtjb21tYW5kOnQsdWk6bix2YWx1ZTpyfSksITA7dHJ5e2k9YS5lZGl0b3IuZ2V0RG9jKCkuZXhlY0NvbW1hbmQodCxuLHIpfWNhdGNoKGMpe31yZXR1cm4hIWkmJihhLmVkaXRvci5maXJlKCJFeGVjQ29tbWFuZCIse2NvbW1hbmQ6dCx1aTpuLHZhbHVlOnJ9KSwhMCl9fSxuTi5wcm90b3R5cGUucXVlcnlDb21tYW5kU3RhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoIXRoaXMuZWRpdG9yLnF1aXJrcy5pc0hpZGRlbigpJiYhdGhpcy5lZGl0b3IucmVtb3ZlZCl7aWYoZT1lLnRvTG93ZXJDYXNlKCksdD10aGlzLmNvbW1hbmRzLnN0YXRlW2VdKXJldHVybiB0KGUpO3RyeXtyZXR1cm4gdGhpcy5lZGl0b3IuZ2V0RG9jKCkucXVlcnlDb21tYW5kU3RhdGUoZSl9Y2F0Y2gobil7fXJldHVybiExfX0sbk4ucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKCF0aGlzLmVkaXRvci5xdWlya3MuaXNIaWRkZW4oKSYmIXRoaXMuZWRpdG9yLnJlbW92ZWQpe2lmKGU9ZS50b0xvd2VyQ2FzZSgpLHQ9dGhpcy5jb21tYW5kcy52YWx1ZVtlXSlyZXR1cm4gdChlKTt0cnl7cmV0dXJuIHRoaXMuZWRpdG9yLmdldERvYygpLnF1ZXJ5Q29tbWFuZFZhbHVlKGUpfWNhdGNoKG4pe319fSxuTi5wcm90b3R5cGUuYWRkQ29tbWFuZHM9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO249bnx8ImV4ZWMiLFFTKGUsZnVuY3Rpb24odCxlKXtRUyhlLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXtyLmNvbW1hbmRzW25dW2VdPXR9KX0pfSxuTi5wcm90b3R5cGUuYWRkQ29tbWFuZD1mdW5jdGlvbihlLG8saSl7dmFyIGE9dGhpcztlPWUudG9Mb3dlckNhc2UoKSx0aGlzLmNvbW1hbmRzLmV4ZWNbZV09ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG8uY2FsbChpfHxhLmVkaXRvcix0LG4scil9fSxuTi5wcm90b3R5cGUucXVlcnlDb21tYW5kU3VwcG9ydGVkPWZ1bmN0aW9uKGUpe2lmKGU9ZS50b0xvd2VyQ2FzZSgpLHRoaXMuY29tbWFuZHMuZXhlY1tlXSlyZXR1cm4hMDt0cnl7cmV0dXJuIHRoaXMuZWRpdG9yLmdldERvYygpLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChlKX1jYXRjaCh0KXt9cmV0dXJuITF9LG5OLnByb3RvdHlwZS5hZGRRdWVyeVN0YXRlSGFuZGxlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcztlPWUudG9Mb3dlckNhc2UoKSx0aGlzLmNvbW1hbmRzLnN0YXRlW2VdPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FsbChufHxyLmVkaXRvcil9fSxuTi5wcm90b3R5cGUuYWRkUXVlcnlWYWx1ZUhhbmRsZXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7ZT1lLnRvTG93ZXJDYXNlKCksdGhpcy5jb21tYW5kcy52YWx1ZVtlXT1mdW5jdGlvbigpe3JldHVybiB0LmNhbGwobnx8ci5lZGl0b3IpfX0sbk4ucHJvdG90eXBlLmhhc0N1c3RvbUNvbW1hbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLCEhdGhpcy5jb21tYW5kcy5leGVjW2VdfSxuTi5wcm90b3R5cGUuZXhlY05hdGl2ZUNvbW1hbmQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PT09dW5kZWZpbmVkJiYodD0hMSksbj09PXVuZGVmaW5lZCYmKG49bnVsbCksdGhpcy5lZGl0b3IuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoZSx0LG4pfSxuTi5wcm90b3R5cGUuaXNGb3JtYXRNYXRjaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lZGl0b3IuZm9ybWF0dGVyLm1hdGNoKGUpfSxuTi5wcm90b3R5cGUudG9nZ2xlRm9ybWF0PWZ1bmN0aW9uKGUsdCl7dGhpcy5lZGl0b3IuZm9ybWF0dGVyLnRvZ2dsZShlLHQ/e3ZhbHVlOnR9OnVuZGVmaW5lZCksdGhpcy5lZGl0b3Iubm9kZUNoYW5nZWQoKX0sbk4ucHJvdG90eXBlLnN0b3JlU2VsZWN0aW9uPWZ1bmN0aW9uKGUpe3RoaXMuc2VsZWN0aW9uQm9va21hcms9dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmdldEJvb2ttYXJrKGUpfSxuTi5wcm90b3R5cGUucmVzdG9yZVNlbGVjdGlvbj1mdW5jdGlvbigpe3RoaXMuZWRpdG9yLnNlbGVjdGlvbi5tb3ZlVG9Cb29rbWFyayh0aGlzLnNlbGVjdGlvbkJvb2ttYXJrKX0sbk4ucHJvdG90eXBlLnNldHVwQ29tbWFuZHM9ZnVuY3Rpb24oaSl7dmFyIGE9dGhpczt0aGlzLmFkZENvbW1hbmRzKHsibWNlUmVzZXREZXNpZ25Nb2RlLG1jZUJlZ2luVW5kb0xldmVsIjpmdW5jdGlvbigpe30sIm1jZUVuZFVuZG9MZXZlbCxtY2VBZGRVbmRvTGV2ZWwiOmZ1bmN0aW9uKCl7aS51bmRvTWFuYWdlci5hZGQoKX0sIkN1dCxDb3B5LFBhc3RlIjpmdW5jdGlvbihlKXt2YXIgdCxuPWkuZ2V0RG9jKCk7dHJ5e2EuZXhlY05hdGl2ZUNvbW1hbmQoZSl9Y2F0Y2gobyl7dD0hMH1pZigicGFzdGUiIT09ZXx8bi5xdWVyeUNvbW1hbmRFbmFibGVkKGUpfHwodD0hMCksdHx8IW4ucXVlcnlDb21tYW5kU3VwcG9ydGVkKGUpKXt2YXIgcj1pLnRyYW5zbGF0ZSgiWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBkaXJlY3QgYWNjZXNzIHRvIHRoZSBjbGlwYm9hcmQuIFBsZWFzZSB1c2UgdGhlIEN0cmwrWC9DL1Yga2V5Ym9hcmQgc2hvcnRjdXRzIGluc3RlYWQuIik7bXQubWFjJiYocj1yLnJlcGxhY2UoL0N0cmxcKy9nLCJcdTIzMTgrIikpLGkubm90aWZpY2F0aW9uTWFuYWdlci5vcGVuKHt0ZXh0OnIsdHlwZToiZXJyb3IifSl9fSx1bmxpbms6ZnVuY3Rpb24oKXtpZihpLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpKXt2YXIgZT1pLmRvbS5nZXRQYXJlbnQoaS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSwiYSIpO2UmJmkuZG9tLnJlbW92ZShlLCEwKX1lbHNlIGkuZm9ybWF0dGVyLnJlbW92ZSgibGluayIpfSwiSnVzdGlmeUxlZnQsSnVzdGlmeUNlbnRlcixKdXN0aWZ5UmlnaHQsSnVzdGlmeUZ1bGwsSnVzdGlmeU5vbmUiOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3Vic3RyaW5nKDcpOyJmdWxsIj09PXQmJih0PSJqdXN0aWZ5IiksUVMoImxlZnQsY2VudGVyLHJpZ2h0LGp1c3RpZnkiLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7dCE9PWUmJmkuZm9ybWF0dGVyLnJlbW92ZSgiYWxpZ24iK2UpfSksIm5vbmUiIT09dCYmYS50b2dnbGVGb3JtYXQoImFsaWduIit0KX0sIkluc2VydFVub3JkZXJlZExpc3QsSW5zZXJ0T3JkZXJlZExpc3QiOmZ1bmN0aW9uKGUpe3ZhciB0O2EuZXhlY05hdGl2ZUNvbW1hbmQoZSk7dmFyIG49aS5kb20uZ2V0UGFyZW50KGkuc2VsZWN0aW9uLmdldE5vZGUoKSwib2wsdWwiKTtuJiYodD1uLnBhcmVudE5vZGUsL14oSFsxLTZdfFB8QUREUkVTU3xQUkUpJC8udGVzdCh0Lm5vZGVOYW1lKSYmKGEuc3RvcmVTZWxlY3Rpb24oKSxpLmRvbS5zcGxpdCh0LG4pLGEucmVzdG9yZVNlbGVjdGlvbigpKSl9LCJCb2xkLEl0YWxpYyxVbmRlcmxpbmUsU3RyaWtldGhyb3VnaCxTdXBlcnNjcmlwdCxTdWJzY3JpcHQiOmZ1bmN0aW9uKGUpe2EudG9nZ2xlRm9ybWF0KGUpfSwiRm9yZUNvbG9yLEhpbGl0ZUNvbG9yIjpmdW5jdGlvbihlLHQsbil7YS50b2dnbGVGb3JtYXQoZSxuKX0sRm9udE5hbWU6ZnVuY3Rpb24oZSx0LG4pe1lTKGksbil9LEZvbnRTaXplOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvO289biwocj1pKS5mb3JtYXR0ZXIudG9nZ2xlKCJmb250c2l6ZSIse3ZhbHVlOlhTKHIsbyl9KSxyLm5vZGVDaGFuZ2VkKCl9LFJlbW92ZUZvcm1hdDpmdW5jdGlvbihlKXtpLmZvcm1hdHRlci5yZW1vdmUoZSl9LG1jZUJsb2NrUXVvdGU6ZnVuY3Rpb24oKXthLnRvZ2dsZUZvcm1hdCgiYmxvY2txdW90ZSIpfSxGb3JtYXRCbG9jazpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGEudG9nZ2xlRm9ybWF0KG58fCJwIil9LG1jZUNsZWFudXA6ZnVuY3Rpb24oKXt2YXIgZT1pLnNlbGVjdGlvbi5nZXRCb29rbWFyaygpO2kuc2V0Q29udGVudChpLmdldENvbnRlbnQoKSksaS5zZWxlY3Rpb24ubW92ZVRvQm9va21hcmsoZSl9LG1jZVJlbW92ZU5vZGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW58fGkuc2VsZWN0aW9uLmdldE5vZGUoKTtyIT09aS5nZXRCb2R5KCkmJihhLnN0b3JlU2VsZWN0aW9uKCksaS5kb20ucmVtb3ZlKHIsITApLGEucmVzdG9yZVNlbGVjdGlvbigpKX0sbWNlU2VsZWN0Tm9kZURlcHRoOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0wO2kuZG9tLmdldFBhcmVudChpLnNlbGVjdGlvbi5nZXROb2RlKCksZnVuY3Rpb24oZSl7aWYoMT09PWUubm9kZVR5cGUmJnIrKz09PW4pcmV0dXJuIGkuc2VsZWN0aW9uLnNlbGVjdChlKSwhMX0saS5nZXRCb2R5KCkpfSxtY2VTZWxlY3ROb2RlOmZ1bmN0aW9uKGUsdCxuKXtpLnNlbGVjdGlvbi5zZWxlY3Qobil9LG1jZUluc2VydENvbnRlbnQ6ZnVuY3Rpb24oZSx0LG4pe0dTKGksbil9LG1jZUluc2VydFJhd0hUTUw6ZnVuY3Rpb24oZSx0LG4pe2kuc2VsZWN0aW9uLnNldENvbnRlbnQoInRpbnlfbWNlX21hcmtlciIpO3ZhciByPWkuZ2V0Q29udGVudCgpO2kuc2V0Q29udGVudChyLnJlcGxhY2UoL3RpbnlfbWNlX21hcmtlci9nLGZ1bmN0aW9uKCl7cmV0dXJuIG59KSl9LG1jZUluc2VydE5ld0xpbmU6ZnVuY3Rpb24oZSx0LG4pe3d4KGksbil9LG1jZVRvZ2dsZUZvcm1hdDpmdW5jdGlvbihlLHQsbil7YS50b2dnbGVGb3JtYXQobil9LG1jZVNldENvbnRlbnQ6ZnVuY3Rpb24oZSx0LG4pe2kuc2V0Q29udGVudChuKX0sIkluZGVudCxPdXRkZW50IjpmdW5jdGlvbihlKXtrdyhpLGUpfSxtY2VSZXBhaW50OmZ1bmN0aW9uKCl7fSxJbnNlcnRIb3Jpem9udGFsUnVsZTpmdW5jdGlvbigpe2kuZXhlY0NvbW1hbmQoIm1jZUluc2VydENvbnRlbnQiLCExLCI8aHIgLz4iKX0sbWNlVG9nZ2xlVmlzdWFsQWlkOmZ1bmN0aW9uKCl7aS5oYXNWaXN1YWw9IWkuaGFzVmlzdWFsLGkuYWRkVmlzdWFsKCl9LG1jZVJlcGxhY2VDb250ZW50OmZ1bmN0aW9uKGUsdCxuKXtpLmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwhMSxuLnJlcGxhY2UoL1x7XCRzZWxlY3Rpb25cfS9nLGkuc2VsZWN0aW9uLmdldENvbnRlbnQoe2Zvcm1hdDoidGV4dCJ9KSkpfSxtY2VJbnNlcnRMaW5rOmZ1bmN0aW9uKGUsdCxuKXsic3RyaW5nIj09dHlwZW9mIG4mJihuPXtocmVmOm59KTt2YXIgcj1pLmRvbS5nZXRQYXJlbnQoaS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLCJhIik7bi5ocmVmPW4uaHJlZi5yZXBsYWNlKC8gL2csIiUyMCIpLHImJm4uaHJlZnx8aS5mb3JtYXR0ZXIucmVtb3ZlKCJsaW5rIiksbi5ocmVmJiZpLmZvcm1hdHRlci5hcHBseSgibGluayIsbixyKX0sc2VsZWN0QWxsOmZ1bmN0aW9uKCl7dmFyIGU9aS5kb20uZ2V0UGFyZW50KGkuc2VsZWN0aW9uLmdldFN0YXJ0KCksQW4pO2lmKGUpe3ZhciB0PWkuZG9tLmNyZWF0ZVJuZygpO3Quc2VsZWN0Tm9kZUNvbnRlbnRzKGUpLGkuc2VsZWN0aW9uLnNldFJuZyh0KX19LCJkZWxldGUiOmZ1bmN0aW9uKCl7dmFyIGU7THcoZT1pKXx8Y3coZSwhMSl8fGZ3KGUsITEpfHxndyhlLCExKXx8VkMoZSwhMSl8fG9tKGUpfHxLQyhlKXx8YncoZSwhMSl8fChKUyhlLCJEZWxldGUiKSxEQyhlKSl9LGZvcndhcmREZWxldGU6ZnVuY3Rpb24oKXt2YXIgZTtjdyhlPWksITApfHxmdyhlLCEwKXx8Z3coZSwhMCl8fFZDKGUsITApfHxvbShlKXx8S0MoZSl8fGJ3KGUsITApfHxKUyhlLCJGb3J3YXJkRGVsZXRlIil9LG1jZU5ld0RvY3VtZW50OmZ1bmN0aW9uKCl7aS5zZXRDb250ZW50KCIiKX0sSW5zZXJ0TGluZUJyZWFrOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdXgoaSxuKSwhMH19KTt2YXIgZT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1pLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpP1tpLmRvbS5nZXRQYXJlbnQoaS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLGkuZG9tLmlzQmxvY2spXTppLnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpLHQ9WlMoZSxmdW5jdGlvbihlKXtyZXR1cm4hIWkuZm9ybWF0dGVyLm1hdGNoTm9kZShlLG4pfSk7cmV0dXJuLTEhPT1lTih0LCEwKX19O2EuYWRkQ29tbWFuZHMoe0p1c3RpZnlMZWZ0OmUoImFsaWdubGVmdCIpLEp1c3RpZnlDZW50ZXI6ZSgiYWxpZ25jZW50ZXIiKSxKdXN0aWZ5UmlnaHQ6ZSgiYWxpZ25yaWdodCIpLEp1c3RpZnlGdWxsOmUoImFsaWduanVzdGlmeSIpLCJCb2xkLEl0YWxpYyxVbmRlcmxpbmUsU3RyaWtldGhyb3VnaCxTdXBlcnNjcmlwdCxTdWJzY3JpcHQiOmZ1bmN0aW9uKGUpe3JldHVybiBhLmlzRm9ybWF0TWF0Y2goZSl9LG1jZUJsb2NrUXVvdGU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5pc0Zvcm1hdE1hdGNoKCJibG9ja3F1b3RlIil9LE91dGRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gU3coaSl9LCJJbnNlcnRVbm9yZGVyZWRMaXN0LEluc2VydE9yZGVyZWRMaXN0IjpmdW5jdGlvbihlKXt2YXIgdD1pLmRvbS5nZXRQYXJlbnQoaS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLCJ1bCxvbCIpO3JldHVybiB0JiYoImluc2VydHVub3JkZXJlZGxpc3QiPT09ZSYmIlVMIj09PXQudGFnTmFtZXx8Imluc2VydG9yZGVyZWRsaXN0Ij09PWUmJiJPTCI9PT10LnRhZ05hbWUpfX0sInN0YXRlIiksYS5hZGRDb21tYW5kcyh7VW5kbzpmdW5jdGlvbigpe2kudW5kb01hbmFnZXIudW5kbygpfSxSZWRvOmZ1bmN0aW9uKCl7aS51bmRvTWFuYWdlci5yZWRvKCl9fSksYS5hZGRRdWVyeVZhbHVlSGFuZGxlcigiRm9udE5hbWUiLGZ1bmN0aW9uKCl7cmV0dXJuIEtTKHQ9aSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBXUyh0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuICRTKHQuZ2V0Qm9keSgpLGUpfSkuZ2V0T3IoIiIpfSxmdW5jdGlvbihlKXtyZXR1cm4gJFModC5nZXRCb2R5KCksZSl9KTt2YXIgdH0sdGhpcyksYS5hZGRRdWVyeVZhbHVlSGFuZGxlcigiRm9udFNpemUiLGZ1bmN0aW9uKCl7cmV0dXJuIEtTKHQ9aSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBXUyh0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHFTKHQuZ2V0Qm9keSgpLGUpfSkuZ2V0T3IoIiIpfSxmdW5jdGlvbihlKXtyZXR1cm4gcVModC5nZXRCb2R5KCksZSl9KTt2YXIgdH0sdGhpcyl9LG5OKTtmdW5jdGlvbiBuTihlKXt0aGlzLmNvbW1hbmRzPXtzdGF0ZTp7fSxleGVjOnt9LHZhbHVlOnt9fSx0aGlzLmVkaXRvcj1lLHRoaXMuc2V0dXBDb21tYW5kcyhlKX12YXIgck49ImRhdGEtbWNlLWNvbnRlbnRlZGl0YWJsZSIsb049ZnVuY3Rpb24oZSx0LG4pe0thKGUsdCkmJiExPT09bj9mdW5jdGlvbihlLHQpe0hhKGUpP2UuZG9tKCkuY2xhc3NMaXN0LnJlbW92ZSh0KTpxYShlLHQpO1dhKGUpfShlLHQpOm4mJiRhKGUsdCl9LGlOPWZ1bmN0aW9uKGUsdCxuKXt0cnl7ZS5nZXREb2MoKS5leGVjQ29tbWFuZCh0LCExLG4pfWNhdGNoKHIpe319LGFOPWZ1bmN0aW9uKGUsdCl7ZS5kb20oKS5jb250ZW50RWRpdGFibGU9dD8idHJ1ZSI6ImZhbHNlIn0sdU49ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saT1DdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKTtvTihpLCJtY2UtY29udGVudC1yZWFkb25seSIsdCksdD8oZS5zZWxlY3Rpb24uY29udHJvbFNlbGVjdGlvbi5oaWRlUmVzaXplUmVjdCgpLGUuX3NlbGVjdGlvbk92ZXJyaWRlcy5oaWRlRmFrZUNhcmV0KCksbz1lLEIuZnJvbShvLnNlbGVjdGlvbi5nZXROb2RlKCkpLmVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIil9KSxlLnJlYWRvbmx5PSEwLGFOKGksITEpLHooWWEoaSwnKltjb250ZW50ZWRpdGFibGU9InRydWUiXScpLGZ1bmN0aW9uKGUpe1BuKGUsck4sInRydWUiKSxhTihlLCExKX0pKTooZS5yZWFkb25seT0hMSxhTihpLCEwKSx6KFlhKGksIipbIityTisnPSJ0cnVlIl0nKSxmdW5jdGlvbihlKXtNbihlLHJOKSxhTihlLCEwKX0pLGlOKGUsIlN0eWxlV2l0aENTUyIsITEpLGlOKGUsImVuYWJsZUlubGluZVRhYmxlRWRpdGluZyIsITEpLGlOKGUsImVuYWJsZU9iamVjdFJlc2l6aW5nIiwhMSksKFltKHI9ZSl8fFhtKHIpKSYmZS5mb2N1cygpLChuPWUpLnNlbGVjdGlvbi5zZXRSbmcobi5zZWxlY3Rpb24uZ2V0Um5nKCkpLGUubm9kZUNoYW5nZWQoKSl9LHNOPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlYWRvbmx5fSxjTj1mdW5jdGlvbih0KXt0LnBhcnNlci5hZGRBdHRyaWJ1dGVGaWx0ZXIoImNvbnRlbnRlZGl0YWJsZSIsZnVuY3Rpb24oZSl7c04odCkmJnooZSxmdW5jdGlvbihlKXtlLmF0dHIock4sZS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSksZS5hdHRyKCJjb250ZW50ZWRpdGFibGUiLCJmYWxzZSIpfSl9KSx0LnNlcmlhbGl6ZXIuYWRkQXR0cmlidXRlRmlsdGVyKHJOLGZ1bmN0aW9uKGUpe3NOKHQpJiZ6KGUsZnVuY3Rpb24oZSl7ZS5hdHRyKCJjb250ZW50ZWRpdGFibGUiLGUuYXR0cihyTikpfSl9KSx0LnNlcmlhbGl6ZXIuYWRkVGVtcEF0dHIock4pfSxsTj15dC5tYWtlTWFwKCJmb2N1cyBibHVyIGZvY3VzaW4gZm9jdXNvdXQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBiZWZvcmVwYXN0ZSBwYXN0ZSBjdXQgY29weSBzZWxlY3Rpb25jaGFuZ2UgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIHdoZWVsIGtleWRvd24ga2V5cHJlc3Mga2V5dXAgaW5wdXQgYmVmb3JlaW5wdXQgY29udGV4dG1lbnUgZHJhZ3N0YXJ0IGRyYWdlbmQgZHJhZ292ZXIgZHJhZ2dlc3R1cmUgZHJhZ2Ryb3AgZHJvcCBkcmFnIHN1Ym1pdCBjb21wb3NpdGlvbnN0YXJ0IGNvbXBvc2l0aW9uZW5kIGNvbXBvc2l0aW9udXBkYXRlIHRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsIiwiICIpLGZOPShkTi5pc05hdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4hIWxOW2UudG9Mb3dlckNhc2UoKV19LGROLnByb3RvdHlwZS5maXJlPWZ1bmN0aW9uKGUsdCl7ZT1lLnRvTG93ZXJDYXNlKCksKHQ9dHx8e30pLnR5cGU9ZSx0LnRhcmdldHx8KHQudGFyZ2V0PXRoaXMuc2NvcGUpLHQucHJldmVudERlZmF1bHR8fCh0LnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dC5pc0RlZmF1bHRQcmV2ZW50ZWQ9aH0sdC5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXt0LmlzUHJvcGFnYXRpb25TdG9wcGVkPWh9LHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1ofSx0LmlzRGVmYXVsdFByZXZlbnRlZD1nLHQuaXNQcm9wYWdhdGlvblN0b3BwZWQ9Zyx0LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWcpLHRoaXMuc2V0dGluZ3MuYmVmb3JlRmlyZSYmdGhpcy5zZXR0aW5ncy5iZWZvcmVGaXJlKHQpO3ZhciBuPXRoaXMuYmluZGluZ3NbZV07aWYobilmb3IodmFyIHI9MCxvPW4ubGVuZ3RoO3I8bztyKyspe3ZhciBpPW5bcl07aWYoaS5vbmNlJiZ0aGlzLm9mZihlLGkuZnVuYyksdC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKXJldHVybiB0LnN0b3BQcm9wYWdhdGlvbigpLHQ7aWYoITE9PT1pLmZ1bmMuY2FsbCh0aGlzLnNjb3BlLHQpKXJldHVybiB0LnByZXZlbnREZWZhdWx0KCksdH1yZXR1cm4gdH0sZE4ucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYTtpZighMT09PXQmJih0PWcpLHQpe3ZhciB1PXtmdW5jOnR9O2ZvcihyJiZ5dC5leHRlbmQodSxyKSxhPShpPWUudG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpKS5sZW5ndGg7YS0tOyllPWlbYV0sKG89dGhpcy5iaW5kaW5nc1tlXSl8fChvPXRoaXMuYmluZGluZ3NbZV09W10sdGhpcy50b2dnbGVFdmVudChlLCEwKSksbj9vLnVuc2hpZnQodSk6by5wdXNoKHUpfXJldHVybiB0aGlzfSxkTi5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYT10aGlzO2lmKGUpZm9yKG49KG89ZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIikpLmxlbmd0aDtuLS07KXtpZihlPW9bbl0scj10aGlzLmJpbmRpbmdzW2VdLCFlKXJldHVybiBvZSh0aGlzLmJpbmRpbmdzLGZ1bmN0aW9uKGUsdCl7YS50b2dnbGVFdmVudCh0LCExKSxkZWxldGUgYS5iaW5kaW5nc1t0XX0pLHRoaXM7aWYocil7aWYodClmb3IoaT1yLmxlbmd0aDtpLS07KXJbaV0uZnVuYz09PXQmJihyPXIuc2xpY2UoMCxpKS5jb25jYXQoci5zbGljZShpKzEpKSx0aGlzLmJpbmRpbmdzW2VdPXIpO2Vsc2Ugci5sZW5ndGg9MDtyLmxlbmd0aHx8KHRoaXMudG9nZ2xlRXZlbnQoZSwhMSksZGVsZXRlIHRoaXMuYmluZGluZ3NbZV0pfX1lbHNlIG9lKHRoaXMuYmluZGluZ3MsZnVuY3Rpb24oZSx0KXthLnRvZ2dsZUV2ZW50KHQsITEpfSksdGhpcy5iaW5kaW5ncz17fTtyZXR1cm4gdGhpc30sZE4ucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLm9uKGUsdCxuLHtvbmNlOiEwfSl9LGROLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLCEoIXRoaXMuYmluZGluZ3NbZV18fDA9PT10aGlzLmJpbmRpbmdzW2VdLmxlbmd0aCl9LGROKTtmdW5jdGlvbiBkTihlKXt0aGlzLmJpbmRpbmdzPXt9LHRoaXMuc2V0dGluZ3M9ZXx8e30sdGhpcy5zY29wZT10aGlzLnNldHRpbmdzLnNjb3BlfHx0aGlzLHRoaXMudG9nZ2xlRXZlbnQ9dGhpcy5zZXR0aW5ncy50b2dnbGVFdmVudHx8Z312YXIgbU4scE49ZnVuY3Rpb24obil7cmV0dXJuIG4uX2V2ZW50RGlzcGF0Y2hlcnx8KG4uX2V2ZW50RGlzcGF0Y2hlcj1uZXcgZk4oe3Njb3BlOm4sdG9nZ2xlRXZlbnQ6ZnVuY3Rpb24oZSx0KXtmTi5pc05hdGl2ZShlKSYmbi50b2dnbGVOYXRpdmVFdmVudCYmbi50b2dnbGVOYXRpdmVFdmVudChlLHQpfX0pKSxuLl9ldmVudERpc3BhdGNoZXJ9LGdOPXtmaXJlOmZ1bmN0aW9uKGUsdCxuKXtpZih0aGlzLnJlbW92ZWQmJiJyZW1vdmUiIT09ZSYmImRldGFjaCIhPT1lKXJldHVybiB0O3ZhciByPXBOKHRoaXMpLmZpcmUoZSx0KTtpZighMSE9PW4mJnRoaXMucGFyZW50KWZvcih2YXIgbz10aGlzLnBhcmVudCgpO28mJiFyLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KW8uZmlyZShlLHIsITEpLG89by5wYXJlbnQoKTtyZXR1cm4gcn0sb246ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBwTih0aGlzKS5vbihlLHQsbil9LG9mZjpmdW5jdGlvbihlLHQpe3JldHVybiBwTih0aGlzKS5vZmYoZSx0KX0sb25jZTpmdW5jdGlvbihlLHQpe3JldHVybiBwTih0aGlzKS5vbmNlKGUsdCl9LGhhc0V2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKGUpe3JldHVybiBwTih0aGlzKS5oYXMoZSl9fSxoTj1FYS5ET00sdk49ZnVuY3Rpb24oZSx0KXtpZigic2VsZWN0aW9uY2hhbmdlIj09PXQpcmV0dXJuIGUuZ2V0RG9jKCk7aWYoIWUuaW5saW5lJiYvXm1vdXNlfHRvdWNofGNsaWNrfGNvbnRleHRtZW51fGRyb3B8ZHJhZ292ZXJ8ZHJhZ2VuZC8udGVzdCh0KSlyZXR1cm4gZS5nZXREb2MoKS5kb2N1bWVudEVsZW1lbnQ7dmFyIG49cmMoZSk7cmV0dXJuIG4/KGUuZXZlbnRSb290fHwoZS5ldmVudFJvb3Q9aE4uc2VsZWN0KG4pWzBdKSxlLmV2ZW50Um9vdCk6ZS5nZXRCb2R5KCl9LHlOPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1Oyh1PWUpLmhpZGRlbnx8c04odSk/c04oZSkmJihyPWUsYT0obz1uKS50YXJnZXQsImNsaWNrIiE9PW8udHlwZXx8dnYubWV0YUtleVByZXNzZWQobyl8fChpPWEsbnVsbD09PXIuZG9tLmdldFBhcmVudChpLCJhIikpfHxvLnByZXZlbnREZWZhdWx0KCkpOmUuZmlyZSh0LG4pfSxiTj1mdW5jdGlvbihpLGEpe3ZhciBlO2lmKGkuZGVsZWdhdGVzfHwoaS5kZWxlZ2F0ZXM9e30pLCFpLmRlbGVnYXRlc1thXSYmIWkucmVtb3ZlZCl7dmFyIHQ9dk4oaSxhKTtpZihyYyhpKSl7aWYobU58fChtTj17fSxpLmVkaXRvck1hbmFnZXIub24oInJlbW92ZUVkaXRvciIsZnVuY3Rpb24oKXtpLmVkaXRvck1hbmFnZXIuYWN0aXZlRWRpdG9yfHxtTiYmKG9lKG1OLGZ1bmN0aW9uKGUsdCl7aS5kb20udW5iaW5kKHZOKGksdCkpfSksbU49bnVsbCl9KSksbU5bYV0pcmV0dXJuO2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUudGFyZ2V0LG49aS5lZGl0b3JNYW5hZ2VyLmdldCgpLHI9bi5sZW5ndGg7ci0tOyl7dmFyIG89bltyXS5nZXRCb2R5KCk7byE9PXQmJiFoTi5pc0NoaWxkT2YodCxvKXx8eU4obltyXSxhLGUpfX0sbU5bYV09ZSxoTi5iaW5kKHQsYSxlKX1lbHNlIGU9ZnVuY3Rpb24oZSl7eU4oaSxhLGUpfSxoTi5iaW5kKHQsYSxlKSxpLmRlbGVnYXRlc1thXT1lfX0sQ049eGUoeGUoe30sZ04pLHtiaW5kUGVuZGluZ0V2ZW50RGVsZWdhdGVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt5dC5lYWNoKHQuX3BlbmRpbmdOYXRpdmVFdmVudHMsZnVuY3Rpb24oZSl7Yk4odCxlKX0pfSx0b2dnbGVOYXRpdmVFdmVudDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7ImZvY3VzIiE9PWUmJiJibHVyIiE9PWUmJih0P24uaW5pdGlhbGl6ZWQ/Yk4obixlKTpuLl9wZW5kaW5nTmF0aXZlRXZlbnRzP24uX3BlbmRpbmdOYXRpdmVFdmVudHMucHVzaChlKTpuLl9wZW5kaW5nTmF0aXZlRXZlbnRzPVtlXTpuLmluaXRpYWxpemVkJiYobi5kb20udW5iaW5kKHZOKG4sZSksZSxuLmRlbGVnYXRlc1tlXSksZGVsZXRlIG4uZGVsZWdhdGVzW2VdKSl9LHVuYmluZEFsbE5hdGl2ZUV2ZW50czpmdW5jdGlvbigpe3ZhciBuPXRoaXMsZT1uLmdldEJvZHkoKSx0PW4uZG9tO24uZGVsZWdhdGVzJiYob2Uobi5kZWxlZ2F0ZXMsZnVuY3Rpb24oZSx0KXtuLmRvbS51bmJpbmQodk4obix0KSx0LGUpfSksZGVsZXRlIG4uZGVsZWdhdGVzKSwhbi5pbmxpbmUmJmUmJnQmJihlLm9ubG9hZD1udWxsLHQudW5iaW5kKG4uZ2V0V2luKCkpLHQudW5iaW5kKG4uZ2V0RG9jKCkpKSx0JiYodC51bmJpbmQoZSksdC51bmJpbmQobi5nZXRDb250YWluZXIoKSkpfX0pLHdOPVsiZGVzaWduIiwicmVhZG9ubHkiXSx4Tj1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpPW5bdC5nZXQoKV0sYT1uW3JdO3RyeXthLmFjdGl2YXRlKCl9Y2F0Y2goTEUpe3JldHVybiB2b2lkIFYuY29uc29sZS5lcnJvcigicHJvYmxlbSB3aGlsZSBhY3RpdmF0aW5nIGVkaXRvciBtb2RlICIrcisiOiIsTEUpfWkuZGVhY3RpdmF0ZSgpLGkuZWRpdG9yUmVhZE9ubHkhPT1hLmVkaXRvclJlYWRPbmx5JiZ1TihlLGEuZWRpdG9yUmVhZE9ubHkpLHQuc2V0KHIpLG89cixlLmZpcmUoIlN3aXRjaE1vZGUiLHttb2RlOm99KX0sU049ZnVuY3Rpb24odCl7dmFyIGUsbixyPU9hKCJkZXNpZ24iKSxvPU9hKHtkZXNpZ246e2FjdGl2YXRlOmYsZGVhY3RpdmF0ZTpmLGVkaXRvclJlYWRPbmx5OiExfSxyZWFkb25seTp7YWN0aXZhdGU6ZixkZWFjdGl2YXRlOmYsZWRpdG9yUmVhZE9ubHk6ITB9fSk7cmV0dXJuKGU9dCkuc2VyaWFsaXplcj9jTihlKTplLm9uKCJQcmVJbml0IixmdW5jdGlvbigpe2NOKGUpfSksKG49dCkub24oIlNob3dDYXJldCIsZnVuY3Rpb24oZSl7c04obikmJmUucHJldmVudERlZmF1bHQoKX0pLG4ub24oIk9iamVjdFNlbGVjdGVkIixmdW5jdGlvbihlKXtzTihuKSYmZS5wcmV2ZW50RGVmYXVsdCgpfSkse2lzUmVhZE9ubHk6ZnVuY3Rpb24oKXtyZXR1cm4gc04odCl9LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scil7aWYociE9PW4uZ2V0KCkpe2lmKCFtZSh0LHIpKXRocm93IG5ldyBFcnJvcigiRWRpdG9yIG1vZGUgJyIrcisiJyBpcyBpbnZhbGlkIik7ZS5pbml0aWFsaXplZD94TihlLG4sdCxyKTplLm9uKCJpbml0IixmdW5jdGlvbigpe3JldHVybiB4TihlLG4sdCxyKX0pfX0odCxvLmdldCgpLHIsZSl9LGdldDpmdW5jdGlvbigpe3JldHVybiByLmdldCgpfSxyZWdpc3RlcjpmdW5jdGlvbihlLHQpe28uc2V0KGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihNKHdOLHQpKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IG92ZXJyaWRlIGRlZmF1bHQgbW9kZSAiK3QpO3JldHVybiB4ZSh4ZSh7fSxlKSwoKHI9e30pW3RdPXhlKHhlKHt9LG4pLHtkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dHJ5e24uZGVhY3RpdmF0ZSgpfWNhdGNoKExFKXtWLmNvbnNvbGUuZXJyb3IoInByb2JsZW0gd2hpbGUgZGVhY3RpdmF0aW5nIGVkaXRvciBtb2RlICIrdCsiOiIsTEUpfX19KSxyKSl9KG8uZ2V0KCksZSx0KSl9fX0sTk49eXQuZWFjaCxFTj15dC5leHBsb2RlLGtOPXtmMToxMTIsZjI6MTEzLGYzOjExNCxmNDoxMTUsZjU6MTE2LGY2OjExNyxmNzoxMTgsZjg6MTE5LGY5OjEyMCxmMTA6MTIxLGYxMToxMjIsZjEyOjEyM30sX049eXQubWFrZU1hcCgiYWx0LGN0cmwsc2hpZnQsbWV0YSxhY2Nlc3MiKSxUTj0oUk4ucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLG4scixvKXt2YXIgaT10aGlzLHQ9cjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/cj1mdW5jdGlvbigpe2kuZWRpdG9yLmV4ZWNDb21tYW5kKHQsITEsbnVsbCl9Onl0LmlzQXJyYXkodCkmJihyPWZ1bmN0aW9uKCl7aS5lZGl0b3IuZXhlY0NvbW1hbmQodFswXSx0WzFdLHRbMl0pfSksTk4oRU4oeXQudHJpbShlKSksZnVuY3Rpb24oZSl7dmFyIHQ9aS5jcmVhdGVTaG9ydGN1dChlLG4scixvKTtpLnNob3J0Y3V0c1t0LmlkXT10fSksITB9LFJOLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jcmVhdGVTaG9ydGN1dChlKTtyZXR1cm4hIXRoaXMuc2hvcnRjdXRzW3QuaWRdJiYoZGVsZXRlIHRoaXMuc2hvcnRjdXRzW3QuaWRdLCEwKX0sUk4ucHJvdG90eXBlLnBhcnNlU2hvcnRjdXQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj17fTtOTihFTihlLnRvTG93ZXJDYXNlKCksIisiKSxmdW5jdGlvbihlKXtlIGluIF9OP25bZV09ITA6L15bMC05XXsyLH0kLy50ZXN0KGUpP24ua2V5Q29kZT1wYXJzZUludChlLDEwKToobi5jaGFyQ29kZT1lLmNoYXJDb2RlQXQoMCksbi5rZXlDb2RlPWtOW2VdfHxlLnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKSl9KTt2YXIgcj1bbi5rZXlDb2RlXTtmb3IodCBpbiBfTiluW3RdP3IucHVzaCh0KTpuW3RdPSExO3JldHVybiBuLmlkPXIuam9pbigiLCIpLG4uYWNjZXNzJiYobi5hbHQ9ITAsbXQubWFjP24uY3RybD0hMDpuLnNoaWZ0PSEwKSxuLm1ldGEmJihtdC5tYWM/bi5tZXRhPSEwOihuLmN0cmw9ITAsbi5tZXRhPSExKSksbn0sUk4ucHJvdG90eXBlLmNyZWF0ZVNob3J0Y3V0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXl0Lm1hcChFTihlLCI+IiksdGhpcy5wYXJzZVNob3J0Y3V0KTtyZXR1cm4gb1tvLmxlbmd0aC0xXT15dC5leHRlbmQob1tvLmxlbmd0aC0xXSx7ZnVuYzpuLHNjb3BlOnJ8fHRoaXMuZWRpdG9yfSkseXQuZXh0ZW5kKG9bMF0se2Rlc2M6dGhpcy5lZGl0b3IudHJhbnNsYXRlKHQpLHN1YnBhdHRlcm5zOm8uc2xpY2UoMSl9KX0sUk4ucHJvdG90eXBlLmhhc01vZGlmaWVyPWZ1bmN0aW9uKGUpe3JldHVybiBlLmFsdEtleXx8ZS5jdHJsS2V5fHxlLm1ldGFLZXl9LFJOLnByb3RvdHlwZS5pc0Z1bmN0aW9uS2V5PWZ1bmN0aW9uKGUpe3JldHVybiJrZXlkb3duIj09PWUudHlwZSYmMTEyPD1lLmtleUNvZGUmJmUua2V5Q29kZTw9MTIzfSxSTi5wcm90b3R5cGUubWF0Y2hTaG9ydGN1dD1mdW5jdGlvbihlLHQpe3JldHVybiEhdCYmdC5jdHJsPT09ZS5jdHJsS2V5JiZ0Lm1ldGE9PT1lLm1ldGFLZXkmJnQuYWx0PT09ZS5hbHRLZXkmJnQuc2hpZnQ9PT1lLnNoaWZ0S2V5JiYhIShlLmtleUNvZGU9PT10LmtleUNvZGV8fGUuY2hhckNvZGUmJmUuY2hhckNvZGU9PT10LmNoYXJDb2RlKSYmKGUucHJldmVudERlZmF1bHQoKSwhMCl9LFJOLnByb3RvdHlwZS5leGVjdXRlU2hvcnRjdXRBY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZnVuYz9lLmZ1bmMuY2FsbChlLnNjb3BlKTpudWxsfSxSTik7ZnVuY3Rpb24gUk4oZSl7dGhpcy5zaG9ydGN1dHM9e30sdGhpcy5wZW5kaW5nUGF0dGVybnM9W10sdGhpcy5lZGl0b3I9ZTt2YXIgbj10aGlzO2Uub24oImtleXVwIGtleXByZXNzIGtleWRvd24iLGZ1bmN0aW9uKHQpeyFuLmhhc01vZGlmaWVyKHQpJiYhbi5pc0Z1bmN0aW9uS2V5KHQpfHx0LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoTk4obi5zaG9ydGN1dHMsZnVuY3Rpb24oZSl7aWYobi5tYXRjaFNob3J0Y3V0KHQsZSkpcmV0dXJuIG4ucGVuZGluZ1BhdHRlcm5zPWUuc3VicGF0dGVybnMuc2xpY2UoMCksImtleWRvd24iPT09dC50eXBlJiZuLmV4ZWN1dGVTaG9ydGN1dEFjdGlvbihlKSwhMH0pLG4ubWF0Y2hTaG9ydGN1dCh0LG4ucGVuZGluZ1BhdHRlcm5zWzBdKSYmKDE9PT1uLnBlbmRpbmdQYXR0ZXJucy5sZW5ndGgmJiJrZXlkb3duIj09PXQudHlwZSYmbi5leGVjdXRlU2hvcnRjdXRBY3Rpb24obi5wZW5kaW5nUGF0dGVybnNbMF0pLG4ucGVuZGluZ1BhdHRlcm5zLnNoaWZ0KCkpKX0pfXZhciBBTj1mdW5jdGlvbigpe3ZhciBlLHQsbixyLG8saSxhLHUscz0odD17fSxuPXt9LHI9e30sbz17fSxpPXt9LGE9e30se2FkZEJ1dHRvbjoodT1mdW5jdGlvbihuLHIpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBuW2UudG9Mb3dlckNhc2UoKV09eGUoeGUoe30sdCkse3R5cGU6cn0pfX0pKGU9e30sImJ1dHRvbiIpLGFkZEdyb3VwVG9vbGJhckJ1dHRvbjp1KGUsImdyb3VwdG9vbGJhcmJ1dHRvbiIpLGFkZFRvZ2dsZUJ1dHRvbjp1KGUsInRvZ2dsZWJ1dHRvbiIpLGFkZE1lbnVCdXR0b246dShlLCJtZW51YnV0dG9uIiksYWRkU3BsaXRCdXR0b246dShlLCJzcGxpdGJ1dHRvbiIpLGFkZE1lbnVJdGVtOnUodCwibWVudWl0ZW0iKSxhZGROZXN0ZWRNZW51SXRlbTp1KHQsIm5lc3RlZG1lbnVpdGVtIiksYWRkVG9nZ2xlTWVudUl0ZW06dSh0LCJ0b2dnbGVtZW51aXRlbSIpLGFkZEF1dG9jb21wbGV0ZXI6dShuLCJhdXRvY29tcGxldGVyIiksYWRkQ29udGV4dE1lbnU6dShvLCJjb250ZXh0bWVudSIpLGFkZENvbnRleHRUb29sYmFyOnUoaSwiY29udGV4dHRvb2xiYXIiKSxhZGRDb250ZXh0Rm9ybTp1KGksImNvbnRleHRmb3JtIiksYWRkU2lkZWJhcjp1KGEsInNpZGViYXIiKSxhZGRJY29uOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHJbZS50b0xvd2VyQ2FzZSgpXT10fSxnZXRBbGw6ZnVuY3Rpb24oKXtyZXR1cm57YnV0dG9uczplLG1lbnVJdGVtczp0LGljb25zOnIscG9wdXBzOm4sY29udGV4dE1lbnVzOm8sY29udGV4dFRvb2xiYXJzOmksc2lkZWJhcnM6YX19fSk7cmV0dXJue2FkZEF1dG9jb21wbGV0ZXI6cy5hZGRBdXRvY29tcGxldGVyLGFkZEJ1dHRvbjpzLmFkZEJ1dHRvbixhZGRDb250ZXh0Rm9ybTpzLmFkZENvbnRleHRGb3JtLGFkZENvbnRleHRNZW51OnMuYWRkQ29udGV4dE1lbnUsYWRkQ29udGV4dFRvb2xiYXI6cy5hZGRDb250ZXh0VG9vbGJhcixhZGRJY29uOnMuYWRkSWNvbixhZGRNZW51QnV0dG9uOnMuYWRkTWVudUJ1dHRvbixhZGRNZW51SXRlbTpzLmFkZE1lbnVJdGVtLGFkZE5lc3RlZE1lbnVJdGVtOnMuYWRkTmVzdGVkTWVudUl0ZW0sYWRkU2lkZWJhcjpzLmFkZFNpZGViYXIsYWRkU3BsaXRCdXR0b246cy5hZGRTcGxpdEJ1dHRvbixhZGRUb2dnbGVCdXR0b246cy5hZGRUb2dnbGVCdXR0b24sYWRkR3JvdXBUb29sYmFyQnV0dG9uOnMuYWRkR3JvdXBUb29sYmFyQnV0dG9uLGFkZFRvZ2dsZU1lbnVJdGVtOnMuYWRkVG9nZ2xlTWVudUl0ZW0sZ2V0QWxsOnMuZ2V0QWxsfX0sRE49eXQuZWFjaCxPTj15dC50cmltLEJOPSJzb3VyY2UgcHJvdG9jb2wgYXV0aG9yaXR5IHVzZXJJbmZvIHVzZXIgcGFzc3dvcmQgaG9zdCBwb3J0IHJlbGF0aXZlIHBhdGggZGlyZWN0b3J5IGZpbGUgcXVlcnkgYW5jaG9yIi5zcGxpdCgiICIpLFBOPXtmdHA6MjEsaHR0cDo4MCxodHRwczo0NDMsbWFpbHRvOjI1fSxMTj0oSU4ucGFyc2VEYXRhVXJpPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZGVjb2RlVVJJQ29tcG9uZW50KGUpLnNwbGl0KCIsIikscj0vZGF0YTooW147XSspLy5leGVjKG5bMF0pO3JldHVybiByJiYodD1yWzFdKSx7dHlwZTp0LGRhdGE6blsxXX19LElOLmdldERvY3VtZW50QmFzZVVybD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD0wIT09ZS5wcm90b2NvbC5pbmRleE9mKCJodHRwIikmJiJmaWxlOiIhPT1lLnByb3RvY29sP2UuaHJlZjplLnByb3RvY29sKyIvLyIrZS5ob3N0K2UucGF0aG5hbWUsL15bXjpdKzpcL1wvXC8/W15cL10rXC8vLnRlc3QodCkmJih0PXQucmVwbGFjZSgvW1w/I10uKiQvLCIiKS5yZXBsYWNlKC9bXC9cXF1bXlwvXSskLywiIiksL1tcL1xcXSQvLnRlc3QodCl8fCh0Kz0iLyIpKSx0fSxJTi5wcm90b3R5cGUuc2V0UGF0aD1mdW5jdGlvbihlKXt2YXIgdD0vXiguKj8pXC8/KFx3Kyk/JC8uZXhlYyhlKTt0aGlzLnBhdGg9dFswXSx0aGlzLmRpcmVjdG9yeT10WzFdLHRoaXMuZmlsZT10WzJdLHRoaXMuc291cmNlPSIiLHRoaXMuZ2V0VVJJKCl9LElOLnByb3RvdHlwZS50b1JlbGF0aXZlPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKCIuLyI9PT1lKXJldHVybiBlO3ZhciBuPW5ldyBJTihlLHtiYXNlX3VyaTp0aGlzfSk7aWYoIm1jZV9ob3N0IiE9PW4uaG9zdCYmdGhpcy5ob3N0IT09bi5ob3N0JiZuLmhvc3R8fHRoaXMucG9ydCE9PW4ucG9ydHx8dGhpcy5wcm90b2NvbCE9PW4ucHJvdG9jb2wmJiIiIT09bi5wcm90b2NvbClyZXR1cm4gbi5nZXRVUkkoKTt2YXIgcj10aGlzLmdldFVSSSgpLG89bi5nZXRVUkkoKTtyZXR1cm4gcj09PW98fCIvIj09PXIuY2hhckF0KHIubGVuZ3RoLTEpJiZyLnN1YnN0cigwLHIubGVuZ3RoLTEpPT09bz9yOih0PXRoaXMudG9SZWxQYXRoKHRoaXMucGF0aCxuLnBhdGgpLG4ucXVlcnkmJih0Kz0iPyIrbi5xdWVyeSksbi5hbmNob3ImJih0Kz0iIyIrbi5hbmNob3IpLHQpfSxJTi5wcm90b3R5cGUudG9BYnNvbHV0ZT1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBJTihlLHtiYXNlX3VyaTp0aGlzfSk7cmV0dXJuIG4uZ2V0VVJJKHQmJnRoaXMuaXNTYW1lT3JpZ2luKG4pKX0sSU4ucHJvdG90eXBlLmlzU2FtZU9yaWdpbj1mdW5jdGlvbihlKXtpZih0aGlzLmhvc3Q9PWUuaG9zdCYmdGhpcy5wcm90b2NvbD09ZS5wcm90b2NvbCl7aWYodGhpcy5wb3J0PT1lLnBvcnQpcmV0dXJuITA7dmFyIHQ9UE5bdGhpcy5wcm90b2NvbF07aWYodCYmKHRoaXMucG9ydHx8dCk9PShlLnBvcnR8fHQpKXJldHVybiEwfXJldHVybiExfSxJTi5wcm90b3R5cGUudG9SZWxQYXRoPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPTAsaT0iIixhPWUuc3Vic3RyaW5nKDAsZS5sYXN0SW5kZXhPZigiLyIpKS5zcGxpdCgiLyIpLHU9dC5zcGxpdCgiLyIpO2lmKGEubGVuZ3RoPj11Lmxlbmd0aClmb3Iobj0wLHI9YS5sZW5ndGg7bjxyO24rKylpZihuPj11Lmxlbmd0aHx8YVtuXSE9PXVbbl0pe289bisxO2JyZWFrfWlmKGEubGVuZ3RoPHUubGVuZ3RoKWZvcihuPTAscj11Lmxlbmd0aDtuPHI7bisrKWlmKG4+PWEubGVuZ3RofHxhW25dIT09dVtuXSl7bz1uKzE7YnJlYWt9aWYoMT09PW8pcmV0dXJuIHQ7Zm9yKG49MCxyPWEubGVuZ3RoLShvLTEpO248cjtuKyspaSs9Ii4uLyI7Zm9yKG49by0xLHI9dS5sZW5ndGg7bjxyO24rKylpKz1uIT09by0xPyIvIit1W25dOnVbbl07cmV0dXJuIGl9LElOLnByb3RvdHlwZS50b0Fic1BhdGg9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89MCxpPVtdLGE9L1wvJC8udGVzdCh0KT8iLyI6IiIsdT1lLnNwbGl0KCIvIikscz10LnNwbGl0KCIvIik7Zm9yKEROKHUsZnVuY3Rpb24oZSl7ZSYmaS5wdXNoKGUpfSksdT1pLG49cy5sZW5ndGgtMSxpPVtdOzA8PW47bi0tKTAhPT1zW25dLmxlbmd0aCYmIi4iIT09c1tuXSYmKCIuLiIhPT1zW25dPzA8bz9vLS06aS5wdXNoKHNbbl0pOm8rKyk7cmV0dXJuIDAhPT0ocj0obj11Lmxlbmd0aC1vKTw9MD9KKGkpLmpvaW4oIi8iKTp1LnNsaWNlKDAsbikuam9pbigiLyIpKyIvIitKKGkpLmpvaW4oIi8iKSkuaW5kZXhPZigiLyIpJiYocj0iLyIrciksYSYmci5sYXN0SW5kZXhPZigiLyIpIT09ci5sZW5ndGgtMSYmKHIrPWEpLHJ9LElOLnByb3RvdHlwZS5nZXRVUkk9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSx0aGlzLnNvdXJjZSYmIWV8fCh0PSIiLGV8fCh0aGlzLnByb3RvY29sP3QrPXRoaXMucHJvdG9jb2wrIjovLyI6dCs9Ii8vIix0aGlzLnVzZXJJbmZvJiYodCs9dGhpcy51c2VySW5mbysiQCIpLHRoaXMuaG9zdCYmKHQrPXRoaXMuaG9zdCksdGhpcy5wb3J0JiYodCs9IjoiK3RoaXMucG9ydCkpLHRoaXMucGF0aCYmKHQrPXRoaXMucGF0aCksdGhpcy5xdWVyeSYmKHQrPSI/Iit0aGlzLnF1ZXJ5KSx0aGlzLmFuY2hvciYmKHQrPSIjIit0aGlzLmFuY2hvciksdGhpcy5zb3VyY2U9dCksdGhpcy5zb3VyY2V9LElOKTtmdW5jdGlvbiBJTihlLHQpe2U9T04oZSksdGhpcy5zZXR0aW5ncz10fHx7fTt2YXIgbj10aGlzLnNldHRpbmdzLmJhc2VfdXJpLHI9dGhpcztpZigvXihbXHdcLV0rKTooW15cL117Mn0pL2kudGVzdChlKXx8L15ccyojLy50ZXN0KGUpKXIuc291cmNlPWU7ZWxzZXt2YXIgbz0wPT09ZS5pbmRleE9mKCIvLyIpO2lmKDAhPT1lLmluZGV4T2YoIi8iKXx8b3x8KGU9KG4mJm4ucHJvdG9jb2x8fCJodHRwIikrIjovL21jZV9ob3N0IitlKSwhL15bXHdcLV0qOj9cL1wvLy50ZXN0KGUpKXt2YXIgaT10aGlzLnNldHRpbmdzLmJhc2VfdXJpP3RoaXMuc2V0dGluZ3MuYmFzZV91cmkucGF0aDpuZXcgSU4oVi5kb2N1bWVudC5sb2NhdGlvbi5ocmVmKS5kaXJlY3Rvcnk7aWYodGhpcy5zZXR0aW5ncy5iYXNlX3VyaSYmIiI9PXRoaXMuc2V0dGluZ3MuYmFzZV91cmkucHJvdG9jb2wpZT0iLy9tY2VfaG9zdCIrci50b0Fic1BhdGgoaSxlKTtlbHNle3ZhciBhPS8oW14jP10qKShbIz9dPy4qKS8uZXhlYyhlKTtlPShuJiZuLnByb3RvY29sfHwiaHR0cCIpKyI6Ly9tY2VfaG9zdCIrci50b0Fic1BhdGgoaSxhWzFdKSthWzJdfX1lPWUucmVwbGFjZSgvQEAvZywiKG1jZV9hdCkiKTt2YXIgdT0vXig/Oig/IVteOkBdKzpbXjpAXC9dKkApKFteOlwvPyMuXSspOik/KD86XC9cLyk/KCg/OigoW146QFwvXSopOj8oW146QFwvXSopKT9AKT8oW146XC8/I10qKSg/OjooXGQqKSk/KSgoKFwvKD86W14/I10oPyFbXj8jXC9dKlwuW14/I1wvLl0rKD86Wz8jXXwkKSkpKlwvPyk/KFtePyNcL10qKSkoPzpcPyhbXiNdKikpPyg/OiMoLiopKT8pLy5leGVjKGUpO0ROKEJOLGZ1bmN0aW9uKGUsdCl7dmFyIG49dVt0XTtuPW4mJm4ucmVwbGFjZSgvXChtY2VfYXRcKS9nLCJAQCIpLHJbZV09bn0pLG4mJihyLnByb3RvY29sfHwoci5wcm90b2NvbD1uLnByb3RvY29sKSxyLnVzZXJJbmZvfHwoci51c2VySW5mbz1uLnVzZXJJbmZvKSxyLnBvcnR8fCJtY2VfaG9zdCIhPT1yLmhvc3R8fChyLnBvcnQ9bi5wb3J0KSxyLmhvc3QmJiJtY2VfaG9zdCIhPT1yLmhvc3R8fChyLmhvc3Q9bi5ob3N0KSxyLnNvdXJjZT0iIiksbyYmKHIucHJvdG9jb2w9IiIpfX12YXIgTU49RWEuRE9NLEZOPXl0LmV4dGVuZCxVTj15dC5lYWNoLHpOPXl0LnJlc29sdmUsak49bXQuaWUsSE49KFZOLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtGUyh0aGlzKX0sVk4ucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKGUpe3ZhciB0LG47bj1lLCh0PXRoaXMpLnJlbW92ZWR8fChuP0ptOkdtKSh0KX0sVk4ucHJvdG90eXBlLmhhc0ZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIFltKHRoaXMpfSxWTi5wcm90b3R5cGUuZXhlY0NhbGxiYWNrPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3ZhciByLG89dGhpcy5zZXR0aW5nc1tlXTtpZihvKXJldHVybiB0aGlzLmNhbGxiYWNrTG9va3VwJiYocj10aGlzLmNhbGxiYWNrTG9va3VwW2VdKSYmKG89ci5mdW5jLHI9ci5zY29wZSksInN0cmluZyI9PXR5cGVvZiBvJiYocj0ocj1vLnJlcGxhY2UoL1wuXHcrJC8sIiIpKT96TihyKTowLG89ek4obyksdGhpcy5jYWxsYmFja0xvb2t1cD10aGlzLmNhbGxiYWNrTG9va3VwfHx7fSx0aGlzLmNhbGxiYWNrTG9va3VwW2VdPXtmdW5jOm8sc2NvcGU6cn0pLG8uYXBwbHkocnx8dGhpcyx0KX0sVk4ucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gSWEudHJhbnNsYXRlKGUpfSxWTi5wcm90b3R5cGUuZ2V0UGFyYW09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBzaCh0aGlzLGUsdCxuKX0sVk4ucHJvdG90eXBlLm5vZGVDaGFuZ2VkPWZ1bmN0aW9uKGUpe3RoaXMuX25vZGVDaGFuZ2VEaXNwYXRjaGVyLm5vZGVDaGFuZ2VkKGUpfSxWTi5wcm90b3R5cGUuYWRkQ29tbWFuZD1mdW5jdGlvbihlLHQsbil7dGhpcy5lZGl0b3JDb21tYW5kcy5hZGRDb21tYW5kKGUsdCxuKX0sVk4ucHJvdG90eXBlLmFkZFF1ZXJ5U3RhdGVIYW5kbGVyPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLmVkaXRvckNvbW1hbmRzLmFkZFF1ZXJ5U3RhdGVIYW5kbGVyKGUsdCxuKX0sVk4ucHJvdG90eXBlLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLmVkaXRvckNvbW1hbmRzLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyKGUsdCxuKX0sVk4ucHJvdG90eXBlLmFkZFNob3J0Y3V0PWZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMuc2hvcnRjdXRzLmFkZChlLHQsbixyKX0sVk4ucHJvdG90eXBlLmV4ZWNDb21tYW5kPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLmVkaXRvckNvbW1hbmRzLmV4ZWNDb21tYW5kKGUsdCxuLHIpfSxWTi5wcm90b3R5cGUucXVlcnlDb21tYW5kU3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWRpdG9yQ29tbWFuZHMucXVlcnlDb21tYW5kU3RhdGUoZSl9LFZOLnByb3RvdHlwZS5xdWVyeUNvbW1hbmRWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5xdWVyeUNvbW1hbmRWYWx1ZShlKX0sVk4ucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoZSl9LFZOLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5oaWRkZW4mJih0aGlzLmhpZGRlbj0hMSx0aGlzLmlubGluZT90aGlzLmdldEJvZHkoKS5jb250ZW50RWRpdGFibGU9InRydWUiOihNTi5zaG93KHRoaXMuZ2V0Q29udGFpbmVyKCkpLE1OLmhpZGUodGhpcy5pZCkpLHRoaXMubG9hZCgpLHRoaXMuZmlyZSgic2hvdyIpKX0sVk4ucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5nZXREb2MoKTtlLmhpZGRlbnx8KGpOJiZ0JiYhZS5pbmxpbmUmJnQuZXhlY0NvbW1hbmQoIlNlbGVjdEFsbCIpLGUuc2F2ZSgpLGUuaW5saW5lPyhlLmdldEJvZHkoKS5jb250ZW50RWRpdGFibGU9ImZhbHNlIixlPT09ZS5lZGl0b3JNYW5hZ2VyLmZvY3VzZWRFZGl0b3ImJihlLmVkaXRvck1hbmFnZXIuZm9jdXNlZEVkaXRvcj1udWxsKSk6KE1OLmhpZGUoZS5nZXRDb250YWluZXIoKSksTU4uc2V0U3R5bGUoZS5pZCwiZGlzcGxheSIsZS5vcmdEaXNwbGF5KSksZS5oaWRkZW49ITAsZS5maXJlKCJoaWRlIikpfSxWTi5wcm90b3R5cGUuaXNIaWRkZW49ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuaGlkZGVufSxWTi5wcm90b3R5cGUuc2V0UHJvZ3Jlc3NTdGF0ZT1mdW5jdGlvbihlLHQpe3RoaXMuZmlyZSgiUHJvZ3Jlc3NTdGF0ZSIse3N0YXRlOmUsdGltZTp0fSl9LFZOLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5nZXRFbGVtZW50KCk7aWYodGhpcy5yZW1vdmVkKXJldHVybiIiO2lmKG4peyhlPWV8fHt9KS5sb2FkPSEwO3ZhciByPU5uKG4pP24udmFsdWU6bi5pbm5lckhUTUw7cmV0dXJuIHQ9dGhpcy5zZXRDb250ZW50KHIsZSksZS5lbGVtZW50PW4sZS5ub19ldmVudHN8fHRoaXMuZmlyZSgiTG9hZENvbnRlbnQiLGUpLGUuZWxlbWVudD1uPW51bGwsdH19LFZOLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj10aGlzLG89ci5nZXRFbGVtZW50KCk7aWYobyYmci5pbml0aWFsaXplZCYmIXIucmVtb3ZlZClyZXR1cm4oZT1lfHx7fSkuc2F2ZT0hMCxlLmVsZW1lbnQ9byxlLmNvbnRlbnQ9ci5nZXRDb250ZW50KGUpLGUubm9fZXZlbnRzfHxyLmZpcmUoIlNhdmVDb250ZW50IixlKSwicmF3Ij09PWUuZm9ybWF0JiZyLmZpcmUoIlJhd1NhdmVDb250ZW50IixlKSx0PWUuY29udGVudCxObihvKT9vLnZhbHVlPXQ6KCFlLmlzX3JlbW92aW5nJiZyLmlubGluZXx8KG8uaW5uZXJIVE1MPXQpLChuPU1OLmdldFBhcmVudChyLmlkLCJmb3JtIikpJiZVTihuLmVsZW1lbnRzLGZ1bmN0aW9uKGUpe2lmKGUubmFtZT09PXIuaWQpcmV0dXJuIGUudmFsdWU9dCwhMX0pKSxlLmVsZW1lbnQ9bz1udWxsLCExIT09ZS5zZXRfZGlydHkmJnIuc2V0RGlydHkoITEpLHR9LFZOLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGpnKHRoaXMsZSx0KX0sVk4ucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHpnKHRoaXMsZSl9LFZOLnByb3RvdHlwZS5pbnNlcnRDb250ZW50PWZ1bmN0aW9uKGUsdCl7dCYmKGU9Rk4oe2NvbnRlbnQ6ZX0sdCkpLHRoaXMuZXhlY0NvbW1hbmQoIm1jZUluc2VydENvbnRlbnQiLCExLGUpfSxWTi5wcm90b3R5cGUucmVzZXRDb250ZW50PWZ1bmN0aW9uKGUpe2U9PT11bmRlZmluZWQ/amcodGhpcyx0aGlzLnN0YXJ0Q29udGVudCx7Zm9ybWF0OiJyYXcifSk6amcodGhpcyxlKSx0aGlzLnVuZG9NYW5hZ2VyLnJlc2V0KCksdGhpcy5zZXREaXJ0eSghMSksdGhpcy5ub2RlQ2hhbmdlZCgpfSxWTi5wcm90b3R5cGUuaXNEaXJ0eT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzTm90RGlydHl9LFZOLnByb3RvdHlwZS5zZXREaXJ0eT1mdW5jdGlvbihlKXt2YXIgdD0hdGhpcy5pc05vdERpcnR5O3RoaXMuaXNOb3REaXJ0eT0hZSxlJiZlIT09dCYmdGhpcy5maXJlKCJkaXJ0eSIpfSxWTi5wcm90b3R5cGUuZ2V0Q29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyfHwodGhpcy5jb250YWluZXI9TU4uZ2V0KHRoaXMuZWRpdG9yQ29udGFpbmVyfHx0aGlzLmlkKyJfcGFyZW50IikpLHRoaXMuY29udGFpbmVyfSxWTi5wcm90b3R5cGUuZ2V0Q29udGVudEFyZWFDb250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50QXJlYUNvbnRhaW5lcn0sVk4ucHJvdG90eXBlLmdldEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YXJnZXRFbG18fCh0aGlzLnRhcmdldEVsbT1NTi5nZXQodGhpcy5pZCkpLHRoaXMudGFyZ2V0RWxtfSxWTi5wcm90b3R5cGUuZ2V0V2luPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHRoaXMuY29udGVudFdpbmRvd3x8KGU9dGhpcy5pZnJhbWVFbGVtZW50KSYmKHRoaXMuY29udGVudFdpbmRvdz1lLmNvbnRlbnRXaW5kb3cpLHRoaXMuY29udGVudFdpbmRvd30sVk4ucHJvdG90eXBlLmdldERvYz1mdW5jdGlvbigpe3ZhciBlO3JldHVybiB0aGlzLmNvbnRlbnREb2N1bWVudHx8KGU9dGhpcy5nZXRXaW4oKSkmJih0aGlzLmNvbnRlbnREb2N1bWVudD1lLmRvY3VtZW50KSx0aGlzLmNvbnRlbnREb2N1bWVudH0sVk4ucHJvdG90eXBlLmdldEJvZHk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldERvYygpO3JldHVybiB0aGlzLmJvZHlFbGVtZW50fHwoZT9lLmJvZHk6bnVsbCl9LFZOLnByb3RvdHlwZS5jb252ZXJ0VVJMPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLnNldHRpbmdzO3JldHVybiByLnVybGNvbnZlcnRlcl9jYWxsYmFjaz90aGlzLmV4ZWNDYWxsYmFjaygidXJsY29udmVydGVyX2NhbGxiYWNrIixlLG4sITAsdCk6IXIuY29udmVydF91cmxzfHxuJiYiTElOSyI9PT1uLm5vZGVOYW1lfHwwPT09ZS5pbmRleE9mKCJmaWxlOiIpfHwwPT09ZS5sZW5ndGg/ZTpyLnJlbGF0aXZlX3VybHM/dGhpcy5kb2N1bWVudEJhc2VVUkkudG9SZWxhdGl2ZShlKTplPXRoaXMuZG9jdW1lbnRCYXNlVVJJLnRvQWJzb2x1dGUoZSxyLnJlbW92ZV9zY3JpcHRfaG9zdCl9LFZOLnByb3RvdHlwZS5hZGRWaXN1YWw9ZnVuY3Rpb24oZSl7dmFyIG4scj10aGlzLG89ci5zZXR0aW5ncyxpPXIuZG9tO2U9ZXx8ci5nZXRCb2R5KCksci5oYXNWaXN1YWw9PT11bmRlZmluZWQmJihyLmhhc1Zpc3VhbD1vLnZpc3VhbCksVU4oaS5zZWxlY3QoInRhYmxlLGEiLGUpLGZ1bmN0aW9uKGUpe3ZhciB0O3N3aXRjaChlLm5vZGVOYW1lKXtjYXNlIlRBQkxFIjpyZXR1cm4gbj1vLnZpc3VhbF90YWJsZV9jbGFzc3x8Im1jZS1pdGVtLXRhYmxlIix2b2lkKCh0PWkuZ2V0QXR0cmliKGUsImJvcmRlciIpKSYmIjAiIT09dHx8IXIuaGFzVmlzdWFsP2kucmVtb3ZlQ2xhc3MoZSxuKTppLmFkZENsYXNzKGUsbikpO2Nhc2UiQSI6cmV0dXJuIHZvaWQoaS5nZXRBdHRyaWIoZSwiaHJlZiIpfHwodD1pLmdldEF0dHJpYihlLCJuYW1lIil8fGUuaWQsbj1vLnZpc3VhbF9hbmNob3JfY2xhc3N8fCJtY2UtaXRlbS1hbmNob3IiLHQmJnIuaGFzVmlzdWFsP2kuYWRkQ2xhc3MoZSxuKTppLnJlbW92ZUNsYXNzKGUsbikpKX19KSxyLmZpcmUoIlZpc3VhbEFpZCIse2VsZW1lbnQ6ZSxoYXNWaXN1YWw6ci5oYXNWaXN1YWx9KX0sVk4ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3FnKHRoaXMpfSxWTi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihlKXskZyh0aGlzLGUpfSxWTi5wcm90b3R5cGUudXBsb2FkSW1hZ2VzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVkaXRvclVwbG9hZC51cGxvYWRJbWFnZXMoZSl9LFZOLnByb3RvdHlwZS5fc2NhbkZvckltYWdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvclVwbG9hZC5zY2FuRm9ySW1hZ2VzKCl9LFZOLnByb3RvdHlwZS5hZGRCdXR0b249ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoImVkaXRvci5hZGRCdXR0b24gaGFzIGJlZW4gcmVtb3ZlZCBpbiB0aW55bWNlIDV4LCB1c2UgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZEJ1dHRvbiBvciBlZGl0b3IudWkucmVnaXN0cnkuYWRkVG9nZ2xlQnV0dG9uIG9yIGVkaXRvci51aS5yZWdpc3RyeS5hZGRTcGxpdEJ1dHRvbiBpbnN0ZWFkIil9LFZOLnByb3RvdHlwZS5hZGRTaWRlYmFyPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJlZGl0b3IuYWRkU2lkZWJhciBoYXMgYmVlbiByZW1vdmVkIGluIHRpbnltY2UgNXgsIHVzZSBlZGl0b3IudWkucmVnaXN0cnkuYWRkU2lkZWJhciBpbnN0ZWFkIil9LFZOLnByb3RvdHlwZS5hZGRNZW51SXRlbT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiZWRpdG9yLmFkZE1lbnVJdGVtIGhhcyBiZWVuIHJlbW92ZWQgaW4gdGlueW1jZSA1eCwgdXNlIGVkaXRvci51aS5yZWdpc3RyeS5hZGRNZW51SXRlbSBpbnN0ZWFkIil9LFZOLnByb3RvdHlwZS5hZGRDb250ZXh0VG9vbGJhcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiZWRpdG9yLmFkZENvbnRleHRUb29sYmFyIGhhcyBiZWVuIHJlbW92ZWQgaW4gdGlueW1jZSA1eCwgdXNlIGVkaXRvci51aS5yZWdpc3RyeS5hZGRDb250ZXh0VG9vbGJhciBpbnN0ZWFkIil9LFZOKTtmdW5jdGlvbiBWTihlLHQsbil7dmFyIHI9dGhpczt0aGlzLnBsdWdpbnM9e30sdGhpcy5jb250ZW50Q1NTPVtdLHRoaXMuY29udGVudFN0eWxlcz1bXSx0aGlzLmxvYWRlZENTUz17fSx0aGlzLmlzTm90RGlydHk9ITEsdGhpcy5lZGl0b3JNYW5hZ2VyPW4sdGhpcy5kb2N1bWVudEJhc2VVcmw9bi5kb2N1bWVudEJhc2VVUkwsRk4odGhpcyxDTiksdGhpcy5zZXR0aW5ncz1haCh0aGlzLGUsdGhpcy5kb2N1bWVudEJhc2VVcmwsbi5kZWZhdWx0U2V0dGluZ3MsdCksdGhpcy5zZXR0aW5ncy5zdWZmaXgmJihuLnN1ZmZpeD10aGlzLnNldHRpbmdzLnN1ZmZpeCksdGhpcy5zdWZmaXg9bi5zdWZmaXgsdGhpcy5zZXR0aW5ncy5iYXNlX3VybCYmbi5fc2V0QmFzZVVybCh0aGlzLnNldHRpbmdzLmJhc2VfdXJsKSx0aGlzLmJhc2VVcmk9bi5iYXNlVVJJLHRoaXMuc2V0dGluZ3MucmVmZXJyZXJfcG9saWN5JiYoUmEuU2NyaXB0TG9hZGVyLl9zZXRSZWZlcnJlclBvbGljeSh0aGlzLnNldHRpbmdzLnJlZmVycmVyX3BvbGljeSksRWEuRE9NLnN0eWxlU2hlZXRMb2FkZXIuX3NldFJlZmVycmVyUG9saWN5KHRoaXMuc2V0dGluZ3MucmVmZXJyZXJfcG9saWN5KSksRmEubGFuZ3VhZ2VMb2FkPXRoaXMuc2V0dGluZ3MubGFuZ3VhZ2VfbG9hZCxGYS5iYXNlVVJMPW4uYmFzZVVSTCx0aGlzLmlkPWUsdGhpcy5zZXREaXJ0eSghMSksdGhpcy5kb2N1bWVudEJhc2VVUkk9bmV3IExOKHRoaXMuc2V0dGluZ3MuZG9jdW1lbnRfYmFzZV91cmwse2Jhc2VfdXJpOnRoaXMuYmFzZVVyaX0pLHRoaXMuYmFzZVVSST10aGlzLmJhc2VVcmksdGhpcy5pbmxpbmU9ISF0aGlzLnNldHRpbmdzLmlubGluZSx0aGlzLnNob3J0Y3V0cz1uZXcgVE4odGhpcyksdGhpcy5lZGl0b3JDb21tYW5kcz1uZXcgdE4odGhpcyksdGhpcy5zZXR0aW5ncy5jYWNoZV9zdWZmaXgmJihtdC5jYWNoZVN1ZmZpeD10aGlzLnNldHRpbmdzLmNhY2hlX3N1ZmZpeC5yZXBsYWNlKC9eW1w/XCZdKy8sIiIpKSx0aGlzLnVpPXtyZWdpc3RyeTpBTigpLHN0eWxlU2hlZXRMb2FkZXI6dW5kZWZpbmVkfTt2YXIgbz1TTih0aGlzKTt0aGlzLm1vZGU9byx0aGlzLnNldE1vZGU9by5zZXQsbi5maXJlKCJTZXR1cEVkaXRvciIse2VkaXRvcjp0aGlzfSksdGhpcy5leGVjQ2FsbGJhY2soInNldHVwIix0aGlzKSx0aGlzLiQ9Umkub3ZlcnJpZGVEZWZhdWx0cyhmdW5jdGlvbigpe3JldHVybntjb250ZXh0OnIuaW5saW5lP3IuZ2V0Qm9keSgpOnIuZ2V0RG9jKCksZWxlbWVudDpyLmdldEJvZHkoKX19KX12YXIgcU4sJE4sV049RWEuRE9NLEtOPXl0LmV4cGxvZGUsWE49eXQuZWFjaCxZTj15dC5leHRlbmQsR049MCxKTj0hMSxRTj1bXSxaTj1bXSxlRT1mdW5jdGlvbih0KXt2YXIgbj10LnR5cGU7WE4ob0UuZ2V0KCksZnVuY3Rpb24oZSl7c3dpdGNoKG4pe2Nhc2Uic2Nyb2xsIjplLmZpcmUoIlNjcm9sbFdpbmRvdyIsdCk7YnJlYWs7Y2FzZSJyZXNpemUiOmUuZmlyZSgiUmVzaXplV2luZG93Iix0KX19KX0sdEU9ZnVuY3Rpb24oZSl7ZSE9PUpOJiYoZT9SaSh3aW5kb3cpLm9uKCJyZXNpemUgc2Nyb2xsIixlRSk6Umkod2luZG93KS5vZmYoInJlc2l6ZSBzY3JvbGwiLGVFKSxKTj1lKX0sbkU9ZnVuY3Rpb24odCl7dmFyIGU9Wk47ZGVsZXRlIFFOW3QuaWRdO2Zvcih2YXIgbj0wO248UU4ubGVuZ3RoO24rKylpZihRTltuXT09PXQpe1FOLnNwbGljZShuLDEpO2JyZWFrfXJldHVybiBaTj1IKFpOLGZ1bmN0aW9uKGUpe3JldHVybiB0IT09ZX0pLG9FLmFjdGl2ZUVkaXRvcj09PXQmJihvRS5hY3RpdmVFZGl0b3I9MDxaTi5sZW5ndGg/Wk5bMF06bnVsbCksb0UuZm9jdXNlZEVkaXRvcj09PXQmJihvRS5mb2N1c2VkRWRpdG9yPW51bGwpLGUubGVuZ3RoIT09Wk4ubGVuZ3RofSxyRT0iQ1NTMUNvbXBhdCIhPT1WLmRvY3VtZW50LmNvbXBhdE1vZGUsb0U9eGUoeGUoe30sZ04pLHtiYXNlVVJJOm51bGwsYmFzZVVSTDpudWxsLGRlZmF1bHRTZXR0aW5nczp7fSxkb2N1bWVudEJhc2VVUkw6bnVsbCxzdWZmaXg6bnVsbCwkOlJpLG1ham9yVmVyc2lvbjoiNSIsbWlub3JWZXJzaW9uOiI0LjEiLHJlbGVhc2VEYXRlOiIyMDIwLTA3LTA4IixlZGl0b3JzOlFOLGkxOG46SWEsYWN0aXZlRWRpdG9yOm51bGwsZm9jdXNlZEVkaXRvcjpudWxsLHNldHRpbmdzOnt9LHNldHVwOmZ1bmN0aW9uKCl7dmFyIGUsdCxuPSIiO3Q9TE4uZ2V0RG9jdW1lbnRCYXNlVXJsKFYuZG9jdW1lbnQubG9jYXRpb24pLC9eW146XSs6XC9cL1wvP1teXC9dK1wvLy50ZXN0KHQpJiYodD10LnJlcGxhY2UoL1tcPyNdLiokLywiIikucmVwbGFjZSgvW1wvXFxdW15cL10rJC8sIiIpLC9bXC9cXF0kLy50ZXN0KHQpfHwodCs9Ii8iKSk7dmFyIHIsbz13aW5kb3cudGlueW1jZXx8d2luZG93LnRpbnlNQ0VQcmVJbml0O2lmKG8pZT1vLmJhc2V8fG8uYmFzZVVSTCxuPW8uc3VmZml4O2Vsc2V7Zm9yKHZhciBpPVYuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHU7aWYoIiIhPT0odT1pW2FdLnNyY3x8IiIpKXt2YXIgcz11LnN1YnN0cmluZyh1Lmxhc3RJbmRleE9mKCIvIikpO2lmKC90aW55bWNlKFwuZnVsbHxcLmpxdWVyeXwpKFwubWlufFwuZGV2fClcLmpzLy50ZXN0KHUpKXstMSE9PXMuaW5kZXhPZigiLm1pbiIpJiYobj0iLm1pbiIpLGU9dS5zdWJzdHJpbmcoMCx1Lmxhc3RJbmRleE9mKCIvIikpO2JyZWFrfX19aWYoIWUmJlYuZG9jdW1lbnQuY3VycmVudFNjcmlwdCktMSE9PSh1PVYuZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLmluZGV4T2YoIi5taW4iKSYmKG49Ii5taW4iKSxlPXUuc3Vic3RyaW5nKDAsdS5sYXN0SW5kZXhPZigiLyIpKX10aGlzLmJhc2VVUkw9bmV3IExOKHQpLnRvQWJzb2x1dGUoZSksdGhpcy5kb2N1bWVudEJhc2VVUkw9dCx0aGlzLmJhc2VVUkk9bmV3IExOKHRoaXMuYmFzZVVSTCksdGhpcy5zdWZmaXg9biwocj10aGlzKS5vbigiQWRkRWRpdG9yIixOKEhtLHIpKSxyLm9uKCJSZW1vdmVFZGl0b3IiLE4oVm0scikpfSxvdmVycmlkZURlZmF1bHRzOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYmFzZV91cmw7dCYmdGhpcy5fc2V0QmFzZVVybCh0KTt2YXIgbj1lLnN1ZmZpeDtlLnN1ZmZpeCYmKHRoaXMuc3VmZml4PW4pO3ZhciByPSh0aGlzLmRlZmF1bHRTZXR0aW5ncz1lKS5wbHVnaW5fYmFzZV91cmxzO3IhPT11bmRlZmluZWQmJm9lKHIsZnVuY3Rpb24oZSx0KXtGYS5QbHVnaW5NYW5hZ2VyLnVybHNbdF09ZX0pfSxpbml0OmZ1bmN0aW9uKHIpe3ZhciBuLHU9dGhpcyxzPXl0Lm1ha2VNYXAoImFyZWEgYmFzZSBiYXNlZm9udCBiciBjb2wgZnJhbWUgaHIgaW1nIGlucHV0IGlzaW5kZXggbGluayBtZXRhIHBhcmFtIGVtYmVkIHNvdXJjZSB3YnIgdHJhY2sgY29sZ3JvdXAgb3B0aW9uIHRhYmxlIHRib2R5IHRmb290IHRoZWFkIHRyIHRoIHRkIHNjcmlwdCBub3NjcmlwdCBzdHlsZSB0ZXh0YXJlYSB2aWRlbyBhdWRpbyBpZnJhbWUgb2JqZWN0IG1lbnUiLCIgIiksYz1mdW5jdGlvbihlKXt2YXIgdD1lLmlkO3JldHVybiB0fHwodD1kZShlLCJuYW1lIikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFXTi5nZXQoZSl9KS5nZXRPclRodW5rKFdOLnVuaXF1ZUlkKSxlLnNldEF0dHJpYnV0ZSgiaWQiLHQpKSx0fSxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY29uc3RydWN0b3I9PT1SZWdFeHA/dC50ZXN0KGUuY2xhc3NOYW1lKTpXTi5oYXNDbGFzcyhlLHQpfSxmPWZ1bmN0aW9uKGUpe249ZX0sZT1mdW5jdGlvbigpe3ZhciBvLGk9MCxhPVtdLG49ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW5ldyBITihlLHQsdSk7YS5wdXNoKHIpLHIub24oImluaXQiLGZ1bmN0aW9uKCl7KytpPT09by5sZW5ndGgmJmYoYSl9KSxyLnRhcmdldEVsbT1yLnRhcmdldEVsbXx8bixyLnJlbmRlcigpfTtXTi51bmJpbmQod2luZG93LCJyZWFkeSIsZSksZnVuY3Rpb24oZSl7dmFyIHQ9cltlXTtpZih0KXQuYXBwbHkodSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfSgib25wYWdlbG9hZCIpLG89UmkudW5pcXVlKGZ1bmN0aW9uKHQpe3ZhciBuPVtdO2lmKG10LmJyb3dzZXIuaXNJRSgpJiZtdC5icm93c2VyLnZlcnNpb24ubWFqb3I8MTEpcmV0dXJuIF9oKCJUaW55TUNFIGRvZXMgbm90IHN1cHBvcnQgdGhlIGJyb3dzZXIgeW91IGFyZSB1c2luZy4gRm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgYnJvd3NlcnMgcGxlYXNlIHNlZTogaHR0cHM6Ly93d3cudGlueW1jZS5jb20vZG9jcy9nZXQtc3RhcnRlZC9zeXN0ZW0tcmVxdWlyZW1lbnRzLyIpLFtdO2lmKHJFKXJldHVybiBfaCgiRmFpbGVkIHRvIGluaXRpYWxpemUgdGhlIGVkaXRvciBhcyB0aGUgZG9jdW1lbnQgaXMgbm90IGluIHN0YW5kYXJkcyBtb2RlLiBUaW55TUNFIHJlcXVpcmVzIHN0YW5kYXJkcyBtb2RlLiIpLFtdO2lmKHQudHlwZXMpcmV0dXJuIFhOKHQudHlwZXMsZnVuY3Rpb24oZSl7bj1uLmNvbmNhdChXTi5zZWxlY3QoZS5zZWxlY3RvcikpfSksbjtpZih0LnNlbGVjdG9yKXJldHVybiBXTi5zZWxlY3QodC5zZWxlY3Rvcik7aWYodC50YXJnZXQpcmV0dXJuW3QudGFyZ2V0XTtzd2l0Y2godC5tb2RlKXtjYXNlImV4YWN0Ijp2YXIgZT10LmVsZW1lbnRzfHwiIjswPGUubGVuZ3RoJiZYTihLTihlKSxmdW5jdGlvbih0KXt2YXIgZT1XTi5nZXQodCk7ZT9uLnB1c2goZSk6WE4oVi5kb2N1bWVudC5mb3JtcyxmdW5jdGlvbihlKXtYTihlLmVsZW1lbnRzLGZ1bmN0aW9uKGUpe2UubmFtZT09PXQmJih0PSJtY2VfZWRpdG9yXyIrR04rKyxXTi5zZXRBdHRyaWIoZSwiaWQiLHQpLG4ucHVzaChlKSl9KX0pfSk7YnJlYWs7Y2FzZSJ0ZXh0YXJlYXMiOmNhc2Uic3BlY2lmaWNfdGV4dGFyZWFzIjpYTihXTi5zZWxlY3QoInRleHRhcmVhIiksZnVuY3Rpb24oZSl7dC5lZGl0b3JfZGVzZWxlY3RvciYmbChlLHQuZWRpdG9yX2Rlc2VsZWN0b3IpfHx0LmVkaXRvcl9zZWxlY3RvciYmIWwoZSx0LmVkaXRvcl9zZWxlY3Rvcil8fG4ucHVzaChlKX0pfXJldHVybiBufShyKSksci50eXBlcz9YTihyLnR5cGVzLGZ1bmN0aW9uKHQpe3l0LmVhY2gobyxmdW5jdGlvbihlKXtyZXR1cm4hV04uaXMoZSx0LnNlbGVjdG9yKXx8KG4oYyhlKSxZTih7fSxyLHQpLGUpLCExKX0pfSk6KHl0LmVhY2gobyxmdW5jdGlvbihlKXt2YXIgdDsodD11LmdldChlLmlkKSkmJnQuaW5pdGlhbGl6ZWQmJiEodC5nZXRDb250YWluZXIoKXx8dC5nZXRCb2R5KCkpLnBhcmVudE5vZGUmJihuRSh0KSx0LnVuYmluZEFsbE5hdGl2ZUV2ZW50cygpLHQuZGVzdHJveSghMCksdC5yZW1vdmVkPSEwLHQ9bnVsbCl9KSwwPT09KG89eXQuZ3JlcChvLGZ1bmN0aW9uKGUpe3JldHVybiF1LmdldChlLmlkKX0pKS5sZW5ndGg/ZihbXSk6WE4obyxmdW5jdGlvbihlKXt2YXIgdDt0PWUsci5pbmxpbmUmJnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpaW4gcz9faCgiQ291bGQgbm90IGluaXRpYWxpemUgaW5saW5lIGVkaXRvciBvbiBpbnZhbGlkIGlubGluZSB0YXJnZXQgZWxlbWVudCIsZSk6bihjKGUpLHIsZSl9KSl9O3JldHVybiB1LnNldHRpbmdzPXIsV04uYmluZCh3aW5kb3csInJlYWR5IixlKSxuZXcgZWEoZnVuY3Rpb24odCl7bj90KG4pOmY9ZnVuY3Rpb24oZSl7dChlKX19KX0sZ2V0OmZ1bmN0aW9uKHQpe3JldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD9aTi5zbGljZSgwKTpxKHQpP0soWk4sZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT10fSkuZ2V0T3IobnVsbCk6RCh0KSYmWk5bdF0/Wk5bdF06bnVsbH0sYWRkOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIFFOW2UuaWRdPT09ZXx8KG51bGw9PT1uLmdldChlLmlkKSYmKCJsZW5ndGgiIT09ZS5pZCYmKFFOW2UuaWRdPWUpLFFOLnB1c2goZSksWk4ucHVzaChlKSksdEUoITApLG4uYWN0aXZlRWRpdG9yPWUsbi5maXJlKCJBZGRFZGl0b3IiLHtlZGl0b3I6ZX0pLHFOfHwocU49ZnVuY3Rpb24oZSl7dmFyIHQ9bi5maXJlKCJCZWZvcmVVbmxvYWQiKTtpZih0LnJldHVyblZhbHVlKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCksZS5yZXR1cm5WYWx1ZT10LnJldHVyblZhbHVlLHQucmV0dXJuVmFsdWV9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJiZWZvcmV1bmxvYWQiLHFOKSkpLGV9LGNyZWF0ZUVkaXRvcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFkZChuZXcgSE4oZSx0LHRoaXMpKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj10aGlzO2lmKGUpe2lmKCFxKGUpKXJldHVybiBuPWUsXyhyLmdldChuLmlkKSk/bnVsbDoobkUobikmJnIuZmlyZSgiUmVtb3ZlRWRpdG9yIix7ZWRpdG9yOm59KSwwPT09Wk4ubGVuZ3RoJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIixxTiksbi5yZW1vdmUoKSx0RSgwPFpOLmxlbmd0aCksbik7WE4oV04uc2VsZWN0KGUpLGZ1bmN0aW9uKGUpeyhuPXIuZ2V0KGUuaWQpKSYmci5yZW1vdmUobil9KX1lbHNlIGZvcih0PVpOLmxlbmd0aC0xOzA8PXQ7dC0tKXIucmVtb3ZlKFpOW3RdKX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuZ2V0KG4pO3N3aXRjaChlKXtjYXNlIm1jZUFkZEVkaXRvciI6cmV0dXJuIHRoaXMuZ2V0KG4pfHxuZXcgSE4obix0aGlzLnNldHRpbmdzLHRoaXMpLnJlbmRlcigpLCEwO2Nhc2UibWNlUmVtb3ZlRWRpdG9yIjpyZXR1cm4gciYmci5yZW1vdmUoKSwhMDtjYXNlIm1jZVRvZ2dsZUVkaXRvciI6cmV0dXJuIHI/KHIuaXNIaWRkZW4oKT9yLnNob3coKTpyLmhpZGUoKSwhMCk6KHRoaXMuZXhlY0NvbW1hbmQoIm1jZUFkZEVkaXRvciIsMCxuKSwhMCl9cmV0dXJuISF0aGlzLmFjdGl2ZUVkaXRvciYmdGhpcy5hY3RpdmVFZGl0b3IuZXhlY0NvbW1hbmQoZSx0LG4pfSx0cmlnZ2VyU2F2ZTpmdW5jdGlvbigpe1hOKFpOLGZ1bmN0aW9uKGUpe2Uuc2F2ZSgpfSl9LGFkZEkxOG46ZnVuY3Rpb24oZSx0KXtJYS5hZGQoZSx0KX0sdHJhbnNsYXRlOmZ1bmN0aW9uKGUpe3JldHVybiBJYS50cmFuc2xhdGUoZSl9LHNldEFjdGl2ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmFjdGl2ZUVkaXRvcjt0aGlzLmFjdGl2ZUVkaXRvciE9PWUmJih0JiZ0LmZpcmUoImRlYWN0aXZhdGUiLHtyZWxhdGVkVGFyZ2V0OmV9KSxlLmZpcmUoImFjdGl2YXRlIix7cmVsYXRlZFRhcmdldDp0fSkpLHRoaXMuYWN0aXZlRWRpdG9yPWV9LF9zZXRCYXNlVXJsOmZ1bmN0aW9uKGUpe3RoaXMuYmFzZVVSTD1uZXcgTE4odGhpcy5kb2N1bWVudEJhc2VVUkwpLnRvQWJzb2x1dGUoZS5yZXBsYWNlKC9cLyskLywiIikpLHRoaXMuYmFzZVVSST1uZXcgTE4odGhpcy5iYXNlVVJMKX19KTtmdW5jdGlvbiBpRShuKXtyZXR1cm57d2FsazpmdW5jdGlvbihlLHQpe3JldHVybiByZihuLGUsdCl9LHNwbGl0Om9wLG5vcm1hbGl6ZTpmdW5jdGlvbih0KXtyZXR1cm4gbHYobix0KS5mb2xkKHgoITEpLGZ1bmN0aW9uKGUpe3JldHVybiB0LnNldFN0YXJ0KGUuc3RhcnRDb250YWluZXIsZS5zdGFydE9mZnNldCksdC5zZXRFbmQoZS5lbmRDb250YWluZXIsZS5lbmRPZmZzZXQpLCEwfSl9fX1vRS5zZXR1cCgpLCgkTj1pRT1pRXx8e30pLmNvbXBhcmVSYW5nZXM9cnYsJE4uZ2V0Q2FyZXRSYW5nZUZyb21Qb2ludD1KaCwkTi5nZXRTZWxlY3RlZE5vZGU9anUsJE4uZ2V0Tm9kZT1IdTt2YXIgYUUsdUUsc0UsY0UsbEU9aUUsZkU9KGFFPXt9LHVFPXt9LHtsb2FkOmZ1bmN0aW9uKHIsbyl7dmFyIGk9J1NjcmlwdCBhdCBVUkwgIicrbysnIiBmYWlsZWQgdG8gbG9hZCcsYT0nU2NyaXB0IGF0IFVSTCAiJytvKyJcIiBkaWQgbm90IGNhbGwgYHRpbnltY2UuUmVzb3VyY2UuYWRkKCciK3IrIicsIGRhdGEpYCB3aXRoaW4gMSBzZWNvbmQiO2lmKGFFW3JdIT09dW5kZWZpbmVkKXJldHVybiBhRVtyXTt2YXIgZT1uZXcgZWEoZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09biYmKG49MWUzKTt2YXIgcj0hMSxvPW51bGwsaT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cnx8KHI9ITAsbnVsbCE9PW8mJihWLmNsZWFyVGltZW91dChvKSxvPW51bGwpLG4uYXBwbHkobnVsbCxlKSl9fSxhPWkoZSksdT1pKHQpO3JldHVybntzdGFydDpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyfHxudWxsIT09b3x8KG89Vi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHUuYXBwbHkobnVsbCxlKX0sbikpfSxyZXNvbHZlOmEscmVqZWN0OnV9fShlLHQpO3VFW3JdPW4ucmVzb2x2ZSxSYS5TY3JpcHRMb2FkZXIubG9hZFNjcmlwdChvLGZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhcnQoYSl9LGZ1bmN0aW9uKCl7cmV0dXJuIG4ucmVqZWN0KGkpfSl9KTtyZXR1cm4gYUVbcl09ZX0sYWRkOmZ1bmN0aW9uKGUsdCl7dUVbZV0hPT11bmRlZmluZWQmJih1RVtlXSh0KSxkZWxldGUgdUVbZV0pLGFFW2VdPWVhLnJlc29sdmUodCl9fSksZEU9TWF0aC5taW4sbUU9TWF0aC5tYXgscEU9TWF0aC5yb3VuZCxnRT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dC54LG89dC55LGk9ZS53LGE9ZS5oLHU9dC53LHM9dC5oO3JldHVybiJiIj09PShuPShufHwiIikuc3BsaXQoIiIpKVswXSYmKG8rPXMpLCJyIj09PW5bMV0mJihyKz11KSwiYyI9PT1uWzBdJiYobys9cEUocy8yKSksImMiPT09blsxXSYmKHIrPXBFKHUvMikpLCJiIj09PW5bM10mJihvLT1hKSwiciI9PT1uWzRdJiYoci09aSksImMiPT09blszXSYmKG8tPXBFKGEvMikpLCJjIj09PW5bNF0mJihyLT1wRShpLzIpKSxoRShyLG8saSxhKX0saEU9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJue3g6ZSx5OnQsdzpuLGg6cn19LHZFPXtpbmZsYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaEUoZS54LXQsZS55LW4sZS53KzIqdCxlLmgrMipuKX0scmVsYXRpdmVQb3NpdGlvbjpnRSxmaW5kQmVzdFJlbGF0aXZlUG9zaXRpb246ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saTtmb3IoaT0wO2k8ci5sZW5ndGg7aSsrKWlmKChvPWdFKGUsdCxyW2ldKSkueD49bi54JiZvLngrby53PD1uLncrbi54JiZvLnk+PW4ueSYmby55K28uaDw9bi5oK24ueSlyZXR1cm4gcltpXTtyZXR1cm4gbnVsbH0saW50ZXJzZWN0OmZ1bmN0aW9uKGUsdCl7dmFyIG49bUUoZS54LHQueCkscj1tRShlLnksdC55KSxvPWRFKGUueCtlLncsdC54K3QudyksaT1kRShlLnkrZS5oLHQueSt0LmgpO3JldHVybiBvLW48MHx8aS1yPDA/bnVsbDpoRShuLHIsby1uLGktcil9LGNsYW1wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLngsbz1lLnksaT1lLngrZS53LGE9ZS55K2UuaCx1PXQueCt0Lncscz10LnkrdC5oLGM9bUUoMCx0LngtciksbD1tRSgwLHQueS1vKSxmPW1FKDAsaS11KSxkPW1FKDAsYS1zKTtyZXR1cm4gcis9YyxvKz1sLG4mJihpKz1jLGErPWwsci09ZixvLT1kKSxoRShyLG8sKGktPWYpLXIsKGEtPWQpLW8pfSxjcmVhdGU6aEUsZnJvbUNsaWVudFJlY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGhFKGUubGVmdCxlLnRvcCxlLndpZHRoLGUuaGVpZ2h0KX19LHlFPXl0LmVhY2gsYkU9eXQuZXh0ZW5kLENFPWZ1bmN0aW9uKCl7fTtDRS5leHRlbmQ9c0U9ZnVuY3Rpb24obil7dmFyIG89dGhpcy5wcm90b3R5cGUscj1mdW5jdGlvbigpe3ZhciBlLHQsbjtpZighY0UmJih0aGlzLmluaXQmJnRoaXMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdD10aGlzLk1peGlucykpZm9yKGU9dC5sZW5ndGg7ZS0tOykobj10W2VdKS5pbml0JiZuLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2NFPSEwO3ZhciBpPW5ldyB0aGlzO3JldHVybiBjRT0hMSxuLk1peGlucyYmKHlFKG4uTWl4aW5zLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKSJpbml0IiE9PXQmJihuW3RdPWVbdF0pfSksby5NaXhpbnMmJihuLk1peGlucz1vLk1peGlucy5jb25jYXQobi5NaXhpbnMpKSksbi5NZXRob2RzJiZ5RShuLk1ldGhvZHMuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXtuW2VdPXR9KSxuLlByb3BlcnRpZXMmJnlFKG4uUHJvcGVydGllcy5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0PSJfIitlO25bZV09ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT11bmRlZmluZWQ/KHRoaXNbdF09ZSx0aGlzKTp0aGlzW3RdfX0pLG4uU3RhdGljcyYmeUUobi5TdGF0aWNzLGZ1bmN0aW9uKGUsdCl7clt0XT1lfSksbi5EZWZhdWx0cyYmby5EZWZhdWx0cyYmKG4uRGVmYXVsdHM9YkUoe30sby5EZWZhdWx0cyxuLkRlZmF1bHRzKSksb2UobixmdW5jdGlvbihlLHQpe3ZhciBuLHI7ImZ1bmN0aW9uIj09dHlwZW9mIGUmJm9bdF0/aVt0XT0obj10LHI9ZSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3N1cGVyO3RoaXMuX3N1cGVyPW9bbl07dmFyIHQ9ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuX3N1cGVyPWUsdH0pOmlbdF09ZX0pLHIucHJvdG90eXBlPWksKHIuY29uc3RydWN0b3I9cikuZXh0ZW5kPXNFLHJ9O3ZhciB3RT1NYXRoLm1pbix4RT1NYXRoLm1heCxTRT1NYXRoLnJvdW5kLE5FPXtzZXJpYWxpemU6ZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5zdHJpbmdpZnkoZSk7cmV0dXJuIHEodCk/dC5yZXBsYWNlKC9bXHUwMDgwLVx1RkZGRl0vZyxmdW5jdGlvbihlKXt2YXIgdD1lLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpO3JldHVybiJcXHUiKyIwMDAwIi5zdWJzdHJpbmcodC5sZW5ndGgpK3R9KTp0fSxwYXJzZTpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2godCl7fX19LEVFPXtjYWxsYmFja3M6e30sY291bnQ6MCxzZW5kOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMscj1FYS5ET00sbz10LmNvdW50IT09dW5kZWZpbmVkP3QuY291bnQ6bi5jb3VudCxpPSJ0aW55bWNlX2pzb25wXyIrbztuLmNhbGxiYWNrc1tvXT1mdW5jdGlvbihlKXtyLnJlbW92ZShpKSxkZWxldGUgbi5jYWxsYmFja3Nbb10sdC5jYWxsYmFjayhlKX0sci5hZGQoci5kb2MuYm9keSwic2NyaXB0Iix7aWQ6aSxzcmM6dC51cmwsdHlwZToidGV4dC9qYXZhc2NyaXB0In0pLG4uY291bnQrK319LGtFPXhlKHhlKHt9LGdOKSx7c2VuZDpmdW5jdGlvbihlKXt2YXIgdCxuPTAscj1mdW5jdGlvbigpeyFlLmFzeW5jfHw0PT09dC5yZWFkeVN0YXRlfHwxZTQ8bisrPyhlLnN1Y2Nlc3MmJm48MWU0JiYyMDA9PT10LnN0YXR1cz9lLnN1Y2Nlc3MuY2FsbChlLnN1Y2Nlc3Nfc2NvcGUsIiIrdC5yZXNwb25zZVRleHQsdCxlKTplLmVycm9yJiZlLmVycm9yLmNhbGwoZS5lcnJvcl9zY29wZSwxZTQ8bj8iVElNRURfT1VUIjoiR0VORVJBTCIsdCxlKSx0PW51bGwpOmZhLnNldFRpbWVvdXQociwxMCl9O2lmKGUuc2NvcGU9ZS5zY29wZXx8dGhpcyxlLnN1Y2Nlc3Nfc2NvcGU9ZS5zdWNjZXNzX3Njb3BlfHxlLnNjb3BlLGUuZXJyb3Jfc2NvcGU9ZS5lcnJvcl9zY29wZXx8ZS5zY29wZSxlLmFzeW5jPSExIT09ZS5hc3luYyxlLmRhdGE9ZS5kYXRhfHwiIixrRS5maXJlKCJiZWZvcmVJbml0aWFsaXplIix7c2V0dGluZ3M6ZX0pLHQ9bmV3IFYuWE1MSHR0cFJlcXVlc3Qpe2lmKHQub3ZlcnJpZGVNaW1lVHlwZSYmdC5vdmVycmlkZU1pbWVUeXBlKGUuY29udGVudF90eXBlKSx0Lm9wZW4oZS50eXBlfHwoZS5kYXRhPyJQT1NUIjoiR0VUIiksZS51cmwsZS5hc3luYyksZS5jcm9zc0RvbWFpbiYmKHQud2l0aENyZWRlbnRpYWxzPSEwKSxlLmNvbnRlbnRfdHlwZSYmdC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGUuY29udGVudF90eXBlKSxlLnJlcXVlc3RoZWFkZXJzJiZ5dC5lYWNoKGUucmVxdWVzdGhlYWRlcnMsZnVuY3Rpb24oZSl7dC5zZXRSZXF1ZXN0SGVhZGVyKGUua2V5LGUudmFsdWUpfSksdC5zZXRSZXF1ZXN0SGVhZGVyKCJYLVJlcXVlc3RlZC1XaXRoIiwiWE1MSHR0cFJlcXVlc3QiKSwodD1rRS5maXJlKCJiZWZvcmVTZW5kIix7eGhyOnQsc2V0dGluZ3M6ZX0pLnhocikuc2VuZChlLmRhdGEpLCFlLmFzeW5jKXJldHVybiByKCk7ZmEuc2V0VGltZW91dChyLDEwKX19fSksX0U9eXQuZXh0ZW5kLFRFPShSRS5zZW5kUlBDPWZ1bmN0aW9uKGUpe3JldHVybihuZXcgUkUpLnNlbmQoZSl9LFJFLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3ZhciBuPWUuZXJyb3Iscj1lLnN1Y2Nlc3Msbz1fRSh0aGlzLnNldHRpbmdzLGUpO28uc3VjY2Vzcz1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PShlPU5FLnBhcnNlKGUpKSYmKGU9e2Vycm9yOiJKU09OIFBhcnNlIGVycm9yLiJ9KSxlLmVycm9yP24uY2FsbChvLmVycm9yX3Njb3BlfHxvLnNjb3BlLGUuZXJyb3IsdCk6ci5jYWxsKG8uc3VjY2Vzc19zY29wZXx8by5zY29wZSxlLnJlc3VsdCl9LG8uZXJyb3I9ZnVuY3Rpb24oZSx0KXtuJiZuLmNhbGwoby5lcnJvcl9zY29wZXx8by5zY29wZSxlLHQpfSxvLmRhdGE9TkUuc2VyaWFsaXplKHtpZDplLmlkfHwiYyIrdGhpcy5jb3VudCsrLG1ldGhvZDplLm1ldGhvZCxwYXJhbXM6ZS5wYXJhbXN9KSxvLmNvbnRlbnRfdHlwZT0iYXBwbGljYXRpb24vanNvbiIsa0Uuc2VuZChvKX0sUkUpO2Z1bmN0aW9uIFJFKGUpe3RoaXMuc2V0dGluZ3M9X0Uoe30sZSksdGhpcy5jb3VudD0wfXZhciBBRTt0cnl7dmFyIERFPSJfX3N0b3JhZ2VfdGVzdF9fIjsoQUU9Vi53aW5kb3cubG9jYWxTdG9yYWdlKS5zZXRJdGVtKERFLERFKSxBRS5yZW1vdmVJdGVtKERFKX1jYXRjaChMRSl7QUU9ZnVuY3Rpb24oKXtyZXR1cm4gbj17fSxyPVtdLGU9e2dldEl0ZW06ZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtyZXR1cm4gdHx8bnVsbH0sc2V0SXRlbTpmdW5jdGlvbihlLHQpe3IucHVzaChlKSxuW2VdPVN0cmluZyh0KX0sa2V5OmZ1bmN0aW9uKGUpe3JldHVybiByW2VdfSxyZW1vdmVJdGVtOmZ1bmN0aW9uKHQpe3I9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSksZGVsZXRlIG5bdF19LGNsZWFyOmZ1bmN0aW9uKCl7cj1bXSxuPXt9fSxsZW5ndGg6MH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiByLmxlbmd0aH0sY29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITF9KSxlO3ZhciBuLHIsZX0oKX12YXIgT0UsQkU9e2dlb206e1JlY3Q6dkV9LHV0aWw6e1Byb21pc2U6ZWEsRGVsYXk6ZmEsVG9vbHM6eXQsVks6dnYsVVJJOkxOLENsYXNzOkNFLEV2ZW50RGlzcGF0Y2hlcjpmTixPYnNlcnZhYmxlOmdOLEkxOG46SWEsWEhSOmtFLEpTT046TkUsSlNPTlJlcXVlc3Q6VEUsSlNPTlA6RUUsTG9jYWxTdG9yYWdlOkFFLENvbG9yOmZ1bmN0aW9uKGUpe3ZhciBuPXt9LHU9MCxzPTAsYz0wLHQ9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlPyJyImluIGU/KHU9ZS5yLHM9ZS5nLGM9ZS5iKToidiJpbiBlJiZmdW5jdGlvbihlLHQsbil7aWYoZT0ocGFyc2VJbnQoZSwxMCl8fDApJTM2MCx0PXBhcnNlSW50KHQsMTApLzEwMCxuPXBhcnNlSW50KG4sMTApLzEwMCx0PXhFKDAsd0UodCwxKSksbj14RSgwLHdFKG4sMSkpLDAhPT10KXt2YXIgcj1lLzYwLG89bip0LGk9byooMS1NYXRoLmFicyhyJTItMSkpLGE9bi1vO3N3aXRjaChNYXRoLmZsb29yKHIpKXtjYXNlIDA6dT1vLHM9aSxjPTA7YnJlYWs7Y2FzZSAxOnU9aSxzPW8sYz0wO2JyZWFrO2Nhc2UgMjp1PTAscz1vLGM9aTticmVhaztjYXNlIDM6dT0wLHM9aSxjPW87YnJlYWs7Y2FzZSA0OnU9aSxzPTAsYz1vO2JyZWFrO2Nhc2UgNTp1PW8scz0wLGM9aTticmVhaztkZWZhdWx0OnU9cz1jPTB9dT1TRSgyNTUqKHUrYSkpLHM9U0UoMjU1KihzK2EpKSxjPVNFKDI1NSooYythKSl9ZWxzZSB1PXM9Yz1TRSgyNTUqbil9KGUuaCxlLnMsZS52KToodD0vcmdiXHMqXChccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVteXCldKlwpL2dpLmV4ZWMoZSkpPyh1PXBhcnNlSW50KHRbMV0sMTApLHM9cGFyc2VJbnQodFsyXSwxMCksYz1wYXJzZUludCh0WzNdLDEwKSk6KHQ9LyMoWzAtRl17Mn0pKFswLUZdezJ9KShbMC1GXXsyfSkvZ2kuZXhlYyhlKSk/KHU9cGFyc2VJbnQodFsxXSwxNikscz1wYXJzZUludCh0WzJdLDE2KSxjPXBhcnNlSW50KHRbM10sMTYpKToodD0vIyhbMC1GXSkoWzAtRl0pKFswLUZdKS9naS5leGVjKGUpKSYmKHU9cGFyc2VJbnQodFsxXSt0WzFdLDE2KSxzPXBhcnNlSW50KHRbMl0rdFsyXSwxNiksYz1wYXJzZUludCh0WzNdK3RbM10sMTYpKSx1PXU8MD8wOjI1NTx1PzI1NTp1LHM9czwwPzA6MjU1PHM/MjU1OnMsYz1jPDA/MDoyNTU8Yz8yNTU6YyxufTtyZXR1cm4gZSYmdChlKSxuLnRvUmdiPWZ1bmN0aW9uKCl7cmV0dXJue3I6dSxnOnMsYjpjfX0sbi50b0hzdj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQsbil7dmFyIHIsbztvPTA7dmFyIGk9d0UoZS89MjU1LHdFKHQvPTI1NSxuLz0yNTUpKSxhPXhFKGUseEUodCxuKSk7cmV0dXJuIGk9PT1hP3toOjAsczowLHY6MTAwKihvPWkpfToocj0oYS1pKS9hLHtoOlNFKDYwKigoZT09PWk/MzpuPT09aT8xOjUpLShlPT09aT90LW46bj09PWk/ZS10Om4tZSkvKChvPWEpLWkpKSksczpTRSgxMDAqciksdjpTRSgxMDAqbyl9KX0odSxzLGMpfSxuLnRvSGV4PWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7cmV0dXJuIDE8KGU9cGFyc2VJbnQoZSwxMCkudG9TdHJpbmcoMTYpKS5sZW5ndGg/ZToiMCIrZX07cmV0dXJuIiMiK2UodSkrZShzKStlKGMpfSxuLnBhcnNlPXQsbn19LGRvbTp7RXZlbnRVdGlsczpIcixTaXp6bGU6Vm8sRG9tUXVlcnk6UmksVHJlZVdhbGtlcjpBaSxUZXh0U2Vla2VyOnZ1LERPTVV0aWxzOkVhLFNjcmlwdExvYWRlcjpSYSxSYW5nZVV0aWxzOmxFLFNlcmlhbGl6ZXI6WHYsU3R5bGVTaGVldExvYWRlcjpkYSxDb250cm9sU2VsZWN0aW9uOkN2LEJvb2ttYXJrTWFuYWdlcjpndixTZWxlY3Rpb246TnYsRXZlbnQ6SHIuRXZlbnR9LGh0bWw6e1N0eWxlczpCcixFbnRpdGllczp5cixOb2RlOlRmLFNjaGVtYTpScixTYXhQYXJzZXI6SGYsRG9tUGFyc2VyOlZ2LFdyaXRlcjpEZixTZXJpYWxpemVyOk9mfSxFbnY6bXQsQWRkT25NYW5hZ2VyOkZhLEFubm90YXRvcjp4ZixGb3JtYXR0ZXI6bHksVW5kb01hbmFnZXI6ZHksRWRpdG9yQ29tbWFuZHM6dE4sV2luZG93TWFuYWdlcjp3aCxOb3RpZmljYXRpb25NYW5hZ2VyOnloLEVkaXRvck9ic2VydmFibGU6Q04sU2hvcnRjdXRzOlROLEVkaXRvcjpITixGb2N1c01hbmFnZXI6TW0sRWRpdG9yTWFuYWdlcjpvRSxET006RWEuRE9NLFNjcmlwdExvYWRlcjpSYS5TY3JpcHRMb2FkZXIsUGx1Z2luTWFuYWdlcjpGYS5QbHVnaW5NYW5hZ2VyLFRoZW1lTWFuYWdlcjpGYS5UaGVtZU1hbmFnZXIsSWNvbk1hbmFnZXI6Y2gsUmVzb3VyY2U6ZkUsdHJpbTp5dC50cmltLGlzQXJyYXk6eXQuaXNBcnJheSxpczp5dC5pcyx0b0FycmF5Onl0LnRvQXJyYXksbWFrZU1hcDp5dC5tYWtlTWFwLGVhY2g6eXQuZWFjaCxtYXA6eXQubWFwLGdyZXA6eXQuZ3JlcCxpbkFycmF5Onl0LmluQXJyYXksZXh0ZW5kOnl0LmV4dGVuZCxjcmVhdGU6eXQuY3JlYXRlLHdhbGs6eXQud2FsayxjcmVhdGVOUzp5dC5jcmVhdGVOUyxyZXNvbHZlOnl0LnJlc29sdmUsZXhwbG9kZTp5dC5leHBsb2RlLF9hZGRDYWNoZVN1ZmZpeDp5dC5fYWRkQ2FjaGVTdWZmaXgsaXNPcGVyYTptdC5vcGVyYSxpc1dlYktpdDptdC53ZWJraXQsaXNJRTptdC5pZSxpc0dlY2tvOm10LmdlY2tvLGlzTWFjOm10Lm1hY30sUEU9eXQuZXh0ZW5kKG9FLEJFKTtPRT1QRSx3aW5kb3cudGlueW1jZT1PRSx3aW5kb3cudGlueU1DRT1PRSxmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSl0cnl7bW9kdWxlLmV4cG9ydHM9ZX1jYXRjaCh0KXt9fShQRSl9KHdpbmRvdyk7CiFmdW5jdGlvbihWKXsidXNlIHN0cmljdCI7dmFyIHI9ZnVuY3Rpb24oZSl7aWYobnVsbD09PWUpcmV0dXJuIm51bGwiO2lmKGU9PT11bmRlZmluZWQpcmV0dXJuInVuZGVmaW5lZCI7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuIm9iamVjdCI9PXQmJihBcnJheS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihlKXx8ZS5jb25zdHJ1Y3RvciYmIkFycmF5Ij09PWUuY29uc3RydWN0b3IubmFtZSk/ImFycmF5Ijoib2JqZWN0Ij09dCYmKFN0cmluZy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihlKXx8ZS5jb25zdHJ1Y3RvciYmIlN0cmluZyI9PT1lLmNvbnN0cnVjdG9yLm5hbWUpPyJzdHJpbmciOnR9LHQ9ZnVuY3Rpb24oZSl7cmV0dXJue2VxOmV9fSxzPXQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR9KSxpPWZ1bmN0aW9uKG8pe3JldHVybiB0KGZ1bmN0aW9uKGUsdCl7aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49ZS5sZW5ndGgscj0wO3I8bjtyKyspaWYoIW8uZXEoZVtyXSx0W3JdKSlyZXR1cm4hMTtyZXR1cm4hMH0pfSxjPWZ1bmN0aW9uKGUscil7cmV0dXJuIG49aShlKSxvPWZ1bmN0aW9uKGUpe3JldHVybiB0PWUsbj1yLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpLnNvcnQobik7dmFyIHQsbn0sdChmdW5jdGlvbihlLHQpe3JldHVybiBuLmVxKG8oZSksbyh0KSl9KTt2YXIgbixvfSx1PWZ1bmN0aW9uKHUpe3JldHVybiB0KGZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSkscj1PYmplY3Qua2V5cyh0KTtpZighYyhzKS5lcShuLHIpKXJldHVybiExO2Zvcih2YXIgbz1uLmxlbmd0aCxpPTA7aTxvO2krKyl7dmFyIGE9bltpXTtpZighdS5lcShlW2FdLHRbYV0pKXJldHVybiExfXJldHVybiEwfSl9LGw9dChmdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiEwO3ZhciBuPXIoZSk7cmV0dXJuIG49PT1yKHQpJiYoLTEhPT1bInVuZGVmaW5lZCIsImJvb2xlYW4iLCJudW1iZXIiLCJzdHJpbmciLCJmdW5jdGlvbiIsInhtbCIsIm51bGwiXS5pbmRleE9mKG4pP2U9PT10OiJhcnJheSI9PT1uP2kobCkuZXEoZSx0KToib2JqZWN0Ij09PW4mJnUobCkuZXEoZSx0KSl9KSxmPWZ1bmN0aW9uKCl7fSxhPWZ1bmN0aW9uKG4scil7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiBuKHIuYXBwbHkobnVsbCxlKSl9fSx4PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlfX0sbz1mdW5jdGlvbihlKXtyZXR1cm4gZX07ZnVuY3Rpb24gTihyKXtmb3IodmFyIG89W10sZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspb1tlLTFdPWFyZ3VtZW50c1tlXTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIG49by5jb25jYXQoZSk7cmV0dXJuIHIuYXBwbHkobnVsbCxuKX19dmFyIGUsbixkLG09ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiF0KGUpfX0scD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoZSl9fSxnPXgoITEpLGg9eCghMCksdj1mdW5jdGlvbigpe3JldHVybiB5fSx5PShlPWZ1bmN0aW9uKGUpe3JldHVybiBlLmlzTm9uZSgpfSx7Zm9sZDpmdW5jdGlvbihlLHQpe3JldHVybiBlKCl9LGlzOmcsaXNTb21lOmcsaXNOb25lOmgsZ2V0T3I6ZD1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZ2V0T3JUaHVuazpuPWZ1bmN0aW9uKGUpe3JldHVybiBlKCl9LGdldE9yRGllOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlfHwiZXJyb3I6IGdldE9yRGllIGNhbGxlZCBvbiBub25lLiIpfSxnZXRPck51bGw6eChudWxsKSxnZXRPclVuZGVmaW5lZDp4KHVuZGVmaW5lZCksb3I6ZCxvclRodW5rOm4sbWFwOnYsZWFjaDpmLGJpbmQ6dixleGlzdHM6Zyxmb3JhbGw6aCxmaWx0ZXI6dixlcXVhbHM6ZSxlcXVhbHNfOmUsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybltdfSx0b1N0cmluZzp4KCJub25lKCkiKX0pLGI9ZnVuY3Rpb24obil7dmFyIGU9eChuKSx0PWZ1bmN0aW9uKCl7cmV0dXJuIG99LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUobil9LG89e2ZvbGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdChuKX0saXM6ZnVuY3Rpb24oZSl7cmV0dXJuIG49PT1lfSxpc1NvbWU6aCxpc05vbmU6ZyxnZXRPcjplLGdldE9yVGh1bms6ZSxnZXRPckRpZTplLGdldE9yTnVsbDplLGdldE9yVW5kZWZpbmVkOmUsb3I6dCxvclRodW5rOnQsbWFwOmZ1bmN0aW9uKGUpe3JldHVybiBiKGUobikpfSxlYWNoOmZ1bmN0aW9uKGUpe2Uobil9LGJpbmQ6cixleGlzdHM6cixmb3JhbGw6cixmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUobik/bzp5fSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuW25dfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJzb21lKCIrbisiKSJ9LGVxdWFsczpmdW5jdGlvbihlKXtyZXR1cm4gZS5pcyhuKX0sZXF1YWxzXzpmdW5jdGlvbihlLHQpe3JldHVybiBlLmZvbGQoZyxmdW5jdGlvbihlKXtyZXR1cm4gdChuLGUpfSl9fTtyZXR1cm4gb30sQj17c29tZTpiLG5vbmU6dixmcm9tOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8ZT09PXVuZGVmaW5lZD95OmIoZSl9fSxDPWZ1bmN0aW9uKHIpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbj10eXBlb2YodD1lKSwobnVsbD09PXQ/Im51bGwiOiJvYmplY3QiPT1uJiYoQXJyYXkucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCl8fHQuY29uc3RydWN0b3ImJiJBcnJheSI9PT10LmNvbnN0cnVjdG9yLm5hbWUpPyJhcnJheSI6Im9iamVjdCI9PW4mJihTdHJpbmcucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCl8fHQuY29uc3RydWN0b3ImJiJTdHJpbmciPT09dC5jb25zdHJ1Y3Rvci5uYW1lKT8ic3RyaW5nIjpuKT09PXI7dmFyIHQsbn19LHc9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZT09PXR9fSxTPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdD09PWV9fSxxPUMoInN0cmluZyIpLEU9Qygib2JqZWN0Iiksaz1DKCJhcnJheSIpLF89UyhudWxsKSxUPXcoImJvb2xlYW4iKSxSPVModW5kZWZpbmVkKSxBPXcoImZ1bmN0aW9uIiksRD13KCJudW1iZXIiKSxPPUFycmF5LnByb3RvdHlwZS5zbGljZSxQPUFycmF5LnByb3RvdHlwZS5pbmRleE9mLEw9QXJyYXkucHJvdG90eXBlLnB1c2gsST1mdW5jdGlvbihlLHQpe3JldHVybiBQLmNhbGwoZSx0KX0sTT1mdW5jdGlvbihlLHQpe3JldHVybi0xPEkoZSx0KX0sRj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl7aWYodChlW25dLG4pKXJldHVybiEwfXJldHVybiExfSxVPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoLHI9bmV3IEFycmF5KG4pLG89MDtvPG47bysrKXt2YXIgaT1lW29dO3Jbb109dChpLG8pfXJldHVybiByfSx6PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKXt0KGVbbl0sbil9fSxqPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoLTE7MDw9bjtuLS0pe3QoZVtuXSxuKX19LEg9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9ZVtyXTt0KGkscikmJm4ucHVzaChpKX1yZXR1cm4gbn0sJD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGooZSxmdW5jdGlvbihlKXtuPXQobixlKX0pLG59LFc9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB6KGUsZnVuY3Rpb24oZSl7bj10KG4sZSl9KSxufSxLPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MCxvPWUubGVuZ3RoO3I8bztyKyspe3ZhciBpPWVbcl07aWYodChpLHIpKXJldHVybiBCLnNvbWUoaSk7aWYobihpLHIpKWJyZWFrfXJldHVybiBCLm5vbmUoKX0oZSx0LGcpfSxYPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKXtpZih0KGVbbl0sbikpcmV0dXJuIEIuc29tZShuKX1yZXR1cm4gQi5ub25lKCl9LFk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MCxyPWUubGVuZ3RoO248cjsrK24pe2lmKCFrKGVbbl0pKXRocm93IG5ldyBFcnJvcigiQXJyLmZsYXR0ZW4gaXRlbSAiK24rIiB3YXMgbm90IGFuIGFycmF5LCBpbnB1dDogIitlKTtMLmFwcGx5KHQsZVtuXSl9cmV0dXJuIHR9KFUoZSx0KSl9LEc9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjsrK24pe2lmKCEwIT09dChlW25dLG4pKXJldHVybiExfXJldHVybiEwfSxKPWZ1bmN0aW9uKGUpe3ZhciB0PU8uY2FsbChlLDApO3JldHVybiB0LnJldmVyc2UoKSx0fSxRPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEgoZSxmdW5jdGlvbihlKXtyZXR1cm4hTSh0LGUpfSl9LFo9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLmxlbmd0aD9CLm5vbmUoKTpCLnNvbWUoZVswXSl9LGVlPWZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5sZW5ndGg/Qi5ub25lKCk6Qi5zb21lKGVbZS5sZW5ndGgtMV0pfSx0ZT1BKEFycmF5LmZyb20pP0FycmF5LmZyb206ZnVuY3Rpb24oZSl7cmV0dXJuIE8uY2FsbChlKX0sbmU9T2JqZWN0LmtleXMscmU9T2JqZWN0Lmhhc093blByb3BlcnR5LG9lPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPW5lKGUpLHI9MCxvPW4ubGVuZ3RoO3I8bztyKyspe3ZhciBpPW5bcl07dChlW2ldLGkpfX0saWU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gYWUoZSxmdW5jdGlvbihlLHQpe3JldHVybntrOnQsdjpuKGUsdCl9fSl9LGFlPWZ1bmN0aW9uKGUscil7dmFyIG89e307cmV0dXJuIG9lKGUsZnVuY3Rpb24oZSx0KXt2YXIgbj1yKGUsdCk7b1tuLmtdPW4udn0pLG99LHVlPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihlLHQpe25bdF09ZX19LHNlPWZ1bmN0aW9uKGUsbixyLG8pe3JldHVybiBvZShlLGZ1bmN0aW9uKGUsdCl7KG4oZSx0KT9yOm8pKGUsdCl9KSx7fX0sY2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fSxyPXt9O3JldHVybiBzZShlLHQsdWUobiksdWUocikpLHt0Om4sZjpyfX0sbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4gc2UoZSx0LHVlKG4pLGYpLG59LGZlPWZ1bmN0aW9uKGUpe3JldHVybiBuPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxyPVtdLG9lKGUsZnVuY3Rpb24oZSx0KXtyLnB1c2gobihlLHQpKX0pLHI7dmFyIG4scn0sZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbWUoZSx0KT9CLmZyb20oZVt0XSk6Qi5ub25lKCl9LG1lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHJlLmNhbGwoZSx0KX0scGU9QXJyYXkuaXNBcnJheSxnZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsbztpZighZSlyZXR1cm4gMDtpZihuPW58fGUsZS5sZW5ndGghPT11bmRlZmluZWQpe2ZvcihyPTAsbz1lLmxlbmd0aDtyPG87cisrKWlmKCExPT09dC5jYWxsKG4sZVtyXSxyLGUpKXJldHVybiAwfWVsc2UgZm9yKHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpJiYhMT09PXQuY2FsbChuLGVbcl0scixlKSlyZXR1cm4gMDtyZXR1cm4gMX0saGU9ZnVuY3Rpb24obixyKXt2YXIgbz1bXTtyZXR1cm4gZ2UobixmdW5jdGlvbihlLHQpe28ucHVzaChyKGUsdCxuKSl9KSxvfSx2ZT1mdW5jdGlvbihuLHIpe3ZhciBvPVtdO3JldHVybiBnZShuLGZ1bmN0aW9uKGUsdCl7ciYmIXIoZSx0LG4pfHxvLnB1c2goZSl9KSxvfSx5ZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI7aWYoZSlmb3Iobj0wLHI9ZS5sZW5ndGg7bjxyO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sYmU9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89MDtmb3IoYXJndW1lbnRzLmxlbmd0aDwzJiYobj1lWzBdKTtvPGUubGVuZ3RoO28rKyluPXQuY2FsbChyLG4sZVtvXSxvKTtyZXR1cm4gbn0sQ2U9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87Zm9yKHI9MCxvPWUubGVuZ3RoO3I8bztyKyspaWYodC5jYWxsKG4sZVtyXSxyLGUpKXJldHVybiByO3JldHVybi0xfSx3ZT1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLmxlbmd0aC0xXX0seGU9ZnVuY3Rpb24oKXtyZXR1cm4oeGU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MSxyPWFyZ3VtZW50cy5sZW5ndGg7bjxyO24rKylmb3IodmFyIG8gaW4gdD1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJihlW29dPXRbb10pO3JldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiBTZSgpe2Zvcih2YXIgZT0wLHQ9MCxuPWFyZ3VtZW50cy5sZW5ndGg7dDxuO3QrKyllKz1hcmd1bWVudHNbdF0ubGVuZ3RoO3ZhciByPUFycmF5KGUpLG89MDtmb3IodD0wO3Q8bjt0KyspZm9yKHZhciBpPWFyZ3VtZW50c1t0XSxhPTAsdT1pLmxlbmd0aDthPHU7YSsrLG8rKylyW29dPWlbYV07cmV0dXJuIHJ9dmFyIE5lLEVlLGtlLF9lPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtpZihyLnRlc3QodCkpcmV0dXJuIHJ9cmV0dXJuIHVuZGVmaW5lZH0oZSx0KTtpZighbilyZXR1cm57bWFqb3I6MCxtaW5vcjowfTt2YXIgcj1mdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyKHQucmVwbGFjZShuLCIkIitlKSl9O3JldHVybiBSZShyKDEpLHIoMikpfSxUZT1mdW5jdGlvbigpe3JldHVybiBSZSgwLDApfSxSZT1mdW5jdGlvbihlLHQpe3JldHVybnttYWpvcjplLG1pbm9yOnR9fSxBZT17bnU6UmUsZGV0ZWN0OmZ1bmN0aW9uKGUsdCl7dmFyIG49U3RyaW5nKHQpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIDA9PT1lLmxlbmd0aD9UZSgpOl9lKGUsbil9LHVua25vd246VGV9LERlPSJGaXJlZm94IixPZT1mdW5jdGlvbihlKXt2YXIgdD1lLmN1cnJlbnQsbj1lLnZlcnNpb24scj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdD09PWV9fTtyZXR1cm57Y3VycmVudDp0LHZlcnNpb246bixpc0VkZ2U6cigiRWRnZSIpLGlzQ2hyb21lOnIoIkNocm9tZSIpLGlzSUU6cigiSUUiKSxpc09wZXJhOnIoIk9wZXJhIiksaXNGaXJlZm94OnIoRGUpLGlzU2FmYXJpOnIoIlNhZmFyaSIpfX0sQmU9e3Vua25vd246ZnVuY3Rpb24oKXtyZXR1cm4gT2Uoe2N1cnJlbnQ6dW5kZWZpbmVkLHZlcnNpb246QWUudW5rbm93bigpfSl9LG51Ok9lLGVkZ2U6eCgiRWRnZSIpLGNocm9tZTp4KCJDaHJvbWUiKSxpZTp4KCJJRSIpLG9wZXJhOngoIk9wZXJhIiksZmlyZWZveDp4KERlKSxzYWZhcmk6eCgiU2FmYXJpIil9LFBlPSJXaW5kb3dzIixMZT0iQW5kcm9pZCIsSWU9IlNvbGFyaXMiLE1lPSJGcmVlQlNEIixGZT0iQ2hyb21lT1MiLFVlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY3VycmVudCxuPWUudmVyc2lvbixyPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0PT09ZX19O3JldHVybntjdXJyZW50OnQsdmVyc2lvbjpuLGlzV2luZG93czpyKFBlKSxpc2lPUzpyKCJpT1MiKSxpc0FuZHJvaWQ6cihMZSksaXNPU1g6cigiT1NYIiksaXNMaW51eDpyKCJMaW51eCIpLGlzU29sYXJpczpyKEllKSxpc0ZyZWVCU0Q6cihNZSksaXNDaHJvbWVPUzpyKEZlKX19LHplPXt1bmtub3duOmZ1bmN0aW9uKCl7cmV0dXJuIFVlKHtjdXJyZW50OnVuZGVmaW5lZCx2ZXJzaW9uOkFlLnVua25vd24oKX0pfSxudTpVZSx3aW5kb3dzOngoUGUpLGlvczp4KCJpT1MiKSxhbmRyb2lkOngoTGUpLGxpbnV4OngoIkxpbnV4Iiksb3N4OngoIk9TWCIpLHNvbGFyaXM6eChJZSksZnJlZWJzZDp4KE1lKSxjaHJvbWVvczp4KEZlKX0samU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1TdHJpbmcodCkudG9Mb3dlckNhc2UoKTtyZXR1cm4gSyhlLGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlYXJjaChuKX0pfSxIZT1mdW5jdGlvbihlLG4pe3JldHVybiBqZShlLG4pLm1hcChmdW5jdGlvbihlKXt2YXIgdD1BZS5kZXRlY3QoZS52ZXJzaW9uUmVnZXhlcyxuKTtyZXR1cm57Y3VycmVudDplLm5hbWUsdmVyc2lvbjp0fX0pfSxWZT1mdW5jdGlvbihlLG4pe3JldHVybiBqZShlLG4pLm1hcChmdW5jdGlvbihlKXt2YXIgdD1BZS5kZXRlY3QoZS52ZXJzaW9uUmVnZXhlcyxuKTtyZXR1cm57Y3VycmVudDplLm5hbWUsdmVyc2lvbjp0fX0pfSxxZT1mdW5jdGlvbihlLHQpe3JldHVybi0xIT09ZS5pbmRleE9mKHQpfSwkZT1mdW5jdGlvbihlLHQpe3JldHVybiBuPWUsbz0wLCIiPT09KHI9dCl8fG4ubGVuZ3RoPj1yLmxlbmd0aCYmbi5zdWJzdHIobyxvK3IubGVuZ3RoKT09PXI7dmFyIG4scixvfSxXZT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSh0LCIiKX19LEtlPVdlKC9eXHMrfFxzKyQvZyksWGU9V2UoL15ccysvZyksWWU9V2UoL1xzKyQvZyksR2U9Ly4qP3ZlcnNpb25cL1wgPyhbMC05XSspXC4oWzAtOV0rKS4qLyxKZT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHFlKGUsdCl9fSxRZT1be25hbWU6IkVkZ2UiLHZlcnNpb25SZWdleGVzOlsvLio/ZWRnZVwvID8oWzAtOV0rKVwuKFswLTldKykkL10sc2VhcmNoOmZ1bmN0aW9uKGUpe3JldHVybiBxZShlLCJlZGdlLyIpJiZxZShlLCJjaHJvbWUiKSYmcWUoZSwic2FmYXJpIikmJnFlKGUsImFwcGxld2Via2l0Iil9fSx7bmFtZToiQ2hyb21lIix2ZXJzaW9uUmVnZXhlczpbLy4qP2Nocm9tZVwvKFswLTldKylcLihbMC05XSspLiovLEdlXSxzZWFyY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHFlKGUsImNocm9tZSIpJiYhcWUoZSwiY2hyb21lZnJhbWUiKX19LHtuYW1lOiJJRSIsdmVyc2lvblJlZ2V4ZXM6Wy8uKj9tc2llXCA/KFswLTldKylcLihbMC05XSspLiovLC8uKj9ydjooWzAtOV0rKVwuKFswLTldKykuKi9dLHNlYXJjaDpmdW5jdGlvbihlKXtyZXR1cm4gcWUoZSwibXNpZSIpfHxxZShlLCJ0cmlkZW50Iil9fSx7bmFtZToiT3BlcmEiLHZlcnNpb25SZWdleGVzOltHZSwvLio/b3BlcmFcLyhbMC05XSspXC4oWzAtOV0rKS4qL10sc2VhcmNoOkplKCJvcGVyYSIpfSx7bmFtZToiRmlyZWZveCIsdmVyc2lvblJlZ2V4ZXM6Wy8uKj9maXJlZm94XC9cID8oWzAtOV0rKVwuKFswLTldKykuKi9dLHNlYXJjaDpKZSgiZmlyZWZveCIpfSx7bmFtZToiU2FmYXJpIix2ZXJzaW9uUmVnZXhlczpbR2UsLy4qP2NwdSBvcyAoWzAtOV0rKV8oWzAtOV0rKS4qL10sc2VhcmNoOmZ1bmN0aW9uKGUpe3JldHVybihxZShlLCJzYWZhcmkiKXx8cWUoZSwibW9iaWxlLyIpKSYmcWUoZSwiYXBwbGV3ZWJraXQiKX19XSxaZT1be25hbWU6IldpbmRvd3MiLHNlYXJjaDpKZSgid2luIiksdmVyc2lvblJlZ2V4ZXM6Wy8uKj93aW5kb3dzXCBudFwgPyhbMC05XSspXC4oWzAtOV0rKS4qL119LHtuYW1lOiJpT1MiLHNlYXJjaDpmdW5jdGlvbihlKXtyZXR1cm4gcWUoZSwiaXBob25lIil8fHFlKGUsImlwYWQiKX0sdmVyc2lvblJlZ2V4ZXM6Wy8uKj92ZXJzaW9uXC9cID8oWzAtOV0rKVwuKFswLTldKykuKi8sLy4qY3B1IG9zIChbMC05XSspXyhbMC05XSspLiovLC8uKmNwdSBpcGhvbmUgb3MgKFswLTldKylfKFswLTldKykuKi9dfSx7bmFtZToiQW5kcm9pZCIsc2VhcmNoOkplKCJhbmRyb2lkIiksdmVyc2lvblJlZ2V4ZXM6Wy8uKj9hbmRyb2lkXCA/KFswLTldKylcLihbMC05XSspLiovXX0se25hbWU6Ik9TWCIsc2VhcmNoOkplKCJtYWMgb3MgeCIpLHZlcnNpb25SZWdleGVzOlsvLio/bWFjXCBvc1wgeFwgPyhbMC05XSspXyhbMC05XSspLiovXX0se25hbWU6IkxpbnV4IixzZWFyY2g6SmUoImxpbnV4IiksdmVyc2lvblJlZ2V4ZXM6W119LHtuYW1lOiJTb2xhcmlzIixzZWFyY2g6SmUoInN1bm9zIiksdmVyc2lvblJlZ2V4ZXM6W119LHtuYW1lOiJGcmVlQlNEIixzZWFyY2g6SmUoImZyZWVic2QiKSx2ZXJzaW9uUmVnZXhlczpbXX0se25hbWU6IkNocm9tZU9TIixzZWFyY2g6SmUoImNyb3MiKSx2ZXJzaW9uUmVnZXhlczpbLy4qP2Nocm9tZVwvKFswLTldKylcLihbMC05XSspLiovXX1dLGV0PXticm93c2Vyczp4KFFlKSxvc2VzOngoWmUpfSx0dD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEsdSxzLGMsbCxmLGQsbSxwPWV0LmJyb3dzZXJzKCksZz1ldC5vc2VzKCksaD1IZShwLGUpLmZvbGQoQmUudW5rbm93bixCZS5udSksdj1WZShnLGUpLmZvbGQoemUudW5rbm93bix6ZS5udSk7cmV0dXJue2Jyb3dzZXI6aCxvczp2LGRldmljZVR5cGU6KHI9aCxvPWUsaT10LGE9KG49dikuaXNpT1MoKSYmITA9PT0vaXBhZC9pLnRlc3QobyksdT1uLmlzaU9TKCkmJiFhLHM9bi5pc2lPUygpfHxuLmlzQW5kcm9pZCgpLGM9c3x8aSgiKHBvaW50ZXI6Y29hcnNlKSIpLGw9YXx8IXUmJnMmJmkoIihtaW4tZGV2aWNlLXdpZHRoOjc2OHB4KSIpLGY9dXx8cyYmIWwsZD1yLmlzU2FmYXJpKCkmJm4uaXNpT1MoKSYmITE9PT0vc2FmYXJpL2kudGVzdChvKSxtPSFmJiYhbCYmIWQse2lzaVBhZDp4KGEpLGlzaVBob25lOngodSksaXNUYWJsZXQ6eChsKSxpc1Bob25lOngoZiksaXNUb3VjaDp4KGMpLGlzQW5kcm9pZDpuLmlzQW5kcm9pZCxpc2lPUzpuLmlzaU9TLGlzV2ViVmlldzp4KGQpLGlzRGVza3RvcDp4KG0pfSl9fSxudD1mdW5jdGlvbihlKXtyZXR1cm4gVi53aW5kb3cubWF0Y2hNZWRpYShlKS5tYXRjaGVzfSxydD0oa2U9IShOZT1mdW5jdGlvbigpe3JldHVybiB0dChWLm5hdmlnYXRvci51c2VyQWdlbnQsbnQpfSksZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIGtlfHwoa2U9ITAsRWU9TmUuYXBwbHkobnVsbCxlKSksRWV9KSxvdD1mdW5jdGlvbigpe3JldHVybiBydCgpfSxpdD1WLm5hdmlnYXRvci51c2VyQWdlbnQsYXQ9b3QoKSx1dD1hdC5icm93c2VyLHN0PWF0Lm9zLGN0PWF0LmRldmljZVR5cGUsbHQ9L1dlYktpdC8udGVzdChpdCkmJiF1dC5pc0VkZ2UoKSxmdD0iRm9ybURhdGEiaW4gVi53aW5kb3cmJiJGaWxlUmVhZGVyImluIFYud2luZG93JiYiVVJMImluIFYud2luZG93JiYhIVYuVVJMLmNyZWF0ZU9iamVjdFVSTCxkdD0tMSE9PWl0LmluZGV4T2YoIldpbmRvd3MgUGhvbmUiKSxtdD17b3BlcmE6dXQuaXNPcGVyYSgpLHdlYmtpdDpsdCxpZTohKCF1dC5pc0lFKCkmJiF1dC5pc0VkZ2UoKSkmJnV0LnZlcnNpb24ubWFqb3IsZ2Vja286dXQuaXNGaXJlZm94KCksbWFjOnN0LmlzT1NYKCl8fHN0LmlzaU9TKCksaU9TOmN0LmlzaVBhZCgpfHxjdC5pc2lQaG9uZSgpLGFuZHJvaWQ6c3QuaXNBbmRyb2lkKCksY29udGVudEVkaXRhYmxlOiEwLHRyYW5zcGFyZW50U3JjOiJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTciLGNhcmV0QWZ0ZXI6ITAscmFuZ2U6Vi53aW5kb3cuZ2V0U2VsZWN0aW9uJiYiUmFuZ2UiaW4gVi53aW5kb3csZG9jdW1lbnRNb2RlOnV0LmlzSUUoKT9WLmRvY3VtZW50LmRvY3VtZW50TW9kZXx8NzoxMCxmaWxlQXBpOmZ0LGNlRmFsc2U6ITAsY2FjaGVTdWZmaXg6bnVsbCxjb250YWluZXI6bnVsbCxleHBlcmltZW50YWxTaGFkb3dEb206ITEsY2FuSGF2ZUNTUDohdXQuaXNJRSgpLGRlc2t0b3A6Y3QuaXNEZXNrdG9wKCksd2luZG93c1Bob25lOmR0LGJyb3dzZXI6e2N1cnJlbnQ6dXQuY3VycmVudCx2ZXJzaW9uOnV0LnZlcnNpb24saXNDaHJvbWU6dXQuaXNDaHJvbWUsaXNFZGdlOnV0LmlzRWRnZSxpc0ZpcmVmb3g6dXQuaXNGaXJlZm94LGlzSUU6dXQuaXNJRSxpc09wZXJhOnV0LmlzT3BlcmEsaXNTYWZhcmk6dXQuaXNTYWZhcml9LG9zOntjdXJyZW50OnN0LmN1cnJlbnQsdmVyc2lvbjpzdC52ZXJzaW9uLGlzQW5kcm9pZDpzdC5pc0FuZHJvaWQsaXNDaHJvbWVPUzpzdC5pc0Nocm9tZU9TLGlzRnJlZUJTRDpzdC5pc0ZyZWVCU0QsaXNpT1M6c3QuaXNpT1MsaXNMaW51eDpzdC5pc0xpbnV4LGlzT1NYOnN0LmlzT1NYLGlzU29sYXJpczpzdC5pc1NvbGFyaXMsaXNXaW5kb3dzOnN0LmlzV2luZG93c30sZGV2aWNlVHlwZTp7aXNEZXNrdG9wOmN0LmlzRGVza3RvcCxpc2lQYWQ6Y3QuaXNpUGFkLGlzaVBob25lOmN0LmlzaVBob25lLGlzUGhvbmU6Y3QuaXNQaG9uZSxpc1RhYmxldDpjdC5pc1RhYmxldCxpc1RvdWNoOmN0LmlzVG91Y2gsaXNXZWJWaWV3OmN0LmlzV2ViVmlld319LHB0PS9eXHMqfFxzKiQvZyxndD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV8fGU9PT11bmRlZmluZWQ/IiI6KCIiK2UpLnJlcGxhY2UocHQsIiIpfSxodD1mdW5jdGlvbihlLHQpe3JldHVybiB0PyEoImFycmF5IiE9PXR8fCFwZShlKSl8fHR5cGVvZiBlPT09dDplIT09dW5kZWZpbmVkfSx2dD1mdW5jdGlvbihlLG4scixvKXtvPW98fHRoaXMsZSYmKHImJihlPWVbcl0pLGdlKGUsZnVuY3Rpb24oZSx0KXtpZighMT09PW4uY2FsbChvLGUsdCxyKSlyZXR1cm4hMTt2dChlLG4scixvKX0pKX0seXQ9e3RyaW06Z3QsaXNBcnJheTpwZSxpczpodCx0b0FycmF5OmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lO2lmKCFwZShlKSlmb3Iocj1bXSx0PTAsbj1lLmxlbmd0aDt0PG47dCsrKXJbdF09ZVt0XTtyZXR1cm4gcn0sbWFrZU1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHI7Zm9yKHQ9dHx8IiwiLCJzdHJpbmciPT10eXBlb2YoZT1lfHxbXSkmJihlPWUuc3BsaXQodCkpLG49bnx8e30scj1lLmxlbmd0aDtyLS07KW5bZVtyXV09e307cmV0dXJuIG59LGVhY2g6Z2UsbWFwOmhlLGdyZXA6dmUsaW5BcnJheTp5ZSxoYXNPd246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LGV4dGVuZDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtmb3IodmFyIGkgaW4gbylpZihvLmhhc093blByb3BlcnR5KGkpKXt2YXIgYT1vW2ldO2EhPT11bmRlZmluZWQmJihlW2ldPWEpfX1yZXR1cm4gZX0sY3JlYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYT10aGlzLHU9MCxzPShlPS9eKChzdGF0aWMpICk/KFtcdy5dKykoOihbXHcuXSspKT8vLmV4ZWMoZSkpWzNdLm1hdGNoKC8oXnxcLikoXHcrKSQvaSlbMl0sYz1hLmNyZWF0ZU5TKGVbM10ucmVwbGFjZSgvXC5cdyskLywiIiksbik7aWYoIWNbc10pe2lmKCJzdGF0aWMiPT09ZVsyXSlyZXR1cm4gY1tzXT10LHZvaWQodGhpcy5vbkNyZWF0ZSYmdGhpcy5vbkNyZWF0ZShlWzJdLGVbM10sY1tzXSkpO3Rbc118fCh0W3NdPWZ1bmN0aW9uKCl7fSx1PTEpLGNbc109dFtzXSxhLmV4dGVuZChjW3NdLnByb3RvdHlwZSx0KSxlWzVdJiYocj1hLnJlc29sdmUoZVs1XSkucHJvdG90eXBlLG89ZVs1XS5tYXRjaCgvXC4oXHcrKSQvaSlbMV0saT1jW3NdLGNbc109dT9mdW5jdGlvbigpe3JldHVybiByW29dLmFwcGx5KHRoaXMsYXJndW1lbnRzKX06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQ9cltvXSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sY1tzXS5wcm90b3R5cGVbc109Y1tzXSxhLmVhY2gocixmdW5jdGlvbihlLHQpe2Nbc10ucHJvdG90eXBlW3RdPXJbdF19KSxhLmVhY2godCxmdW5jdGlvbihlLHQpe3JbdF0/Y1tzXS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQ9clt0XSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX06dCE9PXMmJihjW3NdLnByb3RvdHlwZVt0XT1lKX0pKSxhLmVhY2godFsic3RhdGljIl0sZnVuY3Rpb24oZSx0KXtjW3NdW3RdPWV9KX19LHdhbGs6dnQsY3JlYXRlTlM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyO2Zvcih0PXR8fFYud2luZG93LGU9ZS5zcGxpdCgiLiIpLG49MDtuPGUubGVuZ3RoO24rKyl0W3I9ZVtuXV18fCh0W3JdPXt9KSx0PXRbcl07cmV0dXJuIHR9LHJlc29sdmU6ZnVuY3Rpb24oZSx0KXt2YXIgbixyO2Zvcih0PXR8fFYud2luZG93LG49MCxyPShlPWUuc3BsaXQoIi4iKSkubGVuZ3RoO248ciYmKHQ9dFtlW25dXSk7bisrKTtyZXR1cm4gdH0sZXhwbG9kZTpmdW5jdGlvbihlLHQpe3JldHVybiFlfHxodChlLCJhcnJheSIpP2U6aGUoZS5zcGxpdCh0fHwiLCIpLGd0KX0sX2FkZENhY2hlU3VmZml4OmZ1bmN0aW9uKGUpe3ZhciB0PW10LmNhY2hlU3VmZml4O3JldHVybiB0JiYoZSs9KC0xPT09ZS5pbmRleE9mKCI/Iik/Ij8iOiImIikrdCksZX19LGJ0PWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lfHxlPT09dW5kZWZpbmVkKXRocm93IG5ldyBFcnJvcigiTm9kZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQiKTtyZXR1cm57ZG9tOngoZSl9fSxDdD17ZnJvbUh0bWw6ZnVuY3Rpb24oZSx0KXt2YXIgbj0odHx8Vi5kb2N1bWVudCkuY3JlYXRlRWxlbWVudCgiZGl2Iik7aWYobi5pbm5lckhUTUw9ZSwhbi5oYXNDaGlsZE5vZGVzKCl8fDE8bi5jaGlsZE5vZGVzLmxlbmd0aCl0aHJvdyBWLmNvbnNvbGUuZXJyb3IoIkhUTUwgZG9lcyBub3QgaGF2ZSBhIHNpbmdsZSByb290IG5vZGUiLGUpLG5ldyBFcnJvcigiSFRNTCBtdXN0IGhhdmUgYSBzaW5nbGUgcm9vdCBub2RlIik7cmV0dXJuIGJ0KG4uY2hpbGROb2Rlc1swXSl9LGZyb21UYWc6ZnVuY3Rpb24oZSx0KXt2YXIgbj0odHx8Vi5kb2N1bWVudCkuY3JlYXRlRWxlbWVudChlKTtyZXR1cm4gYnQobil9LGZyb21UZXh0OmZ1bmN0aW9uKGUsdCl7dmFyIG49KHR8fFYuZG9jdW1lbnQpLmNyZWF0ZVRleHROb2RlKGUpO3JldHVybiBidChuKX0sZnJvbURvbTpidCxmcm9tUG9pbnQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZG9tKCk7cmV0dXJuIEIuZnJvbShyLmVsZW1lbnRGcm9tUG9pbnQodCxuKSkubWFwKGJ0KX19LHd0PSgidW5kZWZpbmVkIiE9dHlwZW9mIFYud2luZG93P1Yud2luZG93OkZ1bmN0aW9uKCJyZXR1cm4gdGhpczsiKSgpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCl9KSx4dD1mdW5jdGlvbihlKXtyZXR1cm4gZS5kb20oKS5ub2RlVHlwZX0sU3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB4dChlKT09PXR9fSxOdD1TdCgxKSxFdD1TdCgzKSxrdD1TdCg5KSxfdD1TdCgxMSksVHQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj1mdW5jdGlvbihlKXtyZXR1cm4gbi5wdXNoKGUpLHQoZSl9LG89dChlKTsobz1vLmJpbmQocikpLmlzU29tZSgpOyk7cmV0dXJuIG59LFJ0PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb20oKTtpZigxIT09bi5ub2RlVHlwZSlyZXR1cm4hMTt2YXIgcj1uO2lmKHIubWF0Y2hlcyE9PXVuZGVmaW5lZClyZXR1cm4gci5tYXRjaGVzKHQpO2lmKHIubXNNYXRjaGVzU2VsZWN0b3IhPT11bmRlZmluZWQpcmV0dXJuIHIubXNNYXRjaGVzU2VsZWN0b3IodCk7aWYoci53ZWJraXRNYXRjaGVzU2VsZWN0b3IhPT11bmRlZmluZWQpcmV0dXJuIHIud2Via2l0TWF0Y2hlc1NlbGVjdG9yKHQpO2lmKHIubW96TWF0Y2hlc1NlbGVjdG9yIT09dW5kZWZpbmVkKXJldHVybiByLm1vek1hdGNoZXNTZWxlY3Rvcih0KTt0aHJvdyBuZXcgRXJyb3IoIkJyb3dzZXIgbGFja3MgbmF0aXZlIHNlbGVjdG9ycyIpfSxBdD1mdW5jdGlvbihlKXtyZXR1cm4gMSE9PWUubm9kZVR5cGUmJjkhPT1lLm5vZGVUeXBlJiYxMSE9PWUubm9kZVR5cGV8fDA9PT1lLmNoaWxkRWxlbWVudENvdW50fSxEdD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmRvbSgpPT09dC5kb20oKX0sT3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1lLmRvbSgpLHI9dC5kb20oKSxvPW4saT1yLGE9Vi5Ob2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSwwIT0oby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpKSZhKTt2YXIgbixyLG8saSxhfSxCdD1mdW5jdGlvbihlLHQpe3JldHVybiBvdCgpLmJyb3dzZXIuaXNJRSgpP090KGUsdCk6KG49dCxyPWUuZG9tKCksbz1uLmRvbSgpLHIhPT1vJiZyLmNvbnRhaW5zKG8pKTt2YXIgbixyLG99LFB0PWZ1bmN0aW9uKGUpe3JldHVybiBDdC5mcm9tRG9tKGUuZG9tKCkub3duZXJEb2N1bWVudCl9LEx0PWZ1bmN0aW9uKGUpe3JldHVybiBrdChlKT9lOlB0KGUpfSxJdD1mdW5jdGlvbihlKXtyZXR1cm4gQ3QuZnJvbURvbShlLmRvbSgpLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpfSxNdD1mdW5jdGlvbihlKXtyZXR1cm4gQi5mcm9tKGUuZG9tKCkucGFyZW50Tm9kZSkubWFwKEN0LmZyb21Eb20pfSxGdD1mdW5jdGlvbihlKXtyZXR1cm4gQi5mcm9tKGUuZG9tKCkucHJldmlvdXNTaWJsaW5nKS5tYXAoQ3QuZnJvbURvbSl9LFV0PWZ1bmN0aW9uKGUpe3JldHVybiBCLmZyb20oZS5kb20oKS5uZXh0U2libGluZykubWFwKEN0LmZyb21Eb20pfSx6dD1mdW5jdGlvbihlKXtyZXR1cm4gSihUdChlLEZ0KSl9LGp0PWZ1bmN0aW9uKGUpe3JldHVybiBUdChlLFV0KX0sSHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFUoZS5kb20oKS5jaGlsZE5vZGVzLEN0LmZyb21Eb20pfSxWdD1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZG9tKCkuY2hpbGROb2RlcztyZXR1cm4gQi5mcm9tKG5bdF0pLm1hcChDdC5mcm9tRG9tKX0scXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFZ0KGUsMCl9LCR0PWZ1bmN0aW9uKGUpe3JldHVybiBWdChlLGUuZG9tKCkuY2hpbGROb2Rlcy5sZW5ndGgtMSl9LFd0PWZ1bmN0aW9uKGUpe3JldHVybiBfdChlKX0sS3Q9QShWLkVsZW1lbnQucHJvdG90eXBlLmF0dGFjaFNoYWRvdykmJkEoVi5Ob2RlLnByb3RvdHlwZS5nZXRSb290Tm9kZSk/ZnVuY3Rpb24oZSl7cmV0dXJuIEN0LmZyb21Eb20oZS5kb20oKS5nZXRSb290Tm9kZSgpKX06THQsWHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFd0KGUpP2U6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb20oKS5oZWFkO2lmKG51bGw9PT10fHx0PT09dW5kZWZpbmVkKXRocm93IG5ldyBFcnJvcigiSGVhZCBpcyBub3QgYXZhaWxhYmxlIHlldCIpO3JldHVybiBDdC5mcm9tRG9tKHQpfShMdChlKSl9LFl0PWZ1bmN0aW9uKGUpe3JldHVybiBDdC5mcm9tRG9tKGUuZG9tKCkuaG9zdCl9LEd0PWZ1bmN0aW9uKHQsbil7TXQodCkuZWFjaChmdW5jdGlvbihlKXtlLmRvbSgpLmluc2VydEJlZm9yZShuLmRvbSgpLHQuZG9tKCkpfSl9LEp0PWZ1bmN0aW9uKGUsdCl7VXQoZSkuZm9sZChmdW5jdGlvbigpe010KGUpLmVhY2goZnVuY3Rpb24oZSl7WnQoZSx0KX0pfSxmdW5jdGlvbihlKXtHdChlLHQpfSl9LFF0PWZ1bmN0aW9uKHQsbil7cXQodCkuZm9sZChmdW5jdGlvbigpe1p0KHQsbil9LGZ1bmN0aW9uKGUpe3QuZG9tKCkuaW5zZXJ0QmVmb3JlKG4uZG9tKCksZS5kb20oKSl9KX0sWnQ9ZnVuY3Rpb24oZSx0KXtlLmRvbSgpLmFwcGVuZENoaWxkKHQuZG9tKCkpfSxlbj1mdW5jdGlvbih0LGUpe3ooZSxmdW5jdGlvbihlKXtadCh0LGUpfSl9LHRuPWZ1bmN0aW9uKGUpe2UuZG9tKCkudGV4dENvbnRlbnQ9IiIseihIdChlKSxmdW5jdGlvbihlKXtubihlKX0pfSxubj1mdW5jdGlvbihlKXt2YXIgdD1lLmRvbSgpO251bGwhPT10LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX0scm49ZnVuY3Rpb24oZSl7dmFyIHQsbj1IdChlKTswPG4ubGVuZ3RoJiYodD1lLHoobixmdW5jdGlvbihlKXtHdCh0LGUpfSkpLG5uKGUpfSxvbj1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpPUV0KGUpP2UuZG9tKCkucGFyZW50Tm9kZTplLmRvbSgpO3JldHVybiBpIT09dW5kZWZpbmVkJiZudWxsIT09aSYmbnVsbCE9PWkub3duZXJEb2N1bWVudCYmKHI9Q3QuZnJvbURvbShpKSxvPUt0KHIpLChXdChvKT9CLnNvbWUobyk6Qi5ub25lKCkpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gaS5vd25lckRvY3VtZW50LmJvZHkuY29udGFpbnMoaSl9LCh0PW9uLG49WXQsZnVuY3Rpb24oZSl7cmV0dXJuIHQobihlKSl9KSkpfSxhbj1mdW5jdGlvbihuLHIpe3JldHVybntsZWZ0OngobiksdG9wOngociksdHJhbnNsYXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFuKG4rZSxyK3QpfX19LHVuPWFuLHNuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUhPT11bmRlZmluZWQ/ZTp0IT09dW5kZWZpbmVkP3Q6MH0sY249ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmRvbSgpLHI9bi5vd25lckRvY3VtZW50LmJvZHk7cmV0dXJuIHI9PT1uP3VuKHIub2Zmc2V0TGVmdCxyLm9mZnNldFRvcCk6b24oZSk/KHQ9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx1bih0LmxlZnQsdC50b3ApKTp1bigwLDApfSxsbj1mdW5jdGlvbihlKXt2YXIgdD1lIT09dW5kZWZpbmVkP2UuZG9tKCk6Vi5kb2N1bWVudCxuPXQuYm9keS5zY3JvbGxMZWZ0fHx0LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LHI9dC5ib2R5LnNjcm9sbFRvcHx8dC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO3JldHVybiB1bihuLHIpfSxmbj1mdW5jdGlvbihlLHQsbil7KG4hPT11bmRlZmluZWQ/bi5kb20oKTpWLmRvY3VtZW50KS5kZWZhdWx0Vmlldy5zY3JvbGxUbyhlLHQpfSxkbj1mdW5jdGlvbihlLHQpe290KCkuYnJvd3Nlci5pc1NhZmFyaSgpJiZBKGUuZG9tKCkuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCk/ZS5kb20oKS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKCExKTplLmRvbSgpLnNjcm9sbEludG9WaWV3KHQpfSxtbj1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm57eDplLHk6dCx3aWR0aDpuLGhlaWdodDpyLHJpZ2h0OmUrbixib3R0b206dCtyfX0scG49ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU9PT11bmRlZmluZWQ/Vi53aW5kb3c6ZSxvPXIuZG9jdW1lbnQsaT1sbihDdC5mcm9tRG9tKG8pKTtyZXR1cm4gbj0odD1yKT09PXVuZGVmaW5lZD9WLndpbmRvdzp0LEIuZnJvbShuLnZpc3VhbFZpZXdwb3J0KS5mb2xkKGZ1bmN0aW9uKCl7dmFyIGU9ci5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdD1lLmNsaWVudFdpZHRoLG49ZS5jbGllbnRIZWlnaHQ7cmV0dXJuIG1uKGkubGVmdCgpLGkudG9wKCksdCxuKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG1uKE1hdGgubWF4KGUucGFnZUxlZnQsaS5sZWZ0KCkpLE1hdGgubWF4KGUucGFnZVRvcCxpLnRvcCgpKSxlLndpZHRoLGUuaGVpZ2h0KX0pfSxnbj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZlLm5vZGVUeXBlPT09dH19LGhuPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmIU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0sdm49Z24oMSkseW49ZnVuY3Rpb24oZSl7dmFyIG49ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKX0pO3JldHVybiBmdW5jdGlvbihlKXtpZihlJiZlLm5vZGVOYW1lKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIE0obix0KX1yZXR1cm4hMX19LGJuPWZ1bmN0aW9uKHIsZSl7dmFyIG89ZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIik7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0O2lmKHZuKGUpKWZvcih0PTA7dDxvLmxlbmd0aDt0Kyspe3ZhciBuPWUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCk7aWYoKG4/bi5nZXRQcm9wZXJ0eVZhbHVlKHIpOm51bGwpPT09b1t0XSlyZXR1cm4hMH1yZXR1cm4hMX19LENuPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdm4oZSkmJmUuaGFzQXR0cmlidXRlKHQpfX0sd249ZnVuY3Rpb24oZSl7cmV0dXJuIHZuKGUpJiZlLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKX0seG49ZnVuY3Rpb24oZSl7cmV0dXJuIHZuKGUpJiYiVEFCTEUiPT09ZS50YWdOYW1lfSxTbj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYodm4oZSkpe2lmKGUuY29udGVudEVkaXRhYmxlPT09dClyZXR1cm4hMDtpZihlLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtY29udGVudGVkaXRhYmxlIik9PT10KXJldHVybiEwfXJldHVybiExfX0sTm49eW4oWyJ0ZXh0YXJlYSIsImlucHV0Il0pLEVuPWduKDMpLGtuPWduKDgpLF9uPWduKDkpLFRuPWduKDExKSxSbj15bihbImJyIl0pLEFuPVNuKCJ0cnVlIiksRG49U24oImZhbHNlIiksT249ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3R5bGUhPT11bmRlZmluZWQmJkEoZS5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKX0sQm49ZnVuY3Rpb24oZSx0LG4pe2lmKCEocShuKXx8VChuKXx8RChuKSkpdGhyb3cgVi5jb25zb2xlLmVycm9yKCJJbnZhbGlkIGNhbGwgdG8gQXR0ci5zZXQuIEtleSAiLHQsIjo6IFZhbHVlICIsbiwiOjogRWxlbWVudCAiLGUpLG5ldyBFcnJvcigiQXR0cmlidXRlIHZhbHVlIHdhcyBub3Qgc2ltcGxlIik7ZS5zZXRBdHRyaWJ1dGUodCxuKyIiKX0sUG49ZnVuY3Rpb24oZSx0LG4pe0JuKGUuZG9tKCksdCxuKX0sTG49ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbSgpO29lKHQsZnVuY3Rpb24oZSx0KXtCbihuLHQsZSl9KX0sSW49ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbSgpLmdldEF0dHJpYnV0ZSh0KTtyZXR1cm4gbnVsbD09PW4/dW5kZWZpbmVkOm59LE1uPWZ1bmN0aW9uKGUsdCl7ZS5kb20oKS5yZW1vdmVBdHRyaWJ1dGUodCl9LEZuPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb20oKSxyPVYud2luZG93LmdldENvbXB1dGVkU3R5bGUobikuZ2V0UHJvcGVydHlWYWx1ZSh0KTtyZXR1cm4iIiE9PXJ8fG9uKGUpP3I6VW4obix0KX0sVW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT24oZSk/ZS5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHQpOiIifSx6bj1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZG9tKCkscj1VbihuLHQpO3JldHVybiBCLmZyb20ocikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwPGUubGVuZ3RofSl9LGpuPW90KCkuYnJvd3NlcixIbj1mdW5jdGlvbihlKXtyZXR1cm4gSyhlLE50KX0sVm49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jaGlsZHJlbiYmTShlLmNoaWxkcmVuLHQpfSxxbj1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE9MCx1PTAscz1lLm93bmVyRG9jdW1lbnQ7aWYobj1ufHxlLHQpe2lmKG49PT1lJiZ0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmInN0YXRpYyI9PT1GbihDdC5mcm9tRG9tKGUpLCJwb3NpdGlvbiIpKXJldHVybnt4OmE9KG89dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkubGVmdCsocy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8ZS5zY3JvbGxMZWZ0KS1zLmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0LHk6dT1vLnRvcCsocy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxlLnNjcm9sbFRvcCktcy5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wfTtmb3Iocj10O3ImJnIhPT1uJiZyLm5vZGVUeXBlJiYhVm4ocixuKTspYSs9ci5vZmZzZXRMZWZ0fHwwLHUrPXIub2Zmc2V0VG9wfHwwLHI9ci5vZmZzZXRQYXJlbnQ7Zm9yKHI9dC5wYXJlbnROb2RlO3ImJnIhPT1uJiZyLm5vZGVUeXBlJiYhVm4ocixuKTspYS09ci5zY3JvbGxMZWZ0fHwwLHUtPXIuc2Nyb2xsVG9wfHwwLHI9ci5wYXJlbnROb2RlO3UrPShpPUN0LmZyb21Eb20odCksam4uaXNGaXJlZm94KCkmJiJ0YWJsZSI9PT13dChpKT9IbihIdChpKSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJjYXB0aW9uIj09PXd0KGUpfSkuYmluZChmdW5jdGlvbihvKXtyZXR1cm4gSG4oanQobykpLm1hcChmdW5jdGlvbihlKXt2YXIgdD1lLmRvbSgpLm9mZnNldFRvcCxuPW8uZG9tKCkub2Zmc2V0VG9wLHI9by5kb20oKS5vZmZzZXRIZWlnaHQ7cmV0dXJuIHQ8PW4/LXI6MH0pfSkuZ2V0T3IoMCk6MCl9cmV0dXJue3g6YSx5OnV9fSwkbj1mdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuKG49bnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e30scj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9ZVtyXTtuW1N0cmluZyhpKV09dChpLHIpfXJldHVybiBufSh0LHgoITApKSkuaGFzT3duUHJvcGVydHkod3QoZSkpfX0sV249JG4oWyJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiXSksS249JG4oWyJhcnRpY2xlIiwiYXNpZGUiLCJkZXRhaWxzIiwiZGl2IiwiZHQiLCJmaWdjYXB0aW9uIiwiZm9vdGVyIiwiZm9ybSIsImZpZWxkc2V0IiwiaGVhZGVyIiwiaGdyb3VwIiwiaHRtbCIsIm1haW4iLCJuYXYiLCJzZWN0aW9uIiwic3VtbWFyeSIsImJvZHkiLCJwIiwiZGwiLCJtdWx0aWNvbCIsImRkIiwiZmlndXJlIiwiYWRkcmVzcyIsImNlbnRlciIsImJsb2NrcXVvdGUiLCJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJsaXN0aW5nIiwieG1wIiwicHJlIiwicGxhaW50ZXh0IiwibWVudSIsImRpciIsInVsIiwib2wiLCJsaSIsImhyIiwidGFibGUiLCJ0Ym9keSIsInRoZWFkIiwidGZvb3QiLCJ0aCIsInRyIiwidGQiLCJjYXB0aW9uIl0pLFhuPWZ1bmN0aW9uKGUpe3JldHVybiBOdChlKSYmIUtuKGUpfSxZbj1mdW5jdGlvbihlKXtyZXR1cm4gTnQoZSkmJiJiciI9PT13dChlKX0sR249JG4oWyJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJwIiwiZGl2IiwiYWRkcmVzcyIsInByZSIsImZvcm0iLCJibG9ja3F1b3RlIiwiY2VudGVyIiwiZGlyIiwiZmllbGRzZXQiLCJoZWFkZXIiLCJmb290ZXIiLCJhcnRpY2xlIiwic2VjdGlvbiIsImhncm91cCIsImFzaWRlIiwibmF2IiwiZmlndXJlIl0pLEpuPSRuKFsidWwiLCJvbCIsImRsIl0pLFFuPSRuKFsibGkiLCJkZCIsImR0Il0pLFpuPSRuKFsiYXJlYSIsImJhc2UiLCJiYXNlZm9udCIsImJyIiwiY29sIiwiZnJhbWUiLCJociIsImltZyIsImlucHV0IiwiaXNpbmRleCIsImxpbmsiLCJtZXRhIiwicGFyYW0iLCJlbWJlZCIsInNvdXJjZSIsIndiciIsInRyYWNrIl0pLGVyPSRuKFsidGhlYWQiLCJ0Ym9keSIsInRmb290Il0pLHRyPSRuKFsidGQiLCJ0aCJdKSxucj0kbihbInByZSIsInNjcmlwdCIsInRleHRhcmVhIiwic3R5bGUiXSkscnI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJTUEFOIj09PWUudGFnTmFtZSYmImJvb2ttYXJrIj09PWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS10eXBlIil9LG9yPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj10LmNoaWxkTm9kZXM7aWYoIXZuKHQpfHwhcnIodCkpe2ZvcihuPXIubGVuZ3RoLTE7MDw9bjtuLS0pb3IoZSxyW25dKTtpZighMT09PV9uKHQpKXtpZihFbih0KSYmMDx0Lm5vZGVWYWx1ZS5sZW5ndGgpe3ZhciBvPXl0LnRyaW0odC5ub2RlVmFsdWUpLmxlbmd0aDtpZihlLmlzQmxvY2sodC5wYXJlbnROb2RlKXx8MDxvKXJldHVybjtpZigwPT09byYmKGE9KGk9dCkucHJldmlvdXNTaWJsaW5nJiYiU1BBTiI9PT1pLnByZXZpb3VzU2libGluZy5ub2RlTmFtZSx1PWkubmV4dFNpYmxpbmcmJiJTUEFOIj09PWkubmV4dFNpYmxpbmcubm9kZU5hbWUsYSYmdSkpcmV0dXJufWVsc2UgaWYodm4odCkmJigxPT09KHI9dC5jaGlsZE5vZGVzKS5sZW5ndGgmJnJyKHJbMF0pJiZ0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHJbMF0sdCksci5sZW5ndGh8fFpuKEN0LmZyb21Eb20odCkpKSlyZXR1cm47ZS5yZW1vdmUodCl9dmFyIGksYSx1O3JldHVybiB0fX0saXI9eXQubWFrZU1hcCxhcj0vWyY8PlwiXHUwMDYwXHUwMDdFLVx1RDdGRlx1RTAwMC1cdUZGRUZdfFtcdUQ4MDAtXHVEQkZGXVtcdURDMDAtXHVERkZGXS9nLHVyPS9bPD4mXHUwMDdFLVx1RDdGRlx1RTAwMC1cdUZGRUZdfFtcdUQ4MDAtXHVEQkZGXVtcdURDMDAtXHVERkZGXS9nLHNyPS9bPD4mXCJcJ10vZyxjcj0vJiMoW2EtejAtOV0rKTs/fCYoW2EtejAtOV0rKTsvZ2ksbHI9ezEyODoiXHUyMGFjIiwxMzA6Ilx1MjAxYSIsMTMxOiJcdTAxOTIiLDEzMjoiXHUyMDFlIiwxMzM6Ilx1MjAyNiIsMTM0OiJcdTIwMjAiLDEzNToiXHUyMDIxIiwxMzY6Ilx1MDJjNiIsMTM3OiJcdTIwMzAiLDEzODoiXHUwMTYwIiwxMzk6Ilx1MjAzOSIsMTQwOiJcdTAxNTIiLDE0MjoiXHUwMTdkIiwxNDU6Ilx1MjAxOCIsMTQ2OiJcdTIwMTkiLDE0NzoiXHUyMDFjIiwxNDg6Ilx1MjAxZCIsMTQ5OiJcdTIwMjIiLDE1MDoiXHUyMDEzIiwxNTE6Ilx1MjAxNCIsMTUyOiJcdTAyZGMiLDE1MzoiXHUyMTIyIiwxNTQ6Ilx1MDE2MSIsMTU1OiJcdTIwM2EiLDE1NjoiXHUwMTUzIiwxNTg6Ilx1MDE3ZSIsMTU5OiJcdTAxNzgifSxmcj17JyInOiImcXVvdDsiLCInIjoiJiMzOTsiLCI8IjoiJmx0OyIsIj4iOiImZ3Q7IiwiJiI6IiZhbXA7IiwiYCI6IiYjOTY7In0sZHI9eyImbHQ7IjoiPCIsIiZndDsiOiI+IiwiJmFtcDsiOiImIiwiJnF1b3Q7IjonIicsIiZhcG9zOyI6IicifSxtcj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPXt9O2lmKGUpe2ZvcihlPWUuc3BsaXQoIiwiKSx0PXR8fDEwLG49MDtuPGUubGVuZ3RoO24rPTIpcj1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGVbbl0sdCkpLGZyW3JdfHwobz0iJiIrZVtuKzFdKyI7IixpW3JdPW8saVtvXT1yKTtyZXR1cm4gaX19LHByPW1yKCI1MCxuYnNwLDUxLGlleGNsLDUyLGNlbnQsNTMscG91bmQsNTQsY3VycmVuLDU1LHllbiw1NixicnZiYXIsNTcsc2VjdCw1OCx1bWwsNTksY29weSw1YSxvcmRmLDViLGxhcXVvLDVjLG5vdCw1ZCxzaHksNWUscmVnLDVmLG1hY3IsNWcsZGVnLDVoLHBsdXNtbiw1aSxzdXAyLDVqLHN1cDMsNWssYWN1dGUsNWwsbWljcm8sNW0scGFyYSw1bixtaWRkb3QsNW8sY2VkaWwsNXAsc3VwMSw1cSxvcmRtLDVyLHJhcXVvLDVzLGZyYWMxNCw1dCxmcmFjMTIsNXUsZnJhYzM0LDV2LGlxdWVzdCw2MCxBZ3JhdmUsNjEsQWFjdXRlLDYyLEFjaXJjLDYzLEF0aWxkZSw2NCxBdW1sLDY1LEFyaW5nLDY2LEFFbGlnLDY3LENjZWRpbCw2OCxFZ3JhdmUsNjksRWFjdXRlLDZhLEVjaXJjLDZiLEV1bWwsNmMsSWdyYXZlLDZkLElhY3V0ZSw2ZSxJY2lyYyw2ZixJdW1sLDZnLEVUSCw2aCxOdGlsZGUsNmksT2dyYXZlLDZqLE9hY3V0ZSw2ayxPY2lyYyw2bCxPdGlsZGUsNm0sT3VtbCw2bix0aW1lcyw2byxPc2xhc2gsNnAsVWdyYXZlLDZxLFVhY3V0ZSw2cixVY2lyYyw2cyxVdW1sLDZ0LFlhY3V0ZSw2dSxUSE9STiw2dixzemxpZyw3MCxhZ3JhdmUsNzEsYWFjdXRlLDcyLGFjaXJjLDczLGF0aWxkZSw3NCxhdW1sLDc1LGFyaW5nLDc2LGFlbGlnLDc3LGNjZWRpbCw3OCxlZ3JhdmUsNzksZWFjdXRlLDdhLGVjaXJjLDdiLGV1bWwsN2MsaWdyYXZlLDdkLGlhY3V0ZSw3ZSxpY2lyYyw3ZixpdW1sLDdnLGV0aCw3aCxudGlsZGUsN2ksb2dyYXZlLDdqLG9hY3V0ZSw3ayxvY2lyYyw3bCxvdGlsZGUsN20sb3VtbCw3bixkaXZpZGUsN28sb3NsYXNoLDdwLHVncmF2ZSw3cSx1YWN1dGUsN3IsdWNpcmMsN3MsdXVtbCw3dCx5YWN1dGUsN3UsdGhvcm4sN3YseXVtbCxjaSxmbm9mLHNoLEFscGhhLHNpLEJldGEsc2osR2FtbWEsc2ssRGVsdGEsc2wsRXBzaWxvbixzbSxaZXRhLHNuLEV0YSxzbyxUaGV0YSxzcCxJb3RhLHNxLEthcHBhLHNyLExhbWJkYSxzcyxNdSxzdCxOdSxzdSxYaSxzdixPbWljcm9uLHQwLFBpLHQxLFJobyx0MyxTaWdtYSx0NCxUYXUsdDUsVXBzaWxvbix0NixQaGksdDcsQ2hpLHQ4LFBzaSx0OSxPbWVnYSx0aCxhbHBoYSx0aSxiZXRhLHRqLGdhbW1hLHRrLGRlbHRhLHRsLGVwc2lsb24sdG0semV0YSx0bixldGEsdG8sdGhldGEsdHAsaW90YSx0cSxrYXBwYSx0cixsYW1iZGEsdHMsbXUsdHQsbnUsdHUseGksdHYsb21pY3Jvbix1MCxwaSx1MSxyaG8sdTIsc2lnbWFmLHUzLHNpZ21hLHU0LHRhdSx1NSx1cHNpbG9uLHU2LHBoaSx1NyxjaGksdTgscHNpLHU5LG9tZWdhLHVoLHRoZXRhc3ltLHVpLHVwc2loLHVtLHBpdiw4MTIsYnVsbCw4MTYsaGVsbGlwLDgxaSxwcmltZSw4MWosUHJpbWUsODF1LG9saW5lLDgyNCxmcmFzbCw4OG8sd2VpZXJwLDg4aCxpbWFnZSw4OHMscmVhbCw4OTIsdHJhZGUsODlsLGFsZWZzeW0sOGNnLGxhcnIsOGNoLHVhcnIsOGNpLHJhcnIsOGNqLGRhcnIsOGNrLGhhcnIsOGRsLGNyYXJyLDhlZyxsQXJyLDhlaCx1QXJyLDhlaSxyQXJyLDhlaixkQXJyLDhlayxoQXJyLDhnMCxmb3JhbGwsOGcyLHBhcnQsOGczLGV4aXN0LDhnNSxlbXB0eSw4ZzcsbmFibGEsOGc4LGlzaW4sOGc5LG5vdGluLDhnYixuaSw4Z2YscHJvZCw4Z2gsc3VtLDhnaSxtaW51cyw4Z24sbG93YXN0LDhncSxyYWRpYyw4Z3QscHJvcCw4Z3UsaW5maW4sOGgwLGFuZyw4aDcsYW5kLDhoOCxvciw4aDksY2FwLDhoYSxjdXAsOGhiLGludCw4aGssdGhlcmU0LDhocyxzaW0sOGk1LGNvbmcsOGk4LGFzeW1wLDhqMCxuZSw4ajEsZXF1aXYsOGo0LGxlLDhqNSxnZSw4azIsc3ViLDhrMyxzdXAsOGs0LG5zdWIsOGs2LHN1YmUsOGs3LHN1cGUsOGtsLG9wbHVzLDhrbixvdGltZXMsOGw1LHBlcnAsOG01LHNkb3QsOG84LGxjZWlsLDhvOSxyY2VpbCw4b2EsbGZsb29yLDhvYixyZmxvb3IsOHA5LGxhbmcsOHBhLHJhbmcsOWVhLGxveiw5ajAsc3BhZGVzLDlqMyxjbHVicyw5ajUsaGVhcnRzLDlqNixkaWFtcyxhaSxPRWxpZyxhaixvZWxpZyxiMCxTY2Fyb24sYjEsc2Nhcm9uLGJvLFl1bWwsbTYsY2lyYyxtcyx0aWxkZSw4MDIsZW5zcCw4MDMsZW1zcCw4MDksdGhpbnNwLDgwYyx6d25qLDgwZCx6d2osODBlLGxybSw4MGYscmxtLDgwaixuZGFzaCw4MGssbWRhc2gsODBvLGxzcXVvLDgwcCxyc3F1byw4MHEsc2JxdW8sODBzLGxkcXVvLDgwdCxyZHF1byw4MHUsYmRxdW8sODEwLGRhZ2dlciw4MTEsRGFnZ2VyLDgxZyxwZXJtaWwsODFwLGxzYXF1byw4MXEscnNhcXVvLDg1YyxldXJvIiwzMiksZ3I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZXBsYWNlKHQ/YXI6dXIsZnVuY3Rpb24oZSl7cmV0dXJuIGZyW2VdfHxlfSl9LGhyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucmVwbGFjZSh0P2FyOnVyLGZ1bmN0aW9uKGUpe3JldHVybiAxPGUubGVuZ3RoPyImIyIrKDEwMjQqKGUuY2hhckNvZGVBdCgwKS01NTI5NikrKGUuY2hhckNvZGVBdCgxKS01NjMyMCkrNjU1MzYpKyI7IjpmcltlXXx8IiYjIitlLmNoYXJDb2RlQXQoMCkrIjsifSl9LHZyPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbj1ufHxwcixlLnJlcGxhY2UodD9hcjp1cixmdW5jdGlvbihlKXtyZXR1cm4gZnJbZV18fG5bZV18fGV9KX0seXI9e2VuY29kZVJhdzpncixlbmNvZGVBbGxSYXc6ZnVuY3Rpb24oZSl7cmV0dXJuKCIiK2UpLnJlcGxhY2Uoc3IsZnVuY3Rpb24oZSl7cmV0dXJuIGZyW2VdfHxlfSl9LGVuY29kZU51bWVyaWM6aHIsZW5jb2RlTmFtZWQ6dnIsZ2V0RW5jb2RlRnVuYzpmdW5jdGlvbihlLHQpe3ZhciBuPW1yKHQpfHxwcixyPWlyKGUucmVwbGFjZSgvXCsvZywiLCIpKTtyZXR1cm4gci5uYW1lZCYmci5udW1lcmljP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIGUucmVwbGFjZSh0P2FyOnVyLGZ1bmN0aW9uKGUpe3JldHVybiBmcltlXSE9PXVuZGVmaW5lZD9mcltlXTpuW2VdIT09dW5kZWZpbmVkP25bZV06MTxlLmxlbmd0aD8iJiMiKygxMDI0KihlLmNoYXJDb2RlQXQoMCktNTUyOTYpKyhlLmNoYXJDb2RlQXQoMSktNTYzMjApKzY1NTM2KSsiOyI6IiYjIitlLmNoYXJDb2RlQXQoMCkrIjsifSl9OnIubmFtZWQ/dD9mdW5jdGlvbihlLHQpe3JldHVybiB2cihlLHQsbil9OnZyOnIubnVtZXJpYz9ocjpncn0sZGVjb2RlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoY3IsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD82NTUzNTwodD0ieCI9PT10LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpP3BhcnNlSW50KHQuc3Vic3RyKDEpLDE2KTpwYXJzZUludCh0LDEwKSk/KHQtPTY1NTM2LFN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYrKHQ+PjEwKSw1NjMyMCsoMTAyMyZ0KSkpOmxyW3RdfHxTdHJpbmcuZnJvbUNoYXJDb2RlKHQpOmRyW2VdfHxwcltlXXx8KG49ZSwocj1DdC5mcm9tVGFnKCJkaXYiKS5kb20oKSkuaW5uZXJIVE1MPW4sci50ZXh0Q29udGVudHx8ci5pbm5lclRleHR8fG4pO3ZhciBuLHJ9KX19LGJyPXt9LENyPXt9LHdyPXl0Lm1ha2VNYXAseHI9eXQuZWFjaCxTcj15dC5leHRlbmQsTnI9eXQuZXhwbG9kZSxFcj15dC5pbkFycmF5LGtyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGU9eXQudHJpbShlKSk/ZS5zcGxpdCh0fHwiICIpOltdfSxfcj1mdW5jdGlvbihlKXt2YXIgdSx0LG4scixvLGkscz17fSxhPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbz17fTtmb3Iobj0wLHI9ZS5sZW5ndGg7bjxyO24rKylvW2Vbbl1dPXR8fHt9O3JldHVybiBvfTtmb3IodD10fHwiIiwic3RyaW5nIj09dHlwZW9mKG49bnx8W10pJiYobj1rcihuKSkscj0oZT1rcihlKSkubGVuZ3RoO3ItLTspaT17YXR0cmlidXRlczphKG89a3IoW3UsdF0uam9pbigiICIpKSksYXR0cmlidXRlc09yZGVyOm8sY2hpbGRyZW46YShuLENyKX0sc1tlW3JdXT1pfSxjPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk7Zm9yKG49KGU9a3IoZSkpLmxlbmd0aCx0PWtyKHQpO24tLTspZm9yKHI9c1tlW25dXSxvPTAsaT10Lmxlbmd0aDtvPGk7bysrKXIuYXR0cmlidXRlc1t0W29dXT17fSxyLmF0dHJpYnV0ZXNPcmRlci5wdXNoKHRbb10pfTtyZXR1cm4gYnJbZV0/YnJbZV06KHU9ImlkIGFjY2Vzc2tleSBjbGFzcyBkaXIgbGFuZyBzdHlsZSB0YWJpbmRleCB0aXRsZSByb2xlIix0PSJhZGRyZXNzIGJsb2NrcXVvdGUgZGl2IGRsIGZpZWxkc2V0IGZvcm0gaDEgaDIgaDMgaDQgaDUgaDYgaHIgbWVudSBvbCBwIHByZSB0YWJsZSB1bCIsbj0iYSBhYmJyIGIgYmRvIGJyIGJ1dHRvbiBjaXRlIGNvZGUgZGVsIGRmbiBlbSBlbWJlZCBpIGlmcmFtZSBpbWcgaW5wdXQgaW5zIGtiZCBsYWJlbCBtYXAgbm9zY3JpcHQgb2JqZWN0IHEgcyBzYW1wIHNjcmlwdCBzZWxlY3Qgc21hbGwgc3BhbiBzdHJvbmcgc3ViIHN1cCB0ZXh0YXJlYSB1IHZhciAjdGV4dCAjY29tbWVudCIsImh0bWw0IiE9PWUmJih1Kz0iIGNvbnRlbnRlZGl0YWJsZSBjb250ZXh0bWVudSBkcmFnZ2FibGUgZHJvcHpvbmUgaGlkZGVuIHNwZWxsY2hlY2sgdHJhbnNsYXRlIix0Kz0iIGFydGljbGUgYXNpZGUgZGV0YWlscyBkaWFsb2cgZmlndXJlIG1haW4gaGVhZGVyIGZvb3RlciBoZ3JvdXAgc2VjdGlvbiBuYXYiLG4rPSIgYXVkaW8gY2FudmFzIGNvbW1hbmQgZGF0YWxpc3QgbWFyayBtZXRlciBvdXRwdXQgcGljdHVyZSBwcm9ncmVzcyB0aW1lIHdiciB2aWRlbyBydWJ5IGJkaSBrZXlnZW4iKSwiaHRtbDUtc3RyaWN0IiE9PWUmJih1Kz0iIHhtbDpsYW5nIixuPVtuLGk9ImFjcm9ueW0gYXBwbGV0IGJhc2Vmb250IGJpZyBmb250IHN0cmlrZSB0dCJdLmpvaW4oIiAiKSx4cihrcihpKSxmdW5jdGlvbihlKXthKGUsIiIsbil9KSx0PVt0LG89ImNlbnRlciBkaXIgaXNpbmRleCBub2ZyYW1lcyJdLmpvaW4oIiAiKSxyPVt0LG5dLmpvaW4oIiAiKSx4cihrcihvKSxmdW5jdGlvbihlKXthKGUsIiIscil9KSkscj1yfHxbdCxuXS5qb2luKCIgIiksYSgiaHRtbCIsIm1hbmlmZXN0IiwiaGVhZCBib2R5IiksYSgiaGVhZCIsIiIsImJhc2UgY29tbWFuZCBsaW5rIG1ldGEgbm9zY3JpcHQgc2NyaXB0IHN0eWxlIHRpdGxlIiksYSgidGl0bGUgaHIgbm9zY3JpcHQgYnIiKSxhKCJiYXNlIiwiaHJlZiB0YXJnZXQiKSxhKCJsaW5rIiwiaHJlZiByZWwgbWVkaWEgaHJlZmxhbmcgdHlwZSBzaXplcyBocmVmbGFuZyIpLGEoIm1ldGEiLCJuYW1lIGh0dHAtZXF1aXYgY29udGVudCBjaGFyc2V0IiksYSgic3R5bGUiLCJtZWRpYSB0eXBlIHNjb3BlZCIpLGEoInNjcmlwdCIsInNyYyBhc3luYyBkZWZlciB0eXBlIGNoYXJzZXQiKSxhKCJib2R5Iiwib25hZnRlcnByaW50IG9uYmVmb3JlcHJpbnQgb25iZWZvcmV1bmxvYWQgb25ibHVyIG9uZXJyb3Igb25mb2N1cyBvbmhhc2hjaGFuZ2Ugb25sb2FkIG9ubWVzc2FnZSBvbm9mZmxpbmUgb25vbmxpbmUgb25wYWdlaGlkZSBvbnBhZ2VzaG93IG9ucG9wc3RhdGUgb25yZXNpemUgb25zY3JvbGwgb25zdG9yYWdlIG9udW5sb2FkIixyKSxhKCJhZGRyZXNzIGR0IGRkIGRpdiBjYXB0aW9uIiwiIixyKSxhKCJoMSBoMiBoMyBoNCBoNSBoNiBwcmUgcCBhYmJyIGNvZGUgdmFyIHNhbXAga2JkIHN1YiBzdXAgaSBiIHUgYmRvIHNwYW4gbGVnZW5kIGVtIHN0cm9uZyBzbWFsbCBzIGNpdGUgZGZuIiwiIixuKSxhKCJibG9ja3F1b3RlIiwiY2l0ZSIsciksYSgib2wiLCJyZXZlcnNlZCBzdGFydCB0eXBlIiwibGkiKSxhKCJ1bCIsIiIsImxpIiksYSgibGkiLCJ2YWx1ZSIsciksYSgiZGwiLCIiLCJkdCBkZCIpLGEoImEiLCJocmVmIHRhcmdldCByZWwgbWVkaWEgaHJlZmxhbmcgdHlwZSIsbiksYSgicSIsImNpdGUiLG4pLGEoImlucyBkZWwiLCJjaXRlIGRhdGV0aW1lIixyKSxhKCJpbWciLCJzcmMgc2l6ZXMgc3Jjc2V0IGFsdCB1c2VtYXAgaXNtYXAgd2lkdGggaGVpZ2h0IiksYSgiaWZyYW1lIiwic3JjIG5hbWUgd2lkdGggaGVpZ2h0IixyKSxhKCJlbWJlZCIsInNyYyB0eXBlIHdpZHRoIGhlaWdodCIpLGEoIm9iamVjdCIsImRhdGEgdHlwZSB0eXBlbXVzdG1hdGNoIG5hbWUgdXNlbWFwIGZvcm0gd2lkdGggaGVpZ2h0IixbciwicGFyYW0iXS5qb2luKCIgIikpLGEoInBhcmFtIiwibmFtZSB2YWx1ZSIpLGEoIm1hcCIsIm5hbWUiLFtyLCJhcmVhIl0uam9pbigiICIpKSxhKCJhcmVhIiwiYWx0IGNvb3JkcyBzaGFwZSBocmVmIHRhcmdldCByZWwgbWVkaWEgaHJlZmxhbmcgdHlwZSIpLGEoInRhYmxlIiwiYm9yZGVyIiwiY2FwdGlvbiBjb2xncm91cCB0aGVhZCB0Zm9vdCB0Ym9keSB0ciIrKCJodG1sNCI9PT1lPyIgY29sIjoiIikpLGEoImNvbGdyb3VwIiwic3BhbiIsImNvbCIpLGEoImNvbCIsInNwYW4iKSxhKCJ0Ym9keSB0aGVhZCB0Zm9vdCIsIiIsInRyIiksYSgidHIiLCIiLCJ0ZCB0aCIpLGEoInRkIiwiY29sc3BhbiByb3dzcGFuIGhlYWRlcnMiLHIpLGEoInRoIiwiY29sc3BhbiByb3dzcGFuIGhlYWRlcnMgc2NvcGUgYWJiciIsciksYSgiZm9ybSIsImFjY2VwdC1jaGFyc2V0IGFjdGlvbiBhdXRvY29tcGxldGUgZW5jdHlwZSBtZXRob2QgbmFtZSBub3ZhbGlkYXRlIHRhcmdldCIsciksYSgiZmllbGRzZXQiLCJkaXNhYmxlZCBmb3JtIG5hbWUiLFtyLCJsZWdlbmQiXS5qb2luKCIgIikpLGEoImxhYmVsIiwiZm9ybSBmb3IiLG4pLGEoImlucHV0IiwiYWNjZXB0IGFsdCBhdXRvY29tcGxldGUgY2hlY2tlZCBkaXJuYW1lIGRpc2FibGVkIGZvcm0gZm9ybWFjdGlvbiBmb3JtZW5jdHlwZSBmb3JtbWV0aG9kIGZvcm1ub3ZhbGlkYXRlIGZvcm10YXJnZXQgaGVpZ2h0IGxpc3QgbWF4IG1heGxlbmd0aCBtaW4gbXVsdGlwbGUgbmFtZSBwYXR0ZXJuIHJlYWRvbmx5IHJlcXVpcmVkIHNpemUgc3JjIHN0ZXAgdHlwZSB2YWx1ZSB3aWR0aCIpLGEoImJ1dHRvbiIsImRpc2FibGVkIGZvcm0gZm9ybWFjdGlvbiBmb3JtZW5jdHlwZSBmb3JtbWV0aG9kIGZvcm1ub3ZhbGlkYXRlIGZvcm10YXJnZXQgbmFtZSB0eXBlIHZhbHVlIiwiaHRtbDQiPT09ZT9yOm4pLGEoInNlbGVjdCIsImRpc2FibGVkIGZvcm0gbXVsdGlwbGUgbmFtZSByZXF1aXJlZCBzaXplIiwib3B0aW9uIG9wdGdyb3VwIiksYSgib3B0Z3JvdXAiLCJkaXNhYmxlZCBsYWJlbCIsIm9wdGlvbiIpLGEoIm9wdGlvbiIsImRpc2FibGVkIGxhYmVsIHNlbGVjdGVkIHZhbHVlIiksYSgidGV4dGFyZWEiLCJjb2xzIGRpcm5hbWUgZGlzYWJsZWQgZm9ybSBtYXhsZW5ndGggbmFtZSByZWFkb25seSByZXF1aXJlZCByb3dzIHdyYXAiKSxhKCJtZW51IiwidHlwZSBsYWJlbCIsW3IsImxpIl0uam9pbigiICIpKSxhKCJub3NjcmlwdCIsIiIsciksImh0bWw0IiE9PWUmJihhKCJ3YnIiKSxhKCJydWJ5IiwiIixbbiwicnQgcnAiXS5qb2luKCIgIikpLGEoImZpZ2NhcHRpb24iLCIiLHIpLGEoIm1hcmsgcnQgcnAgc3VtbWFyeSBiZGkiLCIiLG4pLGEoImNhbnZhcyIsIndpZHRoIGhlaWdodCIsciksYSgidmlkZW8iLCJzcmMgY3Jvc3NvcmlnaW4gcG9zdGVyIHByZWxvYWQgYXV0b3BsYXkgbWVkaWFncm91cCBsb29wIG11dGVkIGNvbnRyb2xzIHdpZHRoIGhlaWdodCBidWZmZXJlZCIsW3IsInRyYWNrIHNvdXJjZSJdLmpvaW4oIiAiKSksYSgiYXVkaW8iLCJzcmMgY3Jvc3NvcmlnaW4gcHJlbG9hZCBhdXRvcGxheSBtZWRpYWdyb3VwIGxvb3AgbXV0ZWQgY29udHJvbHMgYnVmZmVyZWQgdm9sdW1lIixbciwidHJhY2sgc291cmNlIl0uam9pbigiICIpKSxhKCJwaWN0dXJlIiwiIiwiaW1nIHNvdXJjZSIpLGEoInNvdXJjZSIsInNyYyBzcmNzZXQgdHlwZSBtZWRpYSBzaXplcyIpLGEoInRyYWNrIiwia2luZCBzcmMgc3JjbGFuZyBsYWJlbCBkZWZhdWx0IiksYSgiZGF0YWxpc3QiLCIiLFtuLCJvcHRpb24iXS5qb2luKCIgIikpLGEoImFydGljbGUgc2VjdGlvbiBuYXYgYXNpZGUgbWFpbiBoZWFkZXIgZm9vdGVyIiwiIixyKSxhKCJoZ3JvdXAiLCIiLCJoMSBoMiBoMyBoNCBoNSBoNiIpLGEoImZpZ3VyZSIsIiIsW3IsImZpZ2NhcHRpb24iXS5qb2luKCIgIikpLGEoInRpbWUiLCJkYXRldGltZSIsbiksYSgiZGlhbG9nIiwib3BlbiIsciksYSgiY29tbWFuZCIsInR5cGUgbGFiZWwgaWNvbiBkaXNhYmxlZCBjaGVja2VkIHJhZGlvZ3JvdXAgY29tbWFuZCIpLGEoIm91dHB1dCIsImZvciBmb3JtIG5hbWUiLG4pLGEoInByb2dyZXNzIiwidmFsdWUgbWF4IixuKSxhKCJtZXRlciIsInZhbHVlIG1pbiBtYXggbG93IGhpZ2ggb3B0aW11bSIsbiksYSgiZGV0YWlscyIsIm9wZW4iLFtyLCJzdW1tYXJ5Il0uam9pbigiICIpKSxhKCJrZXlnZW4iLCJhdXRvZm9jdXMgY2hhbGxlbmdlIGRpc2FibGVkIGZvcm0ga2V5dHlwZSBuYW1lIikpLCJodG1sNS1zdHJpY3QiIT09ZSYmKGMoInNjcmlwdCIsImxhbmd1YWdlIHhtbDpzcGFjZSIpLGMoInN0eWxlIiwieG1sOnNwYWNlIiksYygib2JqZWN0IiwiZGVjbGFyZSBjbGFzc2lkIGNvZGUgY29kZWJhc2UgY29kZXR5cGUgYXJjaGl2ZSBzdGFuZGJ5IGFsaWduIGJvcmRlciBoc3BhY2UgdnNwYWNlIiksYygiZW1iZWQiLCJhbGlnbiBuYW1lIGhzcGFjZSB2c3BhY2UiKSxjKCJwYXJhbSIsInZhbHVldHlwZSB0eXBlIiksYygiYSIsImNoYXJzZXQgbmFtZSByZXYgc2hhcGUgY29vcmRzIiksYygiYnIiLCJjbGVhciIpLGMoImFwcGxldCIsImNvZGViYXNlIGFyY2hpdmUgY29kZSBvYmplY3QgYWx0IG5hbWUgd2lkdGggaGVpZ2h0IGFsaWduIGhzcGFjZSB2c3BhY2UiKSxjKCJpbWciLCJuYW1lIGxvbmdkZXNjIGFsaWduIGJvcmRlciBoc3BhY2UgdnNwYWNlIiksYygiaWZyYW1lIiwibG9uZ2Rlc2MgZnJhbWVib3JkZXIgbWFyZ2lud2lkdGggbWFyZ2luaGVpZ2h0IHNjcm9sbGluZyBhbGlnbiIpLGMoImZvbnQgYmFzZWZvbnQiLCJzaXplIGNvbG9yIGZhY2UiKSxjKCJpbnB1dCIsInVzZW1hcCBhbGlnbiIpLGMoInNlbGVjdCIpLGMoInRleHRhcmVhIiksYygiaDEgaDIgaDMgaDQgaDUgaDYgZGl2IHAgbGVnZW5kIGNhcHRpb24iLCJhbGlnbiIpLGMoInVsIiwidHlwZSBjb21wYWN0IiksYygibGkiLCJ0eXBlIiksYygib2wgZGwgbWVudSBkaXIiLCJjb21wYWN0IiksYygicHJlIiwid2lkdGggeG1sOnNwYWNlIiksYygiaHIiLCJhbGlnbiBub3NoYWRlIHNpemUgd2lkdGgiKSxjKCJpc2luZGV4IiwicHJvbXB0IiksYygidGFibGUiLCJzdW1tYXJ5IHdpZHRoIGZyYW1lIHJ1bGVzIGNlbGxzcGFjaW5nIGNlbGxwYWRkaW5nIGFsaWduIGJnY29sb3IiKSxjKCJjb2wiLCJ3aWR0aCBhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIiksYygiY29sZ3JvdXAiLCJ3aWR0aCBhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIiksYygidGhlYWQiLCJhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIiksYygidHIiLCJhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIGJnY29sb3IiKSxjKCJ0aCIsImF4aXMgYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiBub3dyYXAgYmdjb2xvciB3aWR0aCBoZWlnaHQiKSxjKCJmb3JtIiwiYWNjZXB0IiksYygidGQiLCJhYmJyIGF4aXMgc2NvcGUgYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiBub3dyYXAgYmdjb2xvciB3aWR0aCBoZWlnaHQiKSxjKCJ0Zm9vdCIsImFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24iKSxjKCJ0Ym9keSIsImFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24iKSxjKCJhcmVhIiwibm9ocmVmIiksYygiYm9keSIsImJhY2tncm91bmQgYmdjb2xvciB0ZXh0IGxpbmsgdmxpbmsgYWxpbmsiKSksImh0bWw0IiE9PWUmJihjKCJpbnB1dCBidXR0b24gc2VsZWN0IHRleHRhcmVhIiwiYXV0b2ZvY3VzIiksYygiaW5wdXQgdGV4dGFyZWEiLCJwbGFjZWhvbGRlciIpLGMoImEiLCJkb3dubG9hZCIpLGMoImxpbmsgc2NyaXB0IGltZyIsImNyb3Nzb3JpZ2luIiksYygiaW1nIiwibG9hZGluZyIpLGMoImlmcmFtZSIsInNhbmRib3ggc2VhbWxlc3MgYWxsb3dmdWxsc2NyZWVuIGxvYWRpbmciKSkseHIoa3IoImEgZm9ybSBtZXRlciBwcm9ncmVzcyBkZm4iKSxmdW5jdGlvbihlKXtzW2VdJiZkZWxldGUgc1tlXS5jaGlsZHJlbltlXX0pLGRlbGV0ZSBzLmNhcHRpb24uY2hpbGRyZW4udGFibGUsZGVsZXRlIHMuc2NyaXB0LGJyW2VdPXMpfSxUcj1mdW5jdGlvbihlLG4pe3ZhciByO3JldHVybiBlJiYocj17fSwic3RyaW5nIj09dHlwZW9mIGUmJihlPXsiKiI6ZX0pLHhyKGUsZnVuY3Rpb24oZSx0KXtyW3RdPXJbdC50b1VwcGVyQ2FzZSgpXT0oIm1hcCI9PT1uP3dyOk5yKShlLC9bLCBdLyl9KSkscn07ZnVuY3Rpb24gUnIoaSl7dmFyIHg9e30sdT17fSxTPVtdLHM9e30sdD17fSxlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1pW2VdO3JldHVybiByP3I9d3IociwvWywgXS8sd3Ioci50b1VwcGVyQ2FzZSgpLC9bLCBdLykpOihyPWJyW2VdKXx8KHI9d3IodCwiICIsd3IodC50b1VwcGVyQ2FzZSgpLCIgIikpLHI9U3IocixuKSxicltlXT1yKSxyfSxuPV9yKChpPWl8fHt9KS5zY2hlbWEpOyExPT09aS52ZXJpZnlfaHRtbCYmKGkudmFsaWRfZWxlbWVudHM9IipbKl0iKTt2YXIgcj1UcihpLnZhbGlkX3N0eWxlcyksbz1UcihpLmludmFsaWRfc3R5bGVzLCJtYXAiKSxhPVRyKGkudmFsaWRfY2xhc3NlcywibWFwIiksYz1lKCJ3aGl0ZXNwYWNlX2VsZW1lbnRzIiwicHJlIHNjcmlwdCBub3NjcmlwdCBzdHlsZSB0ZXh0YXJlYSB2aWRlbyBhdWRpbyBpZnJhbWUgb2JqZWN0IGNvZGUiKSxsPWUoInNlbGZfY2xvc2luZ19lbGVtZW50cyIsImNvbGdyb3VwIGRkIGR0IGxpIG9wdGlvbiBwIHRkIHRmb290IHRoIHRoZWFkIHRyIiksZj1lKCJzaG9ydF9lbmRlZF9lbGVtZW50cyIsImFyZWEgYmFzZSBiYXNlZm9udCBiciBjb2wgZnJhbWUgaHIgaW1nIGlucHV0IGlzaW5kZXggbGluayBtZXRhIHBhcmFtIGVtYmVkIHNvdXJjZSB3YnIgdHJhY2siKSxkPWUoImJvb2xlYW5fYXR0cmlidXRlcyIsImNoZWNrZWQgY29tcGFjdCBkZWNsYXJlIGRlZmVyIGRpc2FibGVkIGlzbWFwIG11bHRpcGxlIG5vaHJlZiBub3Jlc2l6ZSBub3NoYWRlIG5vd3JhcCByZWFkb25seSBzZWxlY3RlZCBhdXRvcGxheSBsb29wIGNvbnRyb2xzIiksbT1lKCJub25fZW1wdHlfZWxlbWVudHMiLCJ0ZCB0aCBpZnJhbWUgdmlkZW8gYXVkaW8gb2JqZWN0IHNjcmlwdCBwcmUgY29kZSIsZikscD1lKCJtb3ZlX2NhcmV0X2JlZm9yZV9vbl9lbnRlcl9lbGVtZW50cyIsInRhYmxlIixtKSxnPWUoInRleHRfYmxvY2tfZWxlbWVudHMiLCJoMSBoMiBoMyBoNCBoNSBoNiBwIGRpdiBhZGRyZXNzIHByZSBmb3JtIGJsb2NrcXVvdGUgY2VudGVyIGRpciBmaWVsZHNldCBoZWFkZXIgZm9vdGVyIGFydGljbGUgc2VjdGlvbiBoZ3JvdXAgYXNpZGUgbWFpbiBuYXYgZmlndXJlIiksaD1lKCJibG9ja19lbGVtZW50cyIsImhyIHRhYmxlIHRib2R5IHRoZWFkIHRmb290IHRoIHRyIHRkIGxpIG9sIHVsIGNhcHRpb24gZGwgZHQgZGQgbm9zY3JpcHQgbWVudSBpc2luZGV4IG9wdGlvbiBkYXRhbGlzdCBzZWxlY3Qgb3B0Z3JvdXAgZmlnY2FwdGlvbiBkZXRhaWxzIHN1bW1hcnkiLGcpLHY9ZSgidGV4dF9pbmxpbmVfZWxlbWVudHMiLCJzcGFuIHN0cm9uZyBiIGVtIGkgZm9udCBzdHJpa2UgdSB2YXIgY2l0ZSBkZm4gY29kZSBtYXJrIHEgc3VwIHN1YiBzYW1wIik7eHIoKGkuc3BlY2lhbHx8InNjcmlwdCBub3NjcmlwdCBpZnJhbWUgbm9mcmFtZXMgbm9lbWJlZCB0aXRsZSBzdHlsZSB0ZXh0YXJlYSB4bXAiKS5zcGxpdCgiICIpLGZ1bmN0aW9uKGUpe3RbZV09bmV3IFJlZ0V4cCgiPC8iK2UrIltePl0qPiIsImdpIil9KTt2YXIgTj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFJlZ0V4cCgiXiIrZS5yZXBsYWNlKC8oWz8rKl0pL2csIi4kMSIpKyIkIil9LHk9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHUscyxjLGwsZixkLG0scCxnLGgsdix5LGI9L14oWyMrXC1dKT8oW15cWyFcL10rKSg/OlwvKFteXFshXSspKT8oPzooIT8pXFsoW15cXV0rKVxdKT8kLyxDPS9eKFshXC1dKT8oXHcrW1xcOl06XHcrfFtePTo8XSspPyg/OihbPTo8XSkoLiopKT8kLyx3PS9bKj8rXS87aWYoZSlmb3IoZT1rcihlLCIsIikseFsiQCJdJiYoaD14WyJAIl0uYXR0cmlidXRlcyx2PXhbIkAiXS5hdHRyaWJ1dGVzT3JkZXIpLHQ9MCxuPWUubGVuZ3RoO3Q8bjt0KyspaWYoaT1iLmV4ZWMoZVt0XSkpe2lmKHA9aVsxXSxjPWlbMl0sZz1pWzNdLHM9aVs1XSxhPXthdHRyaWJ1dGVzOmQ9e30sYXR0cmlidXRlc09yZGVyOm09W119LCIjIj09PXAmJihhLnBhZGRFbXB0eT0hMCksIi0iPT09cCYmKGEucmVtb3ZlRW1wdHk9ITApLCIhIj09PWlbNF0mJihhLnJlbW92ZUVtcHR5QXR0cnM9ITApLGgmJihvZShoLGZ1bmN0aW9uKGUsdCl7ZFt0XT1lfSksbS5wdXNoLmFwcGx5KG0sdikpLHMpZm9yKHI9MCxvPShzPWtyKHMsInwiKSkubGVuZ3RoO3I8bztyKyspaWYoaT1DLmV4ZWMoc1tyXSkpe2lmKHU9e30sZj1pWzFdLGw9aVsyXS5yZXBsYWNlKC9bXFw6XTovZywiOiIpLHA9aVszXSx5PWlbNF0sIiEiPT09ZiYmKGEuYXR0cmlidXRlc1JlcXVpcmVkPWEuYXR0cmlidXRlc1JlcXVpcmVkfHxbXSxhLmF0dHJpYnV0ZXNSZXF1aXJlZC5wdXNoKGwpLHUucmVxdWlyZWQ9ITApLCItIj09PWYpe2RlbGV0ZSBkW2xdLG0uc3BsaWNlKEVyKG0sbCksMSk7Y29udGludWV9cCYmKCI9Ij09PXAmJihhLmF0dHJpYnV0ZXNEZWZhdWx0PWEuYXR0cmlidXRlc0RlZmF1bHR8fFtdLGEuYXR0cmlidXRlc0RlZmF1bHQucHVzaCh7bmFtZTpsLHZhbHVlOnl9KSx1LmRlZmF1bHRWYWx1ZT15KSwiOiI9PT1wJiYoYS5hdHRyaWJ1dGVzRm9yY2VkPWEuYXR0cmlidXRlc0ZvcmNlZHx8W10sYS5hdHRyaWJ1dGVzRm9yY2VkLnB1c2goe25hbWU6bCx2YWx1ZTp5fSksdS5mb3JjZWRWYWx1ZT15KSwiPCI9PT1wJiYodS52YWxpZFZhbHVlcz13cih5LCI/IikpKSx3LnRlc3QobCk/KGEuYXR0cmlidXRlUGF0dGVybnM9YS5hdHRyaWJ1dGVQYXR0ZXJuc3x8W10sdS5wYXR0ZXJuPU4obCksYS5hdHRyaWJ1dGVQYXR0ZXJucy5wdXNoKHUpKTooZFtsXXx8bS5wdXNoKGwpLGRbbF09dSl9aHx8IkAiIT09Y3x8KGg9ZCx2PW0pLGcmJihhLm91dHB1dE5hbWU9Yyx4W2ddPWEpLHcudGVzdChjKT8oYS5wYXR0ZXJuPU4oYyksUy5wdXNoKGEpKTp4W2NdPWF9fSxiPWZ1bmN0aW9uKGUpe3g9e30sUz1bXSx5KGUpLHhyKG4sZnVuY3Rpb24oZSx0KXt1W3RdPWUuY2hpbGRyZW59KX0sQz1mdW5jdGlvbihlKXt2YXIgYT0vXih+KT8oLispJC87ZSYmKGJyLnRleHRfYmxvY2tfZWxlbWVudHM9YnIuYmxvY2tfZWxlbWVudHM9bnVsbCx4cihrcihlLCIsIiksZnVuY3Rpb24oZSl7dmFyIHQ9YS5leGVjKGUpLG49In4iPT09dFsxXSxyPW4/InNwYW4iOiJkaXYiLG89dFsyXTtpZih1W29dPXVbcl0sc1tvXT1yLG58fChoW28udG9VcHBlckNhc2UoKV09e30saFtvXT17fSksIXhbb10pe3ZhciBpPXhbcl07ZGVsZXRlKGk9U3Ioe30saSkpLnJlbW92ZUVtcHR5QXR0cnMsZGVsZXRlIGkucmVtb3ZlRW1wdHkseFtvXT1pfXhyKHUsZnVuY3Rpb24oZSx0KXtlW3JdJiYodVt0XT1lPVNyKHt9LHVbdF0pLGVbb109ZVtyXSl9KX0pKX0sdz1mdW5jdGlvbihlKXt2YXIgbz0vXihbK1wtXT8pKFtBLVphLXowLTlfXC1cLlx1MDBiN1x1MDBjMC1cdTAwZDZcdTAwZDgtXHUwMGY2XHUwMGY4LVx1MDM3ZFx1MDM3Zi1cdTFmZmZcdTIwMGMtXHUyMDBkXHUyMDNmLVx1MjA0MFx1MjA3MC1cdTIxOGZcdTJjMDAtXHUyZmVmXHUzMDAxLVx1ZDdmZlx1ZjkwMC1cdWZkY2ZcdWZkZjAtXHVmZmZkXSspXFsoW15cXV0rKVxdJC87YnJbaS5zY2hlbWFdPW51bGwsZSYmeHIoa3IoZSwiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0LG4scj1vLmV4ZWMoZSk7ciYmKG49clsxXSx0PW4/dVtyWzJdXTp1W3JbMl1dPXsiI2NvbW1lbnQiOnt9fSx0PXVbclsyXV0seHIoa3IoclszXSwifCIpLGZ1bmN0aW9uKGUpeyItIj09PW4/ZGVsZXRlIHRbZV06dFtlXT17fX0pKX0pfSxFPWZ1bmN0aW9uKGUpe3ZhciB0LG49eFtlXTtpZihuKXJldHVybiBuO2Zvcih0PVMubGVuZ3RoO3QtLTspaWYoKG49U1t0XSkucGF0dGVybi50ZXN0KGUpKXJldHVybiBufTtpLnZhbGlkX2VsZW1lbnRzP2IoaS52YWxpZF9lbGVtZW50cyk6KHhyKG4sZnVuY3Rpb24oZSx0KXt4W3RdPXthdHRyaWJ1dGVzOmUuYXR0cmlidXRlcyxhdHRyaWJ1dGVzT3JkZXI6ZS5hdHRyaWJ1dGVzT3JkZXJ9LHVbdF09ZS5jaGlsZHJlbn0pLCJodG1sNSIhPT1pLnNjaGVtYSYmeHIoa3IoInN0cm9uZy9iIGVtL2kiKSxmdW5jdGlvbihlKXtlPWtyKGUsIi8iKSx4W2VbMV1dLm91dHB1dE5hbWU9ZVswXX0pLHhyKGtyKCJvbCB1bCBzdWIgc3VwIGJsb2NrcXVvdGUgc3BhbiBmb250IGEgdGFibGUgdGJvZHkgdHIgc3Ryb25nIGVtIGIgaSIpLGZ1bmN0aW9uKGUpe3hbZV0mJih4W2VdLnJlbW92ZUVtcHR5PSEwKX0pLHhyKGtyKCJwIGgxIGgyIGgzIGg0IGg1IGg2IHRoIHRkIHByZSBkaXYgYWRkcmVzcyBjYXB0aW9uIGxpIiksZnVuY3Rpb24oZSl7eFtlXS5wYWRkRW1wdHk9ITB9KSx4cihrcigic3BhbiIpLGZ1bmN0aW9uKGUpe3hbZV0ucmVtb3ZlRW1wdHlBdHRycz0hMH0pKSxDKGkuY3VzdG9tX2VsZW1lbnRzKSx3KGkudmFsaWRfY2hpbGRyZW4pLHkoaS5leHRlbmRlZF92YWxpZF9lbGVtZW50cyksdygiK29sW3VsfG9sXSwrdWxbdWx8b2xdIikseHIoe2RkOiJkbCIsZHQ6ImRsIixsaToidWwgb2wiLHRkOiJ0ciIsdGg6InRyIix0cjoidGJvZHkgdGhlYWQgdGZvb3QiLHRib2R5OiJ0YWJsZSIsdGhlYWQ6InRhYmxlIix0Zm9vdDoidGFibGUiLGxlZ2VuZDoiZmllbGRzZXQiLGFyZWE6Im1hcCIscGFyYW06InZpZGVvIGF1ZGlvIG9iamVjdCJ9LGZ1bmN0aW9uKGUsdCl7eFt0XSYmKHhbdF0ucGFyZW50c1JlcXVpcmVkPWtyKGUpKX0pLGkuaW52YWxpZF9lbGVtZW50cyYmeHIoTnIoaS5pbnZhbGlkX2VsZW1lbnRzKSxmdW5jdGlvbihlKXt4W2VdJiZkZWxldGUgeFtlXX0pLEUoInNwYW4iKXx8eSgic3BhblshZGF0YS1tY2UtdHlwZXwqXSIpO3JldHVybntjaGlsZHJlbjp1LGVsZW1lbnRzOngsZ2V0VmFsaWRTdHlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sZ2V0VmFsaWRDbGFzc2VzOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LGdldEJsb2NrRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gaH0sZ2V0SW52YWxpZFN0eWxlczpmdW5jdGlvbigpe3JldHVybiBvfSxnZXRTaG9ydEVuZGVkRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gZn0sZ2V0VGV4dEJsb2NrRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gZ30sZ2V0VGV4dElubGluZUVsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHZ9LGdldEJvb2xBdHRyczpmdW5jdGlvbigpe3JldHVybiBkfSxnZXRFbGVtZW50UnVsZTpFLGdldFNlbGZDbG9zaW5nRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gbH0sZ2V0Tm9uRW1wdHlFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBtfSxnZXRNb3ZlQ2FyZXRCZWZvcmVPbkVudGVyRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gcH0sZ2V0V2hpdGVTcGFjZUVsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGdldFNwZWNpYWxFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiB0fSxpc1ZhbGlkQ2hpbGQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj11W2UudG9Mb3dlckNhc2UoKV07cmV0dXJuISghbnx8IW5bdC50b0xvd2VyQ2FzZSgpXSl9LGlzVmFsaWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89RShlKTtpZihvKXtpZighdClyZXR1cm4hMDtpZihvLmF0dHJpYnV0ZXNbdF0pcmV0dXJuITA7aWYobj1vLmF0dHJpYnV0ZVBhdHRlcm5zKWZvcihyPW4ubGVuZ3RoO3ItLTspaWYobltyXS5wYXR0ZXJuLnRlc3QoZSkpcmV0dXJuITB9cmV0dXJuITF9LGdldEN1c3RvbUVsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHN9LGFkZFZhbGlkRWxlbWVudHM6eSxzZXRWYWxpZEVsZW1lbnRzOmIsYWRkQ3VzdG9tRWxlbWVudHM6QyxhZGRWYWxpZENoaWxkcmVuOnd9fXZhciBBcj0iXHVmZWZmIixEcj0iXHhhMCIsT3I9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89ZnVuY3Rpb24oZSl7cmV0dXJuIDE8KGU9cGFyc2VJbnQoZSwxMCkudG9TdHJpbmcoMTYpKS5sZW5ndGg/ZToiMCIrZX07cmV0dXJuIiMiK28odCkrbyhuKStvKHIpfSxCcj1mdW5jdGlvbihiLGUpe3ZhciBDLHMsYyx3PS9yZ2JccypcKFxzKihbMC05XSspXHMqLFxzKihbMC05XSspXHMqLFxzKihbMC05XSspXHMqXCkvZ2kseD0vKD86dXJsKD86KD86XChccypcIihbXlwiXSspXCJccypcKSl8KD86XChccypcJyhbXlwnXSspXCdccypcKSl8KD86XChccyooW14pXHNdKylccypcKSkpKXwoPzpcJyhbXlwnXSspXCcpfCg/OlwiKFteXCJdKylcIikvZ2ksUz0vXHMqKFteOl0rKTpccyooW147XSspOz8vZyxOPS9ccyskLyxFPXt9LGs9QXI7Yj1ifHx7fSxlJiYocz1lLmdldFZhbGlkU3R5bGVzKCksYz1lLmdldEludmFsaWRTdHlsZXMoKSk7dmFyIHQ9KCJcXFwiIFxcJyBcXDsgXFw6IDsgOiAiK2spLnNwbGl0KCIgIik7Zm9yKEM9MDtDPHQubGVuZ3RoO0MrKylFW3RbQ11dPWsrQyxFW2srQ109dFtDXTtyZXR1cm57dG9IZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSh3LE9yKX0scGFyc2U6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHUscyxjPXt9LGw9Yi51cmxfY29udmVydGVyLGY9Yi51cmxfY29udmVydGVyX3Njb3BlfHx0aGlzLGQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWNbZSsiLXRvcCIrdF07aWYocil7dmFyIG89Y1tlKyItcmlnaHQiK3RdO2lmKG8pe3ZhciBpPWNbZSsiLWJvdHRvbSIrdF07aWYoaSl7dmFyIGE9Y1tlKyItbGVmdCIrdF07aWYoYSl7dmFyIHU9W3IsbyxpLGFdO2ZvcihDPXUubGVuZ3RoLTE7Qy0tJiZ1W0NdPT09dVtDKzFdOyk7LTE8QyYmbnx8KGNbZSt0XT0tMT09PUM/dVswXTp1LmpvaW4oIiAiKSxkZWxldGUgY1tlKyItdG9wIit0XSxkZWxldGUgY1tlKyItcmlnaHQiK3RdLGRlbGV0ZSBjW2UrIi1ib3R0b20iK3RdLGRlbGV0ZSBjW2UrIi1sZWZ0Iit0XSl9fX19fSxtPWZ1bmN0aW9uKGUpe3ZhciB0LG49Y1tlXTtpZihuKXtmb3IodD0obj1uLnNwbGl0KCIgIikpLmxlbmd0aDt0LS07KWlmKG5bdF0hPT1uWzBdKXJldHVybiExO3JldHVybiBjW2VdPW5bMF0sITB9fSxwPWZ1bmN0aW9uKGUpe3JldHVybiBvPSEwLEVbZV19LGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyYmKGU9ZS5yZXBsYWNlKC9cdUZFRkZbMC05XS9nLGZ1bmN0aW9uKGUpe3JldHVybiBFW2VdfSkpLHR8fChlPWUucmVwbGFjZSgvXFwoW1wnXCI7Ol0pL2csIiQxIikpLGV9LGg9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZS5zbGljZSgxKSwxNikpfSx2PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcWzAtOWEtZl0rL2dpLGgpfSx5PWZ1bmN0aW9uKGUsdCxuLHIsbyxpKXtpZihvPW98fGkpcmV0dXJuIiciKyhvPWcobykpLnJlcGxhY2UoL1wnL2csIlxcJyIpKyInIjtpZih0PWcodHx8bnx8ciksIWIuYWxsb3dfc2NyaXB0X3VybHMpe3ZhciBhPXQucmVwbGFjZSgvW1xzXHJcbl0rL2csIiIpO2lmKC8oamF2YXx2YilzY3JpcHQ6L2kudGVzdChhKSlyZXR1cm4iIjtpZighYi5hbGxvd19zdmdfZGF0YV91cmxzJiYvXmRhdGE6aW1hZ2VcL3N2Zy9pLnRlc3QoYSkpcmV0dXJuIiJ9cmV0dXJuIGwmJih0PWwuY2FsbChmLHQsInN0eWxlIikpLCJ1cmwoJyIrdC5yZXBsYWNlKC9cJy9nLCJcXCciKSsiJykifTtpZihlKXtmb3IoZT0oZT1lLnJlcGxhY2UoL1tcdTAwMDAtXHUwMDFGXS9nLCIiKSkucmVwbGFjZSgvXFxbXCJcJzs6XHVGRUZGXS9nLHApLnJlcGxhY2UoL1wiW15cIl0rXCJ8XCdbXlwnXStcJy9nLGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1s7Ol0vZyxwKX0pO3Q9Uy5leGVjKGUpOylpZihTLmxhc3RJbmRleD10LmluZGV4K3RbMF0ubGVuZ3RoLG49dFsxXS5yZXBsYWNlKE4sIiIpLnRvTG93ZXJDYXNlKCkscj10WzJdLnJlcGxhY2UoTiwiIiksbiYmcil7aWYobj12KG4pLHI9dihyKSwtMSE9PW4uaW5kZXhPZihrKXx8LTEhPT1uLmluZGV4T2YoJyInKSljb250aW51ZTtpZighYi5hbGxvd19zY3JpcHRfdXJscyYmKCJiZWhhdmlvciI9PT1ufHwvZXhwcmVzc2lvblxzKlwofFwvXCp8XCpcLy8udGVzdChyKSkpY29udGludWU7ImZvbnQtd2VpZ2h0Ij09PW4mJiI3MDAiPT09cj9yPSJib2xkIjoiY29sb3IiIT09biYmImJhY2tncm91bmQtY29sb3IiIT09bnx8KHI9ci50b0xvd2VyQ2FzZSgpKSxyPShyPXIucmVwbGFjZSh3LE9yKSkucmVwbGFjZSh4LHkpLGNbbl09bz9nKHIsITApOnJ9ZCgiYm9yZGVyIiwiIiwhMCksZCgiYm9yZGVyIiwiLXdpZHRoIiksZCgiYm9yZGVyIiwiLWNvbG9yIiksZCgiYm9yZGVyIiwiLXN0eWxlIiksZCgicGFkZGluZyIsIiIpLGQoIm1hcmdpbiIsIiIpLGk9ImJvcmRlciIsdT0iYm9yZGVyLXN0eWxlIixzPSJib3JkZXItY29sb3IiLG0oYT0iYm9yZGVyLXdpZHRoIikmJm0odSkmJm0ocykmJihjW2ldPWNbYV0rIiAiK2NbdV0rIiAiK2Nbc10sZGVsZXRlIGNbYV0sZGVsZXRlIGNbdV0sZGVsZXRlIGNbc10pLCJtZWRpdW0gbm9uZSI9PT1jLmJvcmRlciYmZGVsZXRlIGMuYm9yZGVyLCJub25lIj09PWNbImJvcmRlci1pbWFnZSJdJiZkZWxldGUgY1siYm9yZGVyLWltYWdlIl19cmV0dXJuIGN9LHNlcmlhbGl6ZTpmdW5jdGlvbihpLGEpe3ZhciB1PSIiLGU9ZnVuY3Rpb24oZSl7dmFyIHQsbj1zW2VdO2lmKG4pZm9yKHZhciByPTAsbz1uLmxlbmd0aDtyPG87cisrKWU9bltyXSwodD1pW2VdKSYmKHUrPSgwPHUubGVuZ3RoPyIgIjoiIikrZSsiOiAiK3QrIjsiKX07cmV0dXJuIGEmJnM/KGUoIioiKSxlKGEpKTpvZShpLGZ1bmN0aW9uKGUsdCl7dmFyIG4scixvOyFlfHxjJiYobj10LHI9YSwobz1jWyIqIl0pJiZvW25dfHwobz1jW3JdKSYmb1tuXSl8fCh1Kz0oMDx1Lmxlbmd0aD8iICI6IiIpK3QrIjogIitlKyI7Iil9KSx1fX19LFByPS9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLyxMcj17a2V5TG9jYXRpb246MSxsYXllclg6MSxsYXllclk6MSxyZXR1cm5WYWx1ZToxLHdlYmtpdE1vdmVtZW50WDoxLHdlYmtpdE1vdmVtZW50WToxLGtleUlkZW50aWZpZXI6MSxtb3pQcmVzc3VyZToxfSxJcj1mdW5jdGlvbigpe3JldHVybiExfSxNcj1mdW5jdGlvbigpe3JldHVybiEwfSxGcj1mdW5jdGlvbihlLHQsbixyKXtlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKHQsbixyfHwhMSk6ZS5hdHRhY2hFdmVudCYmZS5hdHRhY2hFdmVudCgib24iK3Qsbil9LFVyPWZ1bmN0aW9uKGUsdCxuLHIpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcj9lLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLHJ8fCExKTplLmRldGFjaEV2ZW50JiZlLmRldGFjaEV2ZW50KCJvbiIrdCxuKX0senI9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89dHx8e307Zm9yKG4gaW4gZSlMcltuXXx8KG9bbl09ZVtuXSk7aWYoby50YXJnZXR8fChvLnRhcmdldD1vLnNyY0VsZW1lbnR8fFYuZG9jdW1lbnQpLG10LmV4cGVyaW1lbnRhbFNoYWRvd0RvbSYmKG8udGFyZ2V0PWZ1bmN0aW9uKGUsdCl7aWYoZS5jb21wb3NlZFBhdGgpe3ZhciBuPWUuY29tcG9zZWRQYXRoKCk7aWYobiYmMDxuLmxlbmd0aClyZXR1cm4gblswXX1yZXR1cm4gdH0oZSxvLnRhcmdldCkpLGUmJlByLnRlc3QoZS50eXBlKSYmZS5wYWdlWD09PXVuZGVmaW5lZCYmZS5jbGllbnRYIT09dW5kZWZpbmVkKXt2YXIgaT1vLnRhcmdldC5vd25lckRvY3VtZW50fHxWLmRvY3VtZW50LGE9aS5kb2N1bWVudEVsZW1lbnQsdT1pLmJvZHk7by5wYWdlWD1lLmNsaWVudFgrKGEmJmEuc2Nyb2xsTGVmdHx8dSYmdS5zY3JvbGxMZWZ0fHwwKS0oYSYmYS5jbGllbnRMZWZ0fHx1JiZ1LmNsaWVudExlZnR8fDApLG8ucGFnZVk9ZS5jbGllbnRZKyhhJiZhLnNjcm9sbFRvcHx8dSYmdS5zY3JvbGxUb3B8fDApLShhJiZhLmNsaWVudFRvcHx8dSYmdS5jbGllbnRUb3B8fDApfXJldHVybiBvLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7by5pc0RlZmF1bHRQcmV2ZW50ZWQ9TXIsZSYmKGUucHJldmVudERlZmF1bHQ/ZS5wcmV2ZW50RGVmYXVsdCgpOmUucmV0dXJuVmFsdWU9ITEpfSxvLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe28uaXNQcm9wYWdhdGlvblN0b3BwZWQ9TXIsZSYmKGUuc3RvcFByb3BhZ2F0aW9uP2Uuc3RvcFByb3BhZ2F0aW9uKCk6ZS5jYW5jZWxCdWJibGU9ITApfSwhKG8uc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7by5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1NcixvLnN0b3BQcm9wYWdhdGlvbigpfSk9PSgocj1vKS5pc0RlZmF1bHRQcmV2ZW50ZWQ9PT1Ncnx8ci5pc0RlZmF1bHRQcmV2ZW50ZWQ9PT1JcikmJihvLmlzRGVmYXVsdFByZXZlbnRlZD1JcixvLmlzUHJvcGFnYXRpb25TdG9wcGVkPUlyLG8uaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9SXIpLCJ1bmRlZmluZWQiPT10eXBlb2Ygby5tZXRhS2V5JiYoby5tZXRhS2V5PSExKSxvfSxqcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5kb2N1bWVudCxvPXt0eXBlOiJyZWFkeSJ9O2lmKG4uZG9tTG9hZGVkKXQobyk7ZWxzZXt2YXIgaT1mdW5jdGlvbigpe1VyKGUsIkRPTUNvbnRlbnRMb2FkZWQiLGkpLFVyKGUsImxvYWQiLGkpLG4uZG9tTG9hZGVkfHwobi5kb21Mb2FkZWQ9ITAsdChvKSl9OyJjb21wbGV0ZSI9PT1yLnJlYWR5U3RhdGV8fCJpbnRlcmFjdGl2ZSI9PT1yLnJlYWR5U3RhdGUmJnIuYm9keT9pKCk6RnIoZSwiRE9NQ29udGVudExvYWRlZCIsaSksRnIoZSwibG9hZCIsaSl9fSxIcj0oVnIucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscyxjLGwsZj10aGlzLGQ9Vi53aW5kb3csbT1mdW5jdGlvbihlKXtmLmV4ZWN1dGVIYW5kbGVycyh6cihlfHxkLmV2ZW50KSxvKX07aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlKXtlW2YuZXhwYW5kb10/bz1lW2YuZXhwYW5kb106KG89Zi5jb3VudCsrLGVbZi5leHBhbmRvXT1vLGYuZXZlbnRzW29dPXt9KSxyPXJ8fGU7dmFyIHA9dC5zcGxpdCgiICIpO2ZvcihhPXAubGVuZ3RoO2EtLTspYz1tLHM9bD0hMSwiRE9NQ29udGVudExvYWRlZCI9PT0odT1wW2FdKSYmKHU9InJlYWR5IiksZi5kb21Mb2FkZWQmJiJyZWFkeSI9PT11JiYiY29tcGxldGUiPT09ZS5yZWFkeVN0YXRlP24uY2FsbChyLHpyKHt0eXBlOnV9KSk6KGYuaGFzTW91c2VFbnRlckxlYXZlfHwocz1mLm1vdXNlRW50ZXJMZWF2ZVt1XSkmJihjPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY3VycmVudFRhcmdldCxuPWUucmVsYXRlZFRhcmdldDtpZihuJiZ0LmNvbnRhaW5zKW49dC5jb250YWlucyhuKTtlbHNlIGZvcig7biYmbiE9PXQ7KW49bi5wYXJlbnROb2RlO258fCgoZT16cihlfHxkLmV2ZW50KSkudHlwZT0ibW91c2VvdXQiPT09ZS50eXBlPyJtb3VzZWxlYXZlIjoibW91c2VlbnRlciIsZS50YXJnZXQ9dCxmLmV4ZWN1dGVIYW5kbGVycyhlLG8pKX0pLGYuaGFzRm9jdXNJbnx8ImZvY3VzaW4iIT09dSYmImZvY3Vzb3V0IiE9PXV8fChsPSEwLHM9ImZvY3VzaW4iPT09dT8iZm9jdXMiOiJibHVyIixjPWZ1bmN0aW9uKGUpeyhlPXpyKGV8fGQuZXZlbnQpKS50eXBlPSJmb2N1cyI9PT1lLnR5cGU/ImZvY3VzaW4iOiJmb2N1c291dCIsZi5leGVjdXRlSGFuZGxlcnMoZSxvKX0pLChpPWYuZXZlbnRzW29dW3VdKT8icmVhZHkiPT09dSYmZi5kb21Mb2FkZWQ/bih6cih7dHlwZTp1fSkpOmkucHVzaCh7ZnVuYzpuLHNjb3BlOnJ9KTooZi5ldmVudHNbb11bdV09aT1be2Z1bmM6bixzY29wZTpyfV0saS5mYWtlTmFtZT1zLGkuY2FwdHVyZT1sLGkubmF0aXZlSGFuZGxlcj1jLCJyZWFkeSI9PT11P2pyKGUsYyxmKTpGcihlLHN8fHUsYyxsKSkpO3JldHVybiBlPWk9MCxufX0sVnIucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbihuLGUsdCl7dmFyIHIsbyxpLGEsdTtpZighbnx8Mz09PW4ubm9kZVR5cGV8fDg9PT1uLm5vZGVUeXBlKXJldHVybiB0aGlzO3ZhciBzPW5bdGhpcy5leHBhbmRvXTtpZihzKXtpZih1PXRoaXMuZXZlbnRzW3NdLGUpe3ZhciBjPWUuc3BsaXQoIiAiKTtmb3Iobz1jLmxlbmd0aDtvLS07KWlmKHI9dVthPWNbb11dKXtpZih0KWZvcihpPXIubGVuZ3RoO2ktLTspaWYocltpXS5mdW5jPT09dCl7dmFyIGw9ci5uYXRpdmVIYW5kbGVyLGY9ci5mYWtlTmFtZSxkPXIuY2FwdHVyZTsocj1yLnNsaWNlKDAsaSkuY29uY2F0KHIuc2xpY2UoaSsxKSkpLm5hdGl2ZUhhbmRsZXI9bCxyLmZha2VOYW1lPWYsci5jYXB0dXJlPWQsdVthXT1yfXQmJjAhPT1yLmxlbmd0aHx8KGRlbGV0ZSB1W2FdLFVyKG4sci5mYWtlTmFtZXx8YSxyLm5hdGl2ZUhhbmRsZXIsci5jYXB0dXJlKSl9fWVsc2Ugb2UodSxmdW5jdGlvbihlLHQpe1VyKG4sZS5mYWtlTmFtZXx8dCxlLm5hdGl2ZUhhbmRsZXIsZS5jYXB0dXJlKX0pLHU9e307Zm9yKGEgaW4gdSlpZihtZSh1LGEpKXJldHVybiB0aGlzO2RlbGV0ZSB0aGlzLmV2ZW50c1tzXTt0cnl7ZGVsZXRlIG5bdGhpcy5leHBhbmRvXX1jYXRjaChtKXtuW3RoaXMuZXhwYW5kb109bnVsbH19cmV0dXJuIHRoaXN9LFZyLnByb3RvdHlwZS5maXJlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZighZXx8Mz09PWUubm9kZVR5cGV8fDg9PT1lLm5vZGVUeXBlKXJldHVybiB0aGlzO3ZhciBvPXpyKG51bGwsbik7Zm9yKG8udHlwZT10LG8udGFyZ2V0PWU7KHI9ZVt0aGlzLmV4cGFuZG9dKSYmdGhpcy5leGVjdXRlSGFuZGxlcnMobyxyKSwoZT1lLnBhcmVudE5vZGV8fGUub3duZXJEb2N1bWVudHx8ZS5kZWZhdWx0Vmlld3x8ZS5wYXJlbnRXaW5kb3cpJiYhby5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOyk7cmV0dXJuIHRoaXN9LFZyLnByb3RvdHlwZS5jbGVhbj1mdW5jdGlvbihlKXt2YXIgdCxuO2lmKCFlfHwzPT09ZS5ub2RlVHlwZXx8OD09PWUubm9kZVR5cGUpcmV0dXJuIHRoaXM7aWYoZVt0aGlzLmV4cGFuZG9dJiZ0aGlzLnVuYmluZChlKSxlLmdldEVsZW1lbnRzQnlUYWdOYW1lfHwoZT1lLmRvY3VtZW50KSxlJiZlLmdldEVsZW1lbnRzQnlUYWdOYW1lKWZvcih0aGlzLnVuYmluZChlKSx0PShuPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSkubGVuZ3RoO3QtLTspKGU9blt0XSlbdGhpcy5leHBhbmRvXSYmdGhpcy51bmJpbmQoZSk7cmV0dXJuIHRoaXN9LFZyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5ldmVudHM9e319LFZyLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSksITF9LFZyLnByb3RvdHlwZS5leGVjdXRlSGFuZGxlcnM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmV2ZW50c1t0XSxyPW4mJm5bZS50eXBlXTtpZihyKWZvcih2YXIgbz0wLGk9ci5sZW5ndGg7bzxpO28rKyl7dmFyIGE9cltvXTtpZihhJiYhMT09PWEuZnVuYy5jYWxsKGEuc2NvcGUsZSkmJmUucHJldmVudERlZmF1bHQoKSxlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpcmV0dXJufX0sVnIuRXZlbnQ9bmV3IFZyLFZyKTtmdW5jdGlvbiBWcigpe3RoaXMuZG9tTG9hZGVkPSExLHRoaXMuZXZlbnRzPXt9LHRoaXMuY291bnQ9MSx0aGlzLmV4cGFuZG89Im1jZS1kYXRhLSIrKCtuZXcgRGF0ZSkudG9TdHJpbmcoMzIpLHRoaXMuaGFzTW91c2VFbnRlckxlYXZlPSJvbm1vdXNlZW50ZXIiaW4gVi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdGhpcy5oYXNGb2N1c0luPSJvbmZvY3VzaW4iaW4gVi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdGhpcy5jb3VudD0xfXZhciBxciwkcixXcixLcixYcixZcixHcixKcixRcixacixlbyx0byxubyxybyxvbyxpbyxhbyx1bz0ic2l6emxlIistbmV3IERhdGUsc289Vi53aW5kb3cuZG9jdW1lbnQsY289MCxsbz0wLGZvPXFvKCksbW89cW8oKSxwbz1xbygpLGdvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10JiYoWnI9ITApLDB9LGhvPXR5cGVvZiB1bmRlZmluZWQsdm89e30uaGFzT3duUHJvcGVydHkseW89W10sYm89eW8ucG9wLENvPXlvLnB1c2gsd289eW8ucHVzaCx4bz15by5zbGljZSxTbz15by5pbmRleE9mfHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXRoaXMubGVuZ3RoO3Q8bjt0KyspaWYodGhpc1t0XT09PWUpcmV0dXJuIHQ7cmV0dXJuLTF9LE5vPSJbXFx4MjBcXHRcXHJcXG5cXGZdIixFbz0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLGtvPSJcXFsiK05vKyIqKCIrRW8rIikoPzoiK05vKyIqKFsqXiR8IX5dPz0pIitObysiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0VvKyIpKXwpIitObysiKlxcXSIsX289IjooIitFbysiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIra28rIikqKXwuKilcXCl8KSIsVG89bmV3IFJlZ0V4cCgiXiIrTm8rIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrTm8rIiskIiwiZyIpLFJvPW5ldyBSZWdFeHAoIl4iK05vKyIqLCIrTm8rIioiKSxBbz1uZXcgUmVnRXhwKCJeIitObysiKihbPit+XXwiK05vKyIpIitObysiKiIpLERvPW5ldyBSZWdFeHAoIj0iK05vKyIqKFteXFxdJ1wiXSo/KSIrTm8rIipcXF0iLCJnIiksT289bmV3IFJlZ0V4cChfbyksQm89bmV3IFJlZ0V4cCgiXiIrRW8rIiQiKSxQbz17SUQ6bmV3IFJlZ0V4cCgiXiMoIitFbysiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitFbysiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrRW8rInxbKl0pIiksQVRUUjpuZXcgUmVnRXhwKCJeIitrbyksUFNFVURPOm5ldyBSZWdFeHAoIl4iK19vKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK05vKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitObysiKig/OihbKy1dfCkiK05vKyIqKFxcZCspfCkpIitObysiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OmNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK05vKyIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiK05vKyIqKCg/Oi1cXGQpP1xcZCopIitObysiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sTG89L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxJbz0vXmhcZCQvaSxNbz0vXltee10rXHtccypcW25hdGl2ZSBcdy8sRm89L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxVbz0vWyt+XS8sem89Lyd8XFwvZyxqbz1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK05vKyI/fCgiK05vKyIpfC4pIiwiaWciKSxIbz1mdW5jdGlvbihlLHQsbil7dmFyIHI9IjB4Iit0LTY1NTM2O3JldHVybiByIT1yfHxuP3Q6cjwwP1N0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzYrcik6U3RyaW5nLmZyb21DaGFyQ29kZShyPj4xMHw1NTI5NiwxMDIzJnJ8NTYzMjApfTt0cnl7d28uYXBwbHkoeW89eG8uY2FsbChzby5jaGlsZE5vZGVzKSxzby5jaGlsZE5vZGVzKSx5b1tzby5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goTEUpe3dvPXthcHBseTp5by5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtDby5hcHBseShlLHhvLmNhbGwodCkpfTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aCxyPTA7ZVtuKytdPXRbcisrXTspO2UubGVuZ3RoPW4tMX19fXZhciBWbz1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzLGMsbCxmLGQsbTtpZigodD90Lm93bmVyRG9jdW1lbnR8fHQ6c28pIT09dG8mJmVvKHQpLG49bnx8W10sIWV8fCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gbjtpZigxIT09KHU9KHQ9dHx8dG8pLm5vZGVUeXBlKSYmOSE9PXUpcmV0dXJuW107aWYocm8mJiFyKXtpZihvPUZvLmV4ZWMoZSkpaWYoYT1vWzFdKXtpZig5PT09dSl7aWYoIShpPXQuZ2V0RWxlbWVudEJ5SWQoYSkpfHwhaS5wYXJlbnROb2RlKXJldHVybiBuO2lmKGkuaWQ9PT1hKXJldHVybiBuLnB1c2goaSksbn1lbHNlIGlmKHQub3duZXJEb2N1bWVudCYmKGk9dC5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpKSYmYW8odCxpKSYmaS5pZD09PWEpcmV0dXJuIG4ucHVzaChpKSxufWVsc2V7aWYob1syXSlyZXR1cm4gd28uYXBwbHkobix0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpKSxuO2lmKChhPW9bM10pJiZxci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiB3by5hcHBseShuLHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhKSksbn1pZihxci5xc2EmJighb298fCFvby50ZXN0KGUpKSl7aWYoZj1sPXVvLGQ9dCxtPTk9PT11JiZlLDE9PT11JiYib2JqZWN0IiE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Zm9yKGM9WHIoZSksKGw9dC5nZXRBdHRyaWJ1dGUoImlkIikpP2Y9bC5yZXBsYWNlKHpvLCJcXCQmIik6dC5zZXRBdHRyaWJ1dGUoImlkIixmKSxmPSJbaWQ9JyIrZisiJ10gIixzPWMubGVuZ3RoO3MtLTspY1tzXT1mK0dvKGNbc10pO2Q9VW8udGVzdChlKSYmWG8odC5wYXJlbnROb2RlKXx8dCxtPWMuam9pbigiLCIpfWlmKG0pdHJ5e3JldHVybiB3by5hcHBseShuLGQucXVlcnlTZWxlY3RvckFsbChtKSksbn1jYXRjaChwKXt9ZmluYWxseXtsfHx0LnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBHcihlLnJlcGxhY2UoVG8sIiQxIiksdCxuLHIpfTtmdW5jdGlvbiBxbygpe3ZhciBuPVtdO2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4gbi5wdXNoKGUrIiAiKT4kci5jYWNoZUxlbmd0aCYmZGVsZXRlIHJbbi5zaGlmdCgpXSxyW2UrIiAiXT10fXJldHVybiByfWZ1bmN0aW9uICRvKGUpe3JldHVybiBlW3VvXT0hMCxlfWZ1bmN0aW9uIFdvKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmKH50LnNvdXJjZUluZGV4fHwxPDwzMSktKH5lLnNvdXJjZUluZGV4fHwxPDwzMSk7aWYocilyZXR1cm4gcjtpZihuKWZvcig7bj1uLm5leHRTaWJsaW5nOylpZihuPT09dClyZXR1cm4tMTtyZXR1cm4gZT8xOi0xfWZ1bmN0aW9uIEtvKGEpe3JldHVybiAkbyhmdW5jdGlvbihpKXtyZXR1cm4gaT0raSwkbyhmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPWEoW10sZS5sZW5ndGgsaSksbz1yLmxlbmd0aDtvLS07KWVbbj1yW29dXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24gWG8oZSl7cmV0dXJuIGUmJnR5cGVvZiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lIT1obyYmZX1mdW5jdGlvbiBZbygpe31mdW5jdGlvbiBHbyhlKXtmb3IodmFyIHQ9MCxuPWUubGVuZ3RoLHI9IiI7dDxuO3QrKylyKz1lW3RdLnZhbHVlO3JldHVybiByfWZ1bmN0aW9uIEpvKGEsZSx0KXt2YXIgdT1lLmRpcixzPXQmJiJwYXJlbnROb2RlIj09PXUsYz1sbysrO3JldHVybiBlLmZpcnN0P2Z1bmN0aW9uKGUsdCxuKXtmb3IoO2U9ZVt1XTspaWYoMT09PWUubm9kZVR5cGV8fHMpcmV0dXJuIGEoZSx0LG4pfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPVtjbyxjXTtpZihuKXtmb3IoO2U9ZVt1XTspaWYoKDE9PT1lLm5vZGVUeXBlfHxzKSYmYShlLHQsbikpcmV0dXJuITB9ZWxzZSBmb3IoO2U9ZVt1XTspaWYoMT09PWUubm9kZVR5cGV8fHMpe2lmKChyPShvPWVbdW9dfHwoZVt1b109e30pKVt1XSkmJnJbMF09PT1jbyYmclsxXT09PWMpcmV0dXJuIGlbMl09clsyXTtpZigob1t1XT1pKVsyXT1hKGUsdCxuKSlyZXR1cm4hMH19fWZ1bmN0aW9uIFFvKG8pe3JldHVybiAxPG8ubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9by5sZW5ndGg7ci0tOylpZighb1tyXShlLHQsbikpcmV0dXJuITE7cmV0dXJuITB9Om9bMF19ZnVuY3Rpb24gWm8oZSx0LG4scixvKXtmb3IodmFyIGksYT1bXSx1PTAscz1lLmxlbmd0aCxjPW51bGwhPXQ7dTxzO3UrKykoaT1lW3VdKSYmKG4mJiFuKGkscixvKXx8KGEucHVzaChpKSxjJiZ0LnB1c2godSkpKTtyZXR1cm4gYX1mdW5jdGlvbiBlaShwLGcsaCx2LHksZSl7cmV0dXJuIHYmJiF2W3VvXSYmKHY9ZWkodikpLHkmJiF5W3VvXSYmKHk9ZWkoeSxlKSksJG8oZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHU9W10scz1bXSxjPXQubGVuZ3RoLGw9ZXx8ZnVuY3Rpb24gbShlLHQsbil7Zm9yKHZhciByPTAsbz10Lmxlbmd0aDtyPG87cisrKVZvKGUsdFtyXSxuKTtyZXR1cm4gbn0oZ3x8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IXB8fCFlJiZnP2w6Wm8obCx1LHAsbixyKSxkPWg/eXx8KGU/cDpjfHx2KT9bXTp0OmY7aWYoaCYmaChmLGQsbixyKSx2KWZvcihvPVpvKGQscyksdihvLFtdLG4sciksaT1vLmxlbmd0aDtpLS07KShhPW9baV0pJiYoZFtzW2ldXT0hKGZbc1tpXV09YSkpO2lmKGUpe2lmKHl8fHApe2lmKHkpe2ZvcihvPVtdLGk9ZC5sZW5ndGg7aS0tOykoYT1kW2ldKSYmby5wdXNoKGZbaV09YSk7eShudWxsLGQ9W10sbyxyKX1mb3IoaT1kLmxlbmd0aDtpLS07KShhPWRbaV0pJiYtMTwobz15P1NvLmNhbGwoZSxhKTp1W2ldKSYmKGVbb109ISh0W29dPWEpKX19ZWxzZSBkPVpvKGQ9PT10P2Quc3BsaWNlKGMsZC5sZW5ndGgpOmQpLHk/eShudWxsLHQsZCxyKTp3by5hcHBseSh0LGQpfSl9ZnVuY3Rpb24gdGkoZSl7Zm9yKHZhciByLHQsbixvPWUubGVuZ3RoLGk9JHIucmVsYXRpdmVbZVswXS50eXBlXSxhPWl8fCRyLnJlbGF0aXZlWyIgIl0sdT1pPzE6MCxzPUpvKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09cn0sYSwhMCksYz1KbyhmdW5jdGlvbihlKXtyZXR1cm4tMTxTby5jYWxsKHIsZSl9LGEsITApLGw9W2Z1bmN0aW9uKGUsdCxuKXtyZXR1cm4haSYmKG58fHQhPT1Kcil8fCgocj10KS5ub2RlVHlwZT9zOmMpKGUsdCxuKX1dO3U8bzt1KyspaWYodD0kci5yZWxhdGl2ZVtlW3VdLnR5cGVdKWw9W0pvKFFvKGwpLHQpXTtlbHNle2lmKCh0PSRyLmZpbHRlcltlW3VdLnR5cGVdLmFwcGx5KG51bGwsZVt1XS5tYXRjaGVzKSlbdW9dKXtmb3Iobj0rK3U7bjxvJiYhJHIucmVsYXRpdmVbZVtuXS50eXBlXTtuKyspO3JldHVybiBlaSgxPHUmJlFvKGwpLDE8dSYmR28oZS5zbGljZSgwLHUtMSkuY29uY2F0KHt2YWx1ZToiICI9PT1lW3UtMl0udHlwZT8iKiI6IiJ9KSkucmVwbGFjZShUbywiJDEiKSx0LHU8biYmdGkoZS5zbGljZSh1LG4pKSxuPG8mJnRpKGU9ZS5zbGljZShuKSksbjxvJiZHbyhlKSl9bC5wdXNoKHQpfXJldHVybiBRbyhsKX1xcj1Wby5zdXBwb3J0PXt9LEtyPVZvLmlzWE1MPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hIXQmJiJIVE1MIiE9PXQubm9kZU5hbWV9LGVvPVZvLnNldERvY3VtZW50PWZ1bmN0aW9uKGUpe3ZhciB0LHM9ZT9lLm93bmVyRG9jdW1lbnR8fGU6c28sbj1zLmRlZmF1bHRWaWV3O3JldHVybiBzIT09dG8mJjk9PT1zLm5vZGVUeXBlJiZzLmRvY3VtZW50RWxlbWVudD8obm89KHRvPXMpLmRvY3VtZW50RWxlbWVudCxybz0hS3IocyksbiYmbiE9PWZ1bmN0aW9uIHIoZSl7dHJ5e3JldHVybiBlLnRvcH1jYXRjaCh0KXt9cmV0dXJuIG51bGx9KG4pJiYobi5hZGRFdmVudExpc3RlbmVyP24uYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixmdW5jdGlvbigpe2VvKCl9LCExKTpuLmF0dGFjaEV2ZW50JiZuLmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsZnVuY3Rpb24oKXtlbygpfSkpLHFyLmF0dHJpYnV0ZXM9ITAscXIuZ2V0RWxlbWVudHNCeVRhZ05hbWU9ITAscXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1Nby50ZXN0KHMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSkscXIuZ2V0QnlJZD0hMCwkci5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQhPWhvJiZybyl7dmFyIG49dC5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gbiYmbi5wYXJlbnROb2RlP1tuXTpbXX19LCRyLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2Uoam8sSG8pO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sJHIuZmluZC5UQUc9cXIuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZSE9aG8pcmV0dXJuIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSl9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxvPTAsaT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIiE9PWUpcmV0dXJuIGk7Zm9yKDtuPWlbbysrXTspMT09PW4ubm9kZVR5cGUmJnIucHVzaChuKTtyZXR1cm4gcn0sJHIuZmluZC5DTEFTUz1xci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihlLHQpe2lmKHJvKXJldHVybiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSl9LGlvPVtdLG9vPVtdLHFyLmRpc2Nvbm5lY3RlZE1hdGNoPSEwLG9vPW9vLmxlbmd0aCYmbmV3IFJlZ0V4cChvby5qb2luKCJ8IikpLGlvPWlvLmxlbmd0aCYmbmV3IFJlZ0V4cChpby5qb2luKCJ8IikpLHQ9TW8udGVzdChuby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksYW89dHx8TW8udGVzdChuby5jb250YWlucyk/ZnVuY3Rpb24oZSx0KXt2YXIgbj05PT09ZS5ub2RlVHlwZT9lLmRvY3VtZW50RWxlbWVudDplLHI9dCYmdC5wYXJlbnROb2RlO3JldHVybiBlPT09cnx8ISghcnx8MSE9PXIubm9kZVR5cGV8fCEobi5jb250YWlucz9uLmNvbnRhaW5zKHIpOmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24ocikpKX06ZnVuY3Rpb24oZSx0KXtpZih0KWZvcig7dD10LnBhcmVudE5vZGU7KWlmKHQ9PT1lKXJldHVybiEwO3JldHVybiExfSxnbz10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIFpyPSEwLDA7dmFyIG49IWUuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIG58fCgxJihuPShlLm93bmVyRG9jdW1lbnR8fGUpPT09KHQub3duZXJEb2N1bWVudHx8dCk/ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KToxKXx8IXFyLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09PXN8fGUub3duZXJEb2N1bWVudD09PXNvJiZhbyhzbyxlKT8tMTp0PT09c3x8dC5vd25lckRvY3VtZW50PT09c28mJmFvKHNvLHQpPzE6UXI/U28uY2FsbChRcixlKS1Tby5jYWxsKFFyLHQpOjA6NCZuPy0xOjEpfTpmdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBacj0hMCwwO3ZhciBuLHI9MCxvPWUucGFyZW50Tm9kZSxpPXQucGFyZW50Tm9kZSxhPVtlXSx1PVt0XTtpZighb3x8IWkpcmV0dXJuIGU9PT1zPy0xOnQ9PT1zPzE6bz8tMTppPzE6UXI/U28uY2FsbChRcixlKS1Tby5jYWxsKFFyLHQpOjA7aWYobz09PWkpcmV0dXJuIFdvKGUsdCk7Zm9yKG49ZTtuPW4ucGFyZW50Tm9kZTspYS51bnNoaWZ0KG4pO2ZvcihuPXQ7bj1uLnBhcmVudE5vZGU7KXUudW5zaGlmdChuKTtmb3IoO2Fbcl09PT11W3JdOylyKys7cmV0dXJuIHI/V28oYVtyXSx1W3JdKTphW3JdPT09c28/LTE6dVtyXT09PXNvPzE6MH0scyk6dG99LFZvLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVm8oZSxudWxsLG51bGwsdCl9LFZvLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKChlLm93bmVyRG9jdW1lbnR8fGUpIT09dG8mJmVvKGUpLHQ9dC5yZXBsYWNlKERvLCI9JyQxJ10iKSxxci5tYXRjaGVzU2VsZWN0b3ImJnJvJiYoIWlvfHwhaW8udGVzdCh0KSkmJighb298fCFvby50ZXN0KHQpKSl0cnl7dmFyIG49KHZvaWQgMCkuY2FsbChlLHQpO2lmKG58fHFyLmRpc2Nvbm5lY3RlZE1hdGNofHxlLmRvY3VtZW50JiYxMSE9PWUuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIG59Y2F0Y2goTEUpe31yZXR1cm4gMDxWbyh0LHRvLG51bGwsW2VdKS5sZW5ndGh9LFZvLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPT10byYmZW8oZSksYW8oZSx0KX0sVm8uYXR0cj1mdW5jdGlvbihlLHQpeyhlLm93bmVyRG9jdW1lbnR8fGUpIT09dG8mJmVvKGUpO3ZhciBuPSRyLmF0dHJIYW5kbGVbdC50b0xvd2VyQ2FzZSgpXSxyPW4mJnZvLmNhbGwoJHIuYXR0ckhhbmRsZSx0LnRvTG93ZXJDYXNlKCkpP24oZSx0LCFybyk6dW5kZWZpbmVkO3JldHVybiByIT09dW5kZWZpbmVkP3I6cXIuYXR0cmlidXRlc3x8IXJvP2UuZ2V0QXR0cmlidXRlKHQpOihyPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0sVm8uZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2UpfSxWby51bmlxdWVTb3J0PWZ1bmN0aW9uKGUpe3ZhciB0LG49W10scj0wLG89MDtpZihacj0hcXIuZGV0ZWN0RHVwbGljYXRlcyxRcj0hcXIuc29ydFN0YWJsZSYmZS5zbGljZSgwKSxlLnNvcnQoZ28pLFpyKXtmb3IoO3Q9ZVtvKytdOyl0PT09ZVtvXSYmKHI9bi5wdXNoKG8pKTtmb3IoO3ItLTspZS5zcGxpY2UobltyXSwxKX1yZXR1cm4gUXI9bnVsbCxlfSxXcj1Wby5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLG89ZS5ub2RlVHlwZTtpZihvKXtpZigxPT09b3x8OT09PW98fDExPT09byl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1XcihlKX1lbHNlIGlmKDM9PT1vfHw0PT09bylyZXR1cm4gZS5ub2RlVmFsdWV9ZWxzZSBmb3IoO3Q9ZVtyKytdOyluKz1Xcih0KTtyZXR1cm4gbn0sKCRyPVZvLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOiRvLG1hdGNoOlBvLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnJlcGxhY2Uoam8sSG8pLGVbM109KGVbM118fGVbNF18fGVbNV18fCIiKS5yZXBsYWNlKGpvLEhvKSwifj0iPT09ZVsyXSYmKGVbM109IiAiK2VbM10rIiAiKSxlLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWVbMV0uc2xpY2UoMCwzKT8oZVszXXx8Vm8uZXJyb3IoZVswXSksZVs0XT0rKGVbNF0/ZVs1XSsoZVs2XXx8MSk6MiooImV2ZW4iPT09ZVszXXx8Im9kZCI9PT1lWzNdKSksZVs1XT0rKGVbN10rZVs4XXx8Im9kZCI9PT1lWzNdKSk6ZVszXSYmVm8uZXJyb3IoZVswXSksZX0sUFNFVURPOmZ1bmN0aW9uKGUpe3ZhciB0LG49IWVbNl0mJmVbMl07cmV0dXJuIFBvLkNISUxELnRlc3QoZVswXSk/bnVsbDooZVszXT9lWzJdPWVbNF18fGVbNV18fCIiOm4mJk9vLnRlc3QobikmJih0PVhyKG4sITApKSYmKHQ9bi5pbmRleE9mKCIpIixuLmxlbmd0aC10KS1uLmxlbmd0aCkmJihlWzBdPWVbMF0uc2xpY2UoMCx0KSxlWzJdPW4uc2xpY2UoMCx0KSksZS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShqbyxIbykudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1lP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10fX0sQ0xBU1M6ZnVuY3Rpb24oZSl7dmFyIHQ9Zm9bZSsiICJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKCIoXnwiK05vKyIpIitlKyIoIitObysifCQpIikpJiZmbyhlLGZ1bmN0aW9uKGUpe3JldHVybiB0LnRlc3QoInN0cmluZyI9PXR5cGVvZiBlLmNsYXNzTmFtZSYmZS5jbGFzc05hbWV8fHR5cGVvZiBlLmdldEF0dHJpYnV0ZSE9aG8mJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihuLHIsbyl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PVZvLmF0dHIoZSxuKTtyZXR1cm4gbnVsbD09dD8iIT0iPT09cjohcnx8KHQrPSIiLCI9Ij09PXI/dD09PW86IiE9Ij09PXI/dCE9PW86Il49Ij09PXI/byYmMD09PXQuaW5kZXhPZihvKToiKj0iPT09cj9vJiYtMTx0LmluZGV4T2Yobyk6IiQ9Ij09PXI/byYmdC5zbGljZSgtby5sZW5ndGgpPT09bzoifj0iPT09cj8tMTwoIiAiK3QrIiAiKS5pbmRleE9mKG8pOiJ8PSI9PT1yJiYodD09PW98fHQuc2xpY2UoMCxvLmxlbmd0aCsxKT09PW8rIi0iKSl9fSxDSElMRDpmdW5jdGlvbihtLGUsdCxwLGcpe3ZhciBoPSJudGgiIT09bS5zbGljZSgwLDMpLHY9Imxhc3QiIT09bS5zbGljZSgtNCkseT0ib2YtdHlwZSI9PT1lO3JldHVybiAxPT09cCYmMD09PWc/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYz1oIT12PyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyIsbD1lLnBhcmVudE5vZGUsZj15JiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZD0hbiYmIXk7aWYobCl7aWYoaCl7Zm9yKDtjOyl7Zm9yKGk9ZTtpPWlbY107KWlmKHk/aS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09aS5ub2RlVHlwZSlyZXR1cm4hMTtzPWM9Im9ubHkiPT09bSYmIXMmJiJuZXh0U2libGluZyJ9cmV0dXJuITB9aWYocz1bdj9sLmZpcnN0Q2hpbGQ6bC5sYXN0Q2hpbGRdLHYmJmQpe2Zvcih1PShyPShvPWxbdW9dfHwobFt1b109e30pKVttXXx8W10pWzBdPT09Y28mJnJbMV0sYT1yWzBdPT09Y28mJnJbMl0saT11JiZsLmNoaWxkTm9kZXNbdV07aT0rK3UmJmkmJmlbY118fChhPXU9MCl8fHMucG9wKCk7KWlmKDE9PT1pLm5vZGVUeXBlJiYrK2EmJmk9PT1lKXtvW21dPVtjbyx1LGFdO2JyZWFrfX1lbHNlIGlmKGQmJihyPShlW3VvXXx8KGVbdW9dPXt9KSlbbV0pJiZyWzBdPT09Y28pYT1yWzFdO2Vsc2UgZm9yKDsoaT0rK3UmJmkmJmlbY118fChhPXU9MCl8fHMucG9wKCkpJiYoKHk/aS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09ZjoxIT09aS5ub2RlVHlwZSl8fCErK2F8fChkJiYoKGlbdW9dfHwoaVt1b109e30pKVttXT1bY28sYV0pLGkhPT1lKSk7KTtyZXR1cm4oYS09Zyk9PT1wfHxhJXA9PTAmJjA8PWEvcH19fSxQU0VVRE86ZnVuY3Rpb24oZSxpKXt2YXIgdCxhPSRyLnBzZXVkb3NbZV18fCRyLnNldEZpbHRlcnNbZS50b0xvd2VyQ2FzZSgpXXx8Vm8uZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIitlKTtyZXR1cm4gYVt1b10/YShpKToxPGEubGVuZ3RoPyh0PVtlLGUsIiIsaV0sJHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpPyRvKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9YShlLGkpLG89ci5sZW5ndGg7by0tOyllW249U28uY2FsbChlLHJbb10pXT0hKHRbbl09cltvXSl9KTpmdW5jdGlvbihlKXtyZXR1cm4gYShlLDAsdCl9KTphfX0scHNldWRvczp7bm90OiRvKGZ1bmN0aW9uKGUpe3ZhciByPVtdLG89W10sdT1ZcihlLnJlcGxhY2UoVG8sIiQxIikpO3JldHVybiB1W3VvXT8kbyhmdW5jdGlvbihlLHQsbixyKXtmb3IodmFyIG8saT11KGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO2EtLTspKG89aVthXSkmJihlW2FdPSEodFthXT1vKSl9KTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHJbMF09ZSx1KHIsbnVsbCxuLG8pLCFvLnBvcCgpfX0pLGhhczokbyhmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8Vm8odCxlKS5sZW5ndGh9fSksY29udGFpbnM6JG8oZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKGpvLEhvKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8ZS5pbm5lclRleHR8fFdyKGUpKS5pbmRleE9mKHQpfX0pLGxhbmc6JG8oZnVuY3Rpb24obil7cmV0dXJuIEJvLnRlc3Qobnx8IiIpfHxWby5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZShqbyxIbykudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PXJvP2UubGFuZzplLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8ZS5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4odD10LnRvTG93ZXJDYXNlKCkpPT09bnx8MD09PXQuaW5kZXhPZihuKyItIil9d2hpbGUoKGU9ZS5wYXJlbnROb2RlKSYmMT09PWUubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihlKXt2YXIgdD1WLndpbmRvdy5sb2NhdGlvbiYmVi53aW5kb3cubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1ub30sZm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10by5hY3RpdmVFbGVtZW50JiYoIXRvLmhhc0ZvY3VzfHx0by5oYXNGb2N1cygpKSYmISEoZS50eXBlfHxlLmhyZWZ8fH5lLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihlKXtyZXR1cm4hMT09PWUuZGlzYWJsZWR9LGRpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZS5kaXNhYmxlZH0sY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuISRyLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gSW8udGVzdChlLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIExvLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OktvKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpLbyhmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6S28oZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjpLbyhmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDpLbyhmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OktvKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6S28oZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPSRyLnBzZXVkb3MuZXEseihbInJhZGlvIiwiY2hlY2tib3giLCJmaWxlIiwicGFzc3dvcmQiLCJpbWFnZSJdLGZ1bmN0aW9uKGUpeyRyLnBzZXVkb3NbZV09ZnVuY3Rpb24gbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19KGUpfSkseihbInN1Ym1pdCIsInJlc2V0Il0sZnVuY3Rpb24oZSl7JHIucHNldWRvc1tlXT1mdW5jdGlvbiB0KG4pe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT10fHwiYnV0dG9uIj09PXQpJiZlLnR5cGU9PT1ufX0oZSl9KSxZby5wcm90b3R5cGU9JHIuZmlsdGVycz0kci5wc2V1ZG9zLCRyLnNldEZpbHRlcnM9bmV3IFlvLFhyPVZvLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1LHMsYz1tb1tlKyIgIl07aWYoYylyZXR1cm4gdD8wOmMuc2xpY2UoMCk7Zm9yKGE9ZSx1PVtdLHM9JHIucHJlRmlsdGVyO2E7KXtmb3IoaSBpbiBuJiYhKHI9Um8uZXhlYyhhKSl8fChyJiYoYT1hLnNsaWNlKHJbMF0ubGVuZ3RoKXx8YSksdS5wdXNoKG89W10pKSxuPSExLChyPUFvLmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksby5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKFRvLCIgIil9KSxhPWEuc2xpY2Uobi5sZW5ndGgpKSwkci5maWx0ZXIpJHIuZmlsdGVyLmhhc093blByb3BlcnR5KGkpJiYoIShyPVBvW2ldLmV4ZWMoYSkpfHxzW2ldJiYhKHI9c1tpXShyKSl8fChuPXIuc2hpZnQoKSxvLnB1c2goe3ZhbHVlOm4sdHlwZTppLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpKTtpZighbilicmVha31yZXR1cm4gdD9hLmxlbmd0aDphP1ZvLmVycm9yKGUpOm1vKGUsdSkuc2xpY2UoMCl9LFlyPVZvLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLG89W10saT1wb1tlKyIgIl07aWYoIWkpe2ZvcihuPSh0PXR8fFhyKGUpKS5sZW5ndGg7bi0tOykoaT10aSh0W25dKSlbdW9dP3IucHVzaChpKTpvLnB1c2goaSk7KGk9cG8oZSxmdW5jdGlvbiBhKGgsdil7dmFyIHk9MDx2Lmxlbmd0aCxiPTA8aC5sZW5ndGgsZT1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdSxzPTAsYz0iMCIsbD1lJiZbXSxmPVtdLGQ9SnIsbT1lfHxiJiYkci5maW5kLlRBRygiKiIsbykscD1jbys9bnVsbD09ZD8xOk1hdGgucmFuZG9tKCl8fC4xLGc9bS5sZW5ndGg7Zm9yKG8mJihKcj10IT09dG8mJnQpO2MhPT1nJiZudWxsIT0oaT1tW2NdKTtjKyspe2lmKGImJmkpe2ZvcihhPTA7dT1oW2ErK107KWlmKHUoaSx0LG4pKXtyLnB1c2goaSk7YnJlYWt9byYmKGNvPXApfXkmJigoaT0hdSYmaSkmJnMtLSxlJiZsLnB1c2goaSkpfWlmKHMrPWMseSYmYyE9PXMpe2ZvcihhPTA7dT12W2ErK107KXUobCxmLHQsbik7aWYoZSl7aWYoMDxzKWZvcig7Yy0tOylsW2NdfHxmW2NdfHwoZltjXT1iby5jYWxsKHIpKTtmPVpvKGYpfXdvLmFwcGx5KHIsZiksbyYmIWUmJjA8Zi5sZW5ndGgmJjE8cyt2Lmxlbmd0aCYmVm8udW5pcXVlU29ydChyKX1yZXR1cm4gbyYmKGNvPXAsSnI9ZCksbH07cmV0dXJuIHk/JG8oZSk6ZX0obyxyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGl9LEdyPVZvLnNlbGVjdD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzLGM9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUsbD0hciYmWHIoZT1jLnNlbGVjdG9yfHxlKTtpZihuPW58fFtdLDE9PT1sLmxlbmd0aCl7aWYoMjwoaT1sWzBdPWxbMF0uc2xpY2UoMCkpLmxlbmd0aCYmIklEIj09PShhPWlbMF0pLnR5cGUmJnFyLmdldEJ5SWQmJjk9PT10Lm5vZGVUeXBlJiZybyYmJHIucmVsYXRpdmVbaVsxXS50eXBlXSl7aWYoISh0PSgkci5maW5kLklEKGEubWF0Y2hlc1swXS5yZXBsYWNlKGpvLEhvKSx0KXx8W10pWzBdKSlyZXR1cm4gbjtjJiYodD10LnBhcmVudE5vZGUpLGU9ZS5zbGljZShpLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1mb3Iobz1Qby5uZWVkc0NvbnRleHQudGVzdChlKT8wOmkubGVuZ3RoO28tLSYmKGE9aVtvXSwhJHIucmVsYXRpdmVbdT1hLnR5cGVdKTspaWYoKHM9JHIuZmluZFt1XSkmJihyPXMoYS5tYXRjaGVzWzBdLnJlcGxhY2Uoam8sSG8pLFVvLnRlc3QoaVswXS50eXBlKSYmWG8odC5wYXJlbnROb2RlKXx8dCkpKXtpZihpLnNwbGljZShvLDEpLCEoZT1yLmxlbmd0aCYmR28oaSkpKXJldHVybiB3by5hcHBseShuLHIpLG47YnJlYWt9fXJldHVybihjfHxZcihlLGwpKShyLHQsIXJvLG4sVW8udGVzdChlKSYmWG8odC5wYXJlbnROb2RlKXx8dCksbn0scXIuc29ydFN0YWJsZT11by5zcGxpdCgiIikuc29ydChnbykuam9pbigiIik9PT11byxxci5kZXRlY3REdXBsaWNhdGVzPSEhWnIsZW8oKSxxci5zb3J0RGV0YWNoZWQ9ITA7dmFyIG5pPVYuZG9jdW1lbnQscmk9QXJyYXkucHJvdG90eXBlLnB1c2gsb2k9QXJyYXkucHJvdG90eXBlLnNsaWNlLGlpPS9eKD86W14jPF0qKDxbXHdcV10rPilbXj5dKiR8IyhbXHdcLV0qKSQpLyxhaT1Ici5FdmVudCx1aT15dC5tYWtlTWFwKCJjaGlsZHJlbixjb250ZW50cyxuZXh0LHByZXYiKSxzaT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZX0sY2k9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfSxsaT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9KHQ9dHx8bmkpLmNyZWF0ZUVsZW1lbnQoImRpdiIpLG89dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKHIuaW5uZXJIVE1MPWU7bj1yLmZpcnN0Q2hpbGQ7KW8uYXBwZW5kQ2hpbGQobik7cmV0dXJuIG99LGZpPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvO2lmKGNpKHQpKXQ9bGkodCxFaShlWzBdKSk7ZWxzZSBpZih0Lmxlbmd0aCYmIXQubm9kZVR5cGUpe2lmKHQ9UmkubWFrZUFycmF5KHQpLHIpZm9yKG89dC5sZW5ndGgtMTswPD1vO28tLSlmaShlLHRbb10sbixyKTtlbHNlIGZvcihvPTA7bzx0Lmxlbmd0aDtvKyspZmkoZSx0W29dLG4scik7cmV0dXJuIGV9aWYodC5ub2RlVHlwZSlmb3Iobz1lLmxlbmd0aDtvLS07KW4uY2FsbChlW29dLHQpO3JldHVybiBlfSxkaT1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZ0JiYtMSE9PSgiICIrZS5jbGFzc05hbWUrIiAiKS5pbmRleE9mKCIgIit0KyIgIil9LG1pPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvO3JldHVybiB0PVJpKHQpWzBdLGUuZWFjaChmdW5jdGlvbigpe24mJnI9PT10aGlzLnBhcmVudE5vZGV8fChyPXRoaXMucGFyZW50Tm9kZSxvPXQuY2xvbmVOb2RlKCExKSx0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG8sdGhpcykpLG8uYXBwZW5kQ2hpbGQodGhpcyl9KSxlfSxwaT15dC5tYWtlTWFwKCJmaWxsT3BhY2l0eSBmb250V2VpZ2h0IGxpbmVIZWlnaHQgb3BhY2l0eSBvcnBoYW5zIHdpZG93cyB6SW5kZXggem9vbSIsIiAiKSxnaT15dC5tYWtlTWFwKCJjaGVja2VkIGNvbXBhY3QgZGVjbGFyZSBkZWZlciBkaXNhYmxlZCBpc21hcCBtdWx0aXBsZSBub2hyZWYgbm9zaGFkZSBub3dyYXAgcmVhZG9ubHkgc2VsZWN0ZWQiLCIgIiksaGk9eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUiLHJlYWRvbmx5OiJyZWFkT25seSJ9LHZpPXsiZmxvYXQiOiJjc3NGbG9hdCJ9LHlpPXt9LGJpPXt9LENpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBSaS5mbi5pbml0KGUsdCl9LHdpPS9eXHMqfFxzKiQvZyx4aT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV8fGU9PT11bmRlZmluZWQ/IiI6KCIiK2UpLnJlcGxhY2Uod2ksIiIpfSxTaT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpO2lmKGUpaWYoKG49ZS5sZW5ndGgpPT09dW5kZWZpbmVkKXtmb3IociBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikmJihpPWVbcl0sITE9PT10LmNhbGwoaSxyLGkpKSlicmVha31lbHNlIGZvcihvPTA7bzxuJiYoaT1lW29dLCExIT09dC5jYWxsKGksbyxpKSk7bysrKTtyZXR1cm4gZX0sTmk9ZnVuY3Rpb24oZSxuKXt2YXIgcj1bXTtyZXR1cm4gU2koZSxmdW5jdGlvbihlLHQpe24odCxlKSYmci5wdXNoKHQpfSkscn0sRWk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/OT09PWUubm9kZVR5cGU/ZTplLm93bmVyRG9jdW1lbnQ6bml9O0NpLmZuPUNpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Q2ksc2VsZWN0b3I6IiIsY29udGV4dDpudWxsLGxlbmd0aDowLGluaXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89dGhpcztpZighZSlyZXR1cm4gbztpZihlLm5vZGVUeXBlKXJldHVybiBvLmNvbnRleHQ9b1swXT1lLG8ubGVuZ3RoPTEsbztpZih0JiZ0Lm5vZGVUeXBlKW8uY29udGV4dD10O2Vsc2V7aWYodClyZXR1cm4gUmkoZSkuYXR0cih0KTtvLmNvbnRleHQ9dD1WLmRvY3VtZW50fWlmKGNpKGUpKXtpZighKG49IjwiPT09KG8uc2VsZWN0b3I9ZSkuY2hhckF0KDApJiYiPiI9PT1lLmNoYXJBdChlLmxlbmd0aC0xKSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTppaS5leGVjKGUpKSlyZXR1cm4gUmkodCkuZmluZChlKTtpZihuWzFdKWZvcihyPWxpKGUsRWkodCkpLmZpcnN0Q2hpbGQ7cjspcmkuY2FsbChvLHIpLHI9ci5uZXh0U2libGluZztlbHNle2lmKCEocj1FaSh0KS5nZXRFbGVtZW50QnlJZChuWzJdKSkpcmV0dXJuIG87aWYoci5pZCE9PW5bMl0pcmV0dXJuIG8uZmluZChlKTtvLmxlbmd0aD0xLG9bMF09cn19ZWxzZSB0aGlzLmFkZChlLCExKTtyZXR1cm4gb30sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiB5dC50b0FycmF5KHRoaXMpfSxhZGQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyO2lmKGNpKGUpKXJldHVybiB0aGlzLmFkZChSaShlKSk7aWYoITEhPT10KWZvcihuPVJpLnVuaXF1ZSh0aGlzLnRvQXJyYXkoKS5jb25jYXQoUmkubWFrZUFycmF5KGUpKSksdGhpcy5sZW5ndGg9bi5sZW5ndGgscj0wO3I8bi5sZW5ndGg7cisrKXRoaXNbcl09bltyXTtlbHNlIHJpLmFwcGx5KHRoaXMsUmkubWFrZUFycmF5KGUpKTtyZXR1cm4gdGhpc30sYXR0cjpmdW5jdGlvbih0LG4pe3ZhciBlLHI9dGhpcztpZigib2JqZWN0Ij09dHlwZW9mIHQpU2kodCxmdW5jdGlvbihlLHQpe3IuYXR0cihlLHQpfSk7ZWxzZXtpZighc2kobikpe2lmKHJbMF0mJjE9PT1yWzBdLm5vZGVUeXBlKXtpZigoZT15aVt0XSkmJmUuZ2V0KXJldHVybiBlLmdldChyWzBdLHQpO2lmKGdpW3RdKXJldHVybiByLnByb3AodCk/dDp1bmRlZmluZWQ7bnVsbD09PShuPXJbMF0uZ2V0QXR0cmlidXRlKHQsMikpJiYobj11bmRlZmluZWQpfXJldHVybiBufXRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlO2lmKDE9PT10aGlzLm5vZGVUeXBlKXtpZigoZT15aVt0XSkmJmUuc2V0KXJldHVybiB2b2lkIGUuc2V0KHRoaXMsbik7bnVsbD09PW4/dGhpcy5yZW1vdmVBdHRyaWJ1dGUodCwyKTp0aGlzLnNldEF0dHJpYnV0ZSh0LG4sMil9fSl9cmV0dXJuIHJ9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXR0cihlLG51bGwpfSxwcm9wOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZigib2JqZWN0Ij09dHlwZW9mKGU9aGlbZV18fGUpKVNpKGUsZnVuY3Rpb24oZSx0KXtuLnByb3AoZSx0KX0pO2Vsc2V7aWYoIXNpKHQpKXJldHVybiBuWzBdJiZuWzBdLm5vZGVUeXBlJiZlIGluIG5bMF0/blswXVtlXTp0O3RoaXMuZWFjaChmdW5jdGlvbigpezE9PT10aGlzLm5vZGVUeXBlJiYodGhpc1tlXT10KX0pfXJldHVybiBufSxjc3M6ZnVuY3Rpb24obixyKXt2YXIgZSxvLGk9dGhpcyx0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLy0oXEQpL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9LGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvW0EtWl0vZyxmdW5jdGlvbihlKXtyZXR1cm4iLSIrZX0pfTtpZigib2JqZWN0Ij09dHlwZW9mIG4pU2kobixmdW5jdGlvbihlLHQpe2kuY3NzKGUsdCl9KTtlbHNlIGlmKHNpKHIpKW49dChuKSwibnVtYmVyIiE9dHlwZW9mIHJ8fHBpW25dfHwocj1yLnRvU3RyaW5nKCkrInB4IiksaS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdHlsZTtpZigobz1iaVtuXSkmJm8uc2V0KW8uc2V0KHRoaXMscik7ZWxzZXt0cnl7dGhpcy5zdHlsZVt2aVtuXXx8bl09cn1jYXRjaCh0KXt9bnVsbCE9PXImJiIiIT09cnx8KGUucmVtb3ZlUHJvcGVydHk/ZS5yZW1vdmVQcm9wZXJ0eShhKG4pKTplLnJlbW92ZUF0dHJpYnV0ZShuKSl9fSk7ZWxzZXtpZihlPWlbMF0sKG89Ymlbbl0pJiZvLmdldClyZXR1cm4gby5nZXQoZSk7aWYoIWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldylyZXR1cm4gZS5jdXJyZW50U3R5bGU/ZS5jdXJyZW50U3R5bGVbdChuKV06IiI7dHJ5e3JldHVybiBlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLmdldFByb3BlcnR5VmFsdWUoYShuKSl9Y2F0Y2godSl7cmV0dXJuIHVuZGVmaW5lZH19cmV0dXJuIGl9LHJlbW92ZTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PXRoaXMubGVuZ3RoO3QtLTspZT10aGlzW3RdLGFpLmNsZWFuKGUpLGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PXRoaXMubGVuZ3RoO3QtLTspZm9yKGU9dGhpc1t0XTtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtyZXR1cm4gdGhpc30saHRtbDpmdW5jdGlvbihlKXt2YXIgdDtpZihzaShlKSl7dD10aGlzLmxlbmd0aDt0cnl7Zm9yKDt0LS07KXRoaXNbdF0uaW5uZXJIVE1MPWV9Y2F0Y2gobil7UmkodGhpc1t0XSkuZW1wdHkoKS5hcHBlbmQoZSl9cmV0dXJuIHRoaXN9cmV0dXJuIHRoaXNbMF0/dGhpc1swXS5pbm5lckhUTUw6IiJ9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoc2koZSkpe2Zvcih0PXRoaXMubGVuZ3RoO3QtLTspImlubmVyVGV4dCJpbiB0aGlzW3RdP3RoaXNbdF0uaW5uZXJUZXh0PWU6dGhpc1swXS50ZXh0Q29udGVudD1lO3JldHVybiB0aGlzfXJldHVybiB0aGlzWzBdP3RoaXNbMF0uaW5uZXJUZXh0fHx0aGlzWzBdLnRleHRDb250ZW50OiIifSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gZmkodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7KDE9PT10aGlzLm5vZGVUeXBlfHx0aGlzLmhvc3QmJjE9PT10aGlzLmhvc3Qubm9kZVR5cGUpJiZ0aGlzLmFwcGVuZENoaWxkKGUpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gZmkodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7KDE9PT10aGlzLm5vZGVUeXBlfHx0aGlzLmhvc3QmJjE9PT10aGlzLmhvc3Qubm9kZVR5cGUpJiZ0aGlzLmluc2VydEJlZm9yZShlLHRoaXMuZmlyc3RDaGlsZCl9LCEwKX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT9maSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KTp0aGlzfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/ZmkodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMubmV4dFNpYmxpbmcpfSwhMCk6dGhpc30sYXBwZW5kVG86ZnVuY3Rpb24oZSl7cmV0dXJuIFJpKGUpLmFwcGVuZCh0aGlzKSx0aGlzfSxwcmVwZW5kVG86ZnVuY3Rpb24oZSl7cmV0dXJuIFJpKGUpLnByZXBlbmQodGhpcyksdGhpc30scmVwbGFjZVdpdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYmVmb3JlKGUpLnJlbW92ZSgpfSx3cmFwOmZ1bmN0aW9uKGUpe3JldHVybiBtaSh0aGlzLGUpfSx3cmFwQWxsOmZ1bmN0aW9uKGUpe3JldHVybiBtaSh0aGlzLGUsITApfSx3cmFwSW5uZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1JpKHRoaXMpLmNvbnRlbnRzKCkud3JhcEFsbChlKX0pLHRoaXN9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtSaSh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2UucHVzaCh0aGlzLmNsb25lTm9kZSghMCkpfSksUmkoZSl9LGFkZENsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRvZ2dsZUNsYXNzKGUsITApfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b2dnbGVDbGFzcyhlLCExKX0sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24obyxpKXt2YXIgZT10aGlzO3JldHVybiJzdHJpbmciIT10eXBlb2Ygb3x8KC0xIT09by5pbmRleE9mKCIgIik/U2koby5zcGxpdCgiICIpLGZ1bmN0aW9uKCl7ZS50b2dnbGVDbGFzcyh0aGlzLGkpfSk6ZS5lYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZGkodCxvKTtpZihuIT09aSl7dmFyIHI9dC5jbGFzc05hbWU7bj90LmNsYXNzTmFtZT14aSgoIiAiK3IrIiAiKS5yZXBsYWNlKCIgIitvKyIgIiwiICIpKTp0LmNsYXNzTmFtZSs9cj8iICIrbzpvfX0pKSxlfSxoYXNDbGFzczpmdW5jdGlvbihlKXtyZXR1cm4gZGkodGhpc1swXSxlKX0sZWFjaDpmdW5jdGlvbihlKXtyZXR1cm4gU2kodGhpcyxlKX0sb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7YWkuYmluZCh0aGlzLGUsdCl9KX0sb2ZmOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2FpLnVuYmluZCh0aGlzLGUsdCl9KX0sdHJpZ2dlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Im9iamVjdCI9PXR5cGVvZiBlP2FpLmZpcmUodGhpcyxlLnR5cGUsZSk6YWkuZmlyZSh0aGlzLGUpfSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jc3MoImRpc3BsYXkiLCIiKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNzcygiZGlzcGxheSIsIm5vbmUiKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFJpKG9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGVxOmZ1bmN0aW9uKGUpe3JldHVybi0xPT09ZT90aGlzLnNsaWNlKGUpOnRoaXMuc2xpY2UoZSwrZSsxKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9W107Zm9yKHQ9MCxuPXRoaXMubGVuZ3RoO3Q8bjt0KyspUmkuZmluZChlLHRoaXNbdF0scik7cmV0dXJuIFJpKHIpfSxmaWx0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIFJpKCJmdW5jdGlvbiI9PXR5cGVvZiBuP05pKHRoaXMudG9BcnJheSgpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4odCxlKX0pOlJpLmZpbHRlcihuLHRoaXMudG9BcnJheSgpKSl9LGNsb3Nlc3Q6ZnVuY3Rpb24obil7dmFyIHI9W107cmV0dXJuIG4gaW5zdGFuY2VvZiBSaSYmKG49blswXSksdGhpcy5lYWNoKGZ1bmN0aW9uKGUsdCl7Zm9yKDt0Oyl7aWYoInN0cmluZyI9PXR5cGVvZiBuJiZSaSh0KS5pcyhuKSl7ci5wdXNoKHQpO2JyZWFrfWlmKHQ9PT1uKXtyLnB1c2godCk7YnJlYWt9dD10LnBhcmVudE5vZGV9fSksUmkocil9LG9mZnNldDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpPTAsYT0wO3JldHVybiBlP3RoaXMuY3NzKGUpOigodD10aGlzWzBdKSYmKHI9KG49dC5vd25lckRvY3VtZW50KS5kb2N1bWVudEVsZW1lbnQsdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJihpPShvPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLmxlZnQrKHIuc2Nyb2xsTGVmdHx8bi5ib2R5LnNjcm9sbExlZnQpLXIuY2xpZW50TGVmdCxhPW8udG9wKyhyLnNjcm9sbFRvcHx8bi5ib2R5LnNjcm9sbFRvcCktci5jbGllbnRUb3ApKSx7bGVmdDppLHRvcDphfSl9LHB1c2g6cmksc29ydDpBcnJheS5wcm90b3R5cGUuc29ydCxzcGxpY2U6QXJyYXkucHJvdG90eXBlLnNwbGljZX0seXQuZXh0ZW5kKENpLHtleHRlbmQ6eXQuZXh0ZW5kLG1ha2VBcnJheTpmdW5jdGlvbihlKXtyZXR1cm4odD1lKSYmdD09PXQud2luZG93fHxlLm5vZGVUeXBlP1tlXTp5dC50b0FycmF5KGUpO3ZhciB0fSxpbkFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIG47aWYodC5pbmRleE9mKXJldHVybiB0LmluZGV4T2YoZSk7Zm9yKG49dC5sZW5ndGg7bi0tOylpZih0W25dPT09ZSlyZXR1cm4gbjtyZXR1cm4tMX0saXNBcnJheTp5dC5pc0FycmF5LGVhY2g6U2ksdHJpbTp4aSxncmVwOk5pLGZpbmQ6Vm8sZXhwcjpWby5zZWxlY3RvcnMsdW5pcXVlOlZvLnVuaXF1ZVNvcnQsdGV4dDpWby5nZXRUZXh0LGNvbnRhaW5zOlZvLmNvbnRhaW5zLGZpbHRlcjpmdW5jdGlvbihlLHQsbil7dmFyIHI9dC5sZW5ndGg7Zm9yKG4mJihlPSI6bm90KCIrZSsiKSIpO3ItLTspMSE9PXRbcl0ubm9kZVR5cGUmJnQuc3BsaWNlKHIsMSk7cmV0dXJuIHQ9MT09PXQubGVuZ3RoP1JpLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHRbMF0sZSk/W3RbMF1dOltdOlJpLmZpbmQubWF0Y2hlcyhlLHQpfX0pO3ZhciBraT1mdW5jdGlvbihlLHQsbil7dmFyIHI9W10sbz1lW3RdO2Zvcigic3RyaW5nIiE9dHlwZW9mIG4mJm4gaW5zdGFuY2VvZiBSaSYmKG49blswXSk7byYmOSE9PW8ubm9kZVR5cGU7KXtpZihuIT09dW5kZWZpbmVkKXtpZihvPT09bilicmVhaztpZigic3RyaW5nIj09dHlwZW9mIG4mJlJpKG8pLmlzKG4pKWJyZWFrfTE9PT1vLm5vZGVUeXBlJiZyLnB1c2gobyksbz1vW3RdfXJldHVybiByfSxfaT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1bXTtmb3IociBpbnN0YW5jZW9mIFJpJiYocj1yWzBdKTtlO2U9ZVt0XSlpZighbnx8ZS5ub2RlVHlwZT09PW4pe2lmKHIhPT11bmRlZmluZWQpe2lmKGU9PT1yKWJyZWFrO2lmKCJzdHJpbmciPT10eXBlb2YgciYmUmkoZSkuaXMocikpYnJlYWt9by5wdXNoKGUpfXJldHVybiBvfSxUaT1mdW5jdGlvbihlLHQsbil7Zm9yKGU9ZVt0XTtlO2U9ZVt0XSlpZihlLm5vZGVUeXBlPT09bilyZXR1cm4gZTtyZXR1cm4gbnVsbH07U2koe3BhcmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGtpKGUsInBhcmVudE5vZGUiKX0sbmV4dDpmdW5jdGlvbihlKXtyZXR1cm4gVGkoZSwibmV4dFNpYmxpbmciLDEpfSxwcmV2OmZ1bmN0aW9uKGUpe3JldHVybiBUaShlLCJwcmV2aW91c1NpYmxpbmciLDEpfSxjaGlsZHJlbjpmdW5jdGlvbihlKXtyZXR1cm4gX2koZS5maXJzdENoaWxkLCJuZXh0U2libGluZyIsMSl9LGNvbnRlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiB5dC50b0FycmF5KCgiaWZyYW1lIj09PWUubm9kZU5hbWU/ZS5jb250ZW50RG9jdW1lbnR8fGUuY29udGVudFdpbmRvdy5kb2N1bWVudDplKS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKHIsbyl7Q2kuZm5bcl09ZnVuY3Rpb24odCl7dmFyIG49W107dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9by5jYWxsKG4sdGhpcyx0LG4pO2UmJihSaS5pc0FycmF5KGUpP24ucHVzaC5hcHBseShuLGUpOm4ucHVzaChlKSl9KSwxPHRoaXMubGVuZ3RoJiYodWlbcl18fChuPVJpLnVuaXF1ZShuKSksMD09PXIuaW5kZXhPZigicGFyZW50cyIpJiYobj1uLnJldmVyc2UoKSkpO3ZhciBlPVJpKG4pO3JldHVybiB0P2UuZmlsdGVyKHQpOmV9fSksU2koe3BhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQpe3JldHVybiBraShlLCJwYXJlbnROb2RlIix0KX0sbmV4dFVudGlsOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9pKGUsIm5leHRTaWJsaW5nIiwxLHQpLnNsaWNlKDEpfSxwcmV2VW50aWw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gX2koZSwicHJldmlvdXNTaWJsaW5nIiwxLHQpLnNsaWNlKDEpfX0sZnVuY3Rpb24obyxpKXtDaS5mbltvXT1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPWkuY2FsbChuLHRoaXMsdCxuKTtlJiYoUmkuaXNBcnJheShlKT9uLnB1c2guYXBwbHkobixlKTpuLnB1c2goZSkpfSksMTx0aGlzLmxlbmd0aCYmKG49UmkudW5pcXVlKG4pLDAhPT1vLmluZGV4T2YoInBhcmVudHMiKSYmInByZXZVbnRpbCIhPT1vfHwobj1uLnJldmVyc2UoKSkpO3ZhciByPVJpKG4pO3JldHVybiBlP3IuZmlsdGVyKGUpOnJ9fSksQ2kuZm4uaXM9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYwPHRoaXMuZmlsdGVyKGUpLmxlbmd0aH0sQ2kuZm4uaW5pdC5wcm90b3R5cGU9Q2kuZm4sQ2kub3ZlcnJpZGVEZWZhdWx0cz1mdW5jdGlvbihuKXt2YXIgcixvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHI9cnx8bigpLDA9PT1hcmd1bWVudHMubGVuZ3RoJiYoZT1yLmVsZW1lbnQpLHQ9dHx8ci5jb250ZXh0LG5ldyBvLmZuLmluaXQoZSx0KX07cmV0dXJuIFJpLmV4dGVuZChvLHRoaXMpLG99LENpLmF0dHJIb29rcz15aSxDaS5jc3NIb29rcz1iaTt2YXIgUmk9Q2ksQWk9KERpLnByb3RvdHlwZS5jdXJyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZX0sRGkucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubm9kZT10aGlzLmZpbmRTaWJsaW5nKHRoaXMubm9kZSwiZmlyc3RDaGlsZCIsIm5leHRTaWJsaW5nIixlKSx0aGlzLm5vZGV9LERpLnByb3RvdHlwZS5wcmV2PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5vZGU9dGhpcy5maW5kU2libGluZyh0aGlzLm5vZGUsImxhc3RDaGlsZCIsInByZXZpb3VzU2libGluZyIsZSksdGhpcy5ub2RlfSxEaS5wcm90b3R5cGUucHJldjI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubm9kZT10aGlzLmZpbmRQcmV2aW91c05vZGUodGhpcy5ub2RlLCJsYXN0Q2hpbGQiLCJwcmV2aW91c1NpYmxpbmciLGUpLHRoaXMubm9kZX0sRGkucHJvdG90eXBlLmZpbmRTaWJsaW5nPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGk7aWYoZSl7aWYoIXImJmVbdF0pcmV0dXJuIGVbdF07aWYoZSE9PXRoaXMucm9vdE5vZGUpe2lmKG89ZVtuXSlyZXR1cm4gbztmb3IoaT1lLnBhcmVudE5vZGU7aSYmaSE9PXRoaXMucm9vdE5vZGU7aT1pLnBhcmVudE5vZGUpaWYobz1pW25dKXJldHVybiBvfX19LERpLnByb3RvdHlwZS5maW5kUHJldmlvdXNOb2RlPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYTtpZihlKXtpZihvPWVbbl0sdGhpcy5yb290Tm9kZSYmbz09PXRoaXMucm9vdE5vZGUpcmV0dXJuO2lmKG8pe2lmKCFyKWZvcihhPW9bdF07YTthPWFbdF0paWYoIWFbdF0pcmV0dXJuIGE7cmV0dXJuIG99aWYoKGk9ZS5wYXJlbnROb2RlKSYmaSE9PXRoaXMucm9vdE5vZGUpcmV0dXJuIGl9fSxEaSk7ZnVuY3Rpb24gRGkoZSx0KXt0aGlzLm5vZGU9ZSx0aGlzLnJvb3ROb2RlPXQsdGhpcy5jdXJyZW50PXRoaXMuY3VycmVudC5iaW5kKHRoaXMpLHRoaXMubmV4dD10aGlzLm5leHQuYmluZCh0aGlzKSx0aGlzLnByZXY9dGhpcy5wcmV2LmJpbmQodGhpcyksdGhpcy5wcmV2Mj10aGlzLnByZXYyLmJpbmQodGhpcyl9dmFyIE9pLEJpLFBpLExpLElpPXt9LE1pPXtleHBvcnRzOklpfTtPaT11bmRlZmluZWQsQmk9SWksUGk9TWksTGk9dW5kZWZpbmVkLGZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgQmkmJnZvaWQgMCE9PVBpKVBpLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIE9pJiZPaS5hbWQpT2koW10sZSk7ZWxzZXsoInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzKS5FcGhveENvbnRhY3RXcmFwcGVyPWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGwoaSxhLHUpe2Z1bmN0aW9uIHModCxlKXtpZighYVt0XSl7aWYoIWlbdF0pe3ZhciBuPSJmdW5jdGlvbiI9PXR5cGVvZiBMaSYmTGk7aWYoIWUmJm4pcmV0dXJuIG4odCwhMCk7aWYoYylyZXR1cm4gYyh0LCEwKTt2YXIgcj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIit0KyInIik7dGhyb3cgci5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixyfXZhciBvPWFbdF09e2V4cG9ydHM6e319O2lbdF1bMF0uY2FsbChvLmV4cG9ydHMsZnVuY3Rpb24oZSl7cmV0dXJuIHMoaVt0XVsxXVtlXXx8ZSl9LG8sby5leHBvcnRzLGwsaSxhLHUpfXJldHVybiBhW3RdLmV4cG9ydHN9Zm9yKHZhciBjPSJmdW5jdGlvbiI9PXR5cGVvZiBMaSYmTGksZT0wO2U8dS5sZW5ndGg7ZSsrKXModVtlXSk7cmV0dXJuIHN9KHsxOltmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPXQuZXhwb3J0cz17fTtmdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gdSgpe3Rocm93IG5ldyBFcnJvcigiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gcyhlKXtpZihyPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChyPT09YXx8IXIpJiZzZXRUaW1lb3V0KXJldHVybiByPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gcihlLDApfWNhdGNoKExFKXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLGUsMCl9Y2F0Y2goTEUpe3JldHVybiByLmNhbGwodGhpcyxlLDApfX19IWZ1bmN0aW9uKCl7dHJ5e3I9ImZ1bmN0aW9uIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDphfWNhdGNoKExFKXtyPWF9dHJ5e289ImZ1bmN0aW9uIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6dX1jYXRjaChMRSl7bz11fX0oKTt2YXIgYyxsPVtdLGY9ITEsZD0tMTtmdW5jdGlvbiBtKCl7ZiYmYyYmKGY9ITEsYy5sZW5ndGg/bD1jLmNvbmNhdChsKTpkPS0xLGwubGVuZ3RoJiZwKCkpfWZ1bmN0aW9uIHAoKXtpZighZil7dmFyIGU9cyhtKTtmPSEwO2Zvcih2YXIgdD1sLmxlbmd0aDt0Oyl7Zm9yKGM9bCxsPVtdOysrZDx0OyljJiZjW2RdLnJ1bigpO2Q9LTEsdD1sLmxlbmd0aH1jPW51bGwsZj0hMSxmdW5jdGlvbiBuKGUpe2lmKG89PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigobz09PXV8fCFvKSYmY2xlYXJUaW1lb3V0KXJldHVybiBvPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e3JldHVybiBvKGUpfWNhdGNoKExFKXt0cnl7cmV0dXJuIG8uY2FsbChudWxsLGUpfWNhdGNoKExFKXtyZXR1cm4gby5jYWxsKHRoaXMsZSl9fX0oZSl9fWZ1bmN0aW9uIGcoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBoKCl7fWkubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoMTxhcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtsLnB1c2gobmV3IGcoZSx0KSksMSE9PWwubGVuZ3RofHxmfHxzKHApfSxnLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxpLnRpdGxlPSJicm93c2VyIixpLmJyb3dzZXI9ITAsaS5lbnY9e30saS5hcmd2PVtdLGkudmVyc2lvbj0iIixpLnZlcnNpb25zPXt9LGkub249aCxpLmFkZExpc3RlbmVyPWgsaS5vbmNlPWgsaS5vZmY9aCxpLnJlbW92ZUxpc3RlbmVyPWgsaS5yZW1vdmVBbGxMaXN0ZW5lcnM9aCxpLmVtaXQ9aCxpLnByZXBlbmRMaXN0ZW5lcj1oLGkucHJlcGVuZE9uY2VMaXN0ZW5lcj1oLGkubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfSxpLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCIpfSxpLmN3ZD1mdW5jdGlvbigpe3JldHVybiIvIn0saS5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCIpfSxpLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7fV0sMjpbZnVuY3Rpb24oZSxmLHQpeyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7fWZ1bmN0aW9uIGkoZSl7aWYoIm9iamVjdCIhPXR5cGVvZiB0aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoIlByb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldyIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIm5vdCBhIGZ1bmN0aW9uIik7dGhpcy5fc3RhdGU9MCx0aGlzLl9oYW5kbGVkPSExLHRoaXMuX3ZhbHVlPXVuZGVmaW5lZCx0aGlzLl9kZWZlcnJlZHM9W10sbChlLHRoaXMpfWZ1bmN0aW9uIG8obixyKXtmb3IoOzM9PT1uLl9zdGF0ZTspbj1uLl92YWx1ZTswIT09bi5fc3RhdGU/KG4uX2hhbmRsZWQ9ITAsaS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKXt2YXIgZT0xPT09bi5fc3RhdGU/ci5vbkZ1bGZpbGxlZDpyLm9uUmVqZWN0ZWQ7aWYobnVsbCE9PWUpe3ZhciB0O3RyeXt0PWUobi5fdmFsdWUpfWNhdGNoKExFKXtyZXR1cm4gdm9pZCB1KHIucHJvbWlzZSxMRSl9YShyLnByb21pc2UsdCl9ZWxzZSgxPT09bi5fc3RhdGU/YTp1KShyLnByb21pc2Usbi5fdmFsdWUpfSkpOm4uX2RlZmVycmVkcy5wdXNoKHIpfWZ1bmN0aW9uIGEoZSx0KXt0cnl7aWYodD09PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4iKTtpZih0JiYoIm9iamVjdCI9PXR5cGVvZiB0fHwiZnVuY3Rpb24iPT10eXBlb2YgdCkpe3ZhciBuPXQudGhlbjtpZih0IGluc3RhbmNlb2YgaSlyZXR1cm4gZS5fc3RhdGU9MyxlLl92YWx1ZT10LHZvaWQgcyhlKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm4gdm9pZCBsKGZ1bmN0aW9uIHIoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtlLmFwcGx5KHQsYXJndW1lbnRzKX19KG4sdCksZSl9ZS5fc3RhdGU9MSxlLl92YWx1ZT10LHMoZSl9Y2F0Y2goTEUpe3UoZSxMRSl9fWZ1bmN0aW9uIHUoZSx0KXtlLl9zdGF0ZT0yLGUuX3ZhbHVlPXQscyhlKX1mdW5jdGlvbiBzKGUpezI9PT1lLl9zdGF0ZSYmMD09PWUuX2RlZmVycmVkcy5sZW5ndGgmJmkuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCl7ZS5faGFuZGxlZHx8aS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4oZS5fdmFsdWUpfSk7Zm9yKHZhciB0PTAsbj1lLl9kZWZlcnJlZHMubGVuZ3RoO3Q8bjt0KyspbyhlLGUuX2RlZmVycmVkc1t0XSk7ZS5fZGVmZXJyZWRzPW51bGx9ZnVuY3Rpb24gYyhlLHQsbil7dGhpcy5vbkZ1bGZpbGxlZD0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOm51bGwsdGhpcy5vblJlamVjdGVkPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6bnVsbCx0aGlzLnByb21pc2U9bn1mdW5jdGlvbiBsKGUsdCl7dmFyIG49ITE7dHJ5e2UoZnVuY3Rpb24oZSl7bnx8KG49ITAsYSh0LGUpKX0sZnVuY3Rpb24oZSl7bnx8KG49ITAsdSh0LGUpKX0pfWNhdGNoKHIpe2lmKG4pcmV0dXJuO249ITAsdSh0LHIpfX12YXIgZSxuO2U9dGhpcyxuPXNldFRpbWVvdXQsaS5wcm90b3R5cGVbImNhdGNoIl09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGUpfSxpLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHRoaXMuY29uc3RydWN0b3Iocik7cmV0dXJuIG8odGhpcyxuZXcgYyhlLHQsbikpLG59LGkuYWxsPWZ1bmN0aW9uKGUpe3ZhciBzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpO3JldHVybiBuZXcgaShmdW5jdGlvbihvLGkpe2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gbyhbXSk7dmFyIGE9cy5sZW5ndGg7ZnVuY3Rpb24gdSh0LGUpe3RyeXtpZihlJiYoIm9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZSkpe3ZhciBuPWUudGhlbjtpZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm4gdm9pZCBuLmNhbGwoZSxmdW5jdGlvbihlKXt1KHQsZSl9LGkpfXNbdF09ZSwwPT0tLWEmJm8ocyl9Y2F0Y2gocil7aShyKX19Zm9yKHZhciBlPTA7ZTxzLmxlbmd0aDtlKyspdShlLHNbZV0pfSl9LGkucmVzb2x2ZT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmIm9iamVjdCI9PXR5cGVvZiB0JiZ0LmNvbnN0cnVjdG9yPT09aT90Om5ldyBpKGZ1bmN0aW9uKGUpe2UodCl9KX0saS5yZWplY3Q9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBpKGZ1bmN0aW9uKGUsdCl7dChuKX0pfSxpLnJhY2U9ZnVuY3Rpb24obyl7cmV0dXJuIG5ldyBpKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1vLmxlbmd0aDtuPHI7bisrKW9bbl0udGhlbihlLHQpfSl9LGkuX2ltbWVkaWF0ZUZuPSJmdW5jdGlvbiI9PXR5cGVvZiB0P2Z1bmN0aW9uKGUpe3QoZSl9OmZ1bmN0aW9uKGUpe24oZSwwKX0saS5fdW5oYW5kbGVkUmVqZWN0aW9uRm49ZnVuY3Rpb24oZSl7InVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlJiZjb25zb2xlLndhcm4oIlBvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbjoiLGUpfSxpLl9zZXRJbW1lZGlhdGVGbj1mdW5jdGlvbihlKXtpLl9pbW1lZGlhdGVGbj1lfSxpLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Gbj1mdW5jdGlvbihlKXtpLl91bmhhbmRsZWRSZWplY3Rpb25Gbj1lfSx2b2lkIDAhPT1mJiZmLmV4cG9ydHM/Zi5leHBvcnRzPWk6ZS5Qcm9taXNlfHwoZS5Qcm9taXNlPWkpfSkuY2FsbCh0aGlzLGUoInRpbWVycyIpLnNldEltbWVkaWF0ZSl9LHt0aW1lcnM6M31dLDM6W2Z1bmN0aW9uKHMsZSxjKXsoZnVuY3Rpb24oZSx0KXt2YXIgcj1zKCJwcm9jZXNzL2Jyb3dzZXIuanMiKS5uZXh0VGljayxuPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxvPUFycmF5LnByb3RvdHlwZS5zbGljZSxpPXt9LGE9MDtmdW5jdGlvbiB1KGUsdCl7dGhpcy5faWQ9ZSx0aGlzLl9jbGVhckZuPXR9Yy5zZXRUaW1lb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1KG4uY2FsbChzZXRUaW1lb3V0LHdpbmRvdyxhcmd1bWVudHMpLGNsZWFyVGltZW91dCl9LGMuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUobi5jYWxsKHNldEludGVydmFsLHdpbmRvdyxhcmd1bWVudHMpLGNsZWFySW50ZXJ2YWwpfSxjLmNsZWFyVGltZW91dD1jLmNsZWFySW50ZXJ2YWw9ZnVuY3Rpb24oZSl7ZS5jbG9zZSgpfSx1LnByb3RvdHlwZS51bnJlZj11LnByb3RvdHlwZS5yZWY9ZnVuY3Rpb24oKXt9LHUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdyx0aGlzLl9pZCl9LGMuZW5yb2xsPWZ1bmN0aW9uKGUsdCl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpLGUuX2lkbGVUaW1lb3V0PXR9LGMudW5lbnJvbGw9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpLGUuX2lkbGVUaW1lb3V0PS0xfSxjLl91bnJlZkFjdGl2ZT1jLmFjdGl2ZT1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCk7dmFyIHQ9ZS5faWRsZVRpbWVvdXQ7MDw9dCYmKGUuX2lkbGVUaW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2UuX29uVGltZW91dCYmZS5fb25UaW1lb3V0KCl9LHQpKX0sYy5zZXRJbW1lZGlhdGU9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpmdW5jdGlvbihlKXt2YXIgdD1hKyssbj0hKGFyZ3VtZW50cy5sZW5ndGg8MikmJm8uY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGlbdF09ITAscihmdW5jdGlvbigpe2lbdF0mJihuP2UuYXBwbHkobnVsbCxuKTplLmNhbGwobnVsbCksYy5jbGVhckltbWVkaWF0ZSh0KSl9KSx0fSxjLmNsZWFySW1tZWRpYXRlPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6ZnVuY3Rpb24oZSl7ZGVsZXRlIGlbZV19fSkuY2FsbCh0aGlzLHMoInRpbWVycyIpLnNldEltbWVkaWF0ZSxzKCJ0aW1lcnMiKS5jbGVhckltbWVkaWF0ZSl9LHsicHJvY2Vzcy9icm93c2VyLmpzIjoxLHRpbWVyczozfV0sNDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoInByb21pc2UtcG9seWZpbGwiKSxvPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpGdW5jdGlvbigicmV0dXJuIHRoaXM7IikoKTt0LmV4cG9ydHM9e2JvbHRFeHBvcnQ6by5Qcm9taXNlfHxyfX0seyJwcm9taXNlLXBvbHlmaWxsIjoyfV19LHt9LFs0XSkoNCl9KTt2YXIgRmksVWksemksamksSGk9TWkuZXhwb3J0cy5ib2x0RXhwb3J0LFZpPWZ1bmN0aW9uKGUpe3ZhciBuPUIubm9uZSgpLHQ9W10scj1mdW5jdGlvbihlKXtvKCk/YShlKTp0LnB1c2goZSl9LG89ZnVuY3Rpb24oKXtyZXR1cm4gbi5pc1NvbWUoKX0saT1mdW5jdGlvbihlKXt6KGUsYSl9LGE9ZnVuY3Rpb24odCl7bi5lYWNoKGZ1bmN0aW9uKGUpe1Yuc2V0VGltZW91dChmdW5jdGlvbigpe3QoZSl9LDApfSl9O3JldHVybiBlKGZ1bmN0aW9uKGUpe28oKXx8KG49Qi5zb21lKGUpLGkodCksdD1bXSl9KSx7Z2V0OnIsbWFwOmZ1bmN0aW9uKG4pe3JldHVybiBWaShmdW5jdGlvbih0KXtyKGZ1bmN0aW9uKGUpe3QobihlKSl9KX0pfSxpc1JlYWR5Om99fSxxaT17bnU6VmkscHVyZTpmdW5jdGlvbih0KXtyZXR1cm4gVmkoZnVuY3Rpb24oZSl7ZSh0KX0pfX0sJGk9ZnVuY3Rpb24oZSl7Vi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0sMCl9LFdpPWZ1bmN0aW9uKG4pe3ZhciBlPWZ1bmN0aW9uKGUpe24oKS50aGVuKGUsJGkpfTtyZXR1cm57bWFwOmZ1bmN0aW9uKGUpe3JldHVybiBXaShmdW5jdGlvbigpe3JldHVybiBuKCkudGhlbihlKX0pfSxiaW5kOmZ1bmN0aW9uKHQpe3JldHVybiBXaShmdW5jdGlvbigpe3JldHVybiBuKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdChlKS50b1Byb21pc2UoKX0pfSl9LGFub25CaW5kOmZ1bmN0aW9uKGUpe3JldHVybiBXaShmdW5jdGlvbigpe3JldHVybiBuKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLnRvUHJvbWlzZSgpfSl9KX0sdG9MYXp5OmZ1bmN0aW9uKCl7cmV0dXJuIHFpLm51KGUpfSx0b0NhY2hlZDpmdW5jdGlvbigpe3ZhciBlPW51bGw7cmV0dXJuIFdpKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT1lJiYoZT1uKCkpLGV9KX0sdG9Qcm9taXNlOm4sZ2V0OmV9fSxLaT1mdW5jdGlvbihlKXtyZXR1cm4gV2koZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEhpKGUpfSl9LFhpPWZ1bmN0aW9uKGEsZSl7cmV0dXJuIGUoZnVuY3Rpb24ocil7dmFyIG89W10saT0wOzA9PT1hLmxlbmd0aD9yKFtdKTp6KGEsZnVuY3Rpb24oZSx0KXt2YXIgbjtlLmdldCgobj10LGZ1bmN0aW9uKGUpe29bbl09ZSwrK2k+PWEubGVuZ3RoJiZyKG8pfSkpfSl9KX0sWWk9ZnVuY3Rpb24obil7cmV0dXJue2lzOmZ1bmN0aW9uKGUpe3JldHVybiBuPT09ZX0saXNWYWx1ZTpoLGlzRXJyb3I6ZyxnZXRPcjp4KG4pLGdldE9yVGh1bms6eChuKSxnZXRPckRpZTp4KG4pLG9yOmZ1bmN0aW9uKGUpe3JldHVybiBZaShuKX0sb3JUaHVuazpmdW5jdGlvbihlKXtyZXR1cm4gWWkobil9LGZvbGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdChuKX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiBZaShlKG4pKX0sbWFwRXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIFlpKG4pfSxlYWNoOmZ1bmN0aW9uKGUpe2Uobil9LGJpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUobil9LGV4aXN0czpmdW5jdGlvbihlKXtyZXR1cm4gZShuKX0sZm9yYWxsOmZ1bmN0aW9uKGUpe3JldHVybiBlKG4pfSx0b09wdGlvbjpmdW5jdGlvbigpe3JldHVybiBCLnNvbWUobil9fX0sR2k9ZnVuY3Rpb24obil7cmV0dXJue2lzOmcsaXNWYWx1ZTpnLGlzRXJyb3I6aCxnZXRPcjpvLGdldE9yVGh1bms6ZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0sZ2V0T3JEaWU6ZnVuY3Rpb24oKXtyZXR1cm4gcChTdHJpbmcobikpKCl9LG9yOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxvclRodW5rOmZ1bmN0aW9uKGUpe3JldHVybiBlKCl9LGZvbGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZShuKX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiBHaShuKX0sbWFwRXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIEdpKGUobikpfSxlYWNoOmYsYmluZDpmdW5jdGlvbihlKXtyZXR1cm4gR2kobil9LGV4aXN0czpnLGZvcmFsbDpoLHRvT3B0aW9uOkIubm9uZX19LEppPXt2YWx1ZTpZaSxlcnJvcjpHaSxmcm9tT3B0aW9uOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZm9sZChmdW5jdGlvbigpe3JldHVybiBHaSh0KX0sWWkpfX0sUWk9ZnVuY3Rpb24oYSl7aWYoIWsoYSkpdGhyb3cgbmV3IEVycm9yKCJjYXNlcyBtdXN0IGJlIGFuIGFycmF5Iik7aWYoMD09PWEubGVuZ3RoKXRocm93IG5ldyBFcnJvcigidGhlcmUgbXVzdCBiZSBhdCBsZWFzdCBvbmUgY2FzZSIpO3ZhciB1PVtdLG49e307cmV0dXJuIHooYSxmdW5jdGlvbihlLHIpe3ZhciB0PW5lKGUpO2lmKDEhPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIm9uZSBhbmQgb25seSBvbmUgbmFtZSBwZXIgY2FzZSIpO3ZhciBvPXRbMF0saT1lW29dO2lmKG5bb10hPT11bmRlZmluZWQpdGhyb3cgbmV3IEVycm9yKCJkdXBsaWNhdGUga2V5IGRldGVjdGVkOiIrbyk7aWYoImNhdGEiPT09byl0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCBoYXZlIGEgY2FzZSBuYW1lZCBjYXRhIChzb3JyeSkiKTtpZighayhpKSl0aHJvdyBuZXcgRXJyb3IoImNhc2UgYXJndW1lbnRzIG11c3QgYmUgYW4gYXJyYXkiKTt1LnB1c2gobyksbltvXT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg7aWYoZSE9PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cyB0byBjYXNlICIrbysiLiBFeHBlY3RlZCAiK2kubGVuZ3RoKyIgKCIraSsiKSwgZ290ICIrZSk7Zm9yKHZhciBuPW5ldyBBcnJheShlKSx0PTA7dDxuLmxlbmd0aDt0Kyspblt0XT1hcmd1bWVudHNbdF07cmV0dXJue2ZvbGQ6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoIT09YS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGZvbGQuIEV4cGVjdGVkICIrYS5sZW5ndGgrIiwgZ290ICIrYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIGFyZ3VtZW50c1tyXS5hcHBseShudWxsLG4pfSxtYXRjaDpmdW5jdGlvbihlKXt2YXIgdD1uZShlKTtpZih1Lmxlbmd0aCE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cyB0byBtYXRjaC4gRXhwZWN0ZWQ6ICIrdS5qb2luKCIsIikrIlxuQWN0dWFsOiAiK3Quam9pbigiLCIpKTtpZighRyh1LGZ1bmN0aW9uKGUpe3JldHVybiBNKHQsZSl9KSl0aHJvdyBuZXcgRXJyb3IoIk5vdCBhbGwgYnJhbmNoZXMgd2VyZSBzcGVjaWZpZWQgd2hlbiB1c2luZyBtYXRjaC4gU3BlY2lmaWVkOiAiK3Quam9pbigiLCAiKSsiXG5SZXF1aXJlZDogIit1LmpvaW4oIiwgIikpO3JldHVybiBlW29dLmFwcGx5KG51bGwsbil9LGxvZzpmdW5jdGlvbihlKXtWLmNvbnNvbGUubG9nKGUse2NvbnN0cnVjdG9yczp1LGNvbnN0cnVjdG9yOm8scGFyYW1zOm59KX19fX0pLG59LFppPShRaShbe2JvdGhFcnJvcnM6WyJlcnJvcjEiLCJlcnJvcjIiXX0se2ZpcnN0RXJyb3I6WyJlcnJvcjEiLCJ2YWx1ZTIiXX0se3NlY29uZEVycm9yOlsidmFsdWUxIiwiZXJyb3IyIl19LHtib3RoVmFsdWVzOlsidmFsdWUxIiwidmFsdWUyIl19XSksZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChvLG8pfSksZWE9d2luZG93LlByb21pc2U/d2luZG93LlByb21pc2U6KEZpPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9LHppPShVaT1mdW5jdGlvbihlKXtpZigib2JqZWN0IiE9dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigibm90IGEgZnVuY3Rpb24iKTt0aGlzLl9zdGF0ZT1udWxsLHRoaXMuX3ZhbHVlPW51bGwsdGhpcy5fZGVmZXJyZWRzPVtdLHVhKGUsdGEocmEsdGhpcyksdGEob2EsdGhpcykpfSkuaW1tZWRpYXRlRm58fCJmdW5jdGlvbiI9PXR5cGVvZiBWLnNldEltbWVkaWF0ZSYmVi5zZXRJbW1lZGlhdGV8fGZ1bmN0aW9uKGUpe1Yuc2V0VGltZW91dChlLDEpfSxVaS5wcm90b3R5cGVbImNhdGNoIl09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGUpfSxVaS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihuLHIpe3ZhciBvPXRoaXM7cmV0dXJuIG5ldyBVaShmdW5jdGlvbihlLHQpe25hLmNhbGwobyxuZXcgYWEobixyLGUsdCkpfSl9LFVpLmFsbD1mdW5jdGlvbigpe3ZhciBzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKDE9PT1hcmd1bWVudHMubGVuZ3RoJiZGaShhcmd1bWVudHNbMF0pP2FyZ3VtZW50c1swXTphcmd1bWVudHMpO3JldHVybiBuZXcgVWkoZnVuY3Rpb24obyxpKXtpZigwPT09cy5sZW5ndGgpcmV0dXJuIG8oW10pO3ZhciBhPXMubGVuZ3RoO2Z1bmN0aW9uIHUodCxlKXt0cnl7aWYoZSYmKCJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUpKXt2YXIgbj1lLnRoZW47aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4pcmV0dXJuIHZvaWQgbi5jYWxsKGUsZnVuY3Rpb24oZSl7dSh0LGUpfSxpKX1zW3RdPWUsMD09LS1hJiZvKHMpfWNhdGNoKHIpe2kocil9fWZvcih2YXIgZT0wO2U8cy5sZW5ndGg7ZSsrKXUoZSxzW2VdKX0pfSxVaS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYib2JqZWN0Ij09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I9PT1VaT90Om5ldyBVaShmdW5jdGlvbihlKXtlKHQpfSl9LFVpLnJlamVjdD1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IFVpKGZ1bmN0aW9uKGUsdCl7dChuKX0pfSxVaS5yYWNlPWZ1bmN0aW9uKG8pe3JldHVybiBuZXcgVWkoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPW8ubGVuZ3RoO248cjtuKyspb1tuXS50aGVuKGUsdCl9KX0sVWkpO2Z1bmN0aW9uIHRhKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7ZS5hcHBseSh0LGFyZ3VtZW50cyl9fWZ1bmN0aW9uIG5hKG4pe3ZhciByPXRoaXM7bnVsbCE9PXRoaXMuX3N0YXRlP3ppKGZ1bmN0aW9uKCl7dmFyIGU9ci5fc3RhdGU/bi5vbkZ1bGZpbGxlZDpuLm9uUmVqZWN0ZWQ7aWYobnVsbCE9PWUpe3ZhciB0O3RyeXt0PWUoci5fdmFsdWUpfWNhdGNoKExFKXtyZXR1cm4gdm9pZCBuLnJlamVjdChMRSl9bi5yZXNvbHZlKHQpfWVsc2Uoci5fc3RhdGU/bi5yZXNvbHZlOm4ucmVqZWN0KShyLl92YWx1ZSl9KTp0aGlzLl9kZWZlcnJlZHMucHVzaChuKX1mdW5jdGlvbiByYShlKXt0cnl7aWYoZT09PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4iKTtpZihlJiYoIm9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZSkpe3ZhciB0PWUudGhlbjtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClyZXR1cm4gdm9pZCB1YSh0YSh0LGUpLHRhKHJhLHRoaXMpLHRhKG9hLHRoaXMpKX10aGlzLl9zdGF0ZT0hMCx0aGlzLl92YWx1ZT1lLGlhLmNhbGwodGhpcyl9Y2F0Y2goTEUpe29hLmNhbGwodGhpcyxMRSl9fWZ1bmN0aW9uIG9hKGUpe3RoaXMuX3N0YXRlPSExLHRoaXMuX3ZhbHVlPWUsaWEuY2FsbCh0aGlzKX1mdW5jdGlvbiBpYSgpe2Zvcih2YXIgZT0wLHQ9dGhpcy5fZGVmZXJyZWRzLmxlbmd0aDtlPHQ7ZSsrKW5hLmNhbGwodGhpcyx0aGlzLl9kZWZlcnJlZHNbZV0pO3RoaXMuX2RlZmVycmVkcz1udWxsfWZ1bmN0aW9uIGFhKGUsdCxuLHIpe3RoaXMub25GdWxmaWxsZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpudWxsLHRoaXMub25SZWplY3RlZD0iZnVuY3Rpb24iPT10eXBlb2YgdD90Om51bGwsdGhpcy5yZXNvbHZlPW4sdGhpcy5yZWplY3Q9cn1mdW5jdGlvbiB1YShlLHQsbil7dmFyIHI9ITE7dHJ5e2UoZnVuY3Rpb24oZSl7cnx8KHI9ITAsdChlKSl9LGZ1bmN0aW9uKGUpe3J8fChyPSEwLG4oZSkpfSl9Y2F0Y2gobyl7aWYocilyZXR1cm47cj0hMCxuKG8pfX12YXIgc2E9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHQmJih0PTApLFYuc2V0VGltZW91dChlLHQpfSxjYT1mdW5jdGlvbihlLHQpe3JldHVybiJudW1iZXIiIT10eXBlb2YgdCYmKHQ9MSksVi5zZXRJbnRlcnZhbChlLHQpfSxsYT1mdW5jdGlvbihuLHIpe3ZhciBvLGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07Vi5jbGVhclRpbWVvdXQobyksbz1zYShmdW5jdGlvbigpe24uYXBwbHkodGhpcyxlKX0scil9O3JldHVybiBlLnN0b3A9ZnVuY3Rpb24oKXtWLmNsZWFyVGltZW91dChvKX0sZX0sZmE9e3JlcXVlc3RBbmltYXRpb25GcmFtZTpmdW5jdGlvbihlLHQpe2ppP2ppLnRoZW4oZSk6amk9bmV3IGVhKGZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlLHQpe3ZhciBuLHI9Vi53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLG89WyJtcyIsIm1veiIsIndlYmtpdCJdO2ZvcihuPTA7bjxvLmxlbmd0aCYmIXI7bisrKXI9Vi53aW5kb3dbb1tuXSsiUmVxdWVzdEFuaW1hdGlvbkZyYW1lIl07KHI9cnx8ZnVuY3Rpb24oZSl7Vi53aW5kb3cuc2V0VGltZW91dChlLDApfSkoZSx0KX0oZSx0PXR8fFYuZG9jdW1lbnQuYm9keSl9KS50aGVuKGUpfSxzZXRUaW1lb3V0OnNhLHNldEludGVydmFsOmNhLHNldEVkaXRvclRpbWVvdXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBzYShmdW5jdGlvbigpe2UucmVtb3ZlZHx8dCgpfSxuKX0sc2V0RWRpdG9ySW50ZXJ2YWw6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWNhKGZ1bmN0aW9uKCl7ZS5yZW1vdmVkP1YuY2xlYXJJbnRlcnZhbChyKTp0KCl9LG4pO3JldHVybiByfSxkZWJvdW5jZTpsYSx0aHJvdHRsZTpsYSxjbGVhckludGVydmFsOmZ1bmN0aW9uKGUpe3JldHVybiBWLmNsZWFySW50ZXJ2YWwoZSl9LGNsZWFyVGltZW91dDpmdW5jdGlvbihlKXtyZXR1cm4gVi5jbGVhclRpbWVvdXQoZSl9fTtmdW5jdGlvbiBkYShwLGcpe3ZvaWQgMD09PWcmJihnPXt9KTt2YXIgaD0wLHY9e30sdD1DdC5mcm9tRG9tKHApLHk9THQodCksYj1nLm1heExvYWRUaW1lfHw1ZTMsQz1mdW5jdGlvbihlKXtadChYdCh0KSxlKX0sbj1mdW5jdGlvbihlLHQsbil7dmFyIG8scixpLGE9ZnVuY3Rpb24oZSl7aS5zdGF0dXM9ZSxpLnBhc3NlZD1bXSxpLmZhaWxlZD1bXSxvJiYoby5vbmxvYWQ9bnVsbCxvLm9uZXJyb3I9bnVsbCxvPW51bGwpfSx1PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWkucGFzc2VkLHQ9ZS5sZW5ndGg7dC0tOyllW3RdKCk7YSgyKX0scz1mdW5jdGlvbigpe2Zvcih2YXIgZT1pLmZhaWxlZCx0PWUubGVuZ3RoO3QtLTspZVt0XSgpO2EoMyl9LGM9ZnVuY3Rpb24oZSx0KXtlKCl8fCgobmV3IERhdGUpLmdldFRpbWUoKS1tPGI/ZmEuc2V0VGltZW91dCh0KTpzKCkpfSxsPWZ1bmN0aW9uKCl7YyhmdW5jdGlvbigpe2Zvcih2YXIgZSx0LG49cC5zdHlsZVNoZWV0cyxyPW4ubGVuZ3RoO3ItLTspaWYoKHQ9KGU9bltyXSkub3duZXJOb2RlP2Uub3duZXJOb2RlOmUub3duaW5nRWxlbWVudCkmJnQuaWQ9PT1vLmlkKXJldHVybiB1KCksMX0sbCl9LGY9ZnVuY3Rpb24oKXtjKGZ1bmN0aW9uKCl7dHJ5e3ZhciBlPXIuc2hlZXQuY3NzUnVsZXM7cmV0dXJuIHUoKSxlfWNhdGNoKHQpe319LGYpfTtpZihlPXl0Ll9hZGRDYWNoZVN1ZmZpeChlKSx2W2VdP2k9dltlXTooaT17cGFzc2VkOltdLGZhaWxlZDpbXX0sdltlXT1pKSx0JiZpLnBhc3NlZC5wdXNoKHQpLG4mJmkuZmFpbGVkLnB1c2gobiksMSE9PWkuc3RhdHVzKWlmKDIhPT1pLnN0YXR1cylpZigzIT09aS5zdGF0dXMpe2kuc3RhdHVzPTEsKG89eS5kb20oKS5jcmVhdGVFbGVtZW50KCJsaW5rIikpLnJlbD0ic3R5bGVzaGVldCIsby50eXBlPSJ0ZXh0L2NzcyIsby5pZD0idSIraCsrLG8uYXN5bmM9ITEsby5kZWZlcj0hMTt2YXIgZCxtPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2lmKGcuY29udGVudENzc0NvcnMmJihvLmNyb3NzT3JpZ2luPSJhbm9ueW1vdXMiKSxnLnJlZmVycmVyUG9saWN5JiZQbihDdC5mcm9tRG9tKG8pLCJyZWZlcnJlcnBvbGljeSIsZy5yZWZlcnJlclBvbGljeSksIm9ubG9hZCJpbiBvJiYhKChkPVYubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvV2ViS2l0XC8oXGQqKS8pKSYmcGFyc2VJbnQoZFsxXSwxMCk8NTM2KSlvLm9ubG9hZD1sLG8ub25lcnJvcj1zO2Vsc2V7aWYoMDxWLm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveCIpKXJldHVybihyPXkuZG9tKCkuY3JlYXRlRWxlbWVudCgic3R5bGUiKSkudGV4dENvbnRlbnQ9J0BpbXBvcnQgIicrZSsnIicsZigpLHZvaWQgQyhDdC5mcm9tRG9tKHIpKTtsKCl9QyhDdC5mcm9tRG9tKG8pKSxvLmhyZWY9ZX1lbHNlIHMoKTtlbHNlIHUoKX0sbz1mdW5jdGlvbih0KXtyZXR1cm4gS2koZnVuY3Rpb24oZSl7bih0LGEoZSx4KEppLnZhbHVlKHQpKSksYShlLHgoSmkuZXJyb3IodCkpKSl9KX07cmV0dXJue2xvYWQ6bixsb2FkQWxsOmZ1bmN0aW9uKGUsbixyKXt2YXIgdDt0PVUoZSxvKSxYaSh0LEtpKS5nZXQoZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj1bXSxvPTAsaT1lLmxlbmd0aDtvPGk7bysrKXt2YXIgYT1lW29dOyh0KGEsbyk/bjpyKS5wdXNoKGEpfXJldHVybntwYXNzOm4sZmFpbDpyfX0oZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5pc1ZhbHVlKCl9KTswPHQuZmFpbC5sZW5ndGg/cih0LmZhaWwubWFwKFppKSk6bih0LnBhc3MubWFwKFppKSl9KX0sX3NldFJlZmVycmVyUG9saWN5OmZ1bmN0aW9uKGUpe2cucmVmZXJyZXJQb2xpY3k9ZX19fXZhciBtYSxwYSxnYT0obWE9bmV3IFdlYWtNYXAse2ZvckVsZW1lbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1LdChlKS5kb20oKTtyZXR1cm4gQi5mcm9tKG1hLmdldChuKSkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe3ZhciBlPWRhKG4sdCk7cmV0dXJuIG1hLnNldChuLGUpLGV9KX19KSxoYT15dC5lYWNoLHZhPXl0LmdyZXAseWE9bXQuaWUsYmE9L14oW2EtejAtOV0sPykrJC9pLENhPS9eWyBcdFxyXG5dKiQvLHdhPWZ1bmN0aW9uKG4scixvKXt2YXIgaT1yLmtlZXBfdmFsdWVzLGU9e3NldDpmdW5jdGlvbihlLHQsbil7ci51cmxfY29udmVydGVyJiYodD1yLnVybF9jb252ZXJ0ZXIuY2FsbChyLnVybF9jb252ZXJ0ZXJfc2NvcGV8fG8oKSx0LG4sZVswXSkpLGUuYXR0cigiZGF0YS1tY2UtIituLHQpLmF0dHIobix0KX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYXR0cigiZGF0YS1tY2UtIit0KXx8ZS5hdHRyKHQpfX0sdD17c3R5bGU6e3NldDpmdW5jdGlvbihlLHQpe251bGw9PT10fHwib2JqZWN0IiE9dHlwZW9mIHQ/KGkmJmUuYXR0cigiZGF0YS1tY2Utc3R5bGUiLHQpLG51bGwhPT10JiYic3RyaW5nIj09dHlwZW9mIHQ/KGUucmVtb3ZlQXR0cigic3R5bGUiKSxlLmNzcyhuLnBhcnNlKHQpKSk6ZS5hdHRyKCJzdHlsZSIsdCkpOmUuY3NzKHQpfSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hdHRyKCJkYXRhLW1jZS1zdHlsZSIpfHxlLmF0dHIoInN0eWxlIik7cmV0dXJuIHQ9bi5zZXJpYWxpemUobi5wYXJzZSh0KSxlWzBdLm5vZGVOYW1lKX19fTtyZXR1cm4gaSYmKHQuaHJlZj10LnNyYz1lKSx0fSx4YT1mdW5jdGlvbihlLHQpe3ZhciBuPXQuYXR0cigic3R5bGUiKSxyPWUuc2VyaWFsaXplKGUucGFyc2UobiksdFswXS5ub2RlTmFtZSk7cj1yfHxudWxsLHQuYXR0cigiZGF0YS1tY2Utc3R5bGUiLHIpfSxTYT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbz0wO2lmKGUpZm9yKG49ZS5ub2RlVHlwZSxlPWUucHJldmlvdXNTaWJsaW5nO2U7ZT1lLnByZXZpb3VzU2libGluZylyPWUubm9kZVR5cGUsKCF0fHwzIT09cnx8ciE9PW4mJmUubm9kZVZhbHVlLmxlbmd0aCkmJihvKyssbj1yKTtyZXR1cm4gb307ZnVuY3Rpb24gTmEoYSx1KXt2YXIgcz10aGlzO3ZvaWQgMD09PXUmJih1PXt9KTt2YXIgcj17fSxjPVYud2luZG93LG89e30sdD0wLGU9Z2EuZm9yRWxlbWVudChDdC5mcm9tRG9tKGEpLHtjb250ZW50Q3NzQ29yczp1LmNvbnRlbnRDc3NDb3JzLHJlZmVycmVyUG9saWN5OnUucmVmZXJyZXJQb2xpY3l9KSxsPVtdLGY9dS5zY2hlbWE/dS5zY2hlbWE6UnIoe30pLGk9QnIoe3VybF9jb252ZXJ0ZXI6dS51cmxfY29udmVydGVyLHVybF9jb252ZXJ0ZXJfc2NvcGU6dS51cmxfY29udmVydGVyX3Njb3BlfSx1LnNjaGVtYSksZD11Lm93bkV2ZW50cz9uZXcgSHI6SHIuRXZlbnQsbj1mLmdldEJsb2NrRWxlbWVudHMoKSxtPVJpLm92ZXJyaWRlRGVmYXVsdHMoZnVuY3Rpb24oKXtyZXR1cm57Y29udGV4dDphLGVsZW1lbnQ6ai5nZXRSb290KCl9fSkscD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmYSYmcShlKT9hLmdldEVsZW1lbnRCeUlkKGUpOmV9LGc9ZnVuY3Rpb24oZSl7cmV0dXJuIG0oInN0cmluZyI9PXR5cGVvZiBlP3AoZSk6ZSl9LGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT1nKGUpO3JldHVybiBpLmxlbmd0aCYmKG89KHI9SFt0XSkmJnIuZ2V0P3IuZ2V0KGksdCk6aS5hdHRyKHQpKSx2b2lkIDA9PT1vJiYobz1ufHwiIiksb30sdj1mdW5jdGlvbihlKXt2YXIgdD1wKGUpO3JldHVybiB0P3QuYXR0cmlidXRlczpbXX0seT1mdW5jdGlvbihlLHQsbil7IiI9PT1uJiYobj1udWxsKTt2YXIgcj1nKGUpLG89ci5hdHRyKHQpO2lmKHIubGVuZ3RoKXt2YXIgaT1IW3RdO2kmJmkuc2V0P2kuc2V0KHIsbix0KTpyLmF0dHIodCxuKSxvIT09biYmdS5vblNldEF0dHJpYiYmdS5vblNldEF0dHJpYih7YXR0ckVsbTpyLGF0dHJOYW1lOnQsYXR0clZhbHVlOm59KX19LGI9ZnVuY3Rpb24oKXtyZXR1cm4gdS5yb290X2VsZW1lbnR8fGEuYm9keX0sQz1mdW5jdGlvbihlLHQpe3JldHVybiBxbihhLmJvZHkscChlKSx0KX0sdz1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZyhlKTtyZXR1cm4gbj9yLmNzcyh0KTooImZsb2F0Ij09PSh0PXQucmVwbGFjZSgvLShcRCkvZyxmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9KSkmJih0PW10LmJyb3dzZXIuaXNJRSgpPyJzdHlsZUZsb2F0IjoiY3NzRmxvYXQiKSxyWzBdJiZyWzBdLnN0eWxlP3JbMF0uc3R5bGVbdF06dW5kZWZpbmVkKX0seD1mdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiBlPXAoZSksdD13KGUsIndpZHRoIiksbj13KGUsImhlaWdodCIpLC0xPT09dC5pbmRleE9mKCJweCIpJiYodD0wKSwtMT09PW4uaW5kZXhPZigicHgiKSYmKG49MCkse3c6cGFyc2VJbnQodCwxMCl8fGUub2Zmc2V0V2lkdGh8fGUuY2xpZW50V2lkdGgsaDpwYXJzZUludChuLDEwKXx8ZS5vZmZzZXRIZWlnaHR8fGUuY2xpZW50SGVpZ2h0fX0sUz1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKCFlKXJldHVybiExO2lmKCFBcnJheS5pc0FycmF5KGUpKXtpZigiKiI9PT10KXJldHVybiAxPT09ZS5ub2RlVHlwZTtpZihiYS50ZXN0KHQpKXt2YXIgcj10LnRvTG93ZXJDYXNlKCkuc3BsaXQoLywvKSxvPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtmb3Iobj1yLmxlbmd0aC0xOzA8PW47bi0tKWlmKHJbbl09PT1vKXJldHVybiEwO3JldHVybiExfWlmKGUubm9kZVR5cGUmJjEhPT1lLm5vZGVUeXBlKXJldHVybiExfXZhciBpPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07cmV0dXJuIDA8Vm8odCxpWzBdLm93bmVyRG9jdW1lbnR8fGlbMF0sbnVsbCxpKS5sZW5ndGh9LE49ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saT1bXSxhPXAoZSk7Zm9yKHI9cj09PXVuZGVmaW5lZCxuPW58fCgiQk9EWSIhPT1iKCkubm9kZU5hbWU/YigpLnBhcmVudE5vZGU6bnVsbCkseXQuaXModCwic3RyaW5nIikmJih0PSIqIj09PShvPXQpP2Z1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZX06ZnVuY3Rpb24oZSl7cmV0dXJuIFMoZSxvKX0pO2EmJmEhPT1uJiZhLm5vZGVUeXBlJiY5IT09YS5ub2RlVHlwZTspe2lmKCF0fHwiZnVuY3Rpb24iPT10eXBlb2YgdCYmdChhKSl7aWYoIXIpcmV0dXJuW2FdO2kucHVzaChhKX1hPWEucGFyZW50Tm9kZX1yZXR1cm4gcj9pOm51bGx9LEU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQ7aWYoZSlmb3IoInN0cmluZyI9PXR5cGVvZiB0JiYocj1mdW5jdGlvbihlKXtyZXR1cm4gUyhlLHQpfSksZT1lW25dO2U7ZT1lW25dKWlmKCJmdW5jdGlvbiI9PXR5cGVvZiByJiZyKGUpKXJldHVybiBlO3JldHVybiBudWxsfSxrPWZ1bmN0aW9uKGUsbixyKXt2YXIgbyx0PSJzdHJpbmciPT10eXBlb2YgZT9wKGUpOmU7aWYoIXQpcmV0dXJuITE7aWYoeXQuaXNBcnJheSh0KSYmKHQubGVuZ3RofHwwPT09dC5sZW5ndGgpKXJldHVybiBvPVtdLGhhKHQsZnVuY3Rpb24oZSx0KXtlJiYoInN0cmluZyI9PXR5cGVvZiBlJiYoZT1wKGUpKSxvLnB1c2gobi5jYWxsKHIsZSx0KSkpfSksbzt2YXIgaT1yfHxzO3JldHVybiBuLmNhbGwoaSx0KX0sXz1mdW5jdGlvbihlLHQpe2coZSkuZWFjaChmdW5jdGlvbihlLG4pe2hhKHQsZnVuY3Rpb24oZSx0KXt5KG4sdCxlKX0pfSl9LFQ9ZnVuY3Rpb24oZSxyKXt2YXIgdD1nKGUpO3lhP3QuZWFjaChmdW5jdGlvbihlLHQpe2lmKCExIT09dC5jYW5IYXZlSFRNTCl7Zm9yKDt0LmZpcnN0Q2hpbGQ7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTt0cnl7dC5pbm5lckhUTUw9Ijxicj4iK3IsdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpfWNhdGNoKG4pe1JpKCI8ZGl2PjwvZGl2PiIpLmh0bWwoIjxicj4iK3IpLmNvbnRlbnRzKCkuc2xpY2UoMSkuYXBwZW5kVG8odCl9cmV0dXJuIHJ9fSk6dC5odG1sKHIpfSxSPWZ1bmN0aW9uKGUsbixyLG8saSl7cmV0dXJuIGsoZSxmdW5jdGlvbihlKXt2YXIgdD0ic3RyaW5nIj09dHlwZW9mIG4/YS5jcmVhdGVFbGVtZW50KG4pOm47cmV0dXJuIF8odCxyKSxvJiYoInN0cmluZyIhPXR5cGVvZiBvJiZvLm5vZGVUeXBlP3QuYXBwZW5kQ2hpbGQobyk6InN0cmluZyI9PXR5cGVvZiBvJiZUKHQsbykpLGk/dDplLmFwcGVuZENoaWxkKHQpfSl9LEE9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBSKGEuY3JlYXRlRWxlbWVudChlKSxlLHQsbiwhMCl9LEQ9eXIuZGVjb2RlLE89eXIuZW5jb2RlQWxsUmF3LEI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1nKGUpO3JldHVybiB0P24uZWFjaChmdW5jdGlvbigpe2Zvcih2YXIgZTtlPXRoaXMuZmlyc3RDaGlsZDspMz09PWUubm9kZVR5cGUmJjA9PT1lLmRhdGEubGVuZ3RoP3RoaXMucmVtb3ZlQ2hpbGQoZSk6dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMpfSkucmVtb3ZlKCk6bi5yZW1vdmUoKSwxPG4ubGVuZ3RoP24udG9BcnJheSgpOm5bMF19LFA9ZnVuY3Rpb24oZSx0LG4pe2coZSkudG9nZ2xlQ2xhc3ModCxuKS5lYWNoKGZ1bmN0aW9uKCl7IiI9PT10aGlzLmNsYXNzTmFtZSYmUmkodGhpcykuYXR0cigiY2xhc3MiLG51bGwpfSl9LEw9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBrKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHl0LmlzKGUsImFycmF5IikmJih0PXQuY2xvbmVOb2RlKCEwKSksbiYmaGEodmEoZS5jaGlsZE5vZGVzKSxmdW5jdGlvbihlKXt0LmFwcGVuZENoaWxkKGUpfSksZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0LGUpfSl9LEk9ZnVuY3Rpb24oZSl7aWYodm4oZSkpe3ZhciB0PSJhIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmIWgoZSwiaHJlZiIpJiZoKGUsImlkIik7aWYoaChlLCJuYW1lIil8fGgoZSwiZGF0YS1tY2UtYm9va21hcmsiKXx8dClyZXR1cm4hMH1yZXR1cm4hMX0sTT1mdW5jdGlvbigpe3JldHVybiBhLmNyZWF0ZVJhbmdlKCl9LEY9ZnVuY3Rpb24oZSx0LG4scil7aWYoeXQuaXNBcnJheShlKSl7Zm9yKHZhciBvPWUubGVuZ3RoLGk9W107by0tOylpW29dPUYoZVtvXSx0LG4scik7cmV0dXJuIGl9cmV0dXJuIXUuY29sbGVjdHx8ZSE9PWEmJmUhPT1jfHxsLnB1c2goW2UsdCxuLHJdKSxkLmJpbmQoZSx0LG4scnx8ail9LFU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKHl0LmlzQXJyYXkoZSkpe3I9ZS5sZW5ndGg7Zm9yKHZhciBvPVtdO3ItLTspb1tyXT1VKGVbcl0sdCxuKTtyZXR1cm4gb31pZigwPGwubGVuZ3RoJiYoZT09PWF8fGU9PT1jKSlmb3Iocj1sLmxlbmd0aDtyLS07KXt2YXIgaT1sW3JdO2UhPT1pWzBdfHx0JiZ0IT09aVsxXXx8biYmbiE9PWlbMl18fGQudW5iaW5kKGlbMF0saVsxXSxpWzJdKX1yZXR1cm4gZC51bmJpbmQoZSx0LG4pfSx6PWZ1bmN0aW9uKGUpe2lmKGUmJnZuKGUpKXt2YXIgdD1lLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtY29udGVudGVkaXRhYmxlIik7cmV0dXJuIHQmJiJpbmhlcml0IiE9PXQ/dDoiaW5oZXJpdCIhPT1lLmNvbnRlbnRFZGl0YWJsZT9lLmNvbnRlbnRFZGl0YWJsZTpudWxsfXJldHVybiBudWxsfSxqPXtkb2M6YSxzZXR0aW5nczp1LHdpbjpjLGZpbGVzOm8sc3RkTW9kZTohMCxib3hNb2RlbDohMCxzdHlsZVNoZWV0TG9hZGVyOmUsYm91bmRFdmVudHM6bCxzdHlsZXM6aSxzY2hlbWE6ZixldmVudHM6ZCxpc0Jsb2NrOmZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4hIW5bZV07aWYoZSl7dmFyIHQ9ZS5ub2RlVHlwZTtpZih0KXJldHVybiEoMSE9PXR8fCFuW2Uubm9kZU5hbWVdKX1yZXR1cm4hMX0sJDptLCQkOmcscm9vdDpudWxsLGNsb25lOmZ1bmN0aW9uKHQsZSl7aWYoIXlhfHwxIT09dC5ub2RlVHlwZXx8ZSlyZXR1cm4gdC5jbG9uZU5vZGUoZSk7dmFyIG49YS5jcmVhdGVFbGVtZW50KHQubm9kZU5hbWUpO3JldHVybiBoYSh2KHQpLGZ1bmN0aW9uKGUpe3kobixlLm5vZGVOYW1lLGgodCxlLm5vZGVOYW1lKSl9KSxufSxnZXRSb290OmIsZ2V0Vmlld1BvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9cG4oZSk7cmV0dXJue3g6dC54LHk6dC55LHc6dC53aWR0aCxoOnQuaGVpZ2h0fX0sZ2V0UmVjdDpmdW5jdGlvbihlKXtlPXAoZSk7dmFyIHQ9QyhlKSxuPXgoZSk7cmV0dXJue3g6dC54LHk6dC55LHc6bi53LGg6bi5ofX0sZ2V0U2l6ZTp4LGdldFBhcmVudDpmdW5jdGlvbihlLHQsbil7dmFyIHI9TihlLHQsbiwhMSk7cmV0dXJuIHImJjA8ci5sZW5ndGg/clswXTpudWxsfSxnZXRQYXJlbnRzOk4sZ2V0OnAsZ2V0TmV4dDpmdW5jdGlvbihlLHQpe3JldHVybiBFKGUsdCwibmV4dFNpYmxpbmciKX0sZ2V0UHJldjpmdW5jdGlvbihlLHQpe3JldHVybiBFKGUsdCwicHJldmlvdXNTaWJsaW5nIil9LHNlbGVjdDpmdW5jdGlvbihlLHQpe3JldHVybiBWbyhlLHAodCl8fHUucm9vdF9lbGVtZW50fHxhLFtdKX0saXM6UyxhZGQ6UixjcmVhdGU6QSxjcmVhdGVIVE1MOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvPSIiO2ZvcihyIGluIG8rPSI8IitlLHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmbnVsbCE9PXRbcl0mJiJ1bmRlZmluZWQiIT10eXBlb2YgdFtyXSYmKG8rPSIgIityKyc9IicrTyh0W3JdKSsnIicpO3JldHVybiB2b2lkIDAhPT1uP28rIj4iK24rIjwvIitlKyI+IjpvKyIgLz4ifSxjcmVhdGVGcmFnbWVudDpmdW5jdGlvbihlKXt2YXIgdCxuPWEuY3JlYXRlRWxlbWVudCgiZGl2Iikscj1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3Ioci5hcHBlbmRDaGlsZChuKSxlJiYobi5pbm5lckhUTUw9ZSk7dD1uLmZpcnN0Q2hpbGQ7KXIuYXBwZW5kQ2hpbGQodCk7cmV0dXJuIHIucmVtb3ZlQ2hpbGQobikscn0scmVtb3ZlOkIsc2V0U3R5bGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXEodCk/ZyhlKS5jc3ModCxuKTpnKGUpLmNzcyh0KTt1LnVwZGF0ZV9zdHlsZXMmJnhhKGkscil9LGdldFN0eWxlOncsc2V0U3R5bGVzOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZyhlKS5jc3ModCk7dS51cGRhdGVfc3R5bGVzJiZ4YShpLG4pfSxyZW1vdmVBbGxBdHRyaWJzOmZ1bmN0aW9uKGUpe3JldHVybiBrKGUsZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmF0dHJpYnV0ZXM7Zm9yKHQ9bi5sZW5ndGgtMTswPD10O3QtLSllLnJlbW92ZUF0dHJpYnV0ZU5vZGUobi5pdGVtKHQpKX0pfSxzZXRBdHRyaWI6eSxzZXRBdHRyaWJzOl8sZ2V0QXR0cmliOmgsZ2V0UG9zOkMscGFyc2VTdHlsZTpmdW5jdGlvbihlKXtyZXR1cm4gaS5wYXJzZShlKX0sc2VyaWFsaXplU3R5bGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5zZXJpYWxpemUoZSx0KX0sYWRkU3R5bGU6ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZihqIT09TmEuRE9NJiZhPT09Vi5kb2N1bWVudCl7aWYocltlXSlyZXR1cm47cltlXT0hMH0obj1hLmdldEVsZW1lbnRCeUlkKCJtY2VEZWZhdWx0U3R5bGVzIikpfHwoKG49YS5jcmVhdGVFbGVtZW50KCJzdHlsZSIpKS5pZD0ibWNlRGVmYXVsdFN0eWxlcyIsbi50eXBlPSJ0ZXh0L2NzcyIsKHQ9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdKS5maXJzdENoaWxkP3QuaW5zZXJ0QmVmb3JlKG4sdC5maXJzdENoaWxkKTp0LmFwcGVuZENoaWxkKG4pKSxuLnN0eWxlU2hlZXQ/bi5zdHlsZVNoZWV0LmNzc1RleHQrPWU6bi5hcHBlbmRDaGlsZChhLmNyZWF0ZVRleHROb2RlKGUpKX0sbG9hZENTUzpmdW5jdGlvbihlKXtpZihqPT09TmEuRE9NfHxhIT09Vi5kb2N1bWVudCl7ZT1lfHwiIjt2YXIgbj1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF07aGEoZS5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe2lmKGU9eXQuX2FkZENhY2hlU3VmZml4KGUpLCFvW2VdKXtvW2VdPSEwO3ZhciB0PUEoImxpbmsiLHhlKHhlKHtyZWw6InN0eWxlc2hlZXQiLHR5cGU6InRleHQvY3NzIixocmVmOmV9LHUuY29udGVudENzc0NvcnM/e2Nyb3NzT3JpZ2luOiJhbm9ueW1vdXMifTp7fSksdS5yZWZlcnJlclBvbGljeT97cmVmZXJyZXJQb2xpY3k6dS5yZWZlcnJlclBvbGljeX06e30pKTtuLmFwcGVuZENoaWxkKHQpfX0pfWVsc2UgTmEuRE9NLmxvYWRDU1MoZSl9LGFkZENsYXNzOmZ1bmN0aW9uKGUsdCl7ZyhlKS5hZGRDbGFzcyh0KX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oZSx0KXtQKGUsdCwhMSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcoZSkuaGFzQ2xhc3ModCl9LHRvZ2dsZUNsYXNzOlAsc2hvdzpmdW5jdGlvbihlKXtnKGUpLnNob3coKX0saGlkZTpmdW5jdGlvbihlKXtnKGUpLmhpZGUoKX0saXNIaWRkZW46ZnVuY3Rpb24oZSl7cmV0dXJuIm5vbmUiPT09ZyhlKS5jc3MoImRpc3BsYXkiKX0sdW5pcXVlSWQ6ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fCJtY2VfIikrdCsrfSxzZXRIVE1MOlQsZ2V0T3V0ZXJIVE1MOmZ1bmN0aW9uKGUpe3ZhciB0PSJzdHJpbmciPT10eXBlb2YgZT9wKGUpOmU7cmV0dXJuIHZuKHQpP3Qub3V0ZXJIVE1MOlJpKCI8ZGl2PjwvZGl2PiIpLmFwcGVuZChSaSh0KS5jbG9uZSgpKS5odG1sKCl9LHNldE91dGVySFRNTDpmdW5jdGlvbihlLHQpe2coZSkuZWFjaChmdW5jdGlvbigpe3RyeXtpZigib3V0ZXJIVE1MImluIHRoaXMpcmV0dXJuIHZvaWQodGhpcy5vdXRlckhUTUw9dCl9Y2F0Y2goZSl7fUIoUmkodGhpcykuaHRtbCh0KSwhMCl9KX0sZGVjb2RlOkQsZW5jb2RlOk8saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgcj1wKHQpO3JldHVybiBrKGUsZnVuY3Rpb24oZSl7dmFyIHQ9ci5wYXJlbnROb2RlLG49ci5uZXh0U2libGluZztyZXR1cm4gbj90Lmluc2VydEJlZm9yZShlLG4pOnQuYXBwZW5kQ2hpbGQoZSksZX0pfSxyZXBsYWNlOkwscmVuYW1lOmZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIHQubm9kZU5hbWUhPT1lLnRvVXBwZXJDYXNlKCkmJihuPUEoZSksaGEodih0KSxmdW5jdGlvbihlKXt5KG4sZS5ub2RlTmFtZSxoKHQsZS5ub2RlTmFtZSkpfSksTChuLHQsITApKSxufHx0fSxmaW5kQ29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1lO3I7KXtmb3Iobj10O24mJnIhPT1uOyluPW4ucGFyZW50Tm9kZTtpZihyPT09bilicmVhaztyPXIucGFyZW50Tm9kZX1yZXR1cm4hciYmZS5vd25lckRvY3VtZW50P2Uub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ6cn0sdG9IZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkudG9IZXgoeXQudHJpbShlKSl9LHJ1bjprLGdldEF0dHJpYnM6dixpc0VtcHR5OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPTA7aWYoSShlKSlyZXR1cm4hMTtpZihlPWUuZmlyc3RDaGlsZCl7dmFyIGk9bmV3IEFpKGUsZS5wYXJlbnROb2RlKSxhPWY/Zi5nZXRXaGl0ZVNwYWNlRWxlbWVudHMoKTp7fTt0PXR8fChmP2YuZ2V0Tm9uRW1wdHlFbGVtZW50cygpOm51bGwpO2Rve2lmKG49ZS5ub2RlVHlwZSx2bihlKSl7dmFyIHU9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIik7aWYodSl7ZT1pLm5leHQoImFsbCI9PT11KTtjb250aW51ZX1pZihyPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx0JiZ0W3JdKXtpZigiYnIiIT09cilyZXR1cm4hMTtvKyssZT1pLm5leHQoKTtjb250aW51ZX1pZihJKGUpKXJldHVybiExfWlmKDg9PT1uKXJldHVybiExO2lmKDM9PT1uJiYhQ2EudGVzdChlLm5vZGVWYWx1ZSkpcmV0dXJuITE7aWYoMz09PW4mJmUucGFyZW50Tm9kZSYmYVtlLnBhcmVudE5vZGUubm9kZU5hbWVdJiZDYS50ZXN0KGUubm9kZVZhbHVlKSlyZXR1cm4hMTtlPWkubmV4dCgpfXdoaWxlKGUpfXJldHVybiBvPD0xfSxjcmVhdGVSbmc6TSxub2RlSW5kZXg6U2Esc3BsaXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhPU0oKTtpZihlJiZ0KXJldHVybiBhLnNldFN0YXJ0KGUucGFyZW50Tm9kZSxTYShlKSksYS5zZXRFbmQodC5wYXJlbnROb2RlLFNhKHQpKSxyPWEuZXh0cmFjdENvbnRlbnRzKCksKGE9TSgpKS5zZXRTdGFydCh0LnBhcmVudE5vZGUsU2EodCkrMSksYS5zZXRFbmQoZS5wYXJlbnROb2RlLFNhKGUpKzEpLG89YS5leHRyYWN0Q29udGVudHMoKSwoaT1lLnBhcmVudE5vZGUpLmluc2VydEJlZm9yZShvcihqLHIpLGUpLG4/aS5pbnNlcnRCZWZvcmUobixlKTppLmluc2VydEJlZm9yZSh0LGUpLGkuaW5zZXJ0QmVmb3JlKG9yKGosbyksZSksQihlKSxufHx0fSxiaW5kOkYsdW5iaW5kOlUsZmlyZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGQuZmlyZShlLHQsbil9LGdldENvbnRlbnRFZGl0YWJsZTp6LGdldENvbnRlbnRFZGl0YWJsZVBhcmVudDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9YigpLG49bnVsbDtlJiZlIT09dCYmbnVsbD09PShuPXooZSkpO2U9ZS5wYXJlbnROb2RlKTtyZXR1cm4gbn0sZGVzdHJveTpmdW5jdGlvbigpe2lmKDA8bC5sZW5ndGgpZm9yKHZhciBlPWwubGVuZ3RoO2UtLTspe3ZhciB0PWxbZV07ZC51bmJpbmQodFswXSx0WzFdLHRbMl0pfVZvLnNldERvY3VtZW50JiZWby5zZXREb2N1bWVudCgpfSxpc0NoaWxkT2Y6ZnVuY3Rpb24oZSx0KXtmb3IoO2U7KXtpZih0PT09ZSlyZXR1cm4hMDtlPWUucGFyZW50Tm9kZX1yZXR1cm4hMX0sZHVtcFJuZzpmdW5jdGlvbihlKXtyZXR1cm4ic3RhcnRDb250YWluZXI6ICIrZS5zdGFydENvbnRhaW5lci5ub2RlTmFtZSsiLCBzdGFydE9mZnNldDogIitlLnN0YXJ0T2Zmc2V0KyIsIGVuZENvbnRhaW5lcjogIitlLmVuZENvbnRhaW5lci5ub2RlTmFtZSsiLCBlbmRPZmZzZXQ6ICIrZS5lbmRPZmZzZXR9fSxIPXdhKGksdSxmdW5jdGlvbigpe3JldHVybiBqfSk7cmV0dXJuIGp9KHBhPU5hPU5hfHx7fSkuRE9NPXBhKFYuZG9jdW1lbnQpLHBhLm5vZGVJbmRleD1TYTt2YXIgRWE9TmEsa2E9RWEuRE9NLF9hPXl0LmVhY2gsVGE9eXQuZ3JlcCxSYT0oQWEucHJvdG90eXBlLl9zZXRSZWZlcnJlclBvbGljeT1mdW5jdGlvbihlKXt0aGlzLnNldHRpbmdzLnJlZmVycmVyUG9saWN5PWV9LEFhLnByb3RvdHlwZS5sb2FkU2NyaXB0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvPWthLGk9by51bmlxdWVJZCgpOyhyPVYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0IikpLmlkPWksci50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLHIuc3JjPXl0Ll9hZGRDYWNoZVN1ZmZpeChlKSx0aGlzLnNldHRpbmdzLnJlZmVycmVyUG9saWN5JiZvLnNldEF0dHJpYihyLCJyZWZlcnJlcnBvbGljeSIsdGhpcy5zZXR0aW5ncy5yZWZlcnJlclBvbGljeSksci5vbmxvYWQ9ZnVuY3Rpb24oKXtvLnJlbW92ZShpKSxyJiYoci5vbnJlYWR5c3RhdGVjaGFuZ2U9ci5vbmxvYWQ9cj1udWxsKSx0KCl9LHIub25lcnJvcj1mdW5jdGlvbigpe0Eobik/bigpOiJ1bmRlZmluZWQiIT10eXBlb2YgVi5jb25zb2xlJiZWLmNvbnNvbGUubG9nJiZWLmNvbnNvbGUubG9nKCJGYWlsZWQgdG8gbG9hZCBzY3JpcHQ6ICIrZSl9LChWLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF18fFYuZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQocil9LEFhLnByb3RvdHlwZS5pc0RvbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIDI9PT10aGlzLnN0YXRlc1tlXX0sQWEucHJvdG90eXBlLm1hcmtEb25lPWZ1bmN0aW9uKGUpe3RoaXMuc3RhdGVzW2VdPTJ9LEFhLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSx0LG4scil7dGhpcy5zdGF0ZXNbZV09PT11bmRlZmluZWQmJih0aGlzLnF1ZXVlLnB1c2goZSksdGhpcy5zdGF0ZXNbZV09MCksdCYmKHRoaXMuc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW2VdfHwodGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV09W10pLHRoaXMuc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW2VdLnB1c2goe3N1Y2Nlc3M6dCxmYWlsdXJlOnIsc2NvcGU6bnx8dGhpc30pKX0sQWEucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuYWRkKGUsdCxuLHIpfSxBYS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLnN0YXRlc1tlXSxkZWxldGUgdGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV19LEFhLnByb3RvdHlwZS5sb2FkUXVldWU9ZnVuY3Rpb24oZSx0LG4pe3RoaXMubG9hZFNjcmlwdHModGhpcy5xdWV1ZSxlLHQsbil9LEFhLnByb3RvdHlwZS5sb2FkU2NyaXB0cz1mdW5jdGlvbihuLGUsdCxyKXt2YXIgbz10aGlzLGk9W10sYT1mdW5jdGlvbih0LGUpe19hKG8uc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW2VdLGZ1bmN0aW9uKGUpe0EoZVt0XSkmJmVbdF0uY2FsbChlLnNjb3BlKX0pLG8uc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW2VdPXVuZGVmaW5lZH07by5xdWV1ZUxvYWRlZENhbGxiYWNrcy5wdXNoKHtzdWNjZXNzOmUsZmFpbHVyZTpyLHNjb3BlOnR8fHRoaXN9KTt2YXIgdT1mdW5jdGlvbigpe3ZhciBlPVRhKG4pO2lmKG4ubGVuZ3RoPTAsX2EoZSxmdW5jdGlvbihlKXsyIT09by5zdGF0ZXNbZV0/MyE9PW8uc3RhdGVzW2VdPzEhPT1vLnN0YXRlc1tlXSYmKG8uc3RhdGVzW2VdPTEsby5sb2FkaW5nKyssby5sb2FkU2NyaXB0KGUsZnVuY3Rpb24oKXtvLnN0YXRlc1tlXT0yLG8ubG9hZGluZy0tLGEoInN1Y2Nlc3MiLGUpLHUoKX0sZnVuY3Rpb24oKXtvLnN0YXRlc1tlXT0zLG8ubG9hZGluZy0tLGkucHVzaChlKSxhKCJmYWlsdXJlIixlKSx1KCl9KSk6YSgiZmFpbHVyZSIsZSk6YSgic3VjY2VzcyIsZSl9KSwhby5sb2FkaW5nKXt2YXIgdD1vLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzLnNsaWNlKDApO28ucXVldWVMb2FkZWRDYWxsYmFja3MubGVuZ3RoPTAsX2EodCxmdW5jdGlvbihlKXswPT09aS5sZW5ndGg/QShlLnN1Y2Nlc3MpJiZlLnN1Y2Nlc3MuY2FsbChlLnNjb3BlKTpBKGUuZmFpbHVyZSkmJmUuZmFpbHVyZS5jYWxsKGUuc2NvcGUsaSl9KX19O3UoKX0sQWEuU2NyaXB0TG9hZGVyPW5ldyBBYSxBYSk7ZnVuY3Rpb24gQWEoZSl7dm9pZCAwPT09ZSYmKGU9e30pLHRoaXMuc3RhdGVzPXt9LHRoaXMucXVldWU9W10sdGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3M9e30sdGhpcy5xdWV1ZUxvYWRlZENhbGxiYWNrcz1bXSx0aGlzLmxvYWRpbmc9MCx0aGlzLnNldHRpbmdzPWV9dmFyIERhLE9hPWZ1bmN0aW9uKGUpe3ZhciB0PWU7cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiB0fSxzZXQ6ZnVuY3Rpb24oZSl7dD1lfX19LEJhPXt9LFBhPU9hKCJlbiIpLExhPWZ1bmN0aW9uKCl7cmV0dXJuIGRlKEJhLFBhLmdldCgpKX0sSWE9e2dldERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gaWUoQmEsZnVuY3Rpb24oZSl7cmV0dXJuIHhlKHt9LGUpfSl9LHNldENvZGU6ZnVuY3Rpb24oZSl7ZSYmUGEuc2V0KGUpfSxnZXRDb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIFBhLmdldCgpfSxhZGQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1CYVtlXTtufHwoQmFbZV09bj17fSksb2UodCxmdW5jdGlvbihlLHQpe25bdC50b0xvd2VyQ2FzZSgpXT1lfSl9LHRyYW5zbGF0ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHI9TGEoKS5nZXRPcih7fSksbz1mdW5jdGlvbihlKXtyZXR1cm4gQShlKT9PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk6aShlKT8iIjoiIitlfSxpPWZ1bmN0aW9uKGUpe3JldHVybiIiPT09ZXx8bnVsbD09PWV8fGU9PT11bmRlZmluZWR9LGE9ZnVuY3Rpb24oZSl7dmFyIHQ9byhlKTtyZXR1cm4gZGUocix0LnRvTG93ZXJDYXNlKCkpLm1hcChvKS5nZXRPcih0KX0sdT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC97Y29udGV4dDpcdyt9JC8sIiIpfTtpZihpKGUpKXJldHVybiIiO2lmKEUodD1lKSYmbWUodCwicmF3IikpcmV0dXJuIG8oZS5yYXcpO2lmKGsobj1lKSYmMTxuLmxlbmd0aCl7dmFyIHM9ZS5zbGljZSgxKTtyZXR1cm4gdShhKGVbMF0pLnJlcGxhY2UoL1x7KFswLTldKylcfS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG1lKHMsdCk/byhzW3RdKTplfSkpfXJldHVybiB1KGEoZSkpfSxpc1J0bDpmdW5jdGlvbigpe3JldHVybiBMYSgpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGRlKGUsIl9kaXIiKX0pLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4icnRsIj09PWV9KX0saGFzQ29kZTpmdW5jdGlvbihlKXtyZXR1cm4gbWUoQmEsZSl9fTtmdW5jdGlvbiBNYSgpe3ZhciByPXRoaXMsbz1bXSxzPXt9LGM9e30saT1bXSxsPWZ1bmN0aW9uKHQsbil7dmFyIGU9SChpLGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWU9PT10JiZlLnN0YXRlPT09bn0pO3ooZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5jYWxsYmFjaygpfSl9LGY9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGNbZV0mJih0PWNbZV0uZGVwZW5kZW5jaWVzKSx0fHxbXX0sZD1mdW5jdGlvbihlLHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdD90OiJzdHJpbmciPT10eXBlb2YgZT97cHJlZml4OiIiLHJlc291cmNlOnQsc3VmZml4OiIifTp7cHJlZml4OmUucHJlZml4LHJlc291cmNlOnQsc3VmZml4OmUuc3VmZml4fX0sbT1mdW5jdGlvbihvLGksYSx1LGUpe2lmKCFzW29dKXt2YXIgdD0ic3RyaW5nIj09dHlwZW9mIGk/aTppLnByZWZpeCtpLnJlc291cmNlK2kuc3VmZml4OzAhPT10LmluZGV4T2YoIi8iKSYmLTE9PT10LmluZGV4T2YoIjovLyIpJiYodD1NYS5iYXNlVVJMKyIvIit0KSxzW29dPXQuc3Vic3RyaW5nKDAsdC5sYXN0SW5kZXhPZigiLyIpKTt2YXIgbj1mdW5jdGlvbigpe3ZhciBuLGUsdCxyO2wobywibG9hZGVkIiksbj1pLGU9YSx0PXUscj1mKG8pLHoocixmdW5jdGlvbihlKXt2YXIgdD1kKG4sZSk7bSh0LnJlc291cmNlLHQsdW5kZWZpbmVkLHVuZGVmaW5lZCl9KSxlJiYodD9lLmNhbGwodCk6ZS5jYWxsKFJhKSl9O2Nbb10/bigpOlJhLlNjcmlwdExvYWRlci5hZGQodCxuLHUsZSl9fSxlPWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT1uJiYobj0iYWRkZWQiKSxtZShjLGUpJiYiYWRkZWQiPT09bnx8bWUocyxlKSYmImxvYWRlZCI9PT1uP3QoKTppLnB1c2goe25hbWU6ZSxzdGF0ZTpuLGNhbGxiYWNrOnR9KX07cmV0dXJue2l0ZW1zOm8sdXJsczpzLGxvb2t1cDpjLF9saXN0ZW5lcnM6aSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGNbZV0/Y1tlXS5pbnN0YW5jZTp1bmRlZmluZWR9LGRlcGVuZGVuY2llczpmLHJlcXVpcmVMYW5nUGFjazpmdW5jdGlvbih0LG4peyExIT09TWEubGFuZ3VhZ2VMb2FkJiZlKHQsZnVuY3Rpb24oKXt2YXIgZT1JYS5nZXRDb2RlKCk7IWV8fG4mJi0xPT09KCIsIisobnx8IiIpKyIsIikuaW5kZXhPZigiLCIrZSsiLCIpfHxSYS5TY3JpcHRMb2FkZXIuYWRkKHNbdF0rIi9sYW5ncy8iK2UrIi5qcyIpfSwibG9hZGVkIil9LGFkZDpmdW5jdGlvbihlLHQsbil7dmFyIHI9dDtyZXR1cm4gby5wdXNoKHIpLGNbZV09e2luc3RhbmNlOnIsZGVwZW5kZW5jaWVzOm59LGwoZSwiYWRkZWQiKSxyfSxyZW1vdmU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHNbZV0sZGVsZXRlIGNbZV19LGNyZWF0ZVVybDpkLGFkZENvbXBvbmVudHM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLnVybHNbZV07eih0LGZ1bmN0aW9uKGUpe1JhLlNjcmlwdExvYWRlci5hZGQobisiLyIrZSl9KX0sbG9hZDptLHdhaXRGb3I6ZX19KERhPU1hPU1hfHx7fSkuUGx1Z2luTWFuYWdlcj1EYSgpLERhLlRoZW1lTWFuYWdlcj1EYSgpO3ZhciBGYT1NYSxVYT1mdW5jdGlvbihuLHIpe3ZhciBvPW51bGw7cmV0dXJue2NhbmNlbDpmdW5jdGlvbigpe251bGwhPT1vJiYoVi5jbGVhclRpbWVvdXQobyksbz1udWxsKX0sdGhyb3R0bGU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07bnVsbD09PW8mJihvPVYuc2V0VGltZW91dChmdW5jdGlvbigpe24uYXBwbHkobnVsbCxlKSxvPW51bGx9LHIpKX19fSx6YT1mdW5jdGlvbihuLHIpe3ZhciBvPW51bGw7cmV0dXJue2NhbmNlbDpmdW5jdGlvbigpe251bGwhPT1vJiYoVi5jbGVhclRpbWVvdXQobyksbz1udWxsKX0sdGhyb3R0bGU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07bnVsbCE9PW8mJlYuY2xlYXJUaW1lb3V0KG8pLG89Vi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5hcHBseShudWxsLGUpLG89bnVsbH0scil9fX0samE9ZnVuY3Rpb24oZSx0KXt2YXIgbj1JbihlLHQpO3JldHVybiBuPT09dW5kZWZpbmVkfHwiIj09PW4/W106bi5zcGxpdCgiICIpfSxIYT1mdW5jdGlvbihlKXtyZXR1cm4gZS5kb20oKS5jbGFzc0xpc3QhPT11bmRlZmluZWR9LFZhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG89dCxpPWphKG49ZSxyPSJjbGFzcyIpLmNvbmNhdChbb10pLFBuKG4scixpLmpvaW4oIiAiKSksITA7dmFyIG4scixvLGl9LHFhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG89dCwwPChpPUgoamEobj1lLHI9ImNsYXNzIiksZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1vfSkpLmxlbmd0aD9QbihuLHIsaS5qb2luKCIgIikpOk1uKG4sciksITE7dmFyIG4scixvLGl9LCRhPWZ1bmN0aW9uKGUsdCl7SGEoZSk/ZS5kb20oKS5jbGFzc0xpc3QuYWRkKHQpOlZhKGUsdCl9LFdhPWZ1bmN0aW9uKGUpezA9PT0oSGEoZSk/ZS5kb20oKS5jbGFzc0xpc3Q6amEoZSwiY2xhc3MiKSkubGVuZ3RoJiZNbihlLCJjbGFzcyIpfSxLYT1mdW5jdGlvbihlLHQpe3JldHVybiBIYShlKSYmZS5kb20oKS5jbGFzc0xpc3QuY29udGFpbnModCl9LFhhPWZ1bmN0aW9uKGUsdCl7dmFyIG49W107cmV0dXJuIHooSHQoZSksZnVuY3Rpb24oZSl7dChlKSYmKG49bi5jb25jYXQoW2VdKSksbj1uLmNvbmNhdChYYShlLHQpKX0pLG59LFlhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49dCxvPShyPWUpPT09dW5kZWZpbmVkP1YuZG9jdW1lbnQ6ci5kb20oKSxBdChvKT9bXTpVKG8ucXVlcnlTZWxlY3RvckFsbChuKSxDdC5mcm9tRG9tKTt2YXIgbixyLG99O2Z1bmN0aW9uIEdhKGUsdCxuLHIsbyl7cmV0dXJuIGUobixyKT9CLnNvbWUobik6QShvKSYmbyhuKT9CLm5vbmUoKTp0KG4scixvKX12YXIgSmEsUWE9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1lLmRvbSgpLG89QShuKT9uOngoITEpO3IucGFyZW50Tm9kZTspe3I9ci5wYXJlbnROb2RlO3ZhciBpPUN0LmZyb21Eb20ocik7aWYodChpKSlyZXR1cm4gQi5zb21lKGkpO2lmKG8oaSkpYnJlYWt9cmV0dXJuIEIubm9uZSgpfSxaYT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEdhKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQoZSl9LFFhLGUsdCxuKX0sZXU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBRYShlLGZ1bmN0aW9uKGUpe3JldHVybiBSdChlLHQpfSxuKX0sdHU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj10LG89KHI9ZSk9PT11bmRlZmluZWQ/Vi5kb2N1bWVudDpyLmRvbSgpLEF0KG8pP0Iubm9uZSgpOkIuZnJvbShvLnF1ZXJ5U2VsZWN0b3IobikpLm1hcChDdC5mcm9tRG9tKTt2YXIgbixyLG99LG51PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gR2EoZnVuY3Rpb24oZSx0KXtyZXR1cm4gUnQoZSx0KX0sZXUsZSx0LG4pfSxydT14KCJtY2UtYW5ub3RhdGlvbiIpLG91PXgoImRhdGEtbWNlLWFubm90YXRpb24iKSxpdT14KCJkYXRhLW1jZS1hbm5vdGF0aW9uLXVpZCIpLGF1PWZ1bmN0aW9uKHIsZSl7dmFyIHQ9ci5zZWxlY3Rpb24uZ2V0Um5nKCksbj1DdC5mcm9tRG9tKHQuc3RhcnRDb250YWluZXIpLG89Q3QuZnJvbURvbShyLmdldEJvZHkoKSksaT1lLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4iLiIrcnUoKX0sZnVuY3Rpb24oZSl7cmV0dXJuIlsiK291KCkrJz0iJytlKyciXSd9KSxhPVZ0KG4sdC5zdGFydE9mZnNldCkuZ2V0T3IobiksdT1udShhLGksZnVuY3Rpb24oZSl7cmV0dXJuIER0KGUsbyl9KSxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49dCwocj1lLmRvbSgpKSYmci5oYXNBdHRyaWJ1dGUmJnIuaGFzQXR0cmlidXRlKG4pP0Iuc29tZShJbihlLHQpKTpCLm5vbmUoKTt2YXIgbixyfTtyZXR1cm4gdS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBzKGUsIiIraXUoKSkuYmluZChmdW5jdGlvbihuKXtyZXR1cm4gcyhlLCIiK291KCkpLm1hcChmdW5jdGlvbihlKXt2YXIgdD11dShyLG4pO3JldHVybnt1aWQ6bixuYW1lOmUsZWxlbWVudHM6dH19KX0pfSl9LHV1PWZ1bmN0aW9uKGUsdCl7dmFyIG49Q3QuZnJvbURvbShlLmdldEJvZHkoKSk7cmV0dXJuIFlhKG4sIlsiK2l1KCkrJz0iJyt0KyciXScpfSxzdT1mdW5jdGlvbihpLGUpe3ZhciBhPU9hKHt9KSxjPWZ1bmN0aW9uKGUsdCl7dShlLGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpLGV9KX0sdT1mdW5jdGlvbihlLHQpe3ZhciBuPWEuZ2V0KCkscj10KG4uaGFzT3duUHJvcGVydHkoZSk/bltlXTp7bGlzdGVuZXJzOltdLHByZXZpb3VzOk9hKEIubm9uZSgpKX0pO25bZV09cixhLnNldChuKX0sdD16YShmdW5jdGlvbigpe3ZhciBlLHQsbixyPWEuZ2V0KCksbz0oZT1uZShyKSwobj1PLmNhbGwoZSwwKSkuc29ydCh0KSxuKTt6KG8sZnVuY3Rpb24oZSl7dShlLGZ1bmN0aW9uKHUpe3ZhciBzPXUucHJldmlvdXMuZ2V0KCk7cmV0dXJuIGF1KGksQi5zb21lKGUpKS5mb2xkKGZ1bmN0aW9uKCl7dmFyIHQ7cy5pc1NvbWUoKSYmKGModD1lLGZ1bmN0aW9uKGUpe3ooZS5saXN0ZW5lcnMsZnVuY3Rpb24oZSl7cmV0dXJuIGUoITEsdCl9KX0pLHUucHJldmlvdXMuc2V0KEIubm9uZSgpKSl9LGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPWUudWlkLGk9ZS5uYW1lLGE9ZS5lbGVtZW50cztzLmlzKG8pfHwobj1vLHI9YSxjKHQ9aSxmdW5jdGlvbihlKXt6KGUubGlzdGVuZXJzLGZ1bmN0aW9uKGUpe3JldHVybiBlKCEwLHQse3VpZDpuLG5vZGVzOlUocixmdW5jdGlvbihlKXtyZXR1cm4gZS5kb20oKX0pfSl9KX0pLHUucHJldmlvdXMuc2V0KEIuc29tZShvKSkpfSkse3ByZXZpb3VzOnUucHJldmlvdXMsbGlzdGVuZXJzOnUubGlzdGVuZXJzfX0pfSl9LDMwKTtpLm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7dC5jYW5jZWwoKX0pLGkub24oIk5vZGVDaGFuZ2UiLGZ1bmN0aW9uKCl7dC50aHJvdHRsZSgpfSk7cmV0dXJue2FkZExpc3RlbmVyOmZ1bmN0aW9uKGUsdCl7dShlLGZ1bmN0aW9uKGUpe3JldHVybntwcmV2aW91czplLnByZXZpb3VzLGxpc3RlbmVyczplLmxpc3RlbmVycy5jb25jYXQoW3RdKX19KX19fSxjdT1mdW5jdGlvbihlLG4pe2Uub24oImluaXQiLGZ1bmN0aW9uKCl7ZS5zZXJpYWxpemVyLmFkZE5vZGVGaWx0ZXIoInNwYW4iLGZ1bmN0aW9uKGUpe3ooZSxmdW5jdGlvbih0KXt2YXIgZTtlPXQsQi5mcm9tKGUuYXR0cihvdSgpKSkuYmluZChuLmxvb2t1cCkuZWFjaChmdW5jdGlvbihlKXshMT09PWUucGVyc2lzdGVudCYmdC51bndyYXAoKX0pfSl9KX0pfSxsdT0wLGZ1PWZ1bmN0aW9uKGUpe3ZhciB0PShuZXcgRGF0ZSkuZ2V0VGltZSgpO3JldHVybiBlKyJfIitNYXRoLmZsb29yKDFlOSpNYXRoLnJhbmRvbSgpKSsgKytsdStTdHJpbmcodCl9LGR1PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPVB0KGUpLmRvbSgpLGk9Q3QuZnJvbURvbShvLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSksYT0obj10LChyPShvfHxWLmRvY3VtZW50KS5jcmVhdGVFbGVtZW50KCJkaXYiKSkuaW5uZXJIVE1MPW4sSHQoQ3QuZnJvbURvbShyKSkpO2VuKGksYSksdG4oZSksWnQoZSxpKX0sbXU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQ3QuZnJvbURvbShlLmRvbSgpLmNsb25lTm9kZSh0KSl9LHB1PWZ1bmN0aW9uKGUpe3JldHVybiBtdShlLCExKX0sZ3U9ZnVuY3Rpb24oZSl7cmV0dXJuIG11KGUsITApfSxodT1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09biYmKG49Zyk7dmFyIHI9bmV3IEFpKGUsdCksbz1mdW5jdGlvbihlKXtmb3IodmFyIHQ7KHQ9cltlXSgpKSYmIUVuKHQpJiYhbih0KTspO3JldHVybiBCLmZyb20odCkuZmlsdGVyKEVuKX07cmV0dXJue2N1cnJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQi5mcm9tKHIuY3VycmVudCgpKS5maWx0ZXIoRW4pfSxuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIG8oIm5leHQiKX0scHJldjpmdW5jdGlvbigpe3JldHVybiBvKCJwcmV2Iil9LHByZXYyOmZ1bmN0aW9uKCl7cmV0dXJuIG8oInByZXYyIil9fX0sdnU9ZnVuY3Rpb24odCxlKXt2YXIgaT1lfHxmdW5jdGlvbihlKXtyZXR1cm4gdC5pc0Jsb2NrKGUpfHxSbihlKXx8RG4oZSl9LGE9ZnVuY3Rpb24oZSx0LG4scil7aWYoRW4oZSkpe3ZhciBvPXIoZSx0LGUuZGF0YSk7aWYoLTEhPT1vKXJldHVybiBCLnNvbWUoe2NvbnRhaW5lcjplLG9mZnNldDpvfSl9cmV0dXJuIG4oKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBhKGUuY29udGFpbmVyLGUub2Zmc2V0LG4scil9KX07cmV0dXJue2JhY2t3YXJkczpmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1odShlLHIsaSk7cmV0dXJuIGEoZSx0LGZ1bmN0aW9uKCl7cmV0dXJuIG8ucHJldigpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57Y29udGFpbmVyOmUsb2Zmc2V0OmUubGVuZ3RofX0pfSxuKS5nZXRPck51bGwoKX0sZm9yd2FyZHM6ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89aHUoZSxyLGkpO3JldHVybiBhKGUsdCxmdW5jdGlvbigpe3JldHVybiBvLm5leHQoKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue2NvbnRhaW5lcjplLG9mZnNldDowfX0pfSxuKS5nZXRPck51bGwoKX19fSx5dT1BcixidT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PUFyfSxDdT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9cdUZFRkYvZywiIil9LHd1PXZuLHh1PUVuLFN1PWZ1bmN0aW9uKGUpe3JldHVybiB4dShlKSYmKGU9ZS5wYXJlbnROb2RlKSx3dShlKSYmZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0Iil9LE51PWZ1bmN0aW9uKGUpe3JldHVybiB4dShlKSYmYnUoZS5kYXRhKX0sRXU9ZnVuY3Rpb24oZSl7cmV0dXJuIFN1KGUpfHxOdShlKX0sa3U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZmlyc3RDaGlsZCE9PWUubGFzdENoaWxkfHwhUm4oZS5maXJzdENoaWxkKX0sX3U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb250YWluZXIoKTtyZXR1cm4hKCFlfHwhRW4odCkpJiYodC5kYXRhLmNoYXJBdChlLm9mZnNldCgpKT09PXl1fHxlLmlzQXRTdGFydCgpJiZOdSh0LnByZXZpb3VzU2libGluZykpfSxUdT1mdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRhaW5lcigpO3JldHVybiEoIWV8fCFFbih0KSkmJih0LmRhdGEuY2hhckF0KGUub2Zmc2V0KCktMSk9PT15dXx8ZS5pc0F0RW5kKCkmJk51KHQubmV4dFNpYmxpbmcpKX0sUnU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89dC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSk7by5zZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IixuPyJiZWZvcmUiOiJhZnRlciIpLG8uc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIsImFsbCIpLG8uYXBwZW5kQ2hpbGQoKChyPVYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKSkuc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIsIjEiKSxyKSk7dmFyIGk9dC5wYXJlbnROb2RlO3JldHVybiBuP2kuaW5zZXJ0QmVmb3JlKG8sdCk6dC5uZXh0U2libGluZz9pLmluc2VydEJlZm9yZShvLHQubmV4dFNpYmxpbmcpOmkuYXBwZW5kQ2hpbGQobyksb30sQXU9ZnVuY3Rpb24oZSl7cmV0dXJuIHh1KGUpJiZlLmRhdGFbMF09PT15dX0sRHU9ZnVuY3Rpb24oZSl7cmV0dXJuIHh1KGUpJiZlLmRhdGFbZS5kYXRhLmxlbmd0aC0xXT09PXl1fSxPdT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0Iik/KHQ9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYnIiKSxuPXRbdC5sZW5ndGgtMV0sd24obikmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSxlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKSxlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSxlLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSxlLnJlbW92ZUF0dHJpYnV0ZSgiX21vel9hYnNwb3MiKSxlKTpudWxsO3ZhciB0LG59LEJ1PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5pc1NvbWUoKSYmdC5pc1NvbWUoKT9CLnNvbWUobihlLmdldE9yRGllKCksdC5nZXRPckRpZSgpKSk6Qi5ub25lKCl9LFB1PU1hdGgucm91bmQsTHU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/e2xlZnQ6UHUoZS5sZWZ0KSx0b3A6UHUoZS50b3ApLGJvdHRvbTpQdShlLmJvdHRvbSkscmlnaHQ6UHUoZS5yaWdodCksd2lkdGg6UHUoZS53aWR0aCksaGVpZ2h0OlB1KGUuaGVpZ2h0KX06e2xlZnQ6MCx0b3A6MCxib3R0b206MCxyaWdodDowLHdpZHRoOjAsaGVpZ2h0OjB9fSxJdT1mdW5jdGlvbihlLHQpe3JldHVybiBlPUx1KGUpLHR8fChlLmxlZnQ9ZS5sZWZ0K2Uud2lkdGgpLGUucmlnaHQ9ZS5sZWZ0LGUud2lkdGg9MCxlfSxNdT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIDA8PWUmJmU8PU1hdGgubWluKHQuaGVpZ2h0LG4uaGVpZ2h0KS8yfSxGdT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmJvdHRvbS1lLmhlaWdodC8yPHQudG9wfHwhKGUudG9wPnQuYm90dG9tKSYmTXUodC50b3AtZS5ib3R0b20sZSx0KX0sVXU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50b3A+dC5ib3R0b218fCEoZS5ib3R0b208dC50b3ApJiZNdSh0LmJvdHRvbS1lLnRvcCxlLHQpfSx6dT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ+PWUubGVmdCYmdDw9ZS5yaWdodCYmbj49ZS50b3AmJm48PWUuYm90dG9tfSxqdT1mdW5jdGlvbihlKXt2YXIgdD1lLnN0YXJ0Q29udGFpbmVyLG49ZS5zdGFydE9mZnNldDtyZXR1cm4gdC5oYXNDaGlsZE5vZGVzKCkmJmUuZW5kT2Zmc2V0PT09bisxP3QuY2hpbGROb2Rlc1tuXTpudWxsfSxIdT1mdW5jdGlvbihlLHQpe3JldHVybiAxPT09ZS5ub2RlVHlwZSYmZS5oYXNDaGlsZE5vZGVzKCkmJih0Pj1lLmNoaWxkTm9kZXMubGVuZ3RoJiYodD1lLmNoaWxkTm9kZXMubGVuZ3RoLTEpLGU9ZS5jaGlsZE5vZGVzW3RdKSxlfSxWdT1uZXcgUmVnRXhwKCJbXHUwMzAwLVx1MDM2Zlx1MDQ4My1cdTA0ODdcdTA0ODgtXHUwNDg5XHUwNTkxLVx1MDViZFx1MDViZlx1MDVjMS1cdTA1YzJcdTA1YzQtXHUwNWM1XHUwNWM3XHUwNjEwLVx1MDYxYVx1MDY0Yi1cdTA2NWZcdTA2NzBcdTA2ZDYtXHUwNmRjXHUwNmRmLVx1MDZlNFx1MDZlNy1cdTA2ZThcdTA2ZWEtXHUwNmVkXHUwNzExXHUwNzMwLVx1MDc0YVx1MDdhNi1cdTA3YjBcdTA3ZWItXHUwN2YzXHUwODE2LVx1MDgxOVx1MDgxYi1cdTA4MjNcdTA4MjUtXHUwODI3XHUwODI5LVx1MDgyZFx1MDg1OS1cdTA4NWJcdTA4ZTMtXHUwOTAyXHUwOTNhXHUwOTNjXHUwOTQxLVx1MDk0OFx1MDk0ZFx1MDk1MS1cdTA5NTdcdTA5NjItXHUwOTYzXHUwOTgxXHUwOWJjXHUwOWJlXHUwOWMxLVx1MDljNFx1MDljZFx1MDlkN1x1MDllMi1cdTA5ZTNcdTBhMDEtXHUwYTAyXHUwYTNjXHUwYTQxLVx1MGE0Mlx1MGE0Ny1cdTBhNDhcdTBhNGItXHUwYTRkXHUwYTUxXHUwYTcwLVx1MGE3MVx1MGE3NVx1MGE4MS1cdTBhODJcdTBhYmNcdTBhYzEtXHUwYWM1XHUwYWM3LVx1MGFjOFx1MGFjZFx1MGFlMi1cdTBhZTNcdTBiMDFcdTBiM2NcdTBiM2VcdTBiM2ZcdTBiNDEtXHUwYjQ0XHUwYjRkXHUwYjU2XHUwYjU3XHUwYjYyLVx1MGI2M1x1MGI4Mlx1MGJiZVx1MGJjMFx1MGJjZFx1MGJkN1x1MGMwMFx1MGMzZS1cdTBjNDBcdTBjNDYtXHUwYzQ4XHUwYzRhLVx1MGM0ZFx1MGM1NS1cdTBjNTZcdTBjNjItXHUwYzYzXHUwYzgxXHUwY2JjXHUwY2JmXHUwY2MyXHUwY2M2XHUwY2NjLVx1MGNjZFx1MGNkNS1cdTBjZDZcdTBjZTItXHUwY2UzXHUwZDAxXHUwZDNlXHUwZDQxLVx1MGQ0NFx1MGQ0ZFx1MGQ1N1x1MGQ2Mi1cdTBkNjNcdTBkY2FcdTBkY2ZcdTBkZDItXHUwZGQ0XHUwZGQ2XHUwZGRmXHUwZTMxXHUwZTM0LVx1MGUzYVx1MGU0Ny1cdTBlNGVcdTBlYjFcdTBlYjQtXHUwZWI5XHUwZWJiLVx1MGViY1x1MGVjOC1cdTBlY2RcdTBmMTgtXHUwZjE5XHUwZjM1XHUwZjM3XHUwZjM5XHUwZjcxLVx1MGY3ZVx1MGY4MC1cdTBmODRcdTBmODYtXHUwZjg3XHUwZjhkLVx1MGY5N1x1MGY5OS1cdTBmYmNcdTBmYzZcdTEwMmQtXHUxMDMwXHUxMDMyLVx1MTAzN1x1MTAzOS1cdTEwM2FcdTEwM2QtXHUxMDNlXHUxMDU4LVx1MTA1OVx1MTA1ZS1cdTEwNjBcdTEwNzEtXHUxMDc0XHUxMDgyXHUxMDg1LVx1MTA4Nlx1MTA4ZFx1MTA5ZFx1MTM1ZC1cdTEzNWZcdTE3MTItXHUxNzE0XHUxNzMyLVx1MTczNFx1MTc1Mi1cdTE3NTNcdTE3NzItXHUxNzczXHUxN2I0LVx1MTdiNVx1MTdiNy1cdTE3YmRcdTE3YzZcdTE3YzktXHUxN2QzXHUxN2RkXHUxODBiLVx1MTgwZFx1MThhOVx1MTkyMC1cdTE5MjJcdTE5MjctXHUxOTI4XHUxOTMyXHUxOTM5LVx1MTkzYlx1MWExNy1cdTFhMThcdTFhMWJcdTFhNTZcdTFhNTgtXHUxYTVlXHUxYTYwXHUxYTYyXHUxYTY1LVx1MWE2Y1x1MWE3My1cdTFhN2NcdTFhN2ZcdTFhYjAtXHUxYWJkXHUxYWJlXHUxYjAwLVx1MWIwM1x1MWIzNFx1MWIzNi1cdTFiM2FcdTFiM2NcdTFiNDJcdTFiNmItXHUxYjczXHUxYjgwLVx1MWI4MVx1MWJhMi1cdTFiYTVcdTFiYTgtXHUxYmE5XHUxYmFiLVx1MWJhZFx1MWJlNlx1MWJlOC1cdTFiZTlcdTFiZWRcdTFiZWYtXHUxYmYxXHUxYzJjLVx1MWMzM1x1MWMzNi1cdTFjMzdcdTFjZDAtXHUxY2QyXHUxY2Q0LVx1MWNlMFx1MWNlMi1cdTFjZThcdTFjZWRcdTFjZjRcdTFjZjgtXHUxY2Y5XHUxZGMwLVx1MWRmNVx1MWRmYy1cdTFkZmZcdTIwMGMtXHUyMDBkXHUyMGQwLVx1MjBkY1x1MjBkZC1cdTIwZTBcdTIwZTFcdTIwZTItXHUyMGU0XHUyMGU1LVx1MjBmMFx1MmNlZi1cdTJjZjFcdTJkN2ZcdTJkZTAtXHUyZGZmXHUzMDJhLVx1MzAyZFx1MzAyZS1cdTMwMmZcdTMwOTktXHUzMDlhXHVhNjZmXHVhNjcwLVx1YTY3Mlx1YTY3NC1cdWE2N2RcdWE2OWUtXHVhNjlmXHVhNmYwLVx1YTZmMVx1YTgwMlx1YTgwNlx1YTgwYlx1YTgyNS1cdWE4MjZcdWE4YzRcdWE4ZTAtXHVhOGYxXHVhOTI2LVx1YTkyZFx1YTk0Ny1cdWE5NTFcdWE5ODAtXHVhOTgyXHVhOWIzXHVhOWI2LVx1YTliOVx1YTliY1x1YTllNVx1YWEyOS1cdWFhMmVcdWFhMzEtXHVhYTMyXHVhYTM1LVx1YWEzNlx1YWE0M1x1YWE0Y1x1YWE3Y1x1YWFiMFx1YWFiMi1cdWFhYjRcdWFhYjctXHVhYWI4XHVhYWJlLVx1YWFiZlx1YWFjMVx1YWFlYy1cdWFhZWRcdWFhZjZcdWFiZTVcdWFiZThcdWFiZWRcdWZiMWVcdWZlMDAtXHVmZTBmXHVmZTIwLVx1ZmUyZlx1ZmY5ZS1cdWZmOWZdIikscXU9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiY3Njg8PWUuY2hhckNvZGVBdCgwKSYmVnUudGVzdChlKX0sJHU9QW4sV3U9RG4sS3U9Um4sWHU9RW4sWXU9eW4oWyJzY3JpcHQiLCJzdHlsZSIsInRleHRhcmVhIl0pLEd1PXluKFsiaW1nIiwiaW5wdXQiLCJ0ZXh0YXJlYSIsImhyIiwiaWZyYW1lIiwidmlkZW8iLCJhdWRpbyIsIm9iamVjdCJdKSxKdT15bihbInRhYmxlIl0pLFF1PUV1LFp1PWZ1bmN0aW9uKGUpe3JldHVybiFRdShlKSYmKFh1KGUpPyFZdShlLnBhcmVudE5vZGUpOkd1KGUpfHxLdShlKXx8SnUoZSl8fGVzKGUpKX0sZXM9ZnVuY3Rpb24oZSl7cmV0dXJuITE9PT0odm4odD1lKSYmInRydWUiPT09dC5nZXRBdHRyaWJ1dGUoInVuc2VsZWN0YWJsZSIpKSYmV3UoZSk7dmFyIHR9LHRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFp1KGUpJiZmdW5jdGlvbihlLHQpe2ZvcihlPWUucGFyZW50Tm9kZTtlJiZlIT09dDtlPWUucGFyZW50Tm9kZSl7aWYoZXMoZSkpcmV0dXJuITE7aWYoJHUoZSkpcmV0dXJuITB9cmV0dXJuITB9KGUsdCl9LG5zPXZuLHJzPVp1LG9zPWJuKCJkaXNwbGF5IiwiYmxvY2sgdGFibGUiKSxpcz1ibigiZmxvYXQiLCJsZWZ0IHJpZ2h0IiksYXM9ZnVuY3Rpb24oKXtmb3IodmFyIG49W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspbltlXT1hcmd1bWVudHNbZV07cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKCFuW3RdKGUpKXJldHVybiExO3JldHVybiEwfX0obnMscnMsbShpcykpLHVzPW0oYm4oIndoaXRlLXNwYWNlIiwicHJlIHByZS1saW5lIHByZS13cmFwIikpLHNzPUVuLGNzPVJuLGxzPUVhLm5vZGVJbmRleCxmcz1IdSxkcz1mdW5jdGlvbihlKXtyZXR1cm4iY3JlYXRlUmFuZ2UiaW4gZT9lLmNyZWF0ZVJhbmdlKCk6RWEuRE9NLmNyZWF0ZVJuZygpfSxtcz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmL1tcclxuXHQgXS8udGVzdChlKX0scHM9ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnNldFN0YXJ0JiYhIWUuc2V0RW5kfSxncz1mdW5jdGlvbihlKXt2YXIgdCxuPWUuc3RhcnRDb250YWluZXIscj1lLnN0YXJ0T2Zmc2V0O3JldHVybiEhKG1zKGUudG9TdHJpbmcoKSkmJnVzKG4ucGFyZW50Tm9kZSkmJkVuKG4pJiYodD1uLmRhdGEsbXModFtyLTFdKXx8bXModFtyKzFdKSkpfSxocz1mdW5jdGlvbihlKXtyZXR1cm4gMD09PWUubGVmdCYmMD09PWUucmlnaHQmJjA9PT1lLnRvcCYmMD09PWUuYm90dG9tfSx2cz1mdW5jdGlvbihlKXt2YXIgdCxuPWUuZ2V0Q2xpZW50UmVjdHMoKTtyZXR1cm4gdD0wPG4ubGVuZ3RoP0x1KG5bMF0pOkx1KGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLCFwcyhlKSYmY3MoZSkmJmhzKHQpP2Z1bmN0aW9uKGUpe3ZhciB0PWUub3duZXJEb2N1bWVudCxuPWRzKHQpLHI9dC5jcmVhdGVUZXh0Tm9kZShEciksbz1lLnBhcmVudE5vZGU7by5pbnNlcnRCZWZvcmUocixlKSxuLnNldFN0YXJ0KHIsMCksbi5zZXRFbmQociwxKTt2YXIgaT1MdShuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtyZXR1cm4gby5yZW1vdmVDaGlsZChyKSxpfShlKTpocyh0KSYmcHMoZSk/ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFydENvbnRhaW5lcixuPWUuZW5kQ29udGFpbmVyLHI9ZS5zdGFydE9mZnNldCxvPWUuZW5kT2Zmc2V0O2lmKHQ9PT1uJiZFbihuKSYmMD09PXImJjE9PT1vKXt2YXIgaT1lLmNsb25lUmFuZ2UoKTtyZXR1cm4gaS5zZXRFbmRBZnRlcihuKSx2cyhpKX1yZXR1cm4gbnVsbH0oZSk6dH0seXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1JdShlLHQpO3JldHVybiBuLndpZHRoPTEsbi5yaWdodD1uLmxlZnQrMSxufSxicz1mdW5jdGlvbihlKXt2YXIgdCxuLHI9W10sbz1mdW5jdGlvbihlKXt2YXIgdCxuOzAhPT1lLmhlaWdodCYmKDA8ci5sZW5ndGgmJih0PWUsbj1yW3IubGVuZ3RoLTFdLHQubGVmdD09PW4ubGVmdCYmdC50b3A9PT1uLnRvcCYmdC5ib3R0b209PT1uLmJvdHRvbSYmdC5yaWdodD09PW4ucmlnaHQpfHxyLnB1c2goZSkpfSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZHMoZS5vd25lckRvY3VtZW50KTtpZih0PGUuZGF0YS5sZW5ndGgpe2lmKHF1KGUuZGF0YVt0XSkpcmV0dXJuIHI7aWYocXUoZS5kYXRhW3QtMV0pJiYobi5zZXRTdGFydChlLHQpLG4uc2V0RW5kKGUsdCsxKSwhZ3MobikpKXJldHVybiBvKHlzKHZzKG4pLCExKSkscn0wPHQmJihuLnNldFN0YXJ0KGUsdC0xKSxuLnNldEVuZChlLHQpLGdzKG4pfHxvKHlzKHZzKG4pLCExKSkpLHQ8ZS5kYXRhLmxlbmd0aCYmKG4uc2V0U3RhcnQoZSx0KSxuLnNldEVuZChlLHQrMSksZ3Mobil8fG8oeXModnMobiksITApKSl9O2lmKHNzKGUuY29udGFpbmVyKCkpKXJldHVybiBpKGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSkscjtpZihucyhlLmNvbnRhaW5lcigpKSlpZihlLmlzQXRFbmQoKSluPWZzKGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSksc3MobikmJmkobixuLmRhdGEubGVuZ3RoKSxhcyhuKSYmIWNzKG4pJiZvKHlzKHZzKG4pLCExKSk7ZWxzZXtpZihuPWZzKGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSksc3MobikmJmkobiwwKSxhcyhuKSYmZS5pc0F0RW5kKCkpcmV0dXJuIG8oeXModnMobiksITEpKSxyO3Q9ZnMoZS5jb250YWluZXIoKSxlLm9mZnNldCgpLTEpLGFzKHQpJiYhY3ModCkmJighb3ModCkmJiFvcyhuKSYmYXMobil8fG8oeXModnModCksITEpKSksYXMobikmJm8oeXModnMobiksITApKX1yZXR1cm4gcn07ZnVuY3Rpb24gQ3ModCxuLGUpe3ZhciByPWZ1bmN0aW9uKCl7cmV0dXJuIGU9ZXx8YnMoQ3ModCxuKSl9O3JldHVybntjb250YWluZXI6eCh0KSxvZmZzZXQ6eChuKSx0b1JhbmdlOmZ1bmN0aW9uKCl7dmFyIGU9ZHModC5vd25lckRvY3VtZW50KTtyZXR1cm4gZS5zZXRTdGFydCh0LG4pLGUuc2V0RW5kKHQsbiksZX0sZ2V0Q2xpZW50UmVjdHM6cixpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gMDxyKCkubGVuZ3RofSxpc0F0U3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gc3ModCksMD09PW59LGlzQXRFbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gc3ModCk/bj49dC5kYXRhLmxlbmd0aDpuPj10LmNoaWxkTm9kZXMubGVuZ3RofSxpc0VxdWFsOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0PT09ZS5jb250YWluZXIoKSYmbj09PWUub2Zmc2V0KCl9LGdldE5vZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGZzKHQsZT9uLTE6bil9fX0oSmE9Q3M9Q3N8fHt9KS5mcm9tUmFuZ2VTdGFydD1mdW5jdGlvbihlKXtyZXR1cm4gSmEoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KX0sSmEuZnJvbVJhbmdlRW5kPWZ1bmN0aW9uKGUpe3JldHVybiBKYShlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCl9LEphLmFmdGVyPWZ1bmN0aW9uKGUpe3JldHVybiBKYShlLnBhcmVudE5vZGUsbHMoZSkrMSl9LEphLmJlZm9yZT1mdW5jdGlvbihlKXtyZXR1cm4gSmEoZS5wYXJlbnROb2RlLGxzKGUpKX0sSmEuaXNBYm92ZT1mdW5jdGlvbihlLHQpe3JldHVybiBCdShaKHQuZ2V0Q2xpZW50UmVjdHMoKSksZWUoZS5nZXRDbGllbnRSZWN0cygpKSxGdSkuZ2V0T3IoITEpfSxKYS5pc0JlbG93PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEJ1KGVlKHQuZ2V0Q2xpZW50UmVjdHMoKSksWihlLmdldENsaWVudFJlY3RzKCkpLFV1KS5nZXRPcighMSl9LEphLmlzQXRTdGFydD1mdW5jdGlvbihlKXtyZXR1cm4hIWUmJmUuaXNBdFN0YXJ0KCl9LEphLmlzQXRFbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZlLmlzQXRFbmQoKX0sSmEuaXNUZXh0UG9zaXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZFbihlLmNvbnRhaW5lcigpKX0sSmEuaXNFbGVtZW50UG9zaXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1KYS5pc1RleHRQb3NpdGlvbihlKX07dmFyIHdzLHhzLFNzPUNzLE5zPWZ1bmN0aW9uKGUsdCl7RW4odCkmJjA9PT10LmRhdGEubGVuZ3RoJiZlLnJlbW92ZSh0KX0sRXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscyxjO1RuKG4pPyhpPWUsYT10LHU9bixzPUIuZnJvbSh1LmZpcnN0Q2hpbGQpLGM9Qi5mcm9tKHUubGFzdENoaWxkKSxhLmluc2VydE5vZGUodSkscy5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBOcyhpLGUucHJldmlvdXNTaWJsaW5nKX0pLGMuZWFjaChmdW5jdGlvbihlKXtyZXR1cm4gTnMoaSxlLm5leHRTaWJsaW5nKX0pKToocj1lLG89bix0Lmluc2VydE5vZGUobyksTnMocixvLnByZXZpb3VzU2libGluZyksTnMocixvLm5leHRTaWJsaW5nKSl9LGtzPUVuLF9zPXduLFRzPUVhLm5vZGVJbmRleCxScz1mdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIF9zKHQpP1JzKHQpOnR9LEFzPWZ1bmN0aW9uKGUpe3JldHVybiBlP2JlKGUuY2hpbGROb2RlcyxmdW5jdGlvbihlLHQpe3JldHVybiBfcyh0KSYmIkJSIiE9PXQubm9kZU5hbWU/ZT1lLmNvbmNhdChBcyh0KSk6ZS5wdXNoKHQpLGV9LFtdKTpbXX0sRHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZX19LE9zPWZ1bmN0aW9uKGUpe3JldHVybihrcyhlKT8idGV4dCgpIjplLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKyJbIitmdW5jdGlvbihlKXt2YXIgcix0O3I9QXMoUnMoZSkpLHQ9Q2UocixEcyhlKSxlKSxyPXIuc2xpY2UoMCx0KzEpO3ZhciBuPWJlKHIsZnVuY3Rpb24oZSx0LG4pe3JldHVybiBrcyh0KSYma3MocltuLTFdKSYmZSsrLGV9LDApO3JldHVybiByPXZlKHIseW4oW2Uubm9kZU5hbWVdKSksKHQ9Q2UocixEcyhlKSxlKSktbn0oZSkrIl0ifSxCcz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEsdT1bXTtyZXR1cm4gbj10LmNvbnRhaW5lcigpLHI9dC5vZmZzZXQoKSxrcyhuKT9vPWZ1bmN0aW9uKGUsdCl7Zm9yKDsoZT1lLnByZXZpb3VzU2libGluZykmJmtzKGUpOyl0Kz1lLmRhdGEubGVuZ3RoO3JldHVybiB0fShuLHIpOihyPj0oaT1uLmNoaWxkTm9kZXMpLmxlbmd0aD8obz0iYWZ0ZXIiLHI9aS5sZW5ndGgtMSk6bz0iYmVmb3JlIixuPWlbcl0pLHUucHVzaChPcyhuKSksYT1mdW5jdGlvbihlLHQsbil7dmFyIHI9W107Zm9yKHQ9dC5wYXJlbnROb2RlO3QhPT1lJiYoIW58fCFuKHQpKTt0PXQucGFyZW50Tm9kZSlyLnB1c2godCk7cmV0dXJuIHJ9KGUsbiksYT12ZShhLG0od24pKSwodT11LmNvbmNhdChoZShhLGZ1bmN0aW9uKGUpe3JldHVybiBPcyhlKX0pKSkucmV2ZXJzZSgpLmpvaW4oIi8iKSsiLCIrb30sUHM9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZighdClyZXR1cm4gbnVsbDt2YXIgcj10LnNwbGl0KCIsIiksbz1yWzBdLnNwbGl0KCIvIik7bj0xPHIubGVuZ3RoP3JbMV06ImJlZm9yZSI7dmFyIGk9YmUobyxmdW5jdGlvbihlLHQpe3JldHVybih0PS8oW1x3XC1cKFwpXSspXFsoWzAtOV0rKVxdLy5leGVjKHQpKT8oInRleHQoKSI9PT10WzFdJiYodFsxXT0iI3RleHQiKSxuPWUscj10WzFdLG89cGFyc2VJbnQodFsyXSwxMCksaT1BcyhuKSxpPXZlKGksZnVuY3Rpb24oZSx0KXtyZXR1cm4ha3MoZSl8fCFrcyhpW3QtMV0pfSksKGk9dmUoaSx5bihbcl0pKSlbb10pOm51bGw7dmFyIG4scixvLGl9LGUpO3JldHVybiBpP2tzKGkpP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9ZSxvPTA7a3Mocik7KXtpZihuPXIuZGF0YS5sZW5ndGgsbzw9dCYmdDw9bytuKXtlPXIsdC09bzticmVha31pZigha3Moci5uZXh0U2libGluZykpe2U9cix0PW47YnJlYWt9bys9bixyPXIubmV4dFNpYmxpbmd9cmV0dXJuIGtzKGUpJiZ0PmUuZGF0YS5sZW5ndGgmJih0PWUuZGF0YS5sZW5ndGgpLFNzKGUsdCl9KGkscGFyc2VJbnQobiwxMCkpOihuPSJhZnRlciI9PT1uP1RzKGkpKzE6VHMoaSksU3MoaS5wYXJlbnROb2RlLG4pKTpudWxsfSxMcz1EbixJcz1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGE9cltvPyJzdGFydENvbnRhaW5lciI6ImVuZENvbnRhaW5lciJdLHU9cltvPyJzdGFydE9mZnNldCI6ImVuZE9mZnNldCJdLHM9W10sYz0wLGw9ZS5nZXRSb290KCk7Zm9yKEVuKGEpP3MucHVzaChuP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixvO2ZvcihvPWUodC5kYXRhLnNsaWNlKDAsbikpLmxlbmd0aCxyPXQucHJldmlvdXNTaWJsaW5nO3ImJkVuKHIpO3I9ci5wcmV2aW91c1NpYmxpbmcpbys9ZShyLmRhdGEpLmxlbmd0aDtyZXR1cm4gb30odCxhLHUpOnUpOih1Pj0oaT1hLmNoaWxkTm9kZXMpLmxlbmd0aCYmaS5sZW5ndGgmJihjPTEsdT1NYXRoLm1heCgwLGkubGVuZ3RoLTEpKSxzLnB1c2goZS5ub2RlSW5kZXgoaVt1XSxuKStjKSk7YSYmYSE9PWw7YT1hLnBhcmVudE5vZGUpcy5wdXNoKGUubm9kZUluZGV4KGEsbikpO3JldHVybiBzfSxNcz1mdW5jdGlvbihlLHQsbil7dmFyIHI9MDtyZXR1cm4geXQuZWFjaChlLnNlbGVjdCh0KSxmdW5jdGlvbihlKXtpZigiYWxsIiE9PWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpKXJldHVybiBlIT09biYmdm9pZCByKyt9KSxyfSxGcz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPXQ/InN0YXJ0IjoiZW5kIjtuPWVbaSsiQ29udGFpbmVyIl0scj1lW2krIk9mZnNldCJdLHZuKG4pJiYiVFIiPT09bi5ub2RlTmFtZSYmKG49KG89bi5jaGlsZE5vZGVzKVtNYXRoLm1pbih0P3I6ci0xLG8ubGVuZ3RoLTEpXSkmJihyPXQ/MDpuLmNoaWxkTm9kZXMubGVuZ3RoLGVbInNldCIrKHQ/IlN0YXJ0IjoiRW5kIildKG4scikpfSxVcz1mdW5jdGlvbihlKXtyZXR1cm4gRnMoZSwhMCksRnMoZSwhMSksZX0senM9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZih2bihlKSYmKGU9SHUoZSx0KSxMcyhlKSkpcmV0dXJuIGU7aWYoRXUoZSkpe2lmKEVuKGUpJiZTdShlKSYmKGU9ZS5wYXJlbnROb2RlKSxuPWUucHJldmlvdXNTaWJsaW5nLExzKG4pKXJldHVybiBuO2lmKG49ZS5uZXh0U2libGluZyxMcyhuKSlyZXR1cm4gbn19LGpzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uLmdldE5vZGUoKSxvPXI/ci5ub2RlTmFtZTpudWxsLGk9bi5nZXRSbmcoKTtpZihMcyhyKXx8IklNRyI9PT1vKXJldHVybntuYW1lOm8saW5kZXg6TXMobi5kb20sbyxyKX07dmFyIGEsdSxzLGMsbCxmLGQsbT16cygoYT1pKS5zdGFydENvbnRhaW5lcixhLnN0YXJ0T2Zmc2V0KXx8enMoYS5lbmRDb250YWluZXIsYS5lbmRPZmZzZXQpO3JldHVybiBtP3tuYW1lOm89bS50YWdOYW1lLGluZGV4Ok1zKG4uZG9tLG8sbSl9Oih1PWUsYz10LGw9aSxmPShzPW4pLmRvbSwoZD17fSkuc3RhcnQ9SXMoZix1LGMsbCwhMCkscy5pc0NvbGxhcHNlZCgpfHwoZC5lbmQ9SXMoZix1LGMsbCwhMSkpLGQpfSxIcz1mdW5jdGlvbihlLHQsbil7dmFyIHI9eyJkYXRhLW1jZS10eXBlIjoiYm9va21hcmsiLGlkOnQsc3R5bGU6Im92ZXJmbG93OmhpZGRlbjtsaW5lLWhlaWdodDowcHgifTtyZXR1cm4gbj9lLmNyZWF0ZSgic3BhbiIsciwiJiN4RkVGRjsiKTplLmNyZWF0ZSgic3BhbiIscil9LFZzPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb20scj1lLmdldFJuZygpLG89bi51bmlxdWVJZCgpLGk9ZS5pc0NvbGxhcHNlZCgpLGE9ZS5nZXROb2RlKCksdT1hLm5vZGVOYW1lO2lmKCJJTUciPT09dSlyZXR1cm57bmFtZTp1LGluZGV4Ok1zKG4sdSxhKX07dmFyIHM9VXMoci5jbG9uZVJhbmdlKCkpO2lmKCFpKXtzLmNvbGxhcHNlKCExKTt2YXIgYz1IcyhuLG8rIl9lbmQiLHQpO0VzKG4scyxjKX0ocj1VcyhyKSkuY29sbGFwc2UoITApO3ZhciBsPUhzKG4sbysiX3N0YXJ0Iix0KTtyZXR1cm4gRXMobixyLGwpLGUubW92ZVRvQm9va21hcmsoe2lkOm8sa2VlcDohMH0pLHtpZDpvfX0scXM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAyPT09dD9qcyhDdSxuLGUpOjM9PT10PyhvPShyPWUpLmdldFJuZygpLHtzdGFydDpCcyhyLmRvbS5nZXRSb290KCksU3MuZnJvbVJhbmdlU3RhcnQobykpLGVuZDpCcyhyLmRvbS5nZXRSb290KCksU3MuZnJvbVJhbmdlRW5kKG8pKX0pOnQ/e3JuZzplLmdldFJuZygpfTpWcyhlLCExKTt2YXIgcixvfSwkcz1OKGpzLG8sITApLFdzPUVhLkRPTSxLcz1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5nZXRQYXJhbSh0LG4pO2lmKC0xPT09ci5pbmRleE9mKCI9IikpcmV0dXJuIHI7dmFyIG89ZS5nZXRQYXJhbSh0LCIiLCJoYXNoIik7cmV0dXJuIG8uaGFzT3duUHJvcGVydHkoZS5pZCk/b1tlLmlkXTpufSxYcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgiY29udGVudF9zZWN1cml0eV9wb2xpY3kiLCIiKX0sWXM9ZnVuY3Rpb24oZSl7aWYoZS5nZXRQYXJhbSgiZm9yY2VfcF9uZXdsaW5lcyIsITEpKXJldHVybiJwIjt2YXIgdD1lLmdldFBhcmFtKCJmb3JjZWRfcm9vdF9ibG9jayIsInAiKTtyZXR1cm4hMT09PXQ/IiI6ITA9PT10PyJwIjp0fSxHcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgiZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnMiLHt9KX0sSnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oImF1dG9tYXRpY191cGxvYWRzIiwhMCwiYm9vbGVhbiIpfSxRcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgiaWNvbnMiLCIiLCJzdHJpbmciKX0sWnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oInJlZmVycmVyX3BvbGljeSIsIiIsInN0cmluZyIpfSxlYz1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgibGFuZ3VhZ2UiLCJlbiIsInN0cmluZyIpfSx0Yz1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgiaW5kZW50X3VzZV9tYXJnaW4iLCExKX0sbmM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oIm9iamVjdF9yZXNpemluZyIpfSxyYz1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgiZXZlbnRfcm9vdCIpfSxvYz1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgidGhlbWUiKX0saWM9ZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lLmdldFBhcmFtKCJpbmxpbmVfYm91bmRhcmllcyIpfSxhYz1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgicGx1Z2lucyIpfSx1Yz12bixzYz1FbixjYz1mdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmdC5yZW1vdmVDaGlsZChlKX0sbGM9ZnVuY3Rpb24oZSx0KXswPT09dC5sZW5ndGg/Y2MoZSk6ZS5ub2RlVmFsdWU9dH0sZmM9ZnVuY3Rpb24oZSl7dmFyIHQ9Q3UoZSk7cmV0dXJue2NvdW50OmUubGVuZ3RoLXQubGVuZ3RoLHRleHQ6dH19LGRjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGhjKGUpLHR9LG1jPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPXQuY29udGFpbmVyKCksaT0obj10ZShvLmNoaWxkTm9kZXMpLCgtMT09PShyPUkobixlKSk/Qi5ub25lKCk6Qi5zb21lKHIpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGU8dC5vZmZzZXQoKT9TcyhvLHQub2Zmc2V0KCktMSk6dH0pLmdldE9yKHQpKTtyZXR1cm4gaGMoZSksaX0scGM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2MoZSkmJnQuY29udGFpbmVyKCk9PT1lPyhyPXQsbz1mYygobj1lKS5kYXRhLnN1YnN0cigwLHIub2Zmc2V0KCkpKSxpPWZjKG4uZGF0YS5zdWJzdHIoci5vZmZzZXQoKSkpLDA8KGE9by50ZXh0K2kudGV4dCkubGVuZ3RoPyhsYyhuLGEpLFNzKG4sci5vZmZzZXQoKS1vLmNvdW50KSk6cik6ZGMoZSx0KTt2YXIgbixyLG8saSxhfSxnYz1mdW5jdGlvbihlLHQpe3JldHVybiBTcy5pc1RleHRQb3NpdGlvbih0KT9wYyhlLHQpOihuPWUsKChyPXQpLmNvbnRhaW5lcigpPT09bi5wYXJlbnROb2RlP21jOmRjKShuLHIpKTt2YXIgbixyfSxoYz1mdW5jdGlvbihlKXtpZih1YyhlKSYmRXUoZSkmJihrdShlKT9lLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKTpjYyhlKSksc2MoZSkpe3ZhciB0PUN1KGZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZS5ub2RlVmFsdWV9Y2F0Y2godCl7cmV0dXJuIiJ9fShlKSk7bGMoZSx0KX19LHZjPW90KCkuYnJvd3Nlcix5Yz1EbixiYz1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdSxzPUl1KHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbik7cmV0dXJuIGk9IkJPRFkiPT09ZS50YWdOYW1lPyhyPWUub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsbz1lLnNjcm9sbExlZnR8fHIuc2Nyb2xsTGVmdCxlLnNjcm9sbFRvcHx8ci5zY3JvbGxUb3ApOih1PWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1lLnNjcm9sbExlZnQtdS5sZWZ0LGUuc2Nyb2xsVG9wLXUudG9wKSxzLmxlZnQrPW8scy5yaWdodCs9byxzLnRvcCs9aSxzLmJvdHRvbSs9aSxzLndpZHRoPTEsMDwoYT10Lm9mZnNldFdpZHRoLXQuY2xpZW50V2lkdGgpJiYobiYmKGEqPS0xKSxzLmxlZnQrPWEscy5yaWdodCs9YSksc30sQ2M9ZnVuY3Rpb24oZSxhLHUsdCl7dmFyIG4scyxjPU9hKEIubm9uZSgpKSxyPVlzKGUpLGw9MDxyLmxlbmd0aD9yOiJwIixmPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGk9WWEoQ3QuZnJvbURvbShlKSwiKltjb250ZW50RWRpdGFibGU9ZmFsc2VdIik7Zm9yKHI9MDtyPGkubGVuZ3RoO3IrKyluPSh0PWlbcl0uZG9tKCkpLnByZXZpb3VzU2libGluZyxEdShuKSYmKDE9PT0obz1uLmRhdGEpLmxlbmd0aD9uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobik6bi5kZWxldGVEYXRhKG8ubGVuZ3RoLTEsMSkpLG49dC5uZXh0U2libGluZyxBdShuKSYmKDE9PT0obz1uLmRhdGEpLmxlbmd0aD9uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobik6bi5kZWxldGVEYXRhKDAsMSkpfShhKSxzJiYoaGMocykscz1udWxsKSxjLmdldCgpLmVhY2goZnVuY3Rpb24oZSl7UmkoZS5jYXJldCkucmVtb3ZlKCksYy5zZXQoQi5ub25lKCkpfSksbiYmKGZhLmNsZWFySW50ZXJ2YWwobiksbj1udWxsKX0sZD1mdW5jdGlvbigpe249ZmEuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0KCk/UmkoImRpdi5tY2UtdmlzdWFsLWNhcmV0IixhKS50b2dnbGVDbGFzcygibWNlLXZpc3VhbC1jYXJldC1oaWRkZW4iKTpSaSgiZGl2Lm1jZS12aXN1YWwtY2FyZXQiLGEpLmFkZENsYXNzKCJtY2UtdmlzdWFsLWNhcmV0LWhpZGRlbiIpfSw1MDApfTtyZXR1cm57c2hvdzpmdW5jdGlvbih0LGUpe3ZhciBuLHIsbztpZihmKCksdm4obz1lKSYmL14oVER8VEgpJC9pLnRlc3Qoby50YWdOYW1lKSlyZXR1cm4gbnVsbDtpZighdShlKSlyZXR1cm4gcz1mdW5jdGlvbihlLHQpe3ZhciBuLHI9ZS5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHl1KSxvPWUucGFyZW50Tm9kZTtpZih0KXtpZihuPWUucHJldmlvdXNTaWJsaW5nLHh1KG4pKXtpZihFdShuKSlyZXR1cm4gbjtpZihEdShuKSlyZXR1cm4gbi5zcGxpdFRleHQobi5kYXRhLmxlbmd0aC0xKX1vLmluc2VydEJlZm9yZShyLGUpfWVsc2V7aWYobj1lLm5leHRTaWJsaW5nLHh1KG4pKXtpZihFdShuKSlyZXR1cm4gbjtpZihBdShuKSlyZXR1cm4gbi5zcGxpdFRleHQoMSksbn1lLm5leHRTaWJsaW5nP28uaW5zZXJ0QmVmb3JlKHIsZS5uZXh0U2libGluZyk6by5hcHBlbmRDaGlsZChyKX1yZXR1cm4gcn0oZSx0KSxyPWUub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpLHljKHMubmV4dFNpYmxpbmcpPyhyLnNldFN0YXJ0KHMsMCksci5zZXRFbmQocywwKSk6KHIuc2V0U3RhcnQocywxKSxyLnNldEVuZChzLDEpKSxyO3M9UnUobCxlLHQpLG49YmMoYSxlLHQpLFJpKHMpLmNzcygidG9wIixuLnRvcCk7dmFyIGk9UmkoJzxkaXYgY2xhc3M9Im1jZS12aXN1YWwtY2FyZXQiIGRhdGEtbWNlLWJvZ3VzPSJhbGwiPjwvZGl2PicpLmNzcyhuKS5hcHBlbmRUbyhhKVswXTtyZXR1cm4gYy5zZXQoQi5zb21lKHtjYXJldDppLGVsZW1lbnQ6ZSxiZWZvcmU6dH0pKSxjLmdldCgpLmVhY2goZnVuY3Rpb24oZSl7dCYmUmkoZS5jYXJldCkuYWRkQ2xhc3MoIm1jZS12aXN1YWwtY2FyZXQtYmVmb3JlIil9KSxkKCksKHI9ZS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KHMsMCksci5zZXRFbmQocywwKSxyfSxoaWRlOmYsZ2V0Q3NzOmZ1bmN0aW9uKCl7cmV0dXJuIi5tY2UtdmlzdWFsLWNhcmV0IHtwb3NpdGlvbjogYWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjogYmxhY2s7YmFja2dyb3VuZC1jb2xvcjogY3VycmVudGNvbG9yO30ubWNlLXZpc3VhbC1jYXJldC1oaWRkZW4ge2Rpc3BsYXk6IG5vbmU7fSpbZGF0YS1tY2UtY2FyZXRdIHtwb3NpdGlvbjogYWJzb2x1dGU7bGVmdDogLTEwMDBweDtyaWdodDogYXV0bzt0b3A6IDA7bWFyZ2luOiAwO3BhZGRpbmc6IDA7fSJ9LHJlcG9zaXRpb246ZnVuY3Rpb24oKXtjLmdldCgpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9YmMoYSxlLmVsZW1lbnQsZS5iZWZvcmUpO1JpKGUuY2FyZXQpLmNzcyh4ZSh7fSx0KSl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3JldHVybiBmYS5jbGVhckludGVydmFsKG4pfX19LHdjPWZ1bmN0aW9uKCl7cmV0dXJuIHZjLmlzSUUoKXx8dmMuaXNFZGdlKCl8fHZjLmlzRmlyZWZveCgpfSx4Yz1mdW5jdGlvbihlKXtyZXR1cm4geWMoZSl8fHhuKGUpJiZ3YygpfSxTYz1EbixOYz1ibigiZGlzcGxheSIsImJsb2NrIHRhYmxlIHRhYmxlLWNlbGwgdGFibGUtY2FwdGlvbiBsaXN0LWl0ZW0iKSxFYz1FdSxrYz1TdSxfYz12bixUYz1adSxSYz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbjtuPWUodCk7KWlmKCFrYyhuKSlyZXR1cm4gbjtyZXR1cm4gbnVsbH0sQWM9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1uZXcgQWkoZSxyKTtpZih0PDApe2lmKChTYyhlKXx8a2MoZSkpJiZuKGU9UmMoaS5wcmV2LCEwKSkpcmV0dXJuIGU7Zm9yKDtlPVJjKGkucHJldixvKTspaWYobihlKSlyZXR1cm4gZX1pZigwPHQpe2lmKChTYyhlKXx8a2MoZSkpJiZuKGU9UmMoaS5uZXh0LCEwKSkpcmV0dXJuIGU7Zm9yKDtlPVJjKGkubmV4dCxvKTspaWYobihlKSlyZXR1cm4gZX1yZXR1cm4gbnVsbH0sRGM9ZnVuY3Rpb24oZSx0KXtmb3IoO2UmJmUhPT10Oyl7aWYoTmMoZSkpcmV0dXJuIGU7ZT1lLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LE9jPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRGMoZS5jb250YWluZXIoKSxuKT09PURjKHQuY29udGFpbmVyKCksbil9LEJjPWZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuIG51bGw7dmFyIG49dC5jb250YWluZXIoKSxyPXQub2Zmc2V0KCk7cmV0dXJuIF9jKG4pP24uY2hpbGROb2Rlc1tyK2VdOm51bGx9LFBjPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIGU/KG4uc2V0U3RhcnRCZWZvcmUodCksbi5zZXRFbmRCZWZvcmUodCkpOihuLnNldFN0YXJ0QWZ0ZXIodCksbi5zZXRFbmRBZnRlcih0KSksbn0sTGM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhO2ZvcihvPWU/InByZXZpb3VzU2libGluZyI6Im5leHRTaWJsaW5nIjtuJiZuIT09dDspe2lmKHI9bltvXSxFYyhyKSYmKHI9cltvXSksU2Mocikpe2lmKGE9bixEYyhyLGk9dCk9PT1EYyhhLGkpKXJldHVybiByO2JyZWFrfWlmKFRjKHIpKWJyZWFrO249bi5wYXJlbnROb2RlfXJldHVybiBudWxsfSxJYz1OKFBjLCEwKSxNYz1OKFBjLCExKSxGYz1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE9TihMYywhMCx0KSx1PU4oTGMsITEsdCk7bz1uLnN0YXJ0Q29udGFpbmVyO3ZhciBzPW4uc3RhcnRPZmZzZXQ7aWYoU3Uobykpe2lmKF9jKG8pfHwobz1vLnBhcmVudE5vZGUpLCJiZWZvcmUiPT09KGk9by5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IikpJiYocj1vLm5leHRTaWJsaW5nLHhjKHIpKSlyZXR1cm4gSWMocik7aWYoImFmdGVyIj09PWkmJihyPW8ucHJldmlvdXNTaWJsaW5nLHhjKHIpKSlyZXR1cm4gTWMocil9aWYoIW4uY29sbGFwc2VkKXJldHVybiBuO2lmKEVuKG8pKXtpZihFYyhvKSl7aWYoMT09PWUpe2lmKHI9dShvKSlyZXR1cm4gSWMocik7aWYocj1hKG8pKXJldHVybiBNYyhyKX1pZigtMT09PWUpe2lmKHI9YShvKSlyZXR1cm4gTWMocik7aWYocj11KG8pKXJldHVybiBJYyhyKX1yZXR1cm4gbn1pZihEdShvKSYmcz49by5kYXRhLmxlbmd0aC0xKXJldHVybiAxPT09ZSYmKHI9dShvKSk/SWMocik6bjtpZihBdShvKSYmczw9MSlyZXR1cm4tMT09PWUmJihyPWEobykpP01jKHIpOm47aWYocz09PW8uZGF0YS5sZW5ndGgpcmV0dXJuKHI9dShvKSk/SWMocik6bjtpZigwPT09cylyZXR1cm4ocj1hKG8pKT9NYyhyKTpufXJldHVybiBufSxVYz1mdW5jdGlvbihlLHQpe3JldHVybiBCLmZyb20oQmMoZT8wOi0xLHQpKS5maWx0ZXIoU2MpfSx6Yz1mdW5jdGlvbihlLHQsbil7dmFyIHI9RmMoZSx0LG4pO3JldHVybi0xPT09ZT9Dcy5mcm9tUmFuZ2VTdGFydChyKTpDcy5mcm9tUmFuZ2VFbmQocil9LGpjPWZ1bmN0aW9uKGUpe3JldHVybiBCLmZyb20oZS5nZXROb2RlKCkpLm1hcChDdC5mcm9tRG9tKX0sSGM9ZnVuY3Rpb24oZSx0KXtmb3IoO3Q9ZSh0KTspaWYodC5pc1Zpc2libGUoKSlyZXR1cm4gdDtyZXR1cm4gdH0sVmM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1PYyhlLHQpO3JldHVybiEobnx8IVJuKGUuZ2V0Tm9kZSgpKSl8fG59Oyh4cz13cz13c3x8e30pW3hzLkJhY2t3YXJkcz0tMV09IkJhY2t3YXJkcyIseHNbeHMuRm9yd2FyZHM9MV09IkZvcndhcmRzIjt2YXIgcWMsJGM9RG4sV2M9RW4sS2M9dm4sWGM9Um4sWWM9WnUsR2M9ZnVuY3Rpb24oZSl7cmV0dXJuIEd1KGUpfHwhIWVzKHQ9ZSkmJiEwIT09Vyh0ZSh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGV8fCR1KHQpfSwhMSk7dmFyIHR9LEpjPXRzLFFjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaGFzQ2hpbGROb2RlcygpJiZ0PGUuY2hpbGROb2Rlcy5sZW5ndGg/ZS5jaGlsZE5vZGVzW3RdOm51bGx9LFpjPWZ1bmN0aW9uKGUsdCl7aWYoMDxlKXtpZihZYyh0LnByZXZpb3VzU2libGluZykmJiFXYyh0LnByZXZpb3VzU2libGluZykpcmV0dXJuIFNzLmJlZm9yZSh0KTtpZihXYyh0KSlyZXR1cm4gU3ModCwwKX1pZihlPDApe2lmKFljKHQubmV4dFNpYmxpbmcpJiYhV2ModC5uZXh0U2libGluZykpcmV0dXJuIFNzLmFmdGVyKHQpO2lmKFdjKHQpKXJldHVybiBTcyh0LHQuZGF0YS5sZW5ndGgpfXJldHVybiEoZTwwKXx8WGModCk/U3MuYmVmb3JlKHQpOlNzLmFmdGVyKHQpfSxlbD1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE7aWYoIUtjKG4pfHwhdClyZXR1cm4gbnVsbDtpZih0LmlzRXF1YWwoU3MuYWZ0ZXIobikpJiZuLmxhc3RDaGlsZCl7aWYoYT1Tcy5hZnRlcihuLmxhc3RDaGlsZCksZTwwJiZZYyhuLmxhc3RDaGlsZCkmJktjKG4ubGFzdENoaWxkKSlyZXR1cm4gWGMobi5sYXN0Q2hpbGQpP1NzLmJlZm9yZShuLmxhc3RDaGlsZCk6YX1lbHNlIGE9dDt2YXIgdSxzLGMsbD1hLmNvbnRhaW5lcigpLGY9YS5vZmZzZXQoKTtpZihXYyhsKSl7aWYoZTwwJiYwPGYpcmV0dXJuIFNzKGwsLS1mKTtpZigwPGUmJmY8bC5sZW5ndGgpcmV0dXJuIFNzKGwsKytmKTtyPWx9ZWxzZXtpZihlPDAmJjA8ZiYmKG89UWMobCxmLTEpLFljKG8pKSlyZXR1cm4hR2MobykmJihpPUFjKG8sZSxKYyxvKSk/V2MoaSk/U3MoaSxpLmRhdGEubGVuZ3RoKTpTcy5hZnRlcihpKTpXYyhvKT9TcyhvLG8uZGF0YS5sZW5ndGgpOlNzLmJlZm9yZShvKTtpZigwPGUmJmY8bC5jaGlsZE5vZGVzLmxlbmd0aCYmKG89UWMobCxmKSxZYyhvKSkpcmV0dXJuIFhjKG8pPyh1PW4sKGM9KHM9bykubmV4dFNpYmxpbmcpJiZZYyhjKT9XYyhjKT9TcyhjLDApOlNzLmJlZm9yZShjKTplbCh3cy5Gb3J3YXJkcyxTcy5hZnRlcihzKSx1KSk6IUdjKG8pJiYoaT1BYyhvLGUsSmMsbykpP1djKGkpP1NzKGksMCk6U3MuYmVmb3JlKGkpOldjKG8pP1NzKG8sMCk6U3MuYWZ0ZXIobyk7cj1vfHxhLmdldE5vZGUoKX1pZigoMDxlJiZhLmlzQXRFbmQoKXx8ZTwwJiZhLmlzQXRTdGFydCgpKSYmKHI9QWMocixlLHgoITApLG4sITApLEpjKHIsbikpKXJldHVybiBaYyhlLHIpO289QWMocixlLEpjLG4pO3ZhciBkPXdlKEgoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W107ZSYmZSE9PXQ7KW4ucHVzaChlKSxlPWUucGFyZW50Tm9kZTtyZXR1cm4gbn0obCxuKSwkYykpO3JldHVybiFkfHxvJiZkLmNvbnRhaW5zKG8pP28/WmMoZSxvKTpudWxsOmE9MDxlP1NzLmFmdGVyKGQpOlNzLmJlZm9yZShkKX0sdGw9ZnVuY3Rpb24odCl7cmV0dXJue25leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVsKHdzLkZvcndhcmRzLGUsdCl9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIGVsKHdzLkJhY2t3YXJkcyxlLHQpfX19LG5sPWZ1bmN0aW9uKGUpe3JldHVybiBTcy5pc1RleHRQb3NpdGlvbihlKT8wPT09ZS5vZmZzZXQoKTpadShlLmdldE5vZGUoKSl9LHJsPWZ1bmN0aW9uKGUpe2lmKFNzLmlzVGV4dFBvc2l0aW9uKGUpKXt2YXIgdD1lLmNvbnRhaW5lcigpO3JldHVybiBlLm9mZnNldCgpPT09dC5kYXRhLmxlbmd0aH1yZXR1cm4gWnUoZS5nZXROb2RlKCEwKSl9LG9sPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIVNzLmlzVGV4dFBvc2l0aW9uKGUpJiYhU3MuaXNUZXh0UG9zaXRpb24odCkmJmUuZ2V0Tm9kZSgpPT09dC5nZXROb2RlKCEwKX0saWw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPyFvbCh0LG4pJiYocj10LCEoIVNzLmlzVGV4dFBvc2l0aW9uKHIpJiZSbihyLmdldE5vZGUoKSkpKSYmcmwodCkmJm5sKG4pOiFvbChuLHQpJiZubCh0KSYmcmwobik7dmFyIHJ9LGFsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10bCh0KTtyZXR1cm4gQi5mcm9tKGU/ci5uZXh0KG4pOnIucHJldihuKSl9LHVsPWZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gYWwodCxuLHIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIE9jKHIsZSxuKSYmaWwodCxyLGUpP2FsKHQsbixlKTpCLnNvbWUoZSl9KX0sc2w9ZnVuY3Rpb24odCxuLGUscil7cmV0dXJuIHVsKHQsbixlKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiByKGUpP3NsKHQsbixlLHIpOkIuc29tZShlKX0pfSxjbD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEsdT1lP3QuZmlyc3RDaGlsZDp0Lmxhc3RDaGlsZDtyZXR1cm4gRW4odSk/Qi5zb21lKFNzKHUsZT8wOnUuZGF0YS5sZW5ndGgpKTp1P1p1KHUpP0Iuc29tZShlP1NzLmJlZm9yZSh1KTpSbihhPXUpP1NzLmJlZm9yZShhKTpTcy5hZnRlcihhKSk6KHI9dCxvPXUsaT0obj1lKT9Tcy5iZWZvcmUobyk6U3MuYWZ0ZXIobyksYWwobixyLGkpKTpCLm5vbmUoKX0sbGw9TihhbCwhMCksZmw9TihhbCwhMSksZGw9TihjbCwhMCksbWw9TihjbCwhMSkscGw9Il9tY2VfY2FyZXQiLGdsPWZ1bmN0aW9uKGUpe3JldHVybiB2bihlKSYmZS5pZD09PXBsfSxobD1mdW5jdGlvbihlLHQpe2Zvcig7dCYmdCE9PWU7KXtpZih0LmlkPT09cGwpcmV0dXJuIHQ7dD10LnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LHZsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZuKHQpJiZlLmlzQmxvY2sodCkmJiF0LmlubmVySFRNTCYmIW10LmllJiYodC5pbm5lckhUTUw9JzxiciBkYXRhLW1jZS1ib2d1cz0iMSIgLz4nKSx0fSx5bD1mdW5jdGlvbihlLHQpe3JldHVybiBtbChlKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuITF9LGZ1bmN0aW9uKGUpe3JldHVybiB0LnNldFN0YXJ0KGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSksdC5zZXRFbmQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSwhMH0pfSxibD1mdW5jdGlvbihlLHQsbil7cmV0dXJuISghMSE9PXQuaGFzQ2hpbGROb2RlcygpfHwhaGwoZSx0KSkmJihvPW4saT0ocj10KS5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHl1KSxyLmFwcGVuZENoaWxkKGkpLG8uc2V0U3RhcnQoaSwwKSxvLnNldEVuZChpLDApLCEwKTt2YXIgcixvLGl9LENsPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHM9blt0PyJzdGFydCI6ImVuZCJdLGM9ZS5nZXRSb290KCk7aWYocyl7Zm9yKGE9c1swXSxpPWMsbz1zLmxlbmd0aC0xOzE8PW87by0tKXtpZih1PWkuY2hpbGROb2RlcyxibChjLGkscikpcmV0dXJuITA7aWYoc1tvXT51Lmxlbmd0aC0xKXJldHVybiEhYmwoYyxpLHIpfHx5bChpLHIpO2k9dVtzW29dXX0zPT09aS5ub2RlVHlwZSYmKGE9TWF0aC5taW4oc1swXSxpLm5vZGVWYWx1ZS5sZW5ndGgpKSwxPT09aS5ub2RlVHlwZSYmKGE9TWF0aC5taW4oc1swXSxpLmNoaWxkTm9kZXMubGVuZ3RoKSksdD9yLnNldFN0YXJ0KGksYSk6ci5zZXRFbmQoaSxhKX1yZXR1cm4hMH0sd2w9ZnVuY3Rpb24oZSl7cmV0dXJuIEVuKGUpJiYwPGUuZGF0YS5sZW5ndGh9LHhsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYz1lLmdldChuLmlkKyJfIit0KSxsPW4ua2VlcDtpZihjKXtpZihyPWMucGFyZW50Tm9kZSxzPSh1PShvPSJzdGFydCI9PT10P2w/Yy5oYXNDaGlsZE5vZGVzKCk/KHI9Yy5maXJzdENoaWxkLDEpOndsKGMubmV4dFNpYmxpbmcpPyhyPWMubmV4dFNpYmxpbmcsMCk6d2woYy5wcmV2aW91c1NpYmxpbmcpPyhyPWMucHJldmlvdXNTaWJsaW5nLGMucHJldmlvdXNTaWJsaW5nLmRhdGEubGVuZ3RoKToocj1jLnBhcmVudE5vZGUsZS5ub2RlSW5kZXgoYykrMSk6ZS5ub2RlSW5kZXgoYyk6bD9jLmhhc0NoaWxkTm9kZXMoKT8ocj1jLmZpcnN0Q2hpbGQsMSk6d2woYy5wcmV2aW91c1NpYmxpbmcpPyhyPWMucHJldmlvdXNTaWJsaW5nLGMucHJldmlvdXNTaWJsaW5nLmRhdGEubGVuZ3RoKToocj1jLnBhcmVudE5vZGUsZS5ub2RlSW5kZXgoYykpOmUubm9kZUluZGV4KGMpLHIpLG8pLCFsKXtmb3IoYT1jLnByZXZpb3VzU2libGluZyxpPWMubmV4dFNpYmxpbmcseXQuZWFjaCh5dC5ncmVwKGMuY2hpbGROb2RlcyksZnVuY3Rpb24oZSl7RW4oZSkmJihlLm5vZGVWYWx1ZT1lLm5vZGVWYWx1ZS5yZXBsYWNlKC9cdUZFRkYvZywiIikpfSk7Yz1lLmdldChuLmlkKyJfIit0KTspZS5yZW1vdmUoYywhMCk7YSYmaSYmYS5ub2RlVHlwZT09PWkubm9kZVR5cGUmJkVuKGEpJiYhbXQub3BlcmEmJihvPWEubm9kZVZhbHVlLmxlbmd0aCxhLmFwcGVuZERhdGEoaS5ub2RlVmFsdWUpLGUucmVtb3ZlKGkpLHM9KHU9YSxvKSl9cmV0dXJuIEIuc29tZShTcyh1LHMpKX1yZXR1cm4gQi5ub25lKCl9LFNsPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1LHMsYyxsLGYsZCxtLHAsZyxoPWUuZG9tO2lmKHQpe2lmKGc9dCx5dC5pc0FycmF5KGcuc3RhcnQpKXJldHVybiBtPXQscD0oZD1oKS5jcmVhdGVSbmcoKSxDbChkLCEwLG0scCkmJkNsKGQsITEsbSxwKT9CLnNvbWUocCk6Qi5ub25lKCk7aWYoInN0cmluZyI9PXR5cGVvZiB0LnN0YXJ0KXJldHVybiBCLnNvbWUoKGM9dCxmPShzPWgpLmNyZWF0ZVJuZygpLGw9UHMocy5nZXRSb290KCksYy5zdGFydCksZi5zZXRTdGFydChsLmNvbnRhaW5lcigpLGwub2Zmc2V0KCkpLGw9UHMocy5nZXRSb290KCksYy5lbmQpLGYuc2V0RW5kKGwuY29udGFpbmVyKCksbC5vZmZzZXQoKSksZikpO2lmKHQuaGFzT3duUHJvcGVydHkoImlkIikpcmV0dXJuIGE9eGwobz1oLCJzdGFydCIsaT10KSx1PXhsKG8sImVuZCIsaSksQnUoYSx1Lm9yKGEpLGZ1bmN0aW9uKGUsdCl7dmFyIG49by5jcmVhdGVSbmcoKTtyZXR1cm4gbi5zZXRTdGFydCh2bChvLGUuY29udGFpbmVyKCkpLGUub2Zmc2V0KCkpLG4uc2V0RW5kKHZsKG8sdC5jb250YWluZXIoKSksdC5vZmZzZXQoKSksbn0pO2lmKHQuaGFzT3duUHJvcGVydHkoIm5hbWUiKSlyZXR1cm4gbj1oLHI9dCxCLmZyb20obi5zZWxlY3Qoci5uYW1lKVtyLmluZGV4XSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PW4uY3JlYXRlUm5nKCk7cmV0dXJuIHQuc2VsZWN0Tm9kZShlKSx0fSk7aWYodC5oYXNPd25Qcm9wZXJ0eSgicm5nIikpcmV0dXJuIEIuc29tZSh0LnJuZyl9cmV0dXJuIEIubm9uZSgpfSxObD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHFzKGUsdCxuKX0sRWw9ZnVuY3Rpb24odCxlKXtTbCh0LGUpLmVhY2goZnVuY3Rpb24oZSl7dC5zZXRSbmcoZSl9KX0sa2w9ZnVuY3Rpb24oZSl7cmV0dXJuIHZuKGUpJiYiU1BBTiI9PT1lLnRhZ05hbWUmJiJib29rbWFyayI9PT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtdHlwZSIpfSxfbD0ocWM9RHIsZnVuY3Rpb24oZSl7cmV0dXJuIHFjPT09ZX0pLFRsPWZ1bmN0aW9uKGUpe3JldHVybiIiIT09ZSYmLTEhPT0iIFxmXG5cclx0XHgwQiIuaW5kZXhPZihlKX0sUmw9ZnVuY3Rpb24oZSl7cmV0dXJuIVRsKGUpJiYhX2woZSl9LEFsPWZ1bmN0aW9uKGUpe3JldHVybiEhZS5ub2RlVHlwZX0sRGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHU9bi5zdGFydE9mZnNldCxzPW4uc3RhcnRDb250YWluZXI7aWYoKG4uc3RhcnRDb250YWluZXIhPT1uLmVuZENvbnRhaW5lcnx8IShhPW4uc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tuLnN0YXJ0T2Zmc2V0XSl8fCEvXihJTUcpJC8udGVzdChhLm5vZGVOYW1lKSkmJjE9PT1zLm5vZGVUeXBlKWZvcih1PChpPXMuY2hpbGROb2RlcykubGVuZ3RoPyhzPWlbdV0scj1uZXcgQWkocyxlLmdldFBhcmVudChzLGUuaXNCbG9jaykpKToocz1pW2kubGVuZ3RoLTFdLChyPW5ldyBBaShzLGUuZ2V0UGFyZW50KHMsZS5pc0Jsb2NrKSkpLm5leHQoITApKSxvPXIuY3VycmVudCgpO287bz1yLm5leHQoKSlpZigzPT09by5ub2RlVHlwZSYmIUxsKG8pKXJldHVybiBuLnNldFN0YXJ0KG8sMCksdm9pZCB0LnNldFJuZyhuKX0sT2w9ZnVuY3Rpb24oZSx0LG4pe2lmKGUpe3ZhciByPXQ/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIjtmb3IoZT1uP2U6ZVtyXTtlO2U9ZVtyXSlpZigxPT09ZS5ub2RlVHlwZXx8IUxsKGUpKXJldHVybiBlfX0sQmw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQWwodCkmJih0PXQubm9kZU5hbWUpLCEhZS5zY2hlbWEuZ2V0VGV4dEJsb2NrRWxlbWVudHMoKVt0LnRvTG93ZXJDYXNlKCldfSxQbD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuc2NoZW1hLmlzVmFsaWRDaGlsZCh0LG4pfSxMbD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmRW4oZSkmJi9eKFtcdCBcclxuXSt8KSQvLnRlc3QoZS5ub2RlVmFsdWUpfSxJbD1mdW5jdGlvbihlLG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9lPWUobik6biYmKGU9ZS5yZXBsYWNlKC8lKFx3KykvZyxmdW5jdGlvbihlLHQpe3JldHVybiBuW3RdfHxlfSkpLGV9LE1sPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9IiIrKChlPWV8fCIiKS5ub2RlTmFtZXx8ZSksdD0iIisoKHQ9dHx8IiIpLm5vZGVOYW1lfHx0KSxlLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9LEZsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4iY29sb3IiIT09biYmImJhY2tncm91bmRDb2xvciIhPT1ufHwodD1lLnRvSGV4KHQpKSwiZm9udFdlaWdodCI9PT1uJiY3MDA9PT10JiYodD0iYm9sZCIpLCJmb250RmFtaWx5Ij09PW4mJih0PXQucmVwbGFjZSgvW1wnXCJdL2csIiIpLnJlcGxhY2UoLyxccysvZywiLCIpKSwiIit0fSxVbD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEZsKGUsZS5nZXRTdHlsZSh0LG4pLG4pfSx6bD1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiB0LmdldFBhcmVudChlLGZ1bmN0aW9uKGUpe3JldHVybihuPXQuZ2V0U3R5bGUoZSwidGV4dC1kZWNvcmF0aW9uIikpJiYibm9uZSIhPT1ufSksbn0samw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmdldFBhcmVudHModCxuLGUuZ2V0Um9vdCgpKX0sSGw9ZnVuY3Rpb24odCxlLG4pe3ZhciByPVsiaW5saW5lIiwiYmxvY2siLCJzZWxlY3RvciIsImF0dHJpYnV0ZXMiLCJzdHlsZXMiLCJjbGFzc2VzIl0sYT1mdW5jdGlvbihlKXtyZXR1cm4gbGUoZSxmdW5jdGlvbihlLHQpe3JldHVybiBGKHIsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSl9KX07cmV0dXJuIEYodC5mb3JtYXR0ZXIuZ2V0KGUpLGZ1bmN0aW9uKGUpe3ZhciBpPWEoZSk7cmV0dXJuIEYodC5mb3JtYXR0ZXIuZ2V0KG4pLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPWEoZSk7cmV0dXJuIHQ9aSxuPW8sdm9pZCAwPT09ciYmKHI9bCksdShyKS5lcSh0LG4pfSl9KX0sVmw9a2wscWw9amwsJGw9TGwsV2w9QmwsS2w9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dDtuOyl7aWYodm4obikmJmUuZ2V0Q29udGVudEVkaXRhYmxlKG4pKXJldHVybiJmYWxzZSI9PT1lLmdldENvbnRlbnRFZGl0YWJsZShuKT9uOnQ7bj1uLnBhcmVudE5vZGV9cmV0dXJuIHR9LFhsPWZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbz10LmRhdGEsaT1uO2U/MDw9aTppPG8ubGVuZ3RoO2U/aS0tOmkrKylpZihyKG8uY2hhckF0KGkpKSlyZXR1cm4gZT9pKzE6aTtyZXR1cm4tMX0sWWw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBYbChlLHQsbixmdW5jdGlvbihlKXtyZXR1cm4gX2woZSl8fFRsKGUpfSl9LEdsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWGwoZSx0LG4sUmwpfSxKbD1mdW5jdGlvbihpLGUsdCxuLGEscil7dmFyIHUscz1pLmdldFBhcmVudCh0LGkuaXNCbG9jayl8fGUsbz1mdW5jdGlvbihlLHQsbil7dmFyIHI9dnUoaSksbz1hP3IuYmFja3dhcmRzOnIuZm9yd2FyZHM7cmV0dXJuIEIuZnJvbShvKGUsdCxmdW5jdGlvbihlLHQpe3JldHVybiBWbChlLnBhcmVudE5vZGUpPy0xOm4oYSx1PWUsdCl9LHMpKX07cmV0dXJuIG8odCxuLFlsKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiByP28oZS5jb250YWluZXIsZS5vZmZzZXQrKGE/LTE6MCksR2wpOkIuc29tZShlKX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gdT9CLnNvbWUoe2NvbnRhaW5lcjp1LG9mZnNldDphPzA6dS5sZW5ndGh9KTpCLm5vbmUoKX0pfSxRbD1mdW5jdGlvbihlLHQsbixyLG8pe0VuKHIpJiYwPT09ci5ub2RlVmFsdWUubGVuZ3RoJiZyW29dJiYocj1yW29dKTtmb3IodmFyIGk9cWwoZSxyKSxhPTA7YTxpLmxlbmd0aDthKyspZm9yKHZhciB1PTA7dTx0Lmxlbmd0aDt1Kyspe3ZhciBzPXRbdV07aWYoISgiY29sbGFwc2VkImluIHMmJnMuY29sbGFwc2VkIT09bi5jb2xsYXBzZWQpJiZlLmlzKGlbYV0scy5zZWxlY3RvcikpcmV0dXJuIGlbYV19cmV0dXJuIHJ9LFpsPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvLGk9dC5kb20sYT1pLmdldFJvb3QoKTtpZihlWzBdLndyYXBwZXJ8fChvPWkuZ2V0UGFyZW50KG4sZVswXS5ibG9jayxhKSksIW8pe3ZhciB1PWkuZ2V0UGFyZW50KG4sIkxJLFRELFRIIik7bz1pLmdldFBhcmVudChFbihuKT9uLnBhcmVudE5vZGU6bixmdW5jdGlvbihlKXtyZXR1cm4gZSE9PWEmJldsKHQsZSl9LHUpfWlmKG8mJmVbMF0ud3JhcHBlciYmKG89cWwoaSxvLCJ1bCxvbCIpLnJldmVyc2UoKVswXXx8byksIW8pZm9yKG89bjtvW3JdJiYhaS5pc0Jsb2NrKG9bcl0pJiYobz1vW3JdLCFNbChvLCJiciIpKTspO3JldHVybiBvfHxufSxlZj1mdW5jdGlvbihlLHQsbixyLG8saSxhKXt2YXIgdSxzLGM7dT1zPWE/bjpvO3ZhciBsLGY9YT8icHJldmlvdXNTaWJsaW5nIjoibmV4dFNpYmxpbmciLGQ9ZS5nZXRSb290KCk7aWYoRW4odSkmJiEkbCh1KSYmKGE/MDxyOmk8dS5ub2RlVmFsdWUubGVuZ3RoKSlyZXR1cm4gdTtmb3IoOzspe2lmKCF0WzBdLmJsb2NrX2V4cGFuZCYmZS5pc0Jsb2NrKHMpKXJldHVybiBzO2ZvcihjPXNbZl07YztjPWNbZl0paWYoIVZsKGMpJiYhJGwoYykmJigiQlIiIT09KGw9Yykubm9kZU5hbWV8fCFsLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKXx8bC5uZXh0U2libGluZykpcmV0dXJuIHM7aWYocz09PWR8fHMucGFyZW50Tm9kZT09PWQpe3U9czticmVha31zPXMucGFyZW50Tm9kZX1yZXR1cm4gdX0sdGY9ZnVuY3Rpb24oZSx0LG4scil7dm9pZCAwPT09ciYmKHI9ITEpO3ZhciBvPXQuc3RhcnRDb250YWluZXIsaT10LnN0YXJ0T2Zmc2V0LGE9dC5lbmRDb250YWluZXIsdT10LmVuZE9mZnNldCxzPWUuZG9tO3ZuKG8pJiZvLmhhc0NoaWxkTm9kZXMoKSYmKG89SHUobyxpKSxFbihvKSYmKGk9MCkpLHZuKGEpJiZhLmhhc0NoaWxkTm9kZXMoKSYmKGE9SHUoYSx0LmNvbGxhcHNlZD91OnUtMSksRW4oYSkmJih1PWEubm9kZVZhbHVlLmxlbmd0aCkpLG89S2wocyxvKSxhPUtsKHMsYSksKFZsKG8ucGFyZW50Tm9kZSl8fFZsKG8pKSYmKG89Vmwobyk/bzpvLnBhcmVudE5vZGUsbz10LmNvbGxhcHNlZD9vLnByZXZpb3VzU2libGluZ3x8bzpvLm5leHRTaWJsaW5nfHxvLEVuKG8pJiYoaT10LmNvbGxhcHNlZD9vLmxlbmd0aDowKSksKFZsKGEucGFyZW50Tm9kZSl8fFZsKGEpKSYmKGE9VmwoYSk/YTphLnBhcmVudE5vZGUsYT10LmNvbGxhcHNlZD9hLm5leHRTaWJsaW5nfHxhOmEucHJldmlvdXNTaWJsaW5nfHxhLEVuKGEpJiYodT10LmNvbGxhcHNlZD8wOmEubGVuZ3RoKSksdC5jb2xsYXBzZWQmJihKbChzLGUuZ2V0Qm9keSgpLG8saSwhMCxyKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuY29udGFpbmVyLG49ZS5vZmZzZXQ7bz10LGk9bn0pLEpsKHMsZS5nZXRCb2R5KCksYSx1LCExLHIpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb250YWluZXIsbj1lLm9mZnNldDthPXQsdT1ufSkpO3JldHVybihuWzBdLmlubGluZXx8blswXS5ibG9ja19leHBhbmQpJiYoblswXS5pbmxpbmUmJkVuKG8pJiYwIT09aXx8KG89ZWYocyxuLG8saSxhLHUsITApKSxuWzBdLmlubGluZSYmRW4oYSkmJnUhPT1hLm5vZGVWYWx1ZS5sZW5ndGh8fChhPWVmKHMsbixvLGksYSx1LCExKSkpLG5bMF0uc2VsZWN0b3ImJiExIT09blswXS5leHBhbmQmJiFuWzBdLmlubGluZSYmKG89UWwocyxuLHQsbywicHJldmlvdXNTaWJsaW5nIiksYT1RbChzLG4sdCxhLCJuZXh0U2libGluZyIpKSwoblswXS5ibG9ja3x8blswXS5zZWxlY3RvcikmJihvPVpsKGUsbixvLCJwcmV2aW91c1NpYmxpbmciKSxhPVpsKGUsbixhLCJuZXh0U2libGluZyIpLG5bMF0uYmxvY2smJihzLmlzQmxvY2sobyl8fChvPWVmKHMsbixvLGksYSx1LCEwKSkscy5pc0Jsb2NrKGEpfHwoYT1lZihzLG4sbyxpLGEsdSwhMSkpKSksdm4obykmJihpPXMubm9kZUluZGV4KG8pLG89by5wYXJlbnROb2RlKSx2bihhKSYmKHU9cy5ub2RlSW5kZXgoYSkrMSxhPWEucGFyZW50Tm9kZSkse3N0YXJ0Q29udGFpbmVyOm8sc3RhcnRPZmZzZXQ6aSxlbmRDb250YWluZXI6YSxlbmRPZmZzZXQ6dX19LG5mPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5jaGlsZE5vZGVzO3JldHVybiB0Pj1uLmxlbmd0aD90PW4ubGVuZ3RoLTE6dDwwJiYodD0wKSxuW3RdfHxlfSxyZj1mdW5jdGlvbihlLHQsdSl7dmFyIG49dC5zdGFydENvbnRhaW5lcixyPXQuc3RhcnRPZmZzZXQsbz10LmVuZENvbnRhaW5lcixpPXQuZW5kT2Zmc2V0LHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIDM9PT0odD1lWzBdKS5ub2RlVHlwZSYmdD09PW4mJnI+PXQubm9kZVZhbHVlLmxlbmd0aCYmZS5zcGxpY2UoMCwxKSx0PWVbZS5sZW5ndGgtMV0sMD09PWkmJjA8ZS5sZW5ndGgmJnQ9PT1vJiYzPT09dC5ub2RlVHlwZSYmZS5zcGxpY2UoZS5sZW5ndGgtMSwxKSxlfSxjPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W107ZSYmZSE9PW47ZT1lW3RdKXIucHVzaChlKTtyZXR1cm4gcn0sYT1mdW5jdGlvbihlLHQpe2Rve2lmKGUucGFyZW50Tm9kZT09PXQpcmV0dXJuIGU7ZT1lLnBhcmVudE5vZGV9d2hpbGUoZSl9LGw9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyIsbz1lLGk9by5wYXJlbnROb2RlO28mJm8hPT10O289aSl7aT1vLnBhcmVudE5vZGU7dmFyIGE9YyhvPT09ZT9vOm9bcl0scik7YS5sZW5ndGgmJihufHxhLnJldmVyc2UoKSx1KHMoYSkpKX19O2lmKDE9PT1uLm5vZGVUeXBlJiZuLmhhc0NoaWxkTm9kZXMoKSYmKG49bmYobixyKSksMT09PW8ubm9kZVR5cGUmJm8uaGFzQ2hpbGROb2RlcygpJiYobz1uZihvLGktMSkpLG49PT1vKXJldHVybiB1KHMoW25dKSk7Zm9yKHZhciBmPWUuZmluZENvbW1vbkFuY2VzdG9yKG4sbyksZD1uO2Q7ZD1kLnBhcmVudE5vZGUpe2lmKGQ9PT1vKXJldHVybiBsKG4sZiwhMCk7aWYoZD09PWYpYnJlYWt9Zm9yKGQ9bztkO2Q9ZC5wYXJlbnROb2RlKXtpZihkPT09bilyZXR1cm4gbChvLGYpO2lmKGQ9PT1mKWJyZWFrfXZhciBtPWEobixmKXx8bixwPWEobyxmKXx8bztsKG4sbSwhMCk7dmFyIGc9YyhtPT09bj9tOm0ubmV4dFNpYmxpbmcsIm5leHRTaWJsaW5nIixwPT09bz9wLm5leHRTaWJsaW5nOnApO2cubGVuZ3RoJiZ1KHMoZykpLGwobyxwKX0sb2Y9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoZSlmb3IodmFyIG49MDtuPGUucmFuZ2VDb3VudDtuKyspdC5wdXNoKGUuZ2V0UmFuZ2VBdChuKSk7cmV0dXJuIHR9LGFmPWZ1bmN0aW9uKGUpe3JldHVybiBIKFkoZSxmdW5jdGlvbihlKXt2YXIgdD1qdShlKTtyZXR1cm4gdD9bQ3QuZnJvbURvbSh0KV06W119KSx0cil9LHVmPWZ1bmN0aW9uKGUsdCl7dmFyIG49WWEodCwidGRbZGF0YS1tY2Utc2VsZWN0ZWRdLHRoW2RhdGEtbWNlLXNlbGVjdGVkXSIpO3JldHVybiAwPG4ubGVuZ3RoP246YWYoZSl9LHNmPWZ1bmN0aW9uKGUpe3JldHVybiB1ZihvZihlLnNlbGVjdGlvbi5nZXRTZWwoKSksQ3QuZnJvbURvbShlLmdldEJvZHkoKSkpfSxjZj1mdW5jdGlvbih0KXtyZXR1cm4gcXQodCkuZm9sZCh4KFt0XSksZnVuY3Rpb24oZSl7cmV0dXJuW3RdLmNvbmNhdChjZihlKSl9KX0sbGY9ZnVuY3Rpb24odCl7cmV0dXJuICR0KHQpLmZvbGQoeChbdF0pLGZ1bmN0aW9uKGUpe3JldHVybiJiciI9PT13dChlKT9GdChlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuW3RdLmNvbmNhdChsZihlKSl9KS5nZXRPcihbXSk6W3RdLmNvbmNhdChsZihlKSl9KX0sZmY9ZnVuY3Rpb24obyxlKXtyZXR1cm4gQnUoKGE9KGk9ZSkuc3RhcnRDb250YWluZXIsdT1pLnN0YXJ0T2Zmc2V0LEVuKGEpPzA9PT11P0Iuc29tZShDdC5mcm9tRG9tKGEpKTpCLm5vbmUoKTpCLmZyb20oYS5jaGlsZE5vZGVzW3VdKS5tYXAoQ3QuZnJvbURvbSkpLChuPSh0PWUpLmVuZENvbnRhaW5lcixyPXQuZW5kT2Zmc2V0LEVuKG4pP3I9PT1uLmRhdGEubGVuZ3RoP0Iuc29tZShDdC5mcm9tRG9tKG4pKTpCLm5vbmUoKTpCLmZyb20obi5jaGlsZE5vZGVzW3ItMV0pLm1hcChDdC5mcm9tRG9tKSksZnVuY3Rpb24oZSx0KXt2YXIgbj1LKGNmKG8pLE4oRHQsZSkpLHI9SyhsZihvKSxOKER0LHQpKTtyZXR1cm4gbi5pc1NvbWUoKSYmci5pc1NvbWUoKX0pLmdldE9yKCExKTt2YXIgdCxuLHIsaSxhLHV9LGRmPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPW4saT1uZXcgQWkobixvKSxhPWUuc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKTtkb3tpZigzPT09bi5ub2RlVHlwZSYmMCE9PXl0LnRyaW0obi5ub2RlVmFsdWUpLmxlbmd0aClyZXR1cm4gdm9pZChyP3Quc2V0U3RhcnQobiwwKTp0LnNldEVuZChuLG4ubm9kZVZhbHVlLmxlbmd0aCkpO2lmKGFbbi5ub2RlTmFtZV0mJiEvXihURHxUSCkkLy50ZXN0KG4ubm9kZU5hbWUpKXJldHVybiB2b2lkKHI/dC5zZXRTdGFydEJlZm9yZShuKToiQlIiPT09bi5ub2RlTmFtZT90LnNldEVuZEJlZm9yZShuKTp0LnNldEVuZEFmdGVyKG4pKX13aGlsZShuPXI/aS5uZXh0KCk6aS5wcmV2KCkpOyJCT0RZIj09PW8ubm9kZU5hbWUmJihyP3Quc2V0U3RhcnQobywwKTp0LnNldEVuZChvLG8uY2hpbGROb2Rlcy5sZW5ndGgpKX0sbWY9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZWxlY3Rpb24uZ2V0U2VsKCk7cmV0dXJuIHQmJjA8dC5yYW5nZUNvdW50fSxwZj1mdW5jdGlvbihyLG8pe3ZhciBlPXNmKHIpOzA8ZS5sZW5ndGg/eihlLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tKCksbj1yLmRvbS5jcmVhdGVSbmcoKTtuLnNldFN0YXJ0QmVmb3JlKHQpLG4uc2V0RW5kQWZ0ZXIodCksbyhuLCEwKX0pOm8oci5zZWxlY3Rpb24uZ2V0Um5nKCksITEpfSxnZj1mdW5jdGlvbihlLHQsbil7dmFyIHI9VnMoZSx0KTtuKHIpLGUubW92ZVRvQm9va21hcmsocil9O3ZhciBoZj1mdW5jdGlvbiBJRShuLHIpe3ZhciB0PWZ1bmN0aW9uKGUpe3JldHVybiBuKGUpP0IuZnJvbShlLmRvbSgpLm5vZGVWYWx1ZSk6Qi5ub25lKCl9O3JldHVybntnZXQ6ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgbmV3IEVycm9yKCJDYW4gb25seSBnZXQgIityKyIgdmFsdWUgb2YgYSAiK3IrIiBub2RlIik7cmV0dXJuIHQoZSkuZ2V0T3IoIiIpfSxnZXRPcHRpb246dCxzZXQ6ZnVuY3Rpb24oZSx0KXtpZighbihlKSl0aHJvdyBuZXcgRXJyb3IoIkNhbiBvbmx5IHNldCByYXcgIityKyIgdmFsdWUgb2YgYSAiK3IrIiBub2RlIik7ZS5kb20oKS5ub2RlVmFsdWU9dH19fShFdCwidGV4dCIpLHZmPWZ1bmN0aW9uKGUpe3JldHVybiBoZi5nZXQoZSl9LHlmPWZ1bmN0aW9uKHIsbyxpLGEpe3JldHVybiBNdChvKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuInNraXBwaW5nIn0sZnVuY3Rpb24oZSl7cmV0dXJuImJyIj09PWF8fEV0KG49bykmJnZmKG4pPT09QXI/InZhbGlkIjpOdCh0PW8pJiZLYSh0LHJ1KCkpPyJleGlzdGluZyI6Z2wobyk/ImNhcmV0IjpQbChyLGksYSkmJlBsKHIsd3QoZSksaSk/InZhbGlkIjoiaW52YWxpZC1jaGlsZCI7dmFyIHQsbn0pfSxiZj1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz10LnVpZCxpPXZvaWQgMD09PW8/ZnUoIm1jZS1hbm5vdGF0aW9uIik6byxhPWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmdC5pbmRleE9mKHIpPDAmJihuW3JdPWVbcl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxyLmxlbmd0aDtvKyspdC5pbmRleE9mKHJbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHJbb10pJiYobltyW29dXT1lW3Jbb11dKX1yZXR1cm4gbn0odCxbInVpZCJdKSx1PUN0LmZyb21UYWcoInNwYW4iLGUpOyRhKHUscnUoKSksUG4odSwiIitpdSgpLGkpLFBuKHUsIiIrb3UoKSxuKTt2YXIgcyxjPXIoaSxhKSxsPWMuYXR0cmlidXRlcyxmPXZvaWQgMD09PWw/e306bCxkPWMuY2xhc3NlcyxtPXZvaWQgMD09PWQ/W106ZDtyZXR1cm4gTG4odSxmKSxzPXUseihtLGZ1bmN0aW9uKGUpeyRhKHMsZSl9KSx1fSxDZj1mdW5jdGlvbihpLGUsdCxuLHIpe3ZhciBhPVtdLHU9YmYoaS5nZXREb2MoKSxyLHQsbikscz1PYShCLm5vbmUoKSksYz1mdW5jdGlvbigpe3Muc2V0KEIubm9uZSgpKX0sbD1mdW5jdGlvbihlKXt6KGUsbyl9LG89ZnVuY3Rpb24oZSl7dmFyIHQsbjtzd2l0Y2goeWYoaSxlLCJzcGFuIix3dChlKSkpe2Nhc2UiaW52YWxpZC1jaGlsZCI6YygpO3ZhciByPUh0KGUpO2wociksYygpO2JyZWFrO2Nhc2UidmFsaWQiOnZhciBvPXMuZ2V0KCkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe3ZhciBlPXB1KHUpO3JldHVybiBhLnB1c2goZSkscy5zZXQoQi5zb21lKGUpKSxlfSk7R3QodD1lLG49byksWnQobix0KX19O3JldHVybiByZihpLmRvbSxlLGZ1bmN0aW9uKGUpe3ZhciB0O2MoKSx0PVUoZSxDdC5mcm9tRG9tKSxsKHQpfSksYX0sd2Y9ZnVuY3Rpb24odSxzLGMsbCl7dS51bmRvTWFuYWdlci50cmFuc2FjdChmdW5jdGlvbigpe3ZhciBlLHQsbixyPXUuc2VsZWN0aW9uLG89ci5nZXRSbmcoKSxpPTA8c2YodSkubGVuZ3RoO2lmKG8uY29sbGFwc2VkJiYhaSYmKG49dGYoZT11LHQ9byxbe2lubGluZTohMH1dKSx0LnNldFN0YXJ0KG4uc3RhcnRDb250YWluZXIsbi5zdGFydE9mZnNldCksdC5zZXRFbmQobi5lbmRDb250YWluZXIsbi5lbmRPZmZzZXQpLGUuc2VsZWN0aW9uLnNldFJuZyh0KSksci5nZXRSbmcoKS5jb2xsYXBzZWQmJiFpKXt2YXIgYT1iZih1LmdldERvYygpLGwscyxjLmRlY29yYXRlKTtkdShhLERyKSxyLmdldFJuZygpLmluc2VydE5vZGUoYS5kb20oKSksci5zZWxlY3QoYS5kb20oKSl9ZWxzZSBnZihyLCExLGZ1bmN0aW9uKCl7cGYodSxmdW5jdGlvbihlKXtDZih1LGUscyxjLmRlY29yYXRlLGwpfSl9KX0pfSx4Zj1mdW5jdGlvbih1KXt2YXIgbixyPShuPXt9LHtyZWdpc3RlcjpmdW5jdGlvbihlLHQpe25bZV09e25hbWU6ZSxzZXR0aW5nczp0fX0sbG9va3VwOmZ1bmN0aW9uKGUpe3JldHVybiBuLmhhc093blByb3BlcnR5KGUpP0IuZnJvbShuW2VdKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2V0dGluZ3N9KTpCLm5vbmUoKX19KTtjdSh1LHIpO3ZhciBvPXN1KHUpO3JldHVybntyZWdpc3RlcjpmdW5jdGlvbihlLHQpe3IucmVnaXN0ZXIoZSx0KX0sYW5ub3RhdGU6ZnVuY3Rpb24odCxuKXtyLmxvb2t1cCh0KS5lYWNoKGZ1bmN0aW9uKGUpe3dmKHUsdCxlLG4pfSl9LGFubm90YXRpb25DaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7by5hZGRMaXN0ZW5lcihlLHQpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7YXUodSxCLnNvbWUoZSkpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lbGVtZW50czt6KHQscm4pfSl9LGdldEFsbDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGE9KHQ9dSxuPWUscj1DdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSxvPVlhKHIsIlsiK291KCkrJz0iJytuKyciXScpLGk9e30seihvLGZ1bmN0aW9uKGUpe3ZhciB0PUluKGUsaXUoKSksbj1pLmhhc093blByb3BlcnR5KHQpP2lbdF06W107aVt0XT1uLmNvbmNhdChbZV0pfSksaSk7cmV0dXJuIGllKGEsZnVuY3Rpb24oZSl7cmV0dXJuIFUoZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5kb20oKX0pfSl9fX0sU2Y9L15bIFx0XHJcbl0qJC8sTmY9eyIjdGV4dCI6MywiI2NvbW1lbnQiOjgsIiNjZGF0YSI6NCwiI3BpIjo3LCIjZG9jdHlwZSI6MTAsIiNkb2N1bWVudC1mcmFnbWVudCI6MTF9LEVmPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uPyJsYXN0Q2hpbGQiOiJmaXJzdENoaWxkIixvPW4/InByZXYiOiJuZXh0IjtpZihlW3JdKXJldHVybiBlW3JdO2lmKGUhPT10KXt2YXIgaT1lW29dO2lmKGkpcmV0dXJuIGk7Zm9yKHZhciBhPWUucGFyZW50O2EmJmEhPT10O2E9YS5wYXJlbnQpaWYoaT1hW29dKXJldHVybiBpfX0sa2Y9ZnVuY3Rpb24oZSl7aWYoIVNmLnRlc3QoZS52YWx1ZSkpcmV0dXJuITE7dmFyIHQ9ZS5wYXJlbnQ7cmV0dXJuIXR8fCJzcGFuIj09PXQubmFtZSYmIXQuYXR0cigic3R5bGUiKXx8IS9eWyBdKyQvLnRlc3QoZS52YWx1ZSl9LF9mPWZ1bmN0aW9uKGUpe3ZhciB0PSJhIj09PWUubmFtZSYmIWUuYXR0cigiaHJlZiIpJiZlLmF0dHIoImlkIik7cmV0dXJuIGUuYXR0cigibmFtZSIpfHxlLmF0dHIoImlkIikmJiFlLmZpcnN0Q2hpbGR8fGUuYXR0cigiZGF0YS1tY2UtYm9va21hcmsiKXx8dH0sVGY9KFJmLmNyZWF0ZT1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBSZihlLE5mW2VdfHwxKTtyZXR1cm4gdCYmb2UodCxmdW5jdGlvbihlLHQpe24uYXR0cih0LGUpfSksbn0sUmYucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50JiZlLnJlbW92ZSgpLHRoaXMuaW5zZXJ0KGUsdGhpcyksdGhpcy5yZW1vdmUoKSx0aGlzfSxSZi5wcm90b3R5cGUuYXR0cj1mdW5jdGlvbihlLHQpe3ZhciBuLHI9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIGUhPT11bmRlZmluZWQmJm51bGwhPT1lJiZvZShlLGZ1bmN0aW9uKGUsdCl7ci5hdHRyKHQsZSl9KSxyO2lmKG49ci5hdHRyaWJ1dGVzKXtpZih0PT09dW5kZWZpbmVkKXJldHVybiBuLm1hcFtlXTtpZihudWxsPT09dCl7aWYoZSBpbiBuLm1hcCl7ZGVsZXRlIG4ubWFwW2VdO2Zvcih2YXIgbz1uLmxlbmd0aDtvLS07KWlmKG5bb10ubmFtZT09PWUpcmV0dXJuIG4uc3BsaWNlKG8sMSkscn1yZXR1cm4gcn1pZihlIGluIG4ubWFwKXtmb3Iobz1uLmxlbmd0aDtvLS07KWlmKG5bb10ubmFtZT09PWUpe25bb10udmFsdWU9dDticmVha319ZWxzZSBuLnB1c2goe25hbWU6ZSx2YWx1ZTp0fSk7cmV0dXJuIG4ubWFwW2VdPXQscn19LFJmLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBlLHQ9bmV3IFJmKHRoaXMubmFtZSx0aGlzLnR5cGUpO2lmKGU9dGhpcy5hdHRyaWJ1dGVzKXt2YXIgbj1bXTtuLm1hcD17fTtmb3IodmFyIHI9MCxvPWUubGVuZ3RoO3I8bztyKyspe3ZhciBpPWVbcl07ImlkIiE9PWkubmFtZSYmKG5bbi5sZW5ndGhdPXtuYW1lOmkubmFtZSx2YWx1ZTppLnZhbHVlfSxuLm1hcFtpLm5hbWVdPWkudmFsdWUpfXQuYXR0cmlidXRlcz1ufXJldHVybiB0LnZhbHVlPXRoaXMudmFsdWUsdC5zaG9ydEVuZGVkPXRoaXMuc2hvcnRFbmRlZCx0fSxSZi5wcm90b3R5cGUud3JhcD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wYXJlbnQuaW5zZXJ0KGUsdGhpcyksZS5hcHBlbmQodGhpcyksdGhpc30sUmYucHJvdG90eXBlLnVud3JhcD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmZpcnN0Q2hpbGQ7ZTspe3ZhciB0PWUubmV4dDt0aGlzLmluc2VydChlLHRoaXMsITApLGU9dH10aGlzLnJlbW92ZSgpfSxSZi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXJlbnQsdD10aGlzLm5leHQsbj10aGlzLnByZXY7cmV0dXJuIGUmJihlLmZpcnN0Q2hpbGQ9PT10aGlzPyhlLmZpcnN0Q2hpbGQ9dCkmJih0LnByZXY9bnVsbCk6bi5uZXh0PXQsZS5sYXN0Q2hpbGQ9PT10aGlzPyhlLmxhc3RDaGlsZD1uKSYmKG4ubmV4dD1udWxsKTp0LnByZXY9bix0aGlzLnBhcmVudD10aGlzLm5leHQ9dGhpcy5wcmV2PW51bGwpLHRoaXN9LFJmLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSl7ZS5wYXJlbnQmJmUucmVtb3ZlKCk7dmFyIHQ9dGhpcy5sYXN0Q2hpbGQ7cmV0dXJuIHQ/KCh0Lm5leHQ9ZSkucHJldj10LHRoaXMubGFzdENoaWxkPWUpOnRoaXMubGFzdENoaWxkPXRoaXMuZmlyc3RDaGlsZD1lLGUucGFyZW50PXRoaXMsZX0sUmYucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbihlLHQsbil7ZS5wYXJlbnQmJmUucmVtb3ZlKCk7dmFyIHI9dC5wYXJlbnR8fHRoaXM7cmV0dXJuIG4/KHQ9PT1yLmZpcnN0Q2hpbGQ/ci5maXJzdENoaWxkPWU6dC5wcmV2Lm5leHQ9ZSxlLnByZXY9dC5wcmV2LChlLm5leHQ9dCkucHJldj1lKToodD09PXIubGFzdENoaWxkP3IubGFzdENoaWxkPWU6dC5uZXh0LnByZXY9ZSxlLm5leHQ9dC5uZXh0LChlLnByZXY9dCkubmV4dD1lKSxlLnBhcmVudD1yLGV9LFJmLnByb3RvdHlwZS5nZXRBbGw9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49dGhpcy5maXJzdENoaWxkO247bj1FZihuLHRoaXMpKW4ubmFtZT09PWUmJnQucHVzaChuKTtyZXR1cm4gdH0sUmYucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7aWYodGhpcy5maXJzdENoaWxkKXtmb3IodmFyIGU9W10sdD10aGlzLmZpcnN0Q2hpbGQ7dDt0PUVmKHQsdGhpcykpZS5wdXNoKHQpO2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KSh0PWVbbl0pLnBhcmVudD10LmZpcnN0Q2hpbGQ9dC5sYXN0Q2hpbGQ9dC5uZXh0PXQucHJldj1udWxsfXJldHVybiB0aGlzLmZpcnN0Q2hpbGQ9dGhpcy5sYXN0Q2hpbGQ9bnVsbCx0aGlzfSxSZi5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciByPXRoaXMuZmlyc3RDaGlsZDtpZihfZih0aGlzKSlyZXR1cm4hMTtpZihyKWRve2lmKDE9PT1yLnR5cGUpe2lmKHIuYXR0cigiZGF0YS1tY2UtYm9ndXMiKSljb250aW51ZTtpZihlW3IubmFtZV0pcmV0dXJuITE7aWYoX2YocikpcmV0dXJuITF9aWYoOD09PXIudHlwZSlyZXR1cm4hMTtpZigzPT09ci50eXBlJiYha2YocikpcmV0dXJuITE7aWYoMz09PXIudHlwZSYmci5wYXJlbnQmJnRbci5wYXJlbnQubmFtZV0mJlNmLnRlc3Qoci52YWx1ZSkpcmV0dXJuITE7aWYobiYmbihyKSlyZXR1cm4hMX13aGlsZShyPUVmKHIsdGhpcykpO3JldHVybiEwfSxSZi5wcm90b3R5cGUud2Fsaz1mdW5jdGlvbihlKXtyZXR1cm4gRWYodGhpcyxudWxsLGUpfSxSZik7ZnVuY3Rpb24gUmYoZSx0KXt0aGlzLm5hbWU9ZSwxPT09KHRoaXMudHlwZT10KSYmKHRoaXMuYXR0cmlidXRlcz1bXSx0aGlzLmF0dHJpYnV0ZXMubWFwPXt9KX12YXIgQWY9eXQubWFrZU1hcCxEZj1mdW5jdGlvbihlKXt2YXIgdT1bXSxzPShlPWV8fHt9KS5pbmRlbnQsYz1BZihlLmluZGVudF9iZWZvcmV8fCIiKSxsPUFmKGUuaW5kZW50X2FmdGVyfHwiIiksZj15ci5nZXRFbmNvZGVGdW5jKGUuZW50aXR5X2VuY29kaW5nfHwicmF3IixlLmVudGl0aWVzKSxkPSJodG1sIj09PWUuZWxlbWVudF9mb3JtYXQ7cmV0dXJue3N0YXJ0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYTtpZihzJiZjW2VdJiYwPHUubGVuZ3RoJiYwPChhPXVbdS5sZW5ndGgtMV0pLmxlbmd0aCYmIlxuIiE9PWEmJnUucHVzaCgiXG4iKSx1LnB1c2goIjwiLGUpLHQpZm9yKHI9MCxvPXQubGVuZ3RoO3I8bztyKyspaT10W3JdLHUucHVzaCgiICIsaS5uYW1lLCc9IicsZihpLnZhbHVlLCEwKSwnIicpO3VbdS5sZW5ndGhdPSFufHxkPyI+IjoiIC8+IixuJiZzJiZsW2VdJiYwPHUubGVuZ3RoJiYwPChhPXVbdS5sZW5ndGgtMV0pLmxlbmd0aCYmIlxuIiE9PWEmJnUucHVzaCgiXG4iKX0sZW5kOmZ1bmN0aW9uKGUpe3ZhciB0O3UucHVzaCgiPC8iLGUsIj4iKSxzJiZsW2VdJiYwPHUubGVuZ3RoJiYwPCh0PXVbdS5sZW5ndGgtMV0pLmxlbmd0aCYmIlxuIiE9PXQmJnUucHVzaCgiXG4iKX0sdGV4dDpmdW5jdGlvbihlLHQpezA8ZS5sZW5ndGgmJih1W3UubGVuZ3RoXT10P2U6ZihlKSl9LGNkYXRhOmZ1bmN0aW9uKGUpe3UucHVzaCgiPCFbQ0RBVEFbIixlLCJdXT4iKX0sY29tbWVudDpmdW5jdGlvbihlKXt1LnB1c2goIlx4M2MhLS0iLGUsIi0tXHgzZSIpfSxwaTpmdW5jdGlvbihlLHQpe3Q/dS5wdXNoKCI8PyIsZSwiICIsZih0KSwiPz4iKTp1LnB1c2goIjw/IixlLCI/PiIpLHMmJnUucHVzaCgiXG4iKX0sZG9jdHlwZTpmdW5jdGlvbihlKXt1LnB1c2goIjwhRE9DVFlQRSIsZSwiPiIscz8iXG4iOiIiKX0scmVzZXQ6ZnVuY3Rpb24oKXt1Lmxlbmd0aD0wfSxnZXRDb250ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHUuam9pbigiIikucmVwbGFjZSgvXG4kLywiIil9fX0sT2Y9ZnVuY3Rpb24odCxwKXt2b2lkIDA9PT1wJiYocD1ScigpKTt2YXIgZz1EZih0KTsodD10fHx7fSkudmFsaWRhdGU9ISgidmFsaWRhdGUiaW4gdCl8fHQudmFsaWRhdGU7cmV0dXJue3NlcmlhbGl6ZTpmdW5jdGlvbihlKXt2YXIgZj10LnZhbGlkYXRlLGQ9ezM6ZnVuY3Rpb24oZSl7Zy50ZXh0KGUudmFsdWUsZS5yYXcpfSw4OmZ1bmN0aW9uKGUpe2cuY29tbWVudChlLnZhbHVlKX0sNzpmdW5jdGlvbihlKXtnLnBpKGUubmFtZSxlLnZhbHVlKX0sMTA6ZnVuY3Rpb24oZSl7Zy5kb2N0eXBlKGUudmFsdWUpfSw0OmZ1bmN0aW9uKGUpe2cuY2RhdGEoZS52YWx1ZSl9LDExOmZ1bmN0aW9uKGUpe2lmKGU9ZS5maXJzdENoaWxkKWZvcig7bShlKSxlPWUubmV4dDspO319O2cucmVzZXQoKTt2YXIgbT1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzLGMsbD1kW2UudHlwZV07aWYobClsKGUpO2Vsc2V7aWYodD1lLm5hbWUsbj1lLnNob3J0RW5kZWQscj1lLmF0dHJpYnV0ZXMsZiYmciYmMTxyLmxlbmd0aCYmKChhPVtdKS5tYXA9e30sYz1wLmdldEVsZW1lbnRSdWxlKGUubmFtZSkpKXtmb3IodT0wLHM9Yy5hdHRyaWJ1dGVzT3JkZXIubGVuZ3RoO3U8czt1KyspKG89Yy5hdHRyaWJ1dGVzT3JkZXJbdV0paW4gci5tYXAmJihpPXIubWFwW29dLGEubWFwW29dPWksYS5wdXNoKHtuYW1lOm8sdmFsdWU6aX0pKTtmb3IodT0wLHM9ci5sZW5ndGg7dTxzO3UrKykobz1yW3VdLm5hbWUpaW4gYS5tYXB8fChpPXIubWFwW29dLGEubWFwW29dPWksYS5wdXNoKHtuYW1lOm8sdmFsdWU6aX0pKTtyPWF9aWYoZy5zdGFydChlLm5hbWUscixuKSwhbil7aWYoZT1lLmZpcnN0Q2hpbGQpZm9yKDttKGUpLGU9ZS5uZXh0Oyk7Zy5lbmQodCl9fX07cmV0dXJuIDEhPT1lLnR5cGV8fHQuaW5uZXI/ZFsxMV0oZSk6bShlKSxnLmdldENvbnRlbnQoKX19fSxCZj1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJlcGxhY2UobmV3IFJlZ0V4cCh0LnByZWZpeCsiX1swLTldKyIsImciKSxmdW5jdGlvbihlKXtyZXR1cm4gZGUodC51cmlzLGUpLmdldE9yKGUpfSl9LFBmPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9MSxhPWUuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCksdT0vPChbIT9cL10pPyhbQS1aYS16MC05XC1fXDpcLl0rKSgoPzpccytbXiJcJz5dKyg/Oig/OiJbXiJdKiIpfCg/OlwnW15cJ10qXCcpfFtePl0qKSkqfFwvfFxzKyk+L2c7Zm9yKHUubGFzdEluZGV4PXI9bjtvPXUuZXhlYyh0KTspe2lmKHI9dS5sYXN0SW5kZXgsIi8iPT09b1sxXSlpLS07ZWxzZSBpZighb1sxXSl7aWYob1syXWluIGEpY29udGludWU7aSsrfWlmKDA9PT1pKWJyZWFrfXJldHVybiByfSxMZj1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZXhlYyh0KTtpZihuKXt2YXIgcj1uWzFdLG89blsyXTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHImJiJkYXRhLW1jZS1ib2d1cyI9PT1yLnRvTG93ZXJDYXNlKCk/bzpudWxsfXJldHVybiBudWxsfTtmdW5jdGlvbiBJZihXLEspe3ZvaWQgMD09PUsmJihLPVJyKCkpO3ZhciBlPWZ1bmN0aW9uKCl7fTshMSE9PShXPVd8fHt9KS5maXhfc2VsZl9jbG9zaW5nJiYoVy5maXhfc2VsZl9jbG9zaW5nPSEwKTt2YXIgWD1XLmNvbW1lbnQ/Vy5jb21tZW50OmUsWT1XLmNkYXRhP1cuY2RhdGE6ZSxHPVcudGV4dD9XLnRleHQ6ZSxKPVcuc3RhcnQ/Vy5zdGFydDplLFE9Vy5lbmQ/Vy5lbmQ6ZSxaPVcucGk/Vy5waTplLGVlPVcuZG9jdHlwZT9XLmRvY3R5cGU6ZSxuPWZ1bmN0aW9uKG0sZSl7dm9pZCAwPT09ZSYmKGU9Imh0bWwiKTtmb3IodmFyIHQsbixyLHAsbyxpLGEsZyx1LHMsYyxsLGYsaCx2LGQseSxiLEMsdz1tLmh0bWwseD0wLFM9W10sTj0wLEU9eXIuZGVjb2RlLGs9eXQubWFrZU1hcCgic3JjLGhyZWYsZGF0YSxiYWNrZ3JvdW5kLGZvcm1hY3Rpb24scG9zdGVyLHhsaW5rOmhyZWYiKSxfPS8oKGphdmF8dmIpc2NyaXB0fG1odG1sKTovaSxUPSJodG1sIj09PWU/MDoxLFI9ZnVuY3Rpb24oZSl7dmFyIHQsbjtmb3IodD1TLmxlbmd0aDt0LS0mJlNbdF0ubmFtZSE9PWU7KTtpZigwPD10KXtmb3Iobj1TLmxlbmd0aC0xO3Q8PW47bi0tKShlPVNbbl0pLnZhbGlkJiZRKGUubmFtZSk7Uy5sZW5ndGg9dH19LEE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRyhCZihlLG0pLHQpfSxEPWZ1bmN0aW9uKGUpeyIiIT09ZSYmKCI+Ij09PWUuY2hhckF0KDApJiYoZT0iICIrZSksVy5hbGxvd19jb25kaXRpb25hbF9jb21tZW50c3x8IltpZiIhPT1lLnN1YnN0cigwLDMpLnRvTG93ZXJDYXNlKCl8fChlPSIgIitlKSxYKEJmKGUsbSkpKX0sTz1mdW5jdGlvbihlLHQpe3ZhciBuPWV8fCIiLHI9ISRlKG4sIi0tIiksbz1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09biYmKG49MCk7dmFyIHI9ZS50b0xvd2VyQ2FzZSgpO2lmKC0xIT09ci5pbmRleE9mKCJbaWYgIixuKSYmKHU9biwvXlxzKlxbaWYgW1x3XFddK1xdPi4qPCFcW2VuZGlmXF0oLS0hPyk/Pi8udGVzdChyLnN1YnN0cih1KSkpKXt2YXIgbz1yLmluZGV4T2YoIltlbmRpZl0iLG4pO3JldHVybiByLmluZGV4T2YoIj4iLG8pfWlmKHQpe3ZhciBpPXIuaW5kZXhPZigiPiIsbik7cmV0dXJuLTEhPT1pP2k6ci5sZW5ndGh9dmFyIGE9Ly0tIT8+LzthLmxhc3RJbmRleD1uO3ZhciB1LHM9YS5leGVjKGUpO3JldHVybiBzP3MuaW5kZXgrc1swXS5sZW5ndGg6ci5sZW5ndGh9KHcscix0KTtyZXR1cm4gZT13LnN1YnN0cih0LG8tdCksRChyP24rZTplKSxvKzF9LEI9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHUscyxjLGw7aWYodD10LnRvTG93ZXJDYXNlKCksdT10IGluIEY/dDpFKG58fHJ8fG98fCIiKSxuPWRlKG0udXJpcyx1KS5nZXRPcih1KSxVJiYhZyYmITE9PSgwPT09KHM9dCkuaW5kZXhPZigiZGF0YS0iKXx8MD09PXMuaW5kZXhPZigiYXJpYS0iKSkpe2lmKCEoaT1oW3RdKSYmdil7Zm9yKGE9di5sZW5ndGg7YS0tJiYhKGk9dlthXSkucGF0dGVybi50ZXN0KHQpOyk7LTE9PT1hJiYoaT1udWxsKX1pZighaSlyZXR1cm47aWYoaS52YWxpZFZhbHVlcyYmIShuIGluIGkudmFsaWRWYWx1ZXMpKXJldHVybn1pZihrW3RdJiYhVy5hbGxvd19zY3JpcHRfdXJscyl7dmFyIGY9bi5yZXBsYWNlKC9bXHNcdTAwMDAtXHUwMDFGXSsvZywiIik7dHJ5e2Y9ZGVjb2RlVVJJQ29tcG9uZW50KGYpfWNhdGNoKGQpe2Y9dW5lc2NhcGUoZil9aWYoXy50ZXN0KGYpKXJldHVybjtpZihsPWYsIShjPVcpLmFsbG93X2h0bWxfZGF0YV91cmxzJiYoL15kYXRhOmltYWdlXC8vaS50ZXN0KGwpPyExPT09Yy5hbGxvd19zdmdfZGF0YV91cmxzJiYvXmRhdGE6aW1hZ2VcL3N2Z1wreG1sL2kudGVzdChsKTovXmRhdGE6L2kudGVzdChsKSkpcmV0dXJufWcmJih0IGluIGt8fDA9PT10LmluZGV4T2YoIm9uIikpfHwocC5tYXBbdF09bixwLnB1c2goe25hbWU6dCx2YWx1ZTpufSkpfSxQPW5ldyBSZWdFeHAoIjwoPzooPzohLS0oW1xcd1xcV10qPyktLSE/Pil8KD86IVxcW0NEQVRBXFxbKFtcXHdcXFddKj8pXFxdXFxdPil8KD86IVtEZF1bT29dW0NjXVtUdF1bWXldW1BwXVtFZV0oW1xcd1xcV10qPyk+KXwoPzohKC0tKT8pfCg/OlxcPyhbXlxcc1xcLzw+XSspID8oW1xcd1xcV10qPylbPy9dPil8KD86XFwvKFtBLVphLXpdW0EtWmEtejAtOVxcLV9cXDpcXC5dKik+KXwoPzooW0EtWmEtel1bQS1aYS16MC05XFwtX1xcOlxcLl0qKSgoPzpcXHMrW15cIic+XSsoPzooPzpcIlteXCJdKlwiKXwoPzonW14nXSonKXxbXj5dKikpKnxcXC98XFxzKyk+KSkiLCJnIiksTD0vKFtcdzpcLV0rKSg/OlxzKj1ccyooPzooPzpcIigoPzpbXlwiXSkqKVwiKXwoPzpcJygoPzpbXlwnXSkqKVwnKXwoW14+XHNdKykpKT8vZyxJPUsuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCksTT1XLnNlbGZfY2xvc2luZ19lbGVtZW50c3x8Sy5nZXRTZWxmQ2xvc2luZ0VsZW1lbnRzKCksRj1LLmdldEJvb2xBdHRycygpLFU9Vy52YWxpZGF0ZSx6PVcucmVtb3ZlX2ludGVybmFscyxqPVcuZml4X3NlbGZfY2xvc2luZyxIPUsuZ2V0U3BlY2lhbEVsZW1lbnRzKCksVj13KyI+Ijt0PVAuZXhlYyhWKTspe3ZhciBxPXRbMF07aWYoeDx0LmluZGV4JiZBKEUody5zdWJzdHIoeCx0LmluZGV4LXgpKSksbj10WzddKSI6Ij09PShuPW4udG9Mb3dlckNhc2UoKSkuY2hhckF0KDApJiYobj1uLnN1YnN0cigxKSksUihuKTtlbHNlIGlmKG49dFs4XSl7aWYodC5pbmRleCtxLmxlbmd0aD53Lmxlbmd0aCl7QShFKHcuc3Vic3RyKHQuaW5kZXgpKSkseD10LmluZGV4K3EubGVuZ3RoO2NvbnRpbnVlfSI6Ij09PShuPW4udG9Mb3dlckNhc2UoKSkuY2hhckF0KDApJiYobj1uLnN1YnN0cigxKSksdT1uIGluIEksaiYmTVtuXSYmMDxTLmxlbmd0aCYmU1tTLmxlbmd0aC0xXS5uYW1lPT09biYmUihuKTt2YXIgJD1MZihMLHRbOV0pO2lmKG51bGwhPT0kKXtpZigiYWxsIj09PSQpe3g9UGYoSyx3LFAubGFzdEluZGV4KSxQLmxhc3RJbmRleD14O2NvbnRpbnVlfWM9ITF9aWYoIVV8fChzPUsuZ2V0RWxlbWVudFJ1bGUobikpKXtpZihjPSEwLFUmJihoPXMuYXR0cmlidXRlcyx2PXMuYXR0cmlidXRlUGF0dGVybnMpLChmPXRbOV0pPygoZz0tMSE9PWYuaW5kZXhPZigiZGF0YS1tY2UtdHlwZSIpKSYmeiYmKGM9ITEpLChwPVtdKS5tYXA9e30sZi5yZXBsYWNlKEwsQikpOihwPVtdKS5tYXA9e30sVSYmIWcpe2lmKGQ9cy5hdHRyaWJ1dGVzUmVxdWlyZWQseT1zLmF0dHJpYnV0ZXNEZWZhdWx0LGI9cy5hdHRyaWJ1dGVzRm9yY2VkLHMucmVtb3ZlRW1wdHlBdHRycyYmIXAubGVuZ3RoJiYoYz0hMSksYilmb3Iobz1iLmxlbmd0aDtvLS07KWE9KGw9YltvXSkubmFtZSwieyR1aWR9Ij09PShDPWwudmFsdWUpJiYoQz0ibWNlXyIrTisrKSxwLm1hcFthXT1DLHAucHVzaCh7bmFtZTphLHZhbHVlOkN9KTtpZih5KWZvcihvPXkubGVuZ3RoO28tLTspKGE9KGw9eVtvXSkubmFtZSlpbiBwLm1hcHx8KCJ7JHVpZH0iPT09KEM9bC52YWx1ZSkmJihDPSJtY2VfIitOKyspLHAubWFwW2FdPUMscC5wdXNoKHtuYW1lOmEsdmFsdWU6Q30pKTtpZihkKXtmb3Iobz1kLmxlbmd0aDtvLS0mJiEoZFtvXWluIHAubWFwKTspOy0xPT09byYmKGM9ITEpfWlmKGw9cC5tYXBbImRhdGEtbWNlLWJvZ3VzIl0pe2lmKCJhbGwiPT09bCl7eD1QZihLLHcsUC5sYXN0SW5kZXgpLFAubGFzdEluZGV4PXg7Y29udGludWV9Yz0hMX19YyYmSihuLHAsdSl9ZWxzZSBjPSExO2lmKHI9SFtuXSl7ci5sYXN0SW5kZXg9eD10LmluZGV4K3EubGVuZ3RoLHg9KHQ9ci5leGVjKHcpKT8oYyYmKGk9dy5zdWJzdHIoeCx0LmluZGV4LXgpKSx0LmluZGV4K3RbMF0ubGVuZ3RoKTooaT13LnN1YnN0cih4KSx3Lmxlbmd0aCksYyYmKDA8aS5sZW5ndGgmJkEoaSwhMCksUShuKSksUC5sYXN0SW5kZXg9eDtjb250aW51ZX11fHwoZiYmZi5pbmRleE9mKCIvIik9PT1mLmxlbmd0aC0xP2MmJlEobik6Uy5wdXNoKHtuYW1lOm4sdmFsaWQ6Y30pKX1lbHNlIGlmKG49dFsxXSlEKG4pO2Vsc2UgaWYobj10WzJdKXtpZighKDE9PVR8fFcucHJlc2VydmVfY2RhdGF8fDA8Uy5sZW5ndGgmJksuaXNWYWxpZENoaWxkKFNbUy5sZW5ndGgtMV0ubmFtZSwiI2NkYXRhIikpKXt4PU8oIiIsdC5pbmRleCsyKSxQLmxhc3RJbmRleD14O2NvbnRpbnVlfVkobil9ZWxzZSBpZihuPXRbM10pZWUobik7ZWxzZXtpZigobj10WzRdKXx8IjwhIj09PXEpe3g9TyhuLHQuaW5kZXgrcS5sZW5ndGgpLFAubGFzdEluZGV4PXg7Y29udGludWV9aWYobj10WzVdKXtpZigxIT1UKXt4PU8oIj8iLHQuaW5kZXgrMiksUC5sYXN0SW5kZXg9eDtjb250aW51ZX1aKG4sdFs2XSl9fXg9dC5pbmRleCtxLmxlbmd0aH1mb3IoeDx3Lmxlbmd0aCYmQShFKHcuc3Vic3RyKHgpKSksbz1TLmxlbmd0aC0xOzA8PW87by0tKShuPVNbb10pLnZhbGlkJiZRKG4ubmFtZSl9O3JldHVybntwYXJzZTpmdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PSJodG1sIiksbihmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0vZGF0YTpbXjtdKztiYXNlNjQsKFthLXowLTlcK1wvPV0rKS9naSxyPVtdLG89e30saT1mdSgiaW1nIiksYT0wLHU9MDt0PW4uZXhlYyhlKTspe3ZhciBzPXRbMF0sYz1pKyJfIit1Kys7b1tjXT1zLGE8dC5pbmRleCYmci5wdXNoKGUuc3Vic3RyKGEsdC5pbmRleC1hKSksci5wdXNoKGMpLGE9dC5pbmRleCtzLmxlbmd0aH1yZXR1cm4gMD09PWE/e3ByZWZpeDppLHVyaXM6byxodG1sOmV9OihhPGUubGVuZ3RoJiZyLnB1c2goZS5zdWJzdHIoYSkpLHtwcmVmaXg6aSx1cmlzOm8saHRtbDpyLmpvaW4oIiIpfSl9KGUpLHQpfX19KElmPUlmfHx7fSkuZmluZEVuZFRhZz1QZjt2YXIgTWYsRmYsVWYsemYsamYsSGY9SWYsVmY9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHUscyxjPXQsbD0vPChcdyspIFtePl0qZGF0YS1tY2UtYm9ndXM9ImFsbCJbXj5dKj4vZyxmPWUuc2NoZW1hO2E9ZS5nZXRUZW1wQXR0cnMoKSx1PWMscz1uZXcgUmVnRXhwKFsiXFxzPygiK2Euam9pbigifCIpKycpPSJbXiJdKyInXS5qb2luKCJ8IiksImdpIiksYz11LnJlcGxhY2UocywiIik7Zm9yKHZhciBkPWYuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCk7aT1sLmV4ZWMoYyk7KXI9bC5sYXN0SW5kZXgsbz1pWzBdLmxlbmd0aCxuPWRbaVsxXV0/cjpIZi5maW5kRW5kVGFnKGYsYyxyKSxjPWMuc3Vic3RyaW5nKDAsci1vKStjLnN1YnN0cmluZyhuKSxsLmxhc3RJbmRleD1yLW87cmV0dXJuIEN1KGMpfSxxZj1WZiwkZj1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzO2lmKHQuZm9ybWF0PW4sdC5nZXQ9ITAsdC5nZXRJbm5lcj0hMCx0Lm5vX2V2ZW50c3x8ZS5maXJlKCJCZWZvcmVHZXRDb250ZW50Iix0KSwicmF3Ij09PXQuZm9ybWF0KW89eXQudHJpbShxZihlLnNlcmlhbGl6ZXIsci5pbm5lckhUTUwpKTtlbHNlIGlmKCJ0ZXh0Ij09PXQuZm9ybWF0KW89Q3Uoci5pbm5lclRleHR8fHIudGV4dENvbnRlbnQpO2Vsc2V7aWYoInRyZWUiPT09dC5mb3JtYXQpcmV0dXJuIGUuc2VyaWFsaXplci5zZXJpYWxpemUocix0KTthPShpPWUpLnNlcmlhbGl6ZXIuc2VyaWFsaXplKHIsdCksdT1ZcyhpKSxzPW5ldyBSZWdFeHAoIl4oPCIrdSsiW14+XSo+KCZuYnNwO3wmIzE2MDt8XFxzfFx4YTB8PGJyIFxcLz58KTxcXC8iK3UrIj5bXHJcbl0qfDxiciBcXC8+W1xyXG5dKikkIiksbz1hLnJlcGxhY2UocywiIil9cmV0dXJuInRleHQiPT09dC5mb3JtYXR8fG5yKEN0LmZyb21Eb20ocikpP3QuY29udGVudD1vOnQuY29udGVudD15dC50cmltKG8pLHQubm9fZXZlbnRzfHxlLmZpcmUoIkdldENvbnRlbnQiLHQpLHQuY29udGVudH0sV2Y9eXQuZWFjaCxLZj1mdW5jdGlvbihvKXt0aGlzLmNvbXBhcmU9ZnVuY3Rpb24oZSx0KXtpZihlLm5vZGVOYW1lIT09dC5ub2RlTmFtZSlyZXR1cm4hMTt2YXIgbj1mdW5jdGlvbihuKXt2YXIgcj17fTtyZXR1cm4gV2Yoby5nZXRBdHRyaWJzKG4pLGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTswIT09dC5pbmRleE9mKCJfIikmJiJzdHlsZSIhPT10JiYwIT09dC5pbmRleE9mKCJkYXRhLSIpJiYoclt0XT1vLmdldEF0dHJpYihuLHQpKX0pLHJ9LHI9ZnVuY3Rpb24oZSx0KXt2YXIgbixyO2ZvcihyIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSl7aWYodm9pZCAwPT09KG49dFtyXSkpcmV0dXJuITE7aWYoZVtyXSE9PW4pcmV0dXJuITE7ZGVsZXRlIHRbcl19Zm9yKHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKXJldHVybiExO3JldHVybiEwfTtyZXR1cm4hIXIobihlKSxuKHQpKSYmKCEhcihvLnBhcnNlU3R5bGUoby5nZXRBdHRyaWIoZSwic3R5bGUiKSksby5wYXJzZVN0eWxlKG8uZ2V0QXR0cmliKHQsInN0eWxlIikpKSYmKCFrbChlKSYmIWtsKHQpKSl9fSxYZj1mdW5jdGlvbihuLHIsbyl7cmV0dXJuIEIuZnJvbShvLmNvbnRhaW5lcigpKS5maWx0ZXIoRW4pLmV4aXN0cyhmdW5jdGlvbihlKXt2YXIgdD1uPzA6LTE7cmV0dXJuIHIoZS5kYXRhLmNoYXJBdChvLm9mZnNldCgpK3QpKX0pfSxZZj1OKFhmLCEwLFRsKSxHZj1OKFhmLCExLFRsKSxKZj1mdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRhaW5lcigpO3JldHVybiBFbih0KSYmMD09PXQuZGF0YS5sZW5ndGh9LFFmPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBCLmZyb20oQmModD8wOi0xLGUpKS5maWx0ZXIobikuaXNTb21lKCl9fSxaZj1mdW5jdGlvbihlKXtyZXR1cm4iSU1HIj09PWUubm9kZU5hbWUmJiJibG9jayI9PT1GbihDdC5mcm9tRG9tKGUpLCJkaXNwbGF5Iil9LGVkPWZ1bmN0aW9uKGUpe3JldHVybiBEbihlKSYmISh2bih0PWUpJiYiYWxsIj09PXQuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpKTt2YXIgdH0sdGQ9UWYoITAsWmYpLG5kPVFmKCExLFpmKSxyZD1RZighMCx4biksb2Q9UWYoITEseG4pLGlkPVFmKCEwLGVkKSxhZD1RZighMSxlZCksdWQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saT1DdC5mcm9tRG9tKGUpLGE9Q3QuZnJvbURvbSh0KTtyZXR1cm4gbj1hLHI9InByZSxjb2RlIixvPU4oRHQsaSksZXUobixyLG8pLmlzU29tZSgpfSxzZD1mdW5jdGlvbihlLHQpe3JldHVybiBadSh0KSYmITE9PT0ocj1lLEVuKG89dCkmJi9eWyBcdFxyXG5dKiQvLnRlc3Qoby5kYXRhKSYmITE9PT11ZChyLG8pKXx8dm4obj10KSYmIkEiPT09bi5ub2RlTmFtZSYmbi5oYXNBdHRyaWJ1dGUoIm5hbWUiKXx8Y2QodCk7dmFyIG4scixvfSxjZD1DbigiZGF0YS1tY2UtYm9va21hcmsiKSxsZD1DbigiZGF0YS1tY2UtYm9ndXMiKSxmZD0oTWY9ImRhdGEtbWNlLWJvZ3VzIixGZj0iYWxsIixmdW5jdGlvbihlKXtyZXR1cm4gdm4oZSkmJmUuZ2V0QXR0cmlidXRlKE1mKT09PUZmfSksZGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITApLGZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHNkKGUsZSkpcmV0dXJuITE7aWYoIShuPWUuZmlyc3RDaGlsZCkpcmV0dXJuITA7dmFyIG89bmV3IEFpKG4sZSk7ZG97aWYodCl7aWYoZmQobikpe249by5uZXh0KCEwKTtjb250aW51ZX1pZihsZChuKSl7bj1vLm5leHQoKTtjb250aW51ZX19aWYoUm4obikpcisrLG49by5uZXh0KCk7ZWxzZXtpZihzZChlLG4pKXJldHVybiExO249by5uZXh0KCl9fXdoaWxlKG4pO3JldHVybiByPD0xfShlLmRvbSgpLHQpfSxtZD1mdW5jdGlvbihlKXt2YXIgdD1ZYShlLCJiciIpLG49SChmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj1lLmRvbSgpO247KXQucHVzaChDdC5mcm9tRG9tKG4pKSxuPW4ubGFzdENoaWxkO3JldHVybiB0fShlKS5zbGljZSgtMSksWW4pO3QubGVuZ3RoPT09bi5sZW5ndGgmJnoobixubil9LHBkPWZ1bmN0aW9uKGUpe3RuKGUpLFp0KGUsQ3QuZnJvbUh0bWwoJzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+JykpfSxnZD1mdW5jdGlvbihuKXskdChuKS5lYWNoKGZ1bmN0aW9uKHQpe0Z0KHQpLmVhY2goZnVuY3Rpb24oZSl7S24obikmJlluKHQpJiZLbihlKSYmbm4odCl9KX0pfSxoZD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEJ0KHQsZSk/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49QSh0KT90Omcscj1lLmRvbSgpLG89W107bnVsbCE9PXIucGFyZW50Tm9kZSYmci5wYXJlbnROb2RlIT09dW5kZWZpbmVkOyl7dmFyIGk9ci5wYXJlbnROb2RlLGE9Q3QuZnJvbURvbShpKTtpZihvLnB1c2goYSksITA9PT1uKGEpKWJyZWFrO3I9aX1yZXR1cm4gb30oZSxmdW5jdGlvbihlKXtyZXR1cm4gbihlKXx8RHQoZSx0KX0pLnNsaWNlKDAsLTEpOltdfSx2ZD1mdW5jdGlvbihlLHQpe3JldHVybiBoZChlLHQseCghMSkpfSx5ZD1mdW5jdGlvbihlLHQpe3JldHVybltlXS5jb25jYXQodmQoZSx0KSl9LGJkPWZ1bmN0aW9uKGUsdCxuKXtpZigwIT09bil7dmFyIHIsbyxpLGE9ZS5kYXRhLnNsaWNlKHQsdCtuKSx1PXQrbj49ZS5kYXRhLmxlbmd0aCxzPTA9PT10O2UucmVwbGFjZURhdGEodCxuLChvPXMsaT11LFcocj1hLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFRsKHQpfHxfbCh0KT9lLnByZXZpb3VzQ2hhcklzU3BhY2V8fCIiPT09ZS5zdHImJm98fGUuc3RyLmxlbmd0aD09PXIubGVuZ3RoLTEmJmk/e3ByZXZpb3VzQ2hhcklzU3BhY2U6ITEsc3RyOmUuc3RyK0RyfTp7cHJldmlvdXNDaGFySXNTcGFjZTohMCxzdHI6ZS5zdHIrIiAifTp7cHJldmlvdXNDaGFySXNTcGFjZTohMSxzdHI6ZS5zdHIrdH19LHtwcmV2aW91c0NoYXJJc1NwYWNlOiExLHN0cjoiIn0pLnN0cikpfX0sQ2Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRhdGEuc2xpY2UodCkscj1uLmxlbmd0aC1YZShuKS5sZW5ndGg7cmV0dXJuIGJkKGUsdCxyKX0sd2Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcj1lLG89KG49dCkuY29udGFpbmVyKCksaT1uLm9mZnNldCgpLCExPT09U3MuaXNUZXh0UG9zaXRpb24obikmJm89PT1yLnBhcmVudE5vZGUmJmk+U3MuYmVmb3JlKHIpLm9mZnNldCgpP1NzKHQuY29udGFpbmVyKCksdC5vZmZzZXQoKS0xKTp0O3ZhciBuLHIsbyxpfSx4ZD1mdW5jdGlvbihlKXtyZXR1cm4gWnUoZS5wcmV2aW91c1NpYmxpbmcpP0Iuc29tZSgodD1lLnByZXZpb3VzU2libGluZyxFbih0KT9Tcyh0LHQuZGF0YS5sZW5ndGgpOlNzLmFmdGVyKHQpKSk6ZS5wcmV2aW91c1NpYmxpbmc/bWwoZS5wcmV2aW91c1NpYmxpbmcpOkIubm9uZSgpO3ZhciB0fSxTZD1mdW5jdGlvbihlKXtyZXR1cm4gWnUoZS5uZXh0U2libGluZyk/Qi5zb21lKCh0PWUubmV4dFNpYmxpbmcsRW4odCk/U3ModCwwKTpTcy5iZWZvcmUodCkpKTplLm5leHRTaWJsaW5nP2RsKGUubmV4dFNpYmxpbmcpOkIubm9uZSgpO3ZhciB0fSxOZD1mdW5jdGlvbihyLG8pe3JldHVybiB4ZChvKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIFNkKG8pfSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBlPXIsdD1vLG49U3MuYmVmb3JlKHQucHJldmlvdXNTaWJsaW5nP3QucHJldmlvdXNTaWJsaW5nOnQucGFyZW50Tm9kZSksZmwoZSxuKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGxsKGUsU3MuYWZ0ZXIodCkpfSxCLnNvbWUpO3ZhciBlLHQsbn0pfSxFZD1mdW5jdGlvbihuLHIpe3JldHVybiBTZChyKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIHhkKHIpfSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiB0PXIsbGwoZT1uLFNzLmFmdGVyKHQpKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGZsKGUsU3MuYmVmb3JlKHQpKX0sQi5zb21lKTt2YXIgZSx0fSl9LGtkPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4oZT9FZDpOZCkodCxuKS5tYXAoTih3ZCxuKSl9LF9kPWZ1bmN0aW9uKHQsbixlKXtlLmZvbGQoZnVuY3Rpb24oKXt0LmZvY3VzKCl9LGZ1bmN0aW9uKGUpe3Quc2VsZWN0aW9uLnNldFJuZyhlLnRvUmFuZ2UoKSxuKX0pfSxUZD1mdW5jdGlvbihlLHQpe3JldHVybiB0JiZlLnNjaGVtYS5nZXRCbG9ja0VsZW1lbnRzKCkuaGFzT3duUHJvcGVydHkod3QodCkpfSxSZD1mdW5jdGlvbihlKXtpZihkZChlKSl7dmFyIHQ9Q3QuZnJvbUh0bWwoJzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+Jyk7cmV0dXJuIHRuKGUpLFp0KGUsdCksQi5zb21lKFNzLmJlZm9yZSh0LmRvbSgpKSl9cmV0dXJuIEIubm9uZSgpfSxBZD1mdW5jdGlvbihlLHQsbCl7dmFyIG4scixvLGksYT1GdChlKS5maWx0ZXIoRXQpLHU9VXQoZSkuZmlsdGVyKEV0KTtyZXR1cm4gbm4oZSkscj11LG89dCxpPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1PWUuZG9tKCkscz10LmRvbSgpLGM9dS5kYXRhLmxlbmd0aDtyZXR1cm4gbz1zLGk9bCxhPVllKChyPXUpLmRhdGEpLmxlbmd0aCxyLmFwcGVuZERhdGEoby5kYXRhKSxubihDdC5mcm9tRG9tKG8pKSxpJiZDZChyLGEpLG4uY29udGFpbmVyKCk9PT1zP1NzKHUsYyk6bn0sKChuPWEpLmlzU29tZSgpJiZyLmlzU29tZSgpJiZvLmlzU29tZSgpP0Iuc29tZShpKG4uZ2V0T3JEaWUoKSxyLmdldE9yRGllKCksby5nZXRPckRpZSgpKSk6Qi5ub25lKCkpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gbCYmKGEuZWFjaChmdW5jdGlvbihlKXtyZXR1cm4gdD1lLmRvbSgpLG49ZS5kb20oKS5sZW5ndGgscj10LmRhdGEuc2xpY2UoMCxuKSxvPXIubGVuZ3RoLVllKHIpLmxlbmd0aCxiZCh0LG4tbyxvKTt2YXIgdCxuLHIsb30pLHUuZWFjaChmdW5jdGlvbihlKXtyZXR1cm4gQ2QoZS5kb20oKSwwKX0pKSx0fSl9LERkPWZ1bmN0aW9uKHQsbixlLHIpe3ZvaWQgMD09PXImJihyPSEwKTt2YXIgbyxpLGE9a2Qobix0LmdldEJvZHkoKSxlLmRvbSgpKSx1PVFhKGUsTihUZCx0KSwobz10LmdldEJvZHkoKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5kb20oKT09PW99KSkscz1BZChlLGEsKGk9ZSxtZSh0LnNjaGVtYS5nZXRUZXh0SW5saW5lRWxlbWVudHMoKSx3dChpKSkpKTt0LmRvbS5pc0VtcHR5KHQuZ2V0Qm9keSgpKT8odC5zZXRDb250ZW50KCIiKSx0LnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbigpKTp1LmJpbmQoUmQpLmZvbGQoZnVuY3Rpb24oKXtyJiZfZCh0LG4scyl9LGZ1bmN0aW9uKGUpe3ImJl9kKHQsbixCLnNvbWUoZSkpfSl9LE9kPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3N0YXJ0OmUsZW5kOnR9fSxCZD1RaShbe3JlbW92ZVRhYmxlOlsiZWxlbWVudCJdfSx7ZW1wdHlDZWxsczpbImNlbGxzIl19LHtkZWxldGVDZWxsU2VsZWN0aW9uOlsicm5nIiwiY2VsbCJdfV0pLFBkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51KEN0LmZyb21Eb20oZSksInRkLHRoIix0KX0sTGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZXUoZSwidGFibGUiLHQpfSxJZD1mdW5jdGlvbihlKXtyZXR1cm4hRHQoZS5zdGFydCxlLmVuZCl9LE1kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIExkKGUuc3RhcnQsdCkuYmluZChmdW5jdGlvbihyKXtyZXR1cm4gTGQoZS5lbmQsdCkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gdD1EdChyLGUpLG49cix0P0Iuc29tZShuKTpCLm5vbmUoKTt2YXIgdCxufSl9KX0sRmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFlhKGUsInRkLHRoIil9LFVkPWZ1bmN0aW9uKHIsZSl7dmFyIHQ9UGQoZS5zdGFydENvbnRhaW5lcixyKSxuPVBkKGUuZW5kQ29udGFpbmVyLHIpO3JldHVybiBlLmNvbGxhcHNlZD9CLm5vbmUoKTpCdSh0LG4sT2QpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gdC5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIG4uYmluZChmdW5jdGlvbih0KXtyZXR1cm4gTGQodCxyKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBaKEZkKGUpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIE9kKGUsdCl9KX0pfSl9LGZ1bmN0aW9uKHQpe3JldHVybiBMZCh0LHIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGVlKEZkKGUpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIE9kKHQsZSl9KX0pfSl9LGZ1bmN0aW9uKGUpe3JldHVybiB6ZChyLGUpP0Iubm9uZSgpOihuPXIsTGQoKHQ9ZSkuc3RhcnQsbikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gZWUoRmQoZSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gT2QodC5zdGFydCxlKX0pfSkpO3ZhciB0LG59KX0semQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWQodCxlKS5pc1NvbWUoKX0samQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gSWQoZSkmJnpkKG4sZSl9KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIFVkKG4sdCl9KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBNZCh0PWUsbikubWFwKGZ1bmN0aW9uKGUpe3JldHVybntybmc6dCx0YWJsZTplLGNlbGxzOkZkKGUpfX0pO3ZhciB0fSl9LEhkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFgoZSxmdW5jdGlvbihlKXtyZXR1cm4gRHQoZSx0KX0pfSxWZD1mdW5jdGlvbihlLHIsbyl7cmV0dXJuIGUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBuPW8sIUlkKHQ9ZSkmJk1kKHQsbikuZXhpc3RzKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tKCkucm93cztyZXR1cm4gMT09PXQubGVuZ3RoJiYxPT09dFswXS5jZWxscy5sZW5ndGh9KSYmZmYoZS5zdGFydCxyKTt2YXIgdCxufSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXJ0fSl9LHFkPWZ1bmN0aW9uKG4pe3JldHVybiBCdShIZCgocj1uKS5jZWxscyxyLnJuZy5zdGFydCksSGQoci5jZWxscyxyLnJuZy5lbmQpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuY2VsbHMuc2xpY2UoZSx0KzEpfSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PW4uY2VsbHM7cmV0dXJuIGUubGVuZ3RoPT09dC5sZW5ndGg/QmQucmVtb3ZlVGFibGUobi50YWJsZSk6QmQuZW1wdHlDZWxscyhlKX0pO3ZhciByfSwkZD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEsdT0obj1lLGZ1bmN0aW9uKGUpe3JldHVybiBEdChuLGUpfSkscz0obz11LGk9UGQoKHI9dCkuc3RhcnRDb250YWluZXIsbyksYT1QZChyLmVuZENvbnRhaW5lcixvKSxCdShpLGEsT2QpKTtyZXR1cm4gVmQocyx0LHUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gQmQuZGVsZXRlQ2VsbFNlbGVjdGlvbih0LGUpfSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBqZChzLHQsdSkuYmluZChxZCl9KX0sV2Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuKDg9PT14dCh0PWUpfHwiI2NvbW1lbnQiPT09d3QodCk/RnQ6JHQpKGUpLmJpbmQoV2QpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gQi5zb21lKGUpfSl9LEtkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHoodCxwZCksZS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24odFswXS5kb20oKSwwKSwhMH0sWGQ9ZnVuY3Rpb24oZSx0LG4pe3QuZGVsZXRlQ29udGVudHMoKTt2YXIgcixvPVdkKG4pLmdldE9yKG4pLGk9Q3QuZnJvbURvbShlLmRvbS5nZXRQYXJlbnQoby5kb20oKSxlLmRvbS5pc0Jsb2NrKSk7aWYoZGQoaSkmJihwZChpKSxlLnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihpLmRvbSgpLDApKSwhRHQobixpKSl7dmFyIGE9TXQoaSkuaXMobik/W106TXQocj1pKS5tYXAoSHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gSChlLGZ1bmN0aW9uKGUpe3JldHVybiFEdChyLGUpfSl9KS5nZXRPcihbXSk7eihhLmNvbmNhdChIdChuKSksZnVuY3Rpb24oZSl7RHQoZSxpKXx8QnQoZSxpKXx8bm4oZSl9KX1yZXR1cm4hMH0sWWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRGQoZSwhMSx0KSwhMH0sR2Q9ZnVuY3Rpb24obixlLHIsdCl7cmV0dXJuIFFkKGUsdCkuZm9sZChmdW5jdGlvbigpe3JldHVybiB0PW4sJGQoZSxyKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChOKFlkLHQpLE4oS2QsdCksTihYZCx0KSl9KTt2YXIgdH0sZnVuY3Rpb24oZSl7cmV0dXJuIFpkKG4sZSl9KS5nZXRPcighMSl9LEpkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEsoeWQodCxlKSx0cil9LFFkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEsoeWQodCxlKSxmdW5jdGlvbihlKXtyZXR1cm4iY2FwdGlvbiI9PT13dChlKX0pfSxaZD1mdW5jdGlvbihlLHQpe3JldHVybiBwZCh0KSxlLnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbih0LmRvbSgpLDApLEIuc29tZSghMCl9LGVtPWZ1bmN0aW9uKHUscyxjLGwsZil7cmV0dXJuIHVsKGMsdS5nZXRCb2R5KCksZikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gbz1jLGk9ZixhPWUsZGwoKHI9bCkuZG9tKCkpLmJpbmQoZnVuY3Rpb24odCl7cmV0dXJuIG1sKHIuZG9tKCkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbz9pLmlzRXF1YWwodCkmJmEuaXNFcXVhbChlKTppLmlzRXF1YWwoZSkmJmEuaXNFcXVhbCh0KX0pfSkuZ2V0T3IoITApP1pkKHUsbCk6KHQ9bCxuPWUsUWQocyxDdC5mcm9tRG9tKG4uZ2V0Tm9kZSgpKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiExPT09RHQoZSx0KX0pKTt2YXIgdCxuLHIsbyxpLGF9KS5vcihCLnNvbWUoITApKX0sdG09ZnVuY3Rpb24obyxpLGEsZSl7dmFyIHU9U3MuZnJvbVJhbmdlU3RhcnQoby5zZWxlY3Rpb24uZ2V0Um5nKCkpO3JldHVybiBKZChhLGUpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGRkKGUpP1pkKG8sZSk6KHQ9YSxuPWUscj11LHVsKGksby5nZXRCb2R5KCkscikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gSmQodCxDdC5mcm9tRG9tKGUuZ2V0Tm9kZSgpKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiExPT09RHQoZSxuKX0pfSkpO3ZhciB0LG4scn0pLmdldE9yKCExKX0sbm09ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZT9yZDpvZCkodCl9LHJtPWZ1bmN0aW9uKGEsdSxyKXt2YXIgcz1DdC5mcm9tRG9tKGEuZ2V0Qm9keSgpKTtyZXR1cm4gUWQocyxyKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIHRtKGEsdSxzLHIpfHwoZT1hLHQ9dSxuPVNzLmZyb21SYW5nZVN0YXJ0KGUuc2VsZWN0aW9uLmdldFJuZygpKSxubSh0LG4pfHxhbCh0LGUuZ2V0Qm9keSgpLG4pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbm0odCxlKX0pLmdldE9yKCExKSk7dmFyIGUsdCxufSxmdW5jdGlvbihlKXtyZXR1cm4gdD1hLG49dSxyPXMsbz1lLGk9U3MuZnJvbVJhbmdlU3RhcnQodC5zZWxlY3Rpb24uZ2V0Um5nKCkpLChkZChvKT9aZCh0LG8pOmVtKHQscixuLG8saSkpLmdldE9yKCExKTt2YXIgdCxuLHIsbyxpfSl9LG9tPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1PUN0LmZyb21Eb20oZS5zZWxlY3Rpb24uZ2V0U3RhcnQoITApKSxzPXNmKGUpO3JldHVybiBlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiYwPT09cy5sZW5ndGg/cm0oZSx0LHUpOihuPWUscj11LG89Q3QuZnJvbURvbShuLmdldEJvZHkoKSksaT1uLnNlbGVjdGlvbi5nZXRSbmcoKSwwIT09KGE9c2YobikpLmxlbmd0aD9LZChuLGEpOkdkKG4sbyxpLHIpKX0saW09ZnVuY3Rpb24oYSl7dmFyIHU9U3MuZnJvbVJhbmdlU3RhcnQoYSkscz1Tcy5mcm9tUmFuZ2VFbmQoYSksYz1hLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO3JldHVybiBhbCghMSxjLHMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hT2ModSxzLGMpJiZPYyh1LGUsYyk/KHQ9dS5jb250YWluZXIoKSxuPXUub2Zmc2V0KCkscj1lLmNvbnRhaW5lcigpLG89ZS5vZmZzZXQoKSwoaT1WLmRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KHQsbiksaS5zZXRFbmQocixvKSxpKTphO3ZhciB0LG4scixvLGl9KS5nZXRPcihhKX0sYW09ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29sbGFwc2VkP2U6aW0oZSl9LHVtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scjtyZXR1cm4gZS5nZXRCbG9ja0VsZW1lbnRzKClbdC5uYW1lXSYmKChyPXQpLmZpcnN0Q2hpbGQmJnIuZmlyc3RDaGlsZD09PXIubGFzdENoaWxkKSYmKCJiciI9PT0obj10LmZpcnN0Q2hpbGQpLm5hbWV8fG4udmFsdWU9PT1Ecil9LHNtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk9dC5maXJzdENoaWxkLGE9dC5sYXN0Q2hpbGQ7cmV0dXJuIGkmJiJtZXRhIj09PWkubmFtZSYmKGk9aS5uZXh0KSxhJiYibWNlX21hcmtlciI9PT1hLmF0dHIoImlkIikmJihhPWEucHJldikscj1hLG89KG49ZSkuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLHImJihyLmlzRW1wdHkobyl8fHVtKG4scikpJiYoYT1hLnByZXYpLCEoIWl8fGkhPT1hKSYmKCJ1bCI9PT1pLm5hbWV8fCJvbCI9PT1pLm5hbWUpfSxjbT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5maXJzdENoaWxkJiZlLmZpcnN0Q2hpbGQ9PT1lLmxhc3RDaGlsZCYmKCh0PWUuZmlyc3RDaGlsZCkuZGF0YT09PURyfHxSbih0KSk7dmFyIHR9LGxtPWZ1bmN0aW9uKGUpe3JldHVybiAwPGUubGVuZ3RoJiYoISh0PWVbZS5sZW5ndGgtMV0pLmZpcnN0Q2hpbGR8fGNtKHQpKT9lLnNsaWNlKDAsLTEpOmU7dmFyIHR9LGZtPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5nZXRQYXJlbnQodCxlLmlzQmxvY2spO3JldHVybiBuJiYiTEkiPT09bi5ub2RlTmFtZT9uOm51bGx9LGRtPWZ1bmN0aW9uKGUsdCl7dmFyIG49U3MuYWZ0ZXIoZSkscj10bCh0KS5wcmV2KG4pO3JldHVybiByP3IudG9SYW5nZSgpOm51bGx9LG1tPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvLGksYSx1PXQucGFyZW50Tm9kZTtyZXR1cm4geXQuZWFjaChlLGZ1bmN0aW9uKGUpe3UuaW5zZXJ0QmVmb3JlKGUsdCl9KSxyPXQsbz1uLGk9U3MuYmVmb3JlKHIpLChhPXRsKG8pLm5leHQoaSkpP2EudG9SYW5nZSgpOm51bGx9LHBtPWZ1bmN0aW9uKGUsbyxpLHQpe3ZhciBuLHIsYSx1LHMsYyxsLGYsZCxtLHAsZyxoLHYseSxiLEMsdyx4LFMsTj0obj1vLHI9dCxjPWUuc2VyaWFsaXplKHIpLGw9bi5jcmVhdGVGcmFnbWVudChjKSx1PShhPWwpLmZpcnN0Q2hpbGQscz1hLmxhc3RDaGlsZCx1JiYiTUVUQSI9PT11Lm5vZGVOYW1lJiZ1LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodSkscyYmIm1jZV9tYXJrZXIiPT09cy5pZCYmcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHMpLGEpLEU9Zm0obyxpLnN0YXJ0Q29udGFpbmVyKSxrPWxtKChmPU4uZmlyc3RDaGlsZCx5dC5ncmVwKGYuY2hpbGROb2RlcyxmdW5jdGlvbihlKXtyZXR1cm4iTEkiPT09ZS5ub2RlTmFtZX0pKSksXz1vLmdldFJvb3QoKSxUPWZ1bmN0aW9uKGUpe3ZhciB0PVNzLmZyb21SYW5nZVN0YXJ0KGkpLG49dGwoby5nZXRSb290KCkpLHI9MT09PWU/bi5wcmV2KHQpOm4ubmV4dCh0KTtyZXR1cm4hcnx8Zm0obyxyLmdldE5vZGUoKSkhPT1FfTtyZXR1cm4gVCgxKT9tbShFLGssXyk6VCgyKT8oZD1FLG09ayxwPV8sby5pbnNlcnRBZnRlcihtLnJldmVyc2UoKSxkKSxkbShtWzBdLHApKTooaD1rLHY9Xyx5PWc9RSxDPShiPWkpLmNsb25lUmFuZ2UoKSx3PWIuY2xvbmVSYW5nZSgpLEMuc2V0U3RhcnRCZWZvcmUoeSksdy5zZXRFbmRBZnRlcih5KSx4PVtDLmNsb25lQ29udGVudHMoKSx3LmNsb25lQ29udGVudHMoKV0sKFM9Zy5wYXJlbnROb2RlKS5pbnNlcnRCZWZvcmUoeFswXSxnKSx5dC5lYWNoKGgsZnVuY3Rpb24oZSl7Uy5pbnNlcnRCZWZvcmUoZSxnKX0pLFMuaW5zZXJ0QmVmb3JlKHhbMV0sZyksUy5yZW1vdmVDaGlsZChnKSxkbShoW2gubGVuZ3RoLTFdLHYpKX0sZ209eW4oWyJ0ZCIsInRoIl0pLGhtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPWUuc2VsZWN0aW9uLmdldFJuZygpLGk9by5zdGFydENvbnRhaW5lcixhPW8uc3RhcnRPZmZzZXQ7by5jb2xsYXBzZWQmJihyPWEsRW4obj1pKSYmbi5ub2RlVmFsdWVbci0xXT09PURyKSYmRW4oaSkmJihpLmluc2VydERhdGEoYS0xLCIgIiksaS5kZWxldGVEYXRhKGEsMSksby5zZXRTdGFydChpLGEpLG8uc2V0RW5kKGksYSksZS5zZWxlY3Rpb24uc2V0Um5nKG8pKSxlLnNlbGVjdGlvbi5zZXRDb250ZW50KHQpfSx2bT1mdW5jdGlvbihlKXt2YXIgdD1lLmRvbSxuPWFtKGUuc2VsZWN0aW9uLmdldFJuZygpKTtlLnNlbGVjdGlvbi5zZXRSbmcobik7dmFyIHIsbyxpLGE9dC5nZXRQYXJlbnQobi5zdGFydENvbnRhaW5lcixnbSk7cj10LG89bixudWxsIT09KGk9YSkmJmk9PT1yLmdldFBhcmVudChvLmVuZENvbnRhaW5lcixnbSkmJmZmKEN0LmZyb21Eb20oaSksbyk/WGQoZSxuLEN0LmZyb21Eb20oYSkpOmUuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoIkRlbGV0ZSIsITEsbnVsbCl9LHltPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYyxsLGYsZCxtLHA9ZS5zZWxlY3Rpb24sZz1lLmRvbTsvXiB8ICQvLnRlc3QodCkmJihjPXAuZ2V0Um5nKCksbD10LGY9Yy5zdGFydENvbnRhaW5lcixkPWMuc3RhcnRPZmZzZXQsbT1mdW5jdGlvbihlKXtyZXR1cm4gZltlXSYmMz09PWZbZV0ubm9kZVR5cGV9LEVuKGYpJiYoMDxkP2w9bC5yZXBsYWNlKC9eJm5ic3A7LywiICIpOm0oInByZXZpb3VzU2libGluZyIpfHwobD1sLnJlcGxhY2UoL14gLywiJm5ic3A7IikpLGQ8Zi5sZW5ndGg/bD1sLnJlcGxhY2UoLyZuYnNwOyg8YnI+fCkkLywiICIpOm0oIm5leHRTaWJsaW5nIil8fChsPWwucmVwbGFjZSgvKCZuYnNwO3wgKSg8YnI+fCkkLywiJm5ic3A7IikpKSx0PWwpO3ZhciBoPWUucGFyc2VyLHY9bi5tZXJnZSx5PU9mKHt2YWxpZGF0ZTplLmdldFBhcmFtKCJ2YWxpZGF0ZSIpfSxlLnNjaGVtYSksYj0nPHNwYW4gaWQ9Im1jZV9tYXJrZXIiIGRhdGEtbWNlLXR5cGU9ImJvb2ttYXJrIj4mI3hGRUZGOyYjeDIwMEI7PC9zcGFuPic7aWYoaT17Y29udGVudDp0LGZvcm1hdDoiaHRtbCIsc2VsZWN0aW9uOiEwLHBhc3RlOm4ucGFzdGV9LChpPWUuZmlyZSgiQmVmb3JlU2V0Q29udGVudCIsaSkpLmlzRGVmYXVsdFByZXZlbnRlZCgpKWUuZmlyZSgiU2V0Q29udGVudCIse2NvbnRlbnQ6aS5jb250ZW50LGZvcm1hdDoiaHRtbCIsc2VsZWN0aW9uOiEwLHBhc3RlOm4ucGFzdGV9KTtlbHNley0xPT09KHQ9aS5jb250ZW50KS5pbmRleE9mKCJ7JGNhcmV0fSIpJiYodCs9InskY2FyZXR9IiksdD10LnJlcGxhY2UoL1x7XCRjYXJldFx9LyxiKTt2YXIgQyx3LHgsUyxOLEUsaz0odT1wLmdldFJuZygpKS5zdGFydENvbnRhaW5lcnx8KHUucGFyZW50RWxlbWVudD91LnBhcmVudEVsZW1lbnQoKTpudWxsKSxfPWUuZ2V0Qm9keSgpO2s9PT1fJiZwLmlzQ29sbGFwc2VkKCkmJmcuaXNCbG9jayhfLmZpcnN0Q2hpbGQpJiYoQz1lLCh3PV8uZmlyc3RDaGlsZCkmJiFDLnNjaGVtYS5nZXRTaG9ydEVuZGVkRWxlbWVudHMoKVt3Lm5vZGVOYW1lXSkmJmcuaXNFbXB0eShfLmZpcnN0Q2hpbGQpJiYoKHU9Zy5jcmVhdGVSbmcoKSkuc2V0U3RhcnQoXy5maXJzdENoaWxkLDApLHUuc2V0RW5kKF8uZmlyc3RDaGlsZCwwKSxwLnNldFJuZyh1KSkscC5pc0NvbGxhcHNlZCgpfHwodm0oZSkseD1lLnNlbGVjdGlvbi5nZXRSbmcoKSxTPXQsTj14LnN0YXJ0Q29udGFpbmVyLEU9eC5zdGFydE9mZnNldCxFbihOKSYmeC5jb2xsYXBzZWQmJihOLmRhdGFbRV09PT1Ecj8oTi5kZWxldGVEYXRhKEUsMSksL1tcdTAwYTB8IF0kLy50ZXN0KFMpfHwoUys9IiAiKSk6Ti5kYXRhW0UtMV09PT1EciYmKE4uZGVsZXRlRGF0YShFLTEsMSksL1tcdTAwYTB8IF0kLy50ZXN0KFMpfHwoUz0iICIrUykpKSx0PVMpO3ZhciBULFIsQSxEPXtjb250ZXh0OihyPXAuZ2V0Tm9kZSgpKS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGRhdGE6bi5kYXRhLGluc2VydDohMH0sTz1oLnBhcnNlKHQsRCk7aWYoITA9PT1uLnBhc3RlJiZzbShlLnNjaGVtYSxPKSYmZm0oZyxyKSlyZXR1cm4gdT1wbSh5LGcsZS5zZWxlY3Rpb24uZ2V0Um5nKCksTyksZS5zZWxlY3Rpb24uc2V0Um5nKHUpLHZvaWQgZS5maXJlKCJTZXRDb250ZW50IixpKTtpZighZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWU7dD10LndhbGsoKTspMT09PXQudHlwZSYmdC5hdHRyKCJkYXRhLW1jZS1mcmFnbWVudCIsIjEiKX0oTyksIm1jZV9tYXJrZXIiPT09KHM9Ty5sYXN0Q2hpbGQpLmF0dHIoImlkIikpZm9yKHM9KGE9cykucHJldjtzO3M9cy53YWxrKCEwKSlpZigzPT09cy50eXBlfHwhZy5pc0Jsb2NrKHMubmFtZSkpe2Uuc2NoZW1hLmlzVmFsaWRDaGlsZChzLnBhcmVudC5uYW1lLCJzcGFuIikmJnMucGFyZW50Lmluc2VydChhLHMsImJyIj09PXMubmFtZSk7YnJlYWt9aWYoZS5fc2VsZWN0aW9uT3ZlcnJpZGVzLnNob3dCbG9ja0NhcmV0Q29udGFpbmVyKHIpLEQuaW52YWxpZCl7Zm9yKGhtKGUsYikscj1wLmdldE5vZGUoKSxvPWUuZ2V0Qm9keSgpLDk9PT1yLm5vZGVUeXBlP3I9cz1vOnM9cjtzIT09bzspcz0ocj1zKS5wYXJlbnROb2RlO3Q9cj09PW8/by5pbm5lckhUTUw6Zy5nZXRPdXRlckhUTUwociksdD15LnNlcmlhbGl6ZShoLnBhcnNlKHQucmVwbGFjZSgvPHNwYW4gKGlkPSJtY2VfbWFya2VyInxpZD1tY2VfbWFya2VyKS4rPzxcL3NwYW4+L2ksZnVuY3Rpb24oKXtyZXR1cm4geS5zZXJpYWxpemUoTyl9KSkpLHI9PT1vP2cuc2V0SFRNTChvLHQpOmcuc2V0T3V0ZXJIVE1MKHIsdCl9ZWxzZSFmdW5jdGlvbihlLHQsbil7aWYoImFsbCI9PT1uLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSluLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUuZG9tLmNyZWF0ZUZyYWdtZW50KHQpLG4pO2Vsc2V7dmFyIHI9bi5maXJzdENoaWxkLG89bi5sYXN0Q2hpbGQ7IXJ8fHI9PT1vJiYiQlIiPT09ci5ub2RlTmFtZT9lLmRvbS5zZXRIVE1MKG4sdCk6aG0oZSx0KX19KGUsdD15LnNlcmlhbGl6ZShPKSxyKTshZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnNjaGVtYS5nZXRUZXh0SW5saW5lRWxlbWVudHMoKSxyPWUuZG9tO2lmKHQpe3ZhciBvPWUuZ2V0Qm9keSgpLGk9bmV3IEtmKHIpO3l0LmVhY2goci5zZWxlY3QoIipbZGF0YS1tY2UtZnJhZ21lbnRdIiksZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUucGFyZW50Tm9kZTt0JiZ0IT09bzt0PXQucGFyZW50Tm9kZSluW2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0mJmkuY29tcGFyZSh0LGUpJiZyLnJlbW92ZShlLCEwKX0pfX0oZSx2KSxmdW5jdGlvbihuLGUpe3ZhciB0LHIsbz1uLmRvbSxpPW4uc2VsZWN0aW9uO2lmKGUpe24uc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KGUpO3ZhciBhPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uLmdldEJvZHkoKTtlJiZlIT09dDtlPWUucGFyZW50Tm9kZSlpZigiZmFsc2UiPT09bi5kb20uZ2V0Q29udGVudEVkaXRhYmxlKGUpKXJldHVybiBlO3JldHVybiBudWxsfShlKTtpZihhKXJldHVybiBvLnJlbW92ZShlKSxpLnNlbGVjdChhKTt2YXIgdT1vLmNyZWF0ZVJuZygpLHM9ZS5wcmV2aW91c1NpYmxpbmc7cyYmMz09PXMubm9kZVR5cGU/KHUuc2V0U3RhcnQocyxzLm5vZGVWYWx1ZS5sZW5ndGgpLG10LmllfHwocj1lLm5leHRTaWJsaW5nKSYmMz09PXIubm9kZVR5cGUmJihzLmFwcGVuZERhdGEoci5kYXRhKSxyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocikpKToodS5zZXRTdGFydEJlZm9yZShlKSx1LnNldEVuZEJlZm9yZShlKSk7dmFyIGM9by5nZXRQYXJlbnQoZSxvLmlzQmxvY2spO28ucmVtb3ZlKGUpLGMmJm8uaXNFbXB0eShjKSYmKG4uJChjKS5lbXB0eSgpLHUuc2V0U3RhcnQoYywwKSx1LnNldEVuZChjLDApLGdtKGMpfHxjLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtZnJhZ21lbnQiKXx8ISh0PWZ1bmN0aW9uKGUpe3ZhciB0PVNzLmZyb21SYW5nZVN0YXJ0KGUpO2lmKHQ9dGwobi5nZXRCb2R5KCkpLm5leHQodCkpcmV0dXJuIHQudG9SYW5nZSgpfSh1KSk/by5hZGQoYyxvLmNyZWF0ZSgiYnIiLHsiZGF0YS1tY2UtYm9ndXMiOiIxIn0pKToodT10LG8ucmVtb3ZlKGMpKSksaS5zZXRSbmcodSl9fShlLGcuZ2V0KCJtY2VfbWFya2VyIikpLFQ9ZS5nZXRCb2R5KCkseXQuZWFjaChULmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIiksZnVuY3Rpb24oZSl7ZS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLWZyYWdtZW50Iil9KSxSPWUuZG9tLEE9ZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSxCLmZyb20oUi5nZXRQYXJlbnQoQSwidGQsdGgiKSkubWFwKEN0LmZyb21Eb20pLmVhY2goZ2QpLGUuZmlyZSgiU2V0Q29udGVudCIsaSksZS5hZGRWaXN1YWwoKX19LGJtPWZ1bmN0aW9uKGUpe3ZhciB0PUt0KGUpLmRvbSgpO3JldHVybiBlLmRvbSgpPT09dC5hY3RpdmVFbGVtZW50fSxDbT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9Q3QuZnJvbURvbShWLmRvY3VtZW50KSksQi5mcm9tKGUuZG9tKCkuYWN0aXZlRWxlbWVudCkubWFwKEN0LmZyb21Eb20pfSx3bT1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm57c3RhcnQ6eChlKSxzb2Zmc2V0OngodCksZmluaXNoOngobiksZm9mZnNldDp4KHIpfX0seG09UWkoW3tiZWZvcmU6WyJlbGVtZW50Il19LHtvbjpbImVsZW1lbnQiLCJvZmZzZXQiXX0se2FmdGVyOlsiZWxlbWVudCJdfV0pLFNtPSh4bS5iZWZvcmUseG0ub24seG0uYWZ0ZXIsZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChvLG8sbyl9KSxObT1RaShbe2RvbVJhbmdlOlsicm5nIl19LHtyZWxhdGl2ZTpbInN0YXJ0U2l0dSIsImZpbmlzaFNpdHUiXX0se2V4YWN0Olsic3RhcnQiLCJzb2Zmc2V0IiwiZmluaXNoIiwiZm9mZnNldCJdfV0pLEVtPXtkb21SYW5nZTpObS5kb21SYW5nZSxyZWxhdGl2ZTpObS5yZWxhdGl2ZSxleGFjdDpObS5leGFjdCxleGFjdEZyb21SYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gTm0uZXhhY3QoZS5zdGFydCgpLGUuc29mZnNldCgpLGUuZmluaXNoKCksZS5mb2Zmc2V0KCkpfSxnZXRXaW46ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXRjaCh7ZG9tUmFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIEN0LmZyb21Eb20oZS5zdGFydENvbnRhaW5lcil9LHJlbGF0aXZlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFNtKGUpfSxleGFjdDpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gZX19KTtyZXR1cm4gSXQodCl9LHJhbmdlOndtfSxrbT1vdCgpLmJyb3dzZXIsX209ZnVuY3Rpb24oZSx0KXt2YXIgbj1FdCh0KT92Zih0KS5sZW5ndGg6SHQodCkubGVuZ3RoKzE7cmV0dXJuIG48ZT9uOmU8MD8wOmV9LFRtPWZ1bmN0aW9uKGUpe3JldHVybiBFbS5yYW5nZShlLnN0YXJ0KCksX20oZS5zb2Zmc2V0KCksZS5zdGFydCgpKSxlLmZpbmlzaCgpLF9tKGUuZm9mZnNldCgpLGUuZmluaXNoKCkpKX0sUm09ZnVuY3Rpb24oZSx0KXtyZXR1cm4haG4odC5kb20oKSkmJihCdChlLHQpfHxEdChlLHQpKX0sQW09ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBSbSh0LGUuc3RhcnQoKSkmJlJtKHQsZS5maW5pc2goKSl9fSxEbT1mdW5jdGlvbihlKXtyZXR1cm4hMD09PWUuaW5saW5lfHxrbS5pc0lFKCl9LE9tPWZ1bmN0aW9uKGUpe3JldHVybiBFbS5yYW5nZShDdC5mcm9tRG9tKGUuc3RhcnRDb250YWluZXIpLGUuc3RhcnRPZmZzZXQsQ3QuZnJvbURvbShlLmVuZENvbnRhaW5lciksZS5lbmRPZmZzZXQpfSxCbT1mdW5jdGlvbihlKXt2YXIgdCxuLHI9SXQoZSk7cmV0dXJuIHQ9ci5kb20oKSwoKG49dC5nZXRTZWxlY3Rpb24oKSkmJjAhPT1uLnJhbmdlQ291bnQ/Qi5mcm9tKG4uZ2V0UmFuZ2VBdCgwKSk6Qi5ub25lKCkpLm1hcChPbSkuZmlsdGVyKEFtKGUpKX0sUG09ZnVuY3Rpb24oZSl7dmFyIHQ9Vi5kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3RyeXtyZXR1cm4gdC5zZXRTdGFydChlLnN0YXJ0KCkuZG9tKCksZS5zb2Zmc2V0KCkpLHQuc2V0RW5kKGUuZmluaXNoKCkuZG9tKCksZS5mb2Zmc2V0KCkpLEIuc29tZSh0KX1jYXRjaChuKXtyZXR1cm4gQi5ub25lKCl9fSxMbT1mdW5jdGlvbihlKXt2YXIgdD1EbShlKT9CbShDdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKSk6Qi5ub25lKCk7ZS5ib29rbWFyaz10LmlzU29tZSgpP3Q6ZS5ib29rbWFya30sSW09ZnVuY3Rpb24ocil7cmV0dXJuKHIuYm9va21hcms/ci5ib29rbWFyazpCLm5vbmUoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gdD1DdC5mcm9tRG9tKHIuZ2V0Qm9keSgpKSxuPWUsQi5mcm9tKG4pLmZpbHRlcihBbSh0KSkubWFwKFRtKTt2YXIgdCxufSkuYmluZChQbSl9LE1tPXtpc0VkaXRvclVJRWxlbWVudDpmdW5jdGlvbihlKXt2YXIgdD1lLmNsYXNzTmFtZS50b1N0cmluZygpO3JldHVybi0xIT09dC5pbmRleE9mKCJ0b3gtIil8fC0xIT09dC5pbmRleE9mKCJtY2UtIil9fSxGbT1mdW5jdGlvbihuLGUpe3ZhciB0LHI7b3QoKS5icm93c2VyLmlzSUUoKT8ocj1uKS5vbigiZm9jdXNvdXQiLGZ1bmN0aW9uKCl7TG0ocil9KToodD1lLG4ub24oIm1vdXNldXAgdG91Y2hlbmQiLGZ1bmN0aW9uKGUpe3QudGhyb3R0bGUoKX0pKSxuLm9uKCJrZXl1cCBOb2RlQ2hhbmdlIixmdW5jdGlvbihlKXt2YXIgdDsibm9kZWNoYW5nZSI9PT0odD1lKS50eXBlJiZ0LnNlbGVjdGlvbkNoYW5nZXx8TG0obil9KX0sVW09ZnVuY3Rpb24ocil7dmFyIG89VWEoZnVuY3Rpb24oKXtMbShyKX0sMCk7ci5vbigiaW5pdCIsZnVuY3Rpb24oKXt2YXIgZSx0LG47ci5pbmxpbmUmJihlPXIsdD1vLG49ZnVuY3Rpb24oKXt0LnRocm90dGxlKCl9LEVhLkRPTS5iaW5kKFYuZG9jdW1lbnQsIm1vdXNldXAiLG4pLGUub24oInJlbW92ZSIsZnVuY3Rpb24oKXtFYS5ET00udW5iaW5kKFYuZG9jdW1lbnQsIm1vdXNldXAiLG4pfSkpLEZtKHIsbyl9KSxyLm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7by5jYW5jZWwoKX0pfSx6bT1FYS5ET00sam09ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldFBhcmFtKCJjdXN0b21fdWlfc2VsZWN0b3IiLCIiLCJzdHJpbmciKTtyZXR1cm4gbnVsbCE9PXptLmdldFBhcmVudChlLGZ1bmN0aW9uKGUpe3JldHVybiBNbS5pc0VkaXRvclVJRWxlbWVudChlKXx8ISFuJiZ0LmRvbS5pcyhlLG4pfSl9LEhtPWZ1bmN0aW9uKHIsZSl7dmFyIHQ9ZS5lZGl0b3I7VW0odCksdC5vbigiZm9jdXNpbiIsZnVuY3Rpb24oKXt2YXIgZT1yLmZvY3VzZWRFZGl0b3I7ZSE9PXRoaXMmJihlJiZlLmZpcmUoImJsdXIiLHtmb2N1c2VkRWRpdG9yOnRoaXN9KSxyLnNldEFjdGl2ZSh0aGlzKSwoci5mb2N1c2VkRWRpdG9yPXRoaXMpLmZpcmUoImZvY3VzIix7Ymx1cnJlZEVkaXRvcjplfSksdGhpcy5mb2N1cyghMCkpfSksdC5vbigiZm9jdXNvdXQiLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztmYS5zZXRFZGl0b3JUaW1lb3V0KHQsZnVuY3Rpb24oKXt2YXIgZT1yLmZvY3VzZWRFZGl0b3I7am0odCxmdW5jdGlvbigpe3RyeXtyZXR1cm4gVi5kb2N1bWVudC5hY3RpdmVFbGVtZW50fWNhdGNoKGUpe3JldHVybiBWLmRvY3VtZW50LmJvZHl9fSgpKXx8ZSE9PXR8fCh0LmZpcmUoImJsdXIiLHtmb2N1c2VkRWRpdG9yOm51bGx9KSxyLmZvY3VzZWRFZGl0b3I9bnVsbCl9KX0pLFVmfHwoVWY9ZnVuY3Rpb24oZSl7dmFyIHQ9ci5hY3RpdmVFZGl0b3Isbj1lLnRhcmdldDt0JiZuLm93bmVyRG9jdW1lbnQ9PT1WLmRvY3VtZW50JiYobj09PVYuZG9jdW1lbnQuYm9keXx8am0odCxuKXx8ci5mb2N1c2VkRWRpdG9yIT09dHx8KHQuZmlyZSgiYmx1ciIse2ZvY3VzZWRFZGl0b3I6bnVsbH0pLHIuZm9jdXNlZEVkaXRvcj1udWxsKSl9LHptLmJpbmQoVi5kb2N1bWVudCwiZm9jdXNpbiIsVWYpKX0sVm09ZnVuY3Rpb24oZSx0KXtlLmZvY3VzZWRFZGl0b3I9PT10LmVkaXRvciYmKGUuZm9jdXNlZEVkaXRvcj1udWxsKSxlLmFjdGl2ZUVkaXRvcnx8KHptLnVuYmluZChWLmRvY3VtZW50LCJmb2N1c2luIixVZiksVWY9bnVsbCl9LHFtPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKChuPWUpLmNvbGxhcHNlZD9CLmZyb20oSHUobi5zdGFydENvbnRhaW5lcixuLnN0YXJ0T2Zmc2V0KSkubWFwKEN0LmZyb21Eb20pOkIubm9uZSgpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlcihlKT9CLnNvbWUoZSk6ITE9PT1CdCh0LGUpP0Iuc29tZSh0KTpCLm5vbmUoKX0pO3ZhciBufSwkbT1mdW5jdGlvbih0LGUpe3FtKEN0LmZyb21Eb20odC5nZXRCb2R5KCkpLGUpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGRsKGUuZG9tKCkpfSkuZm9sZChmdW5jdGlvbigpe3Quc2VsZWN0aW9uLm5vcm1hbGl6ZSgpfSxmdW5jdGlvbihlKXtyZXR1cm4gdC5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpKX0pfSxXbT1mdW5jdGlvbihlKXtpZihlLnNldEFjdGl2ZSl0cnl7ZS5zZXRBY3RpdmUoKX1jYXRjaCh0KXtlLmZvY3VzKCl9ZWxzZSBlLmZvY3VzKCl9LEttPWZ1bmN0aW9uKGUpe3JldHVybiBibShlKXx8Q20oS3QodD1lKSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0LmRvbSgpLmNvbnRhaW5zKGUuZG9tKCkpfSkuaXNTb21lKCk7dmFyIHR9LFhtPWZ1bmN0aW9uKHIpe3JldHVybiBDbSgpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdD1lLmRvbSgpLCEoKG49dC5jbGFzc0xpc3QpIT09dW5kZWZpbmVkJiYobi5jb250YWlucygidG94LWVkaXQtYXJlYSIpfHxuLmNvbnRhaW5zKCJ0b3gtZWRpdC1hcmVhX19pZnJhbWUiKXx8bi5jb250YWlucygibWNlLWNvbnRlbnQtYm9keSIpKSkmJmptKHIsZS5kb20oKSk7dmFyIHQsbn0pLmlzU29tZSgpfSxZbT1mdW5jdGlvbihlKXtyZXR1cm4gZS5pbmxpbmU/KG49ZS5nZXRCb2R5KCkpJiZLbShDdC5mcm9tRG9tKG4pKToodD1lKS5pZnJhbWVFbGVtZW50JiZibShDdC5mcm9tRG9tKHQuaWZyYW1lRWxlbWVudCkpO3ZhciB0LG59LEdtPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VsZWN0aW9uLG49dC5nZXRCb2R5KCkscj1lLmdldFJuZygpO3QucXVpcmtzLnJlZnJlc2hDb250ZW50RWRpdGFibGUoKSx0LmJvb2ttYXJrIT09dW5kZWZpbmVkJiYhMT09PVltKHQpJiZJbSh0KS5lYWNoKGZ1bmN0aW9uKGUpe3Quc2VsZWN0aW9uLnNldFJuZyhlKSxyPWV9KTt2YXIgbyxpLGE9KG89dCxpPWUuZ2V0Tm9kZSgpLG8uZG9tLmdldFBhcmVudChpLGZ1bmN0aW9uKGUpe3JldHVybiJ0cnVlIj09PW8uZG9tLmdldENvbnRlbnRFZGl0YWJsZShlKX0pKTtpZih0LiQuY29udGFpbnMobixhKSlyZXR1cm4gV20oYSksJG0odCxyKSx2b2lkIEptKHQpO3QuaW5saW5lfHwobXQub3BlcmF8fFdtKG4pLHQuZ2V0V2luKCkuZm9jdXMoKSksKG10LmdlY2tvfHx0LmlubGluZSkmJihXbShuKSwkbSh0LHIpKSxKbSh0KX0sSm09ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWRpdG9yTWFuYWdlci5zZXRBY3RpdmUoZSl9LFFtPWZ1bmN0aW9uKGUsdCl7dChlKSxlLmZpcnN0Q2hpbGQmJlFtKGUuZmlyc3RDaGlsZCx0KSxlLm5leHQmJlFtKGUubmV4dCx0KX0sWm09ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUsbix0KXt2YXIgcj17fSxvPXt9LGk9W107Zm9yKHZhciBhIGluIHQuZmlyc3RDaGlsZCYmUW0odC5maXJzdENoaWxkLGZ1bmN0aW9uKHQpe3ooZSxmdW5jdGlvbihlKXtlLm5hbWU9PT10Lm5hbWUmJihyW2UubmFtZV0/cltlLm5hbWVdLm5vZGVzLnB1c2godCk6cltlLm5hbWVdPXtmaWx0ZXI6ZSxub2RlczpbdF19KX0pLHoobixmdW5jdGlvbihlKXsic3RyaW5nIj09dHlwZW9mIHQuYXR0cihlLm5hbWUpJiYob1tlLm5hbWVdP29bZS5uYW1lXS5ub2Rlcy5wdXNoKHQpOm9bZS5uYW1lXT17ZmlsdGVyOmUsbm9kZXM6W3RdfSl9KX0pLHIpci5oYXNPd25Qcm9wZXJ0eShhKSYmaS5wdXNoKHJbYV0pO2Zvcih2YXIgdSBpbiBvKW8uaGFzT3duUHJvcGVydHkodSkmJmkucHVzaChvW3VdKTtyZXR1cm4gaX0oZSx0LG4pO3oocixmdW5jdGlvbih0KXt6KHQuZmlsdGVyLmNhbGxiYWNrcyxmdW5jdGlvbihlKXtlKHQubm9kZXMsdC5maWx0ZXIubmFtZSx7fSl9KX0pfSxlcD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFRmfSx0cD1mdW5jdGlvbihlLHQpe3ZhciByO2UuZG9tLnNldEhUTUwoZS5nZXRCb2R5KCksdCksWW0ocj1lKSYmZGwoci5nZXRCb2R5KCkpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXROb2RlKCksbj14bih0KT9kbCh0KS5nZXRPcihlKTplO3Iuc2VsZWN0aW9uLnNldFJuZyhuLnRvUmFuZ2UoKSl9KX0sbnA9ZnVuY3Rpb24odSxzLGMpe3JldHVybiBjLmZvcm1hdD1jLmZvcm1hdD9jLmZvcm1hdDoiaHRtbCIsYy5zZXQ9ITAsYy5jb250ZW50PWVwKHMpPyIiOnMsZXAocyl8fGMubm9fZXZlbnRzfHwodS5maXJlKCJCZWZvcmVTZXRDb250ZW50IixjKSxzPWMuY29udGVudCksQi5mcm9tKHUuZ2V0Qm9keSgpKS5mb2xkKHgocyksZnVuY3Rpb24oZSl7cmV0dXJuIGVwKHMpP2Z1bmN0aW9uKGUsdCxuLHIpe1ptKGUucGFyc2VyLmdldE5vZGVGaWx0ZXJzKCksZS5wYXJzZXIuZ2V0QXR0cmlidXRlRmlsdGVycygpLG4pO3ZhciBvPU9mKHt2YWxpZGF0ZTplLnZhbGlkYXRlfSxlLnNjaGVtYSkuc2VyaWFsaXplKG4pO3JldHVybiByLmNvbnRlbnQ9bnIoQ3QuZnJvbURvbSh0KSk/bzp5dC50cmltKG8pLHRwKGUsci5jb250ZW50KSxyLm5vX2V2ZW50c3x8ZS5maXJlKCJTZXRDb250ZW50IixyKSxufSh1LGUscyxjKToodD11LG49ZSxvPWMsMD09PShyPXMpLmxlbmd0aHx8L15ccyskLy50ZXN0KHIpPyhhPSc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPicsIlRBQkxFIj09PW4ubm9kZU5hbWU/cj0iPHRyPjx0ZD4iK2ErIjwvdGQ+PC90cj4iOi9eKFVMfE9MKSQvLnRlc3Qobi5ub2RlTmFtZSkmJihyPSI8bGk+IithKyI8L2xpPiIpLHI9KGk9WXModCkpJiZ0LnNjaGVtYS5pc1ZhbGlkQ2hpbGQobi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGkudG9Mb3dlckNhc2UoKSk/KHI9YSx0LmRvbS5jcmVhdGVIVE1MKGksR3ModCkscikpOnJ8fCc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPicsdHAodCxyKSx0LmZpcmUoIlNldENvbnRlbnQiLG8pKTooInJhdyIhPT1vLmZvcm1hdCYmKHI9T2Yoe3ZhbGlkYXRlOnQudmFsaWRhdGV9LHQuc2NoZW1hKS5zZXJpYWxpemUodC5wYXJzZXIucGFyc2Uocix7aXNSb290Q29udGVudDohMCxpbnNlcnQ6ITB9KSkpLG8uY29udGVudD1ucihDdC5mcm9tRG9tKG4pKT9yOnl0LnRyaW0ociksdHAodCxvLmNvbnRlbnQpLG8ubm9fZXZlbnRzfHx0LmZpcmUoIlNldENvbnRlbnQiLG8pKSxvLmNvbnRlbnQpO3ZhciB0LG4scixvLGksYX0pfSxycD1mdW5jdGlvbihlLHQpe3JldHVybiBlLnNwbGl0VGV4dCh0KX0sb3A9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFydENvbnRhaW5lcixuPWUuc3RhcnRPZmZzZXQscj1lLmVuZENvbnRhaW5lcixvPWUuZW5kT2Zmc2V0O3JldHVybiB0PT09ciYmRW4odCk/MDxuJiZuPHQubm9kZVZhbHVlLmxlbmd0aCYmKHQ9KHI9cnAodCxuKSkucHJldmlvdXNTaWJsaW5nLG48bz8odD1yPXJwKHIsby09bikucHJldmlvdXNTaWJsaW5nLG89ci5ub2RlVmFsdWUubGVuZ3RoLG49MCk6bz0wKTooRW4odCkmJjA8biYmbjx0Lm5vZGVWYWx1ZS5sZW5ndGgmJih0PXJwKHQsbiksbj0wKSxFbihyKSYmMDxvJiZvPHIubm9kZVZhbHVlLmxlbmd0aCYmKG89KHI9cnAocixvKS5wcmV2aW91c1NpYmxpbmcpLm5vZGVWYWx1ZS5sZW5ndGgpKSx7c3RhcnRDb250YWluZXI6dCxzdGFydE9mZnNldDpuLGVuZENvbnRhaW5lcjpyLGVuZE9mZnNldDpvfX0saXA9TWwsYXA9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZm9ybWF0dGVyLmdldChuKTtpZihyKWZvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKWlmKCExPT09cltvXS5pbmhlcml0JiZlLmRvbS5pcyh0LHJbb10uc2VsZWN0b3IpKXJldHVybiEwO3JldHVybiExfSx1cD1mdW5jdGlvbih0LGUsbixyKXt2YXIgbz10LmRvbS5nZXRSb290KCk7cmV0dXJuIGUhPT1vJiYoZT10LmRvbS5nZXRQYXJlbnQoZSxmdW5jdGlvbihlKXtyZXR1cm4hIWFwKHQsZSxuKXx8KGUucGFyZW50Tm9kZT09PW98fCEhbHAodCxlLG4sciwhMCkpfSksbHAodCxlLG4scikpfSxzcD1mdW5jdGlvbihlLHQsbil7cmV0dXJuISFpcCh0LG4uaW5saW5lKXx8KCEhaXAodCxuLmJsb2NrKXx8KG4uc2VsZWN0b3I/MT09PXQubm9kZVR5cGUmJmUuaXModCxuLnNlbGVjdG9yKTp2b2lkIDApKX0sY3A9ZnVuY3Rpb24oZSx0LG4scixvLGkpe3ZhciBhLHUscyxjPW5bcl07aWYobi5vbm1hdGNoKXJldHVybiBuLm9ubWF0Y2godCxuLHIpO2lmKGMpaWYoInVuZGVmaW5lZCI9PXR5cGVvZiBjLmxlbmd0aCl7Zm9yKGEgaW4gYylpZihjLmhhc093blByb3BlcnR5KGEpKXtpZih1PSJhdHRyaWJ1dGVzIj09PXI/ZS5nZXRBdHRyaWIodCxhKTpVbChlLHQsYSksbyYmIXUmJiFuLmV4YWN0KXJldHVybjtpZigoIW98fG4uZXhhY3QpJiYhaXAodSxGbChlLElsKGNbYV0saSksYSkpKXJldHVybn19ZWxzZSBmb3Iocz0wO3M8Yy5sZW5ndGg7cysrKWlmKCJhdHRyaWJ1dGVzIj09PXI/ZS5nZXRBdHRyaWIodCxjW3NdKTpVbChlLHQsY1tzXSkpcmV0dXJuIG47cmV0dXJuIG59LGxwPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYSx1LHMsYz1lLmZvcm1hdHRlci5nZXQobiksbD1lLmRvbTtpZihjJiZ0KWZvcihhPTA7YTxjLmxlbmd0aDthKyspaWYoaT1jW2FdLHNwKGUuZG9tLHQsaSkmJmNwKGwsdCxpLCJhdHRyaWJ1dGVzIixvLHIpJiZjcChsLHQsaSwic3R5bGVzIixvLHIpKXtpZihzPWkuY2xhc3Nlcylmb3IodT0wO3U8cy5sZW5ndGg7dSsrKWlmKCFlLmRvbS5oYXNDbGFzcyh0LHNbdV0pKXJldHVybjtyZXR1cm4gaX19LGZwPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKHIpcmV0dXJuIHVwKGUscix0LG4pO2lmKHI9ZS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLHVwKGUscix0LG4pKXJldHVybiEwO3ZhciBvPWUuc2VsZWN0aW9uLmdldFN0YXJ0KCk7cmV0dXJuIShvPT09cnx8IXVwKGUsbyx0LG4pKX0sZHA9ZnVuY3Rpb24ocixvLGkpe3ZhciBhPVtdLHU9e30sZT1yLnNlbGVjdGlvbi5nZXRTdGFydCgpO3JldHVybiByLmRvbS5nZXRQYXJlbnQoZSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PG8ubGVuZ3RoO3QrKyl7dmFyIG49b1t0XTshdVtuXSYmbHAocixlLG4saSkmJih1W25dPSEwLGEucHVzaChuKSl9fSxyLmRvbS5nZXRSb290KCkpLGF9LG1wPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1PWUuZm9ybWF0dGVyLmdldCh0KSxzPWUuZG9tO2lmKHUpZm9yKG49ZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSxyPWpsKHMsbiksaT11Lmxlbmd0aC0xOzA8PWk7aS0tKXtpZighKGE9dVtpXS5zZWxlY3Rvcil8fHVbaV0uZGVmYXVsdEJsb2NrKXJldHVybiEwO2ZvcihvPXIubGVuZ3RoLTE7MDw9bztvLS0paWYocy5pcyhyW29dLGEpKXJldHVybiEwfXJldHVybiExfSxwcD1mdW5jdGlvbihvLGksZSl7cmV0dXJuIFcoZSxmdW5jdGlvbihlLHQpe3ZhciBuLHI9KG49dCxGKG8uZm9ybWF0dGVyLmdldChuKSxmdW5jdGlvbih0KXt2YXIgbj1mdW5jdGlvbihlKXtyZXR1cm4gMTxlLmxlbmd0aCYmIiUiPT09ZS5jaGFyQXQoMCl9O3JldHVybiBGKFsic3R5bGVzIiwiYXR0cmlidXRlcyJdLGZ1bmN0aW9uKGUpe3JldHVybiBkZSh0LGUpLmV4aXN0cyhmdW5jdGlvbihlKXt2YXIgdD1rKGUpP2U6ZmUoZSk7cmV0dXJuIEYodCxuKX0pfSl9KSk7cmV0dXJuIG8uZm9ybWF0dGVyLm1hdGNoTm9kZShpLHQse30scik/ZS5jb25jYXQoW3RdKTplfSxbXSl9LGdwPXl1LGhwPSJfbWNlX2NhcmV0Iix2cD1mdW5jdGlvbihlKXtyZXR1cm4gMDxmdW5jdGlvbihlKXtmb3IodmFyIHQ9W107ZTspe2lmKDM9PT1lLm5vZGVUeXBlJiZlLm5vZGVWYWx1ZSE9PWdwfHwxPGUuY2hpbGROb2Rlcy5sZW5ndGgpcmV0dXJuW107MT09PWUubm9kZVR5cGUmJnQucHVzaChlKSxlPWUuZmlyc3RDaGlsZH1yZXR1cm4gdH0oZSkubGVuZ3RofSx5cD1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD1uZXcgQWkoZSxlKTtmb3IoZT10LmN1cnJlbnQoKTtlO2U9dC5uZXh0KCkpaWYoRW4oZSkpcmV0dXJuIGV9cmV0dXJuIG51bGx9LGJwPWZ1bmN0aW9uKGUpe3ZhciB0PUN0LmZyb21UYWcoInNwYW4iKTtyZXR1cm4gTG4odCx7aWQ6aHAsImRhdGEtbWNlLWJvZ3VzIjoiMSIsImRhdGEtbWNlLXR5cGUiOiJmb3JtYXQtY2FyZXQifSksZSYmWnQodCxDdC5mcm9tVGV4dChncCkpLHR9LENwPWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT1uJiYobj0hMCk7dmFyIHIsbz1lLmRvbSxpPWUuc2VsZWN0aW9uO2lmKHZwKHQpKURkKGUsITEsQ3QuZnJvbURvbSh0KSxuKTtlbHNle3ZhciBhPWkuZ2V0Um5nKCksdT1vLmdldFBhcmVudCh0LG8uaXNCbG9jaykscz1hLnN0YXJ0Q29udGFpbmVyLGM9YS5zdGFydE9mZnNldCxsPWEuZW5kQ29udGFpbmVyLGY9YS5lbmRPZmZzZXQsZD0oKHI9eXAodCkpJiZyLm5vZGVWYWx1ZS5jaGFyQXQoMCk9PT1ncCYmci5kZWxldGVEYXRhKDAsMSkscik7by5yZW1vdmUodCwhMCkscz09PWQmJjA8YyYmYS5zZXRTdGFydChkLGMtMSksbD09PWQmJjA8ZiYmYS5zZXRFbmQoZCxmLTEpLHUmJm8uaXNFbXB0eSh1KSYmcGQoQ3QuZnJvbURvbSh1KSksaS5zZXRSbmcoYSl9fSx3cD1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09biYmKG49ITApO3ZhciByPWUuZG9tLG89ZS5zZWxlY3Rpb247aWYodClDcChlLHQsbik7ZWxzZSBpZighKHQ9aGwoZS5nZXRCb2R5KCksby5nZXRTdGFydCgpKSkpZm9yKDt0PXIuZ2V0KGhwKTspQ3AoZSx0LCExKX0seHA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hcHBlbmRDaGlsZCh0KSx0fSxTcD1mdW5jdGlvbihlLHQpe3ZhciBuPSQoZSxmdW5jdGlvbihlLHQpe3JldHVybiB4cChlLHQuY2xvbmVOb2RlKCExKSl9LHQpO3JldHVybiB4cChuLG4ub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShncCkpfSxOcD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzLGMsbCxmLGQ9ZS5kb20sbT1lLnNlbGVjdGlvbixwPVtdLGc9bS5nZXRSbmcoKSxoPWcuc3RhcnRDb250YWluZXIsdj1nLnN0YXJ0T2Zmc2V0O2ZvcigzPT09KGk9aCkubm9kZVR5cGUmJih2IT09aC5ub2RlVmFsdWUubGVuZ3RoJiYobz0hMCksaT1pLnBhcmVudE5vZGUpO2k7KXtpZihscChlLGksdCxuLHIpKXthPWk7YnJlYWt9aS5uZXh0U2libGluZyYmKG89ITApLHAucHVzaChpKSxpPWkucGFyZW50Tm9kZX1pZihhKWlmKG8pe3ZhciB5PW0uZ2V0Qm9va21hcmsoKTtnLmNvbGxhcHNlKCEwKTt2YXIgYj10ZihlLGcsZS5mb3JtYXR0ZXIuZ2V0KHQpLCEwKTtiPW9wKGIpLGUuZm9ybWF0dGVyLnJlbW92ZSh0LG4sYixyKSxtLm1vdmVUb0Jvb2ttYXJrKHkpfWVsc2V7dmFyIEM9aGwoZS5nZXRCb2R5KCksYSksdz1icCghMSkuZG9tKCk7cz13LGM9bnVsbCE9PUM/QzphLGw9KHU9ZSkuZG9tLChmPWwuZ2V0UGFyZW50KGMsTihCbCx1KSkpJiZsLmlzRW1wdHkoZik/Yy5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChzLGMpOihtZChDdC5mcm9tRG9tKGMpKSxsLmlzRW1wdHkoYyk/Yy5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChzLGMpOmwuaW5zZXJ0QWZ0ZXIocyxjKSk7dmFyIHg9ZnVuY3Rpb24odCxlLG4scixvLGkpe3ZhciBhPXQuZm9ybWF0dGVyLHU9dC5kb20scz1IKG5lKGEuZ2V0KCkpLGZ1bmN0aW9uKGUpe3JldHVybiJyZW1vdmVmb3JtYXQiIT09ZSYmZSE9PXJ9KSxjPXBwKHQsbixzKTtpZigwPEgoYyxmdW5jdGlvbihlKXtyZXR1cm4hSGwodCxlLHIpfSkubGVuZ3RoKXt2YXIgbD1uLmNsb25lTm9kZSghMSk7cmV0dXJuIHUuYWRkKGUsbCksYS5yZW1vdmUocixvLGwsaSksdS5yZW1vdmUobCksQi5zb21lKGwpfXJldHVybiBCLm5vbmUoKX0oZSx3LGEsdCxuLHIpLFM9U3AocC5jb25jYXQoeC50b0FycmF5KCkpLHcpO0NwKGUsQywhMSksbS5zZXRDdXJzb3JMb2NhdGlvbihTLDEpLGQuaXNFbXB0eShhKSYmZC5yZW1vdmUoYSl9fSxFcD1mdW5jdGlvbihpKXtpLm9uKCJtb3VzZXVwIGtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvO3Q9aSxuPWUua2V5Q29kZSxyPXQuc2VsZWN0aW9uLG89dC5nZXRCb2R5KCksd3AodCxudWxsLCExKSw4IT09biYmNDYhPT1ufHwhci5pc0NvbGxhcHNlZCgpfHxyLmdldFN0YXJ0KCkuaW5uZXJIVE1MIT09Z3B8fHdwKHQsaGwobyxyLmdldFN0YXJ0KCkpKSwzNyE9PW4mJjM5IT09bnx8d3AodCxobChvLHIuZ2V0U3RhcnQoKSkpfSl9LGtwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc2NoZW1hLmdldFRleHRJbmxpbmVFbGVtZW50cygpLmhhc093blByb3BlcnR5KHd0KHQpKSYmIWdsKHQuZG9tKCkpJiYhd24odC5kb20oKSl9LF9wPXt9LFRwPXZlLFJwPWdlO2pmPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5zZWxlY3Rpb24uZ2V0Um5nKCkscj15bihbInByZSJdKTtuLmNvbGxhcHNlZHx8KHQ9ZS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSxScChUcChUcCh0LHIpLGZ1bmN0aW9uKGUpe3JldHVybiByKGUucHJldmlvdXNTaWJsaW5nKSYmLTEhPT15ZSh0LGUucHJldmlvdXNTaWJsaW5nKX0pLGZ1bmN0aW9uKGUpe3ZhciB0LG47dD1lLnByZXZpb3VzU2libGluZyxSaShuPWUpLnJlbW92ZSgpLFJpKHQpLmFwcGVuZCgiPGJyPjxicj4iKS5hcHBlbmQobi5jaGlsZE5vZGVzKX0pKX0sX3BbemY9InByZSJdfHwoX3BbemZdPVtdKSxfcFt6Zl0ucHVzaChqZik7dmFyIEFwLERwLE9wPS9eKHNyY3xocmVmfHN0eWxlKSQvLEJwPXl0LmVhY2gsUHA9TWwsTHA9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmlzQ2hpbGRPZih0LG4pJiZ0IT09biYmIWUuaXNCbG9jayhuKX0sSXA9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87aWYocj10W24/InN0YXJ0Q29udGFpbmVyIjoiZW5kQ29udGFpbmVyIl0sbz10W24/InN0YXJ0T2Zmc2V0IjoiZW5kT2Zmc2V0Il0sdm4ocikpe3ZhciBpPXIuY2hpbGROb2Rlcy5sZW5ndGgtMTshbiYmbyYmby0tLHI9ci5jaGlsZE5vZGVzW2k8bz9pOm9dfXJldHVybiBFbihyKSYmbiYmbz49ci5ub2RlVmFsdWUubGVuZ3RoJiYocj1uZXcgQWkocixlLmdldEJvZHkoKSkubmV4dCgpfHxyKSxFbihyKSYmIW4mJjA9PT1vJiYocj1uZXcgQWkocixlLmdldEJvZHkoKSkucHJldigpfHxyKSxyfSxNcD1mdW5jdGlvbihlLHQpe3ZhciBuPXQ/ImZpcnN0Q2hpbGQiOiJsYXN0Q2hpbGQiO2lmKC9eKFRSfFRIfFREKSQvLnRlc3QoZS5ub2RlTmFtZSkmJmVbbl0pe3ZhciByPWVbbl07cmV0dXJuIlRSIj09PWUubm9kZU5hbWUmJnJbbl18fHJ9cmV0dXJuIGV9LEZwPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWUuY3JlYXRlKG4scik7cmV0dXJuIHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobyx0KSxvLmFwcGVuZENoaWxkKHQpLG99LFVwPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGk9Q3QuZnJvbURvbSh0KSxhPUN0LmZyb21Eb20oZS5jcmVhdGUocixvKSksdT0obj9qdDp6dCkoaSk7cmV0dXJuIGVuKGEsdSksbj8oR3QoaSxhKSxRdChhLGkpKTooSnQoaSxhKSxadChhLGkpKSxhLmRvbSgpfSx6cD1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4hKHQ9T2wodCxuLHIpKXx8IkJSIj09PXQubm9kZU5hbWV8fGUuaXNCbG9jayh0KX0sanA9ZnVuY3Rpb24oZSxyLG8sdCxpKXt2YXIgbixhLHUscyxjLGw9ZS5kb207aWYodT1sLCEoUHAocz10LChjPXIpLmlubGluZSl8fFBwKHMsYy5ibG9jayl8fGMuc2VsZWN0b3ImJih2bihzKSYmdS5pcyhzLGMuc2VsZWN0b3IpKXx8KGE9dCxyLmxpbmtzJiYiQSI9PT1hLm5vZGVOYW1lKSkpcmV0dXJuITE7dmFyIGYsZCxtLHAsZyxoLHYseT10O2lmKHIuaW5saW5lJiYiYWxsIj09PXIucmVtb3ZlJiZrKHIucHJlc2VydmVfYXR0cmlidXRlcykpe3ZhciBiPUgobC5nZXRBdHRyaWJzKHkpLGZ1bmN0aW9uKGUpe3JldHVybiBNKHIucHJlc2VydmVfYXR0cmlidXRlcyxlLm5hbWUudG9Mb3dlckNhc2UoKSl9KTtpZihsLnJlbW92ZUFsbEF0dHJpYnMoeSkseihiLGZ1bmN0aW9uKGUpe3JldHVybiBsLnNldEF0dHJpYih5LGUubmFtZSxlLnZhbHVlKX0pLDA8Yi5sZW5ndGgpcmV0dXJuIGUuZG9tLnJlbmFtZSh0LCJzcGFuIiksITB9aWYoImFsbCIhPT1yLnJlbW92ZSl7QnAoci5zdHlsZXMsZnVuY3Rpb24oZSx0KXtlPUZsKGwsSWwoZSxvKSx0KSwibnVtYmVyIj09dHlwZW9mIHQmJih0PWUsaT1udWxsKSwhci5yZW1vdmVfc2ltaWxhciYmaSYmIVBwKFVsKGwsaSx0KSxlKXx8bC5zZXRTdHlsZSh5LHQsIiIpLG49ITB9KSxuJiYiIj09PWwuZ2V0QXR0cmliKHksInN0eWxlIikmJih5LnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSx5LnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc3R5bGUiKSksQnAoci5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoZT1JbChlLG8pLCJudW1iZXIiPT10eXBlb2YgdCYmKHQ9ZSxpPW51bGwpLHIucmVtb3ZlX3NpbWlsYXJ8fCFpfHxQcChsLmdldEF0dHJpYihpLHQpLGUpKXtpZigiY2xhc3MiPT09dCYmKGU9bC5nZXRBdHRyaWIoeSx0KSkmJihuPSIiLHooZS5zcGxpdCgvXHMrLyksZnVuY3Rpb24oZSl7L21jZVwtXHcrLy50ZXN0KGUpJiYobis9KG4/IiAiOiIiKStlKX0pLG4pKXJldHVybiB2b2lkIGwuc2V0QXR0cmliKHksdCxuKTsiY2xhc3MiPT09dCYmeS5yZW1vdmVBdHRyaWJ1dGUoImNsYXNzTmFtZSIpLE9wLnRlc3QodCkmJnkucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS0iK3QpLHkucmVtb3ZlQXR0cmlidXRlKHQpfX0pLEJwKHIuY2xhc3NlcyxmdW5jdGlvbihlKXtlPUlsKGUsbyksaSYmIWwuaGFzQ2xhc3MoaSxlKXx8bC5yZW1vdmVDbGFzcyh5LGUpfSk7Zm9yKHZhciBDPWwuZ2V0QXR0cmlicyh5KSx3PTA7dzxDLmxlbmd0aDt3Kyspe3ZhciB4PUNbd10ubm9kZU5hbWU7aWYoMCE9PXguaW5kZXhPZigiXyIpJiYwIT09eC5pbmRleE9mKCJkYXRhLSIpKXJldHVybiExfX1yZXR1cm4ibm9uZSIhPT1yLnJlbW92ZT8oZj1lLG09cixnPShkPXkpLnBhcmVudE5vZGUsaD1mLmRvbSx2PVlzKGYpLG0uYmxvY2smJih2P2c9PT1oLmdldFJvb3QoKSYmKG0ubGlzdF9ibG9jayYmUHAoZCxtLmxpc3RfYmxvY2spfHx6KHRlKGQuY2hpbGROb2RlcyksZnVuY3Rpb24oZSl7UGwoZix2LGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk/cD9wLmFwcGVuZENoaWxkKGUpOihwPUZwKGgsZSx2KSxoLnNldEF0dHJpYnMocCxmLnNldHRpbmdzLmZvcmNlZF9yb290X2Jsb2NrX2F0dHJzKSk6cD0wfSkpOmguaXNCbG9jayhkKSYmIWguaXNCbG9jayhnKSYmKHpwKGgsZCwhMSl8fHpwKGgsZC5maXJzdENoaWxkLCEwLCEwKXx8ZC5pbnNlcnRCZWZvcmUoaC5jcmVhdGUoImJyIiksZC5maXJzdENoaWxkKSx6cChoLGQsITApfHx6cChoLGQubGFzdENoaWxkLCExLCEwKXx8ZC5hcHBlbmRDaGlsZChoLmNyZWF0ZSgiYnIiKSkpKSxtLnNlbGVjdG9yJiZtLmlubGluZSYmIVBwKG0uaW5saW5lLGQpfHxoLnJlbW92ZShkLCEwKSwhMCk6dm9pZCAwfSxIcD1mdW5jdGlvbihzLGMsbCxlLGYpe3ZhciBkPXMuZm9ybWF0dGVyLmdldChjKSxtPWRbMF0saT0hMCxhPXMuZG9tLHQ9cy5zZWxlY3Rpb24sdT1mdW5jdGlvbihlKXt2YXIgbix0LHIsbyxpLGEsdT0odD1lLHI9YyxvPWwsaT1mLHooamwoKG49cykuZG9tLHQucGFyZW50Tm9kZSkucmV2ZXJzZSgpLGZ1bmN0aW9uKGUpe2lmKCFhJiYiX3N0YXJ0IiE9PWUuaWQmJiJfZW5kIiE9PWUuaWQpe3ZhciB0PWxwKG4sZSxyLG8saSk7dCYmITEhPT10LnNwbGl0JiYoYT1lKX19KSxhKTtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scixvLGksYSx1KXt2YXIgcyxjLGwsZj1lLmRvbTtpZihuKXtmb3IodmFyIGQ9bi5wYXJlbnROb2RlLG09ci5wYXJlbnROb2RlO20mJm0hPT1kO209bS5wYXJlbnROb2RlKXtzPWYuY2xvbmUobSwhMSk7Zm9yKHZhciBwPTA7cDx0Lmxlbmd0aDtwKyspaWYoanAoZSx0W3BdLHUscyxzKSl7cz0wO2JyZWFrfXMmJihjJiZzLmFwcGVuZENoaWxkKGMpLGw9bHx8cyxjPXMpfSFpfHxhLm1peGVkJiZmLmlzQmxvY2sobil8fChyPWYuc3BsaXQobixyKSksYyYmKG8ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYyxvKSxsLmFwcGVuZENoaWxkKG8pKX1yZXR1cm4gcn0ocyxkLHUsZSxlLCEwLG0sbCl9LHA9ZnVuY3Rpb24oZSl7dmFyIHQsbjt2bihlKSYmYS5nZXRDb250ZW50RWRpdGFibGUoZSkmJih0PWksaT0idHJ1ZSI9PT1hLmdldENvbnRlbnRFZGl0YWJsZShlKSxuPSEwKTt2YXIgcj10ZShlLmNoaWxkTm9kZXMpO2lmKGkmJiFuKWZvcih2YXIgbz0wO288ZC5sZW5ndGgmJiFqcChzLGRbb10sbCxlLGUpO28rKyk7aWYobS5kZWVwJiZyLmxlbmd0aCl7Zm9yKG89MDtvPHIubGVuZ3RoO28rKylwKHJbb10pO24mJihpPXQpfX0sZz1mdW5jdGlvbihlKXt2YXIgdCxuPWEuZ2V0KGU/Il9zdGFydCI6Il9lbmQiKSxyPW5bZT8iZmlyc3RDaGlsZCI6Imxhc3RDaGlsZCJdO3JldHVybiBrbCh0PXIpJiZ2bih0KSYmKCJfc3RhcnQiPT09dC5pZHx8Il9lbmQiPT09dC5pZCkmJihyPXJbZT8iZmlyc3RDaGlsZCI6Imxhc3RDaGlsZCJdKSxFbihyKSYmMD09PXIuZGF0YS5sZW5ndGgmJihyPWU/bi5wcmV2aW91c1NpYmxpbmd8fG4ubmV4dFNpYmxpbmc6bi5uZXh0U2libGluZ3x8bi5wcmV2aW91c1NpYmxpbmcpLGEucmVtb3ZlKG4sITApLHJ9LG49ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRmKHMsZSxkLCEwKTtpZihtLnNwbGl0KXtpZihyPW9wKHIpLCh0PUlwKHMsciwhMCkpIT09KG49SXAocyxyKSkpe2lmKHQ9TXAodCwhMCksbj1NcChuLCExKSxMcChhLHQsbikpe3ZhciBvPUIuZnJvbSh0LmZpcnN0Q2hpbGQpLmdldE9yKHQpO3JldHVybiB1KFVwKGEsbywhMCwic3BhbiIse2lkOiJfc3RhcnQiLCJkYXRhLW1jZS10eXBlIjoiYm9va21hcmsifSkpLHZvaWQgZyghMCl9aWYoTHAoYSxuLHQpKXtvPUIuZnJvbShuLmxhc3RDaGlsZCkuZ2V0T3Iobik7cmV0dXJuIHUoVXAoYSxvLCExLCJzcGFuIix7aWQ6Il9lbmQiLCJkYXRhLW1jZS10eXBlIjoiYm9va21hcmsifSkpLHZvaWQgZyghMSl9dD1GcChhLHQsInNwYW4iLHtpZDoiX3N0YXJ0IiwiZGF0YS1tY2UtdHlwZSI6ImJvb2ttYXJrIn0pLG49RnAoYSxuLCJzcGFuIix7aWQ6Il9lbmQiLCJkYXRhLW1jZS10eXBlIjoiYm9va21hcmsifSk7dmFyIGk9YS5jcmVhdGVSbmcoKTtpLnNldFN0YXJ0QWZ0ZXIodCksaS5zZXRFbmRCZWZvcmUobikscmYoYSxpLGZ1bmN0aW9uKGUpe3ooZSxmdW5jdGlvbihlKXtrbChlKXx8a2woZS5wYXJlbnROb2RlKXx8dShlKX0pfSksdSh0KSx1KG4pLHQ9ZyghMCksbj1nKCl9ZWxzZSB0PW49dSh0KTtyLnN0YXJ0Q29udGFpbmVyPXQucGFyZW50Tm9kZT90LnBhcmVudE5vZGU6dCxyLnN0YXJ0T2Zmc2V0PWEubm9kZUluZGV4KHQpLHIuZW5kQ29udGFpbmVyPW4ucGFyZW50Tm9kZT9uLnBhcmVudE5vZGU6bixyLmVuZE9mZnNldD1hLm5vZGVJbmRleChuKSsxfXJmKGEscixmdW5jdGlvbihlKXt6KGUsZnVuY3Rpb24odCl7cCh0KTt6KFsidW5kZXJsaW5lIiwibGluZS10aHJvdWdoIiwib3ZlcmxpbmUiXSxmdW5jdGlvbihlKXt2bih0KSYmcy5kb20uZ2V0U3R5bGUodCwidGV4dC1kZWNvcmF0aW9uIik9PT1lJiZ0LnBhcmVudE5vZGUmJnpsKGEsdC5wYXJlbnROb2RlKT09PWUmJmpwKHMse2RlZXA6ITEsZXhhY3Q6ITAsaW5saW5lOiJzcGFuIixzdHlsZXM6e3RleHREZWNvcmF0aW9uOmV9fSxudWxsLHQpfSl9KX0pfTtpZihlKWlmKEFsKGUpKXt2YXIgcj1hLmNyZWF0ZVJuZygpO3Iuc2V0U3RhcnRCZWZvcmUoZSksci5zZXRFbmRBZnRlcihlKSxuKHIpfWVsc2UgbihlKTtlbHNlIGlmKCJmYWxzZSIhPT1hLmdldENvbnRlbnRFZGl0YWJsZSh0LmdldE5vZGUoKSkpdC5pc0NvbGxhcHNlZCgpJiZtLmlubGluZSYmIXNmKHMpLmxlbmd0aD9OcChzLGMsbCxmKTooZ2YodCwhMCxmdW5jdGlvbigpe3BmKHMsbil9KSxtLmlubGluZSYmZnAocyxjLGwsdC5nZXRTdGFydCgpKSYmRGwoYSx0LHQuZ2V0Um5nKCkpLHMubm9kZUNoYW5nZWQoKSk7ZWxzZXtlPXQuZ2V0Tm9kZSgpO2Zvcih2YXIgbz0wO288ZC5sZW5ndGgmJighZFtvXS5jZUZhbHNlT3ZlcnJpZGV8fCFqcChzLGRbb10sbCxlLGUpKTtvKyspO319LFZwPXl0LmVhY2gscXA9ZnVuY3Rpb24oZSl7cmV0dXJuIHZuKGUpJiYha2woZSkmJiFnbChlKSYmIXduKGUpfSwkcD1mdW5jdGlvbihlLHQpe3ZhciBuO2ZvcihuPWU7bjtuPW5bdF0pe2lmKEVuKG4pJiYwIT09bi5ub2RlVmFsdWUubGVuZ3RoKXJldHVybiBlO2lmKHZuKG4pJiYha2wobikpcmV0dXJuIG59cmV0dXJuIGV9LFdwPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9bmV3IEtmKGUpO2lmKHQmJm4mJih0PSRwKHQsInByZXZpb3VzU2libGluZyIpLG49JHAobiwibmV4dFNpYmxpbmciKSxpLmNvbXBhcmUodCxuKSkpe2ZvcihyPXQubmV4dFNpYmxpbmc7ciYmciE9PW47KXI9KG89cikubmV4dFNpYmxpbmcsdC5hcHBlbmRDaGlsZChvKTtyZXR1cm4gZS5yZW1vdmUobikseXQuZWFjaCh5dC5ncmVwKG4uY2hpbGROb2RlcyksZnVuY3Rpb24oZSl7dC5hcHBlbmRDaGlsZChlKX0pLHR9cmV0dXJuIG59LEtwPWZ1bmN0aW9uKGUsdCxuKXtWcChlLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cXAoZSkmJih0KGUpJiZuKGUpLGUuaGFzQ2hpbGROb2RlcygpJiZLcChlLHQsbikpfSl9LFhwPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFVbCh0LGUsbikpfX0sWXA9ZnVuY3Rpb24odCxuLHIpe3JldHVybiBmdW5jdGlvbihlKXt0LnNldFN0eWxlKGUsbixyKSwiIj09PWUuZ2V0QXR0cmlidXRlKCJzdHlsZSIpJiZlLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSxHcCh0LGUpfX0sR3A9ZnVuY3Rpb24oZSx0KXsiU1BBTiI9PT10Lm5vZGVOYW1lJiYwPT09ZS5nZXRBdHRyaWJzKHQpLmxlbmd0aCYmZS5yZW1vdmUodCwhMCl9LEpwPWZ1bmN0aW9uKG4sZSxyLG8pe1ZwKGUsZnVuY3Rpb24odCl7VnAobi5kb20uc2VsZWN0KHQuaW5saW5lLG8pLGZ1bmN0aW9uKGUpe3FwKGUpJiZqcChuLHQscixlLHQuZXhhY3Q/ZTpudWxsKX0pLGZ1bmN0aW9uKHIsZSx0KXtpZihlLmNsZWFyX2NoaWxkX3N0eWxlcyl7dmFyIG49ZS5saW5rcz8iKjpub3QoYSkiOiIqIjtWcChyLnNlbGVjdChuLHQpLGZ1bmN0aW9uKG4pe3FwKG4pJiZWcChlLnN0eWxlcyxmdW5jdGlvbihlLHQpe3Iuc2V0U3R5bGUobix0LCIiKX0pfSl9fShuLmRvbSx0LG8pfSl9LFFwPXl0LmVhY2gsWnA9ZnVuY3Rpb24oVCxSLEEscil7dmFyIGUsRD1ULmZvcm1hdHRlci5nZXQoUiksTz1EWzBdLG89IXImJlQuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCksaT1ULmRvbSx0PVQuc2VsZWN0aW9uLEI9ZnVuY3Rpb24obixlKXtpZihlPWV8fE8sbil7aWYoZS5vbmZvcm1hdCYmZS5vbmZvcm1hdChuLGUsQSxyKSxRcChlLnN0eWxlcyxmdW5jdGlvbihlLHQpe2kuc2V0U3R5bGUobix0LElsKGUsQSkpfSksZS5zdHlsZXMpe3ZhciB0PWkuZ2V0QXR0cmliKG4sInN0eWxlIik7dCYmaS5zZXRBdHRyaWIobiwiZGF0YS1tY2Utc3R5bGUiLHQpfVFwKGUuYXR0cmlidXRlcyxmdW5jdGlvbihlLHQpe2kuc2V0QXR0cmliKG4sdCxJbChlLEEpKX0pLFFwKGUuY2xhc3NlcyxmdW5jdGlvbihlKXtlPUlsKGUsQSksaS5oYXNDbGFzcyhuLGUpfHxpLmFkZENsYXNzKG4sZSl9KX19LGQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMTtyZXR1cm4hIU8uc2VsZWN0b3ImJihRcChlLGZ1bmN0aW9uKGUpe2lmKCEoImNvbGxhcHNlZCJpbiBlJiZlLmNvbGxhcHNlZCE9PW8pKXJldHVybiBpLmlzKHQsZS5zZWxlY3RvcikmJiFnbCh0KT8oQih0LGUpLCEobj0hMCkpOnZvaWQgMH0pLG4pfSxhPWZ1bmN0aW9uKGssZSx0LHMpe3ZhciBfPVtdLGM9ITAsbD1PLmlubGluZXx8Ty5ibG9jayxmPWsuY3JlYXRlKGwpO0IoZikscmYoayxlLGZ1bmN0aW9uKGUpe3ZhciBhLHU9ZnVuY3Rpb24oZSl7dmFyIHQ9ITEsbj1jLHI9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG89ZS5wYXJlbnROb2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYodm4oZSkmJmsuZ2V0Q29udGVudEVkaXRhYmxlKGUpJiYobj1jLGM9InRydWUiPT09ay5nZXRDb250ZW50RWRpdGFibGUoZSksdD0hMCksTWwociwiYnIiKSlyZXR1cm4gYT0wLHZvaWQoTy5ibG9jayYmay5yZW1vdmUoZSkpO2lmKE8ud3JhcHBlciYmbHAoVCxlLFIsQSkpYT0wO2Vsc2V7aWYoYyYmIXQmJk8uYmxvY2smJiFPLndyYXBwZXImJkJsKFQscikmJlBsKFQsbyxsKSlyZXR1cm4gZT1rLnJlbmFtZShlLGwpLEIoZSksXy5wdXNoKGUpLHZvaWQoYT0wKTtpZihPLnNlbGVjdG9yKXt2YXIgaT1kKEQsZSk7aWYoIU8uaW5saW5lfHxpKXJldHVybiB2b2lkKGE9MCl9IWN8fHR8fCFQbChULGwscil8fCFQbChULG8sbCl8fCFzJiYzPT09ZS5ub2RlVHlwZSYmMT09PWUubm9kZVZhbHVlLmxlbmd0aCYmNjUyNzk9PT1lLm5vZGVWYWx1ZS5jaGFyQ29kZUF0KDApfHxnbChlKXx8Ty5pbmxpbmUmJmsuaXNCbG9jayhlKT8oYT0wLFFwKHl0LmdyZXAoZS5jaGlsZE5vZGVzKSx1KSx0JiYoYz1uKSxhPTApOihhfHwoYT1rLmNsb25lKGYsITEpLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSxlKSxfLnB1c2goYSkpLGEuYXBwZW5kQ2hpbGQoZSkpfX07UXAoZSx1KX0pLCEwPT09Ty5saW5rcyYmUXAoXyxmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXsiQSI9PT1lLm5vZGVOYW1lJiZCKGUsTyksUXAoeXQuZ3JlcChlLmNoaWxkTm9kZXMpLHQpfTt0KGUpfSksUXAoXyxmdW5jdGlvbihlKXt2YXIgbix0LHIsbyxpLGEsdSxzLGMsbCxmLGQsbSxwLGcsaCx2LHksYixDLHcseCxTLE49ZnVuY3Rpb24oZSl7dmFyIG49ITE7cmV0dXJuIFFwKGUuY2hpbGROb2RlcyxmdW5jdGlvbihlKXtpZigodD1lKSYmMT09PXQubm9kZVR5cGUmJiFrbCh0KSYmIWdsKHQpJiYhd24odCkpcmV0dXJuIG49ZSwhMTt2YXIgdH0pLG59LEU9KG49MCxRcChlLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9ZSkmJkVuKHQpJiYwPT09dC5sZW5ndGh8fGtsKGUpfHxuKyt9KSxuKTshKDE8Xy5sZW5ndGgpJiZrLmlzQmxvY2soZSl8fDAhPT1FPyhPLmlubGluZXx8Ty53cmFwcGVyKSYmKE8uZXhhY3R8fDEhPT1FfHwoKFM9Tih3PWUpKSYmIWtsKFMpJiZzcChrLFMsTykmJih4PWsuY2xvbmUoUywhMSksQih4KSxrLnJlcGxhY2UoeCx3LCEwKSxrLnJlbW92ZShTLCEwKSksZT14fHx3KSxKcChULEQsQSxlKSx2PU8seT1SLGI9QSxscChoPVQsKEM9ZSkucGFyZW50Tm9kZSx5LGIpJiZqcChoLHYsYixDKXx8di5tZXJnZV93aXRoX3BhcmVudHMmJmguZG9tLmdldFBhcmVudChDLnBhcmVudE5vZGUsZnVuY3Rpb24oZSl7aWYobHAoaCxlLHksYikpcmV0dXJuIGpwKGgsdixiLEMpLCEwfSksZD1rLHA9QSxnPWUsKG09Tykuc3R5bGVzJiZtLnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3ImJktwKGcsWHAoZCwiZm9udFNpemUiKSxZcChkLCJiYWNrZ3JvdW5kQ29sb3IiLElsKG0uc3R5bGVzLmJhY2tncm91bmRDb2xvcixwKSkpLHM9ayxsPWUsZj1mdW5jdGlvbihlKXtpZigxPT09ZS5ub2RlVHlwZSYmZS5wYXJlbnROb2RlJiYxPT09ZS5wYXJlbnROb2RlLm5vZGVUeXBlKXt2YXIgdD16bChzLGUucGFyZW50Tm9kZSk7cy5nZXRTdHlsZShlLCJjb2xvciIpJiZ0P3Muc2V0U3R5bGUoZSwidGV4dC1kZWNvcmF0aW9uIix0KTpzLmdldFN0eWxlKGUsInRleHQtZGVjb3JhdGlvbiIpPT09dCYmcy5zZXRTdHlsZShlLCJ0ZXh0LWRlY29yYXRpb24iLG51bGwpfX0sKGM9Tykuc3R5bGVzJiYoYy5zdHlsZXMuY29sb3J8fGMuc3R5bGVzLnRleHREZWNvcmF0aW9uKSYmKHl0LndhbGsobCxmLCJjaGlsZE5vZGVzIiksZihsKSksaT1rLHU9ZSwic3ViIiE9PShhPU8pLmlubGluZSYmInN1cCIhPT1hLmlubGluZXx8KEtwKHUsWHAoaSwiZm9udFNpemUiKSxZcChpLCJmb250U2l6ZSIsIiIpKSxpLnJlbW92ZShpLnNlbGVjdCgic3VwIj09PWEuaW5saW5lPyJzdWIiOiJzdXAiLHUpLCEwKSksdD1rLHI9Tywobz1lKSYmITEhPT1yLm1lcmdlX3NpYmxpbmdzJiYobz1XcCh0LE9sKG8pLG8pLG89V3AodCxvLE9sKG8sITApKSkpOmsucmVtb3ZlKGUsITApfSl9O2lmKCJmYWxzZSIhPT1pLmdldENvbnRlbnRFZGl0YWJsZSh0LmdldE5vZGUoKSkpe2lmKE8pe2lmKHIpQWwocik/ZChELHIpfHwoKGU9aS5jcmVhdGVSbmcoKSkuc2V0U3RhcnRCZWZvcmUociksZS5zZXRFbmRBZnRlcihyKSxhKGksdGYoVCxlLEQpLDAsITApKTphKGksciwwLCEwKTtlbHNlIGlmKG8mJk8uaW5saW5lJiYhc2YoVCkubGVuZ3RoKSFmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPWUuc2VsZWN0aW9uLGE9aS5nZXRSbmcoKSx1PWEuc3RhcnRPZmZzZXQscz1hLnN0YXJ0Q29udGFpbmVyLm5vZGVWYWx1ZTsocj1obChlLmdldEJvZHkoKSxpLmdldFN0YXJ0KCkpKSYmKG89eXAocikpO3ZhciBjLGwsZj0vW15cc1x1MDBhMFx1MDBhZFx1MjAwYlx1ZmVmZl0vO2lmKHMmJjA8dSYmdTxzLmxlbmd0aCYmZi50ZXN0KHMuY2hhckF0KHUpKSYmZi50ZXN0KHMuY2hhckF0KHUtMSkpKXt2YXIgZD1pLmdldEJvb2ttYXJrKCk7YS5jb2xsYXBzZSghMCk7dmFyIG09dGYoZSxhLGUuZm9ybWF0dGVyLmdldCh0KSk7bT1vcChtKSxlLmZvcm1hdHRlci5hcHBseSh0LG4sbSksaS5tb3ZlVG9Cb29rbWFyayhkKX1lbHNlIHImJm8ubm9kZVZhbHVlPT09Z3B8fChjPWUuZ2V0RG9jKCksbD1icCghMCkuZG9tKCksbz0ocj1jLmltcG9ydE5vZGUobCwhMCkpLmZpcnN0Q2hpbGQsYS5pbnNlcnROb2RlKHIpLHU9MSksZS5mb3JtYXR0ZXIuYXBwbHkodCxuLHIpLGkuc2V0Q3Vyc29yTG9jYXRpb24obyx1KX0oVCxSLEEpO2Vsc2V7dmFyIG49dC5nZXROb2RlKCk7VC5zZXR0aW5ncy5mb3JjZWRfcm9vdF9ibG9ja3x8IURbMF0uZGVmYXVsdEJsb2NrfHxpLmdldFBhcmVudChuLGkuaXNCbG9jayl8fFpwKFQsRFswXS5kZWZhdWx0QmxvY2spLHQuc2V0Um5nKGFtKHQuZ2V0Um5nKCkpKSxnZih0LCEwLGZ1bmN0aW9uKGUpe3BmKFQsZnVuY3Rpb24oZSx0KXt2YXIgbj10P2U6dGYoVCxlLEQpO2EoaSxuKX0pfSksRGwoaSx0LHQuZ2V0Um5nKCkpLFQubm9kZUNoYW5nZWQoKX11PVQsUnAoX3BbUl0sZnVuY3Rpb24oZSl7ZSh1KX0pfXZhciB1fWVsc2V7cj10LmdldE5vZGUoKTtmb3IodmFyIHM9MCxjPUQubGVuZ3RoO3M8YztzKyspaWYoRFtzXS5jZUZhbHNlT3ZlcnJpZGUmJmkuaXMocixEW3NdLnNlbGVjdG9yKSlyZXR1cm4gdm9pZCBCKHIsRFtzXSl9fSxlZz1mdW5jdGlvbihuLGUpe3JldHVybiBVKGUsZnVuY3Rpb24oZSl7dmFyIHQ9bi5maXJlKCJHZXRTZWxlY3Rpb25SYW5nZSIse3JhbmdlOmV9KTtyZXR1cm4gdC5yYW5nZSE9PWU/dC5yYW5nZTplfSl9LHRnPWZ1bmN0aW9uKGUsdCl7dmFyIG49KHR8fFYuZG9jdW1lbnQpLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm4geihlLGZ1bmN0aW9uKGUpe24uYXBwZW5kQ2hpbGQoZS5kb20oKSl9KSxDdC5mcm9tRG9tKG4pfSxuZz1mdW5jdGlvbihlLHQsbil7cmV0dXJue2VsZW1lbnQ6eChlKSx3aWR0aDp4KHQpLHJvd3M6eChuKX19LHJnPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VsZW1lbnQ6eChlKSxjZWxsczp4KHQpfX0sb2c9ZnVuY3Rpb24oZSx0KXt2YXIgbj1wYXJzZUludChJbihlLHQpLDEwKTtyZXR1cm4gaXNOYU4obik/MTpufSxpZz1mdW5jdGlvbihlKXtyZXR1cm4gVyhlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY2VsbHMoKS5sZW5ndGg+ZT90LmNlbGxzKCkubGVuZ3RoOmV9LDApfSxhZz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPWUucm93cygpLG89MDtvPHIubGVuZ3RoO28rKylmb3IodmFyIGk9cltvXS5jZWxscygpLGE9MDthPGkubGVuZ3RoO2ErKylpZihEdChpW2FdLHQpKXJldHVybiBCLnNvbWUoKG49byx7eDp4KGEpLHk6eChuKX0pKTtyZXR1cm4gQi5ub25lKCl9LHVnPWZ1bmN0aW9uKGUsdCxuLHIsbyl7Zm9yKHZhciBpPVtdLGE9ZS5yb3dzKCksdT1uO3U8PW87dSsrKXt2YXIgcz1hW3VdLmNlbGxzKCksYz10PHI/cy5zbGljZSh0LHIrMSk6cy5zbGljZShyLHQrMSk7aS5wdXNoKHJnKGFbdV0uZWxlbWVudCgpLGMpKX1yZXR1cm4gaX0sc2c9ZnVuY3Rpb24oZSl7dmFyIG89bmcocHUoZSksMCxbXSk7cmV0dXJuIHooWWEoZSwidHIiKSxmdW5jdGlvbihuLHIpe3ooWWEobiwidGQsdGgiKSxmdW5jdGlvbihlLHQpeyFmdW5jdGlvbihlLHQsbixyLG8pe2Zvcih2YXIgaT1vZyhvLCJyb3dzcGFuIiksYT1vZyhvLCJjb2xzcGFuIiksdT1lLnJvd3MoKSxzPW47czxuK2k7cysrKXt1W3NdfHwodVtzXT1yZyhndShyKSxbXSkpO2Zvcih2YXIgYz10O2M8dCthO2MrKyl7dVtzXS5jZWxscygpW2NdPXM9PT1uJiZjPT09dD9vOnB1KG8pfX19KG8sZnVuY3Rpb24oZSx0LG4pe2Zvcig7cj10LG89bixpPXZvaWQgMCwoKGk9ZS5yb3dzKCkpW29dP2lbb10uY2VsbHMoKTpbXSlbcl07KXQrKzt2YXIgcixvLGk7cmV0dXJuIHR9KG8sdCxyKSxyLG4sZSl9KX0pLG5nKG8uZWxlbWVudCgpLGlnKG8ucm93cygpKSxvLnJvd3MoKSl9LGNnPWZ1bmN0aW9uKGUpe3JldHVybiBuPVUoKHQ9ZSkucm93cygpLGZ1bmN0aW9uKGUpe3ZhciB0PVUoZS5jZWxscygpLGZ1bmN0aW9uKGUpe3ZhciB0PWd1KGUpO3JldHVybiBNbih0LCJjb2xzcGFuIiksTW4odCwicm93c3BhbiIpLHR9KSxuPXB1KGUuZWxlbWVudCgpKTtyZXR1cm4gZW4obix0KSxufSkscj1wdSh0LmVsZW1lbnQoKSksbz1DdC5mcm9tVGFnKCJ0Ym9keSIpLGVuKG8sbiksWnQocixvKSxyO3ZhciB0LG4scixvfSxsZz1mdW5jdGlvbihsLGUsdCl7cmV0dXJuIGFnKGwsZSkuYmluZChmdW5jdGlvbihjKXtyZXR1cm4gYWcobCx0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9bCxyPWUsbz0obj1jKS54KCksaT1uLnkoKSxhPXIueCgpLHU9ci55KCkscz1pPHU/dWcodCxvLGksYSx1KTp1Zyh0LG8sdSxhLGkpLG5nKHQuZWxlbWVudCgpLGlnKHMpLHMpO3ZhciB0LG4scixvLGksYSx1LHN9KX0pfSxmZz1mdW5jdGlvbih0LG4pe3JldHVybiBLKHQsZnVuY3Rpb24oZSl7cmV0dXJuImxpIj09PXd0KGUpJiZmZihlLG4pfSkuZm9sZCh4KFtdKSxmdW5jdGlvbihlKXtyZXR1cm4gSyh0LGZ1bmN0aW9uKGUpe3JldHVybiJ1bCI9PT13dChlKXx8Im9sIj09PXd0KGUpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybltDdC5mcm9tVGFnKCJsaSIpLEN0LmZyb21UYWcod3QoZSkpXX0pLmdldE9yKFtdKX0pfSxkZz1mdW5jdGlvbihlLHQpe3ZhciBuLHI9Q3QuZnJvbURvbSh0LmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKSxvPXlkKHIsZSksaT1IKG8sZnVuY3Rpb24oZSl7cmV0dXJuIFhuKGUpfHxXbihlKX0pLGE9Zmcobyx0KSx1PWkuY29uY2F0KGEubGVuZ3RoP2E6UW4obj1yKT9NdChuKS5maWx0ZXIoSm4pLmZvbGQoeChbXSksZnVuY3Rpb24oZSl7cmV0dXJuW24sZV19KTpKbihuKT9bbl06W10pO3JldHVybiBVKHUscHUpfSxtZz1mdW5jdGlvbigpe3JldHVybiB0ZyhbXSl9LHBnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49Q3QuZnJvbURvbSh0LmNsb25lQ29udGVudHMoKSkscj1kZyhlLHQpLG89VyhyLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFp0KHQsZSksdH0sbiksMDxyLmxlbmd0aD90Zyhbb10pOm87dmFyIG4scixvfSxnZz1mdW5jdGlvbihlLG8pe3JldHVybiB0PWUsbj1vWzBdLGV1KG4sInRhYmxlIixOKER0LHQpKS5iaW5kKGZ1bmN0aW9uKGUpe3ZhciB0PW9bMF0sbj1vW28ubGVuZ3RoLTFdLHI9c2coZSk7cmV0dXJuIGxnKHIsdCxuKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHRnKFtjZyhlKV0pfSl9KS5nZXRPclRodW5rKG1nKTt2YXIgdCxufSxoZz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbz11Zih0LGUpO3JldHVybiAwPG8ubGVuZ3RoP2dnKGUsbyk6KG49ZSwwPChyPXQpLmxlbmd0aCYmclswXS5jb2xsYXBzZWQ/bWcoKTpwZyhuLHJbMF0pKX0sdmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDw9dCYmdDxlLmxlbmd0aCYmVGwoZS5jaGFyQXQodCkpfSx5Zz1mdW5jdGlvbihlKXt2YXIgdD1DdShlLmlubmVyVGV4dCk7cmV0dXJuIG10LmJyb3dzZXIuaXNJRSgpP3QucmVwbGFjZSgvXlsgXGZcblxyXHRcdl0rLywiIik6dH0sYmc9ZnVuY3Rpb24oZSx0LG4pe2lmKHZvaWQgMD09PW4mJihuPXt9KSxuLmdldD0hMCxuLmZvcm1hdD10LG4uc2VsZWN0aW9uPSEwLChuPWUuZmlyZSgiQmVmb3JlR2V0Q29udGVudCIsbikpLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBlLmZpcmUoIkdldENvbnRlbnQiLG4pLG4uY29udGVudDtpZigidGV4dCI9PT1uLmZvcm1hdClyZXR1cm4gbD1lLEIuZnJvbShsLnNlbGVjdGlvbi5nZXRSbmcoKSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWwuZG9tLmFkZChsLmdldEJvZHkoKSwiZGl2Iix7ImRhdGEtbWNlLWJvZ3VzIjoiYWxsIixzdHlsZToib3ZlcmZsb3c6IGhpZGRlbjsgb3BhY2l0eTogMDsifSxlLmNsb25lQ29udGVudHMoKSksbj15Zyh0KSxyPUN1KHQudGV4dENvbnRlbnQpO2lmKGwuZG9tLnJlbW92ZSh0KSx2ZyhyLDApfHx2ZyhyLHIubGVuZ3RoLTEpKXt2YXIgbz1sLmRvbS5nZXRQYXJlbnQoZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcixsLmRvbS5pc0Jsb2NrKSxpPXlnKG8pLGE9aS5pbmRleE9mKG4pO3JldHVybi0xPT09YT9uOih2ZyhpLGEtMSk/IiAiOiIiKStuKyh2ZyhpLGErbi5sZW5ndGgpPyIgIjoiIil9cmV0dXJuIG59KS5nZXRPcigiIik7bi5nZXRJbm5lcj0hMDt2YXIgcixvLGksYSx1LHMsYyxsLGY9KG89bixpPShyPWUpLnNlbGVjdGlvbi5nZXRSbmcoKSxhPXIuZG9tLmNyZWF0ZSgiYm9keSIpLHU9ci5zZWxlY3Rpb24uZ2V0U2VsKCkscz1lZyhyLG9mKHUpKSwoYz1vLmNvbnRleHR1YWw/aGcoQ3QuZnJvbURvbShyLmdldEJvZHkoKSkscykuZG9tKCk6aS5jbG9uZUNvbnRlbnRzKCkpJiZhLmFwcGVuZENoaWxkKGMpLHIuc2VsZWN0aW9uLnNlcmlhbGl6ZXIuc2VyaWFsaXplKGEsbykpO3JldHVybiJ0cmVlIj09PW4uZm9ybWF0P2Y6KG4uY29udGVudD1lLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpPyIiOmYsZS5maXJlKCJHZXRDb250ZW50IixuKSxuLmNvbnRlbnQpfSxDZz1mdW5jdGlvbihlKXtyZXR1cm4gdm4oZSk/ZS5vdXRlckhUTUw6RW4oZSk/eXIuZW5jb2RlUmF3KGUuZGF0YSwhMSk6a24oZSk/Ilx4M2MhLS0iK2UuZGF0YSsiLS1ceDNlIjoiIn0sd2c9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUpe3ZhciB0LG49Vi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxyPVYuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2ZvcihlJiYobi5pbm5lckhUTUw9ZSk7dD1uLmZpcnN0Q2hpbGQ7KXIuYXBwZW5kQ2hpbGQodCk7cmV0dXJuIHJ9KHQpO2lmKGUuaGFzQ2hpbGROb2RlcygpJiZuPGUuY2hpbGROb2Rlcy5sZW5ndGgpe3ZhciBvPWUuY2hpbGROb2Rlc1tuXTtvLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHIsbyl9ZWxzZSBlLmFwcGVuZENoaWxkKHIpfSx4Zz1mdW5jdGlvbihlLHQpe3ZhciBuLHIscCxnLG8saCx2LGMseSxsLGksYT1VKHRlKHQuY2hpbGROb2RlcyksQ2cpO3JldHVybiBnPWUsbz0ocD1hKS5sZW5ndGgrZy5sZW5ndGgrMixoPW5ldyBBcnJheShvKSx2PW5ldyBBcnJheShvKSxjPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGk9bChlLHQsbixyKTtpZihudWxsPT09aXx8aS5zdGFydD09PXQmJmkuZGlhZz09PXQtcnx8aS5lbmQ9PT1lJiZpLmRpYWc9PT1lLW4pZm9yKHZhciBhPWUsdT1uO2E8dHx8dTxyOylhPHQmJnU8ciYmcFthXT09PWdbdV0/KG8ucHVzaChbMCxwW2FdXSksKythLCsrdSk6ci1uPHQtZT8oby5wdXNoKFsyLHBbYV1dKSwrK2EpOihvLnB1c2goWzEsZ1t1XV0pLCsrdSk7ZWxzZXtjKGUsaS5zdGFydCxuLGkuc3RhcnQtaS5kaWFnLG8pO2Zvcih2YXIgcz1pLnN0YXJ0O3M8aS5lbmQ7KytzKW8ucHVzaChbMCxwW3NdXSk7YyhpLmVuZCx0LGkuZW5kLWkuZGlhZyxyLG8pfX0seT1mdW5jdGlvbihlLHQsbixyKXtmb3IodmFyIG89ZTtvLXQ8ciYmbzxuJiZwW29dPT09Z1tvLXRdOykrK287cmV0dXJue3N0YXJ0OmUsZW5kOm8sZGlhZzp0fX0sbD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz10LWUsaT1yLW47aWYoMD09b3x8MD09aSlyZXR1cm4gbnVsbDt2YXIgYSx1LHMsYyxsLGY9by1pLGQ9aStvLG09KGQlMj09MD9kOjErZCkvMjtmb3IoaFsxK21dPWUsdlsxK21dPXQrMSxhPTA7YTw9bTsrK2Epe2Zvcih1PS1hO3U8PWE7dSs9Mil7Zm9yKHM9dSttLHU9PT0tYXx8dSE9PWEmJmhbcy0xXTxoW3MrMV0/aFtzXT1oW3MrMV06aFtzXT1oW3MtMV0rMSxsPShjPWhbc10pLWUrbi11O2M8dCYmbDxyJiZwW2NdPT09Z1tsXTspaFtzXT0rK2MsKytsO2lmKGYlMiE9MCYmZi1hPD11JiZ1PD1mK2EmJnZbcy1mXTw9aFtzXSlyZXR1cm4geSh2W3MtZl0sdStlLW4sdCxyKX1mb3IodT1mLWE7dTw9ZithO3UrPTIpe2ZvcihzPXUrbS1mLHU9PT1mLWF8fHUhPT1mK2EmJnZbcysxXTw9dltzLTFdP3Zbc109dltzKzFdLTE6dltzXT12W3MtMV0sbD0oYz12W3NdLTEpLWUrbi11O2U8PWMmJm48PWwmJnBbY109PT1nW2xdOyl2W3NdPWMtLSxsLS07aWYoZiUyPT0wJiYtYTw9dSYmdTw9YSYmdltzXTw9aFtzK2ZdKXJldHVybiB5KHZbc10sdStlLW4sdCxyKX19fSxpPVtdLGMoMCxwLmxlbmd0aCwwLGcubGVuZ3RoLGkpLG49dCxyPTAseihpLGZ1bmN0aW9uKGUpezA9PT1lWzBdP3IrKzoxPT09ZVswXT8od2cobixlWzFdLHIpLHIrKyk6Mj09PWVbMF0mJmZ1bmN0aW9uKGUsdCl7aWYoZS5oYXNDaGlsZE5vZGVzKCkmJnQ8ZS5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIG49ZS5jaGlsZE5vZGVzW3RdO24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKX19KG4scil9KSx0fSxTZz1PYShCLm5vbmUoKSksTmc9ZnVuY3Rpb24obil7dmFyIGUsdD0oZT1uLmdldEJvZHkoKSxIKFUodGUoZS5jaGlsZE5vZGVzKSxDZyksZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZS5sZW5ndGh9KSkscj1ZKHQsZnVuY3Rpb24oZSl7dmFyIHQ9VmYobi5zZXJpYWxpemVyLGUpO3JldHVybiAwPHQubGVuZ3RoP1t0XTpbXX0pLG89ci5qb2luKCIiKTtyZXR1cm4tMSE9PW8uaW5kZXhPZigiPC9pZnJhbWU+Iik/e3R5cGU6ImZyYWdtZW50ZWQiLGZyYWdtZW50czpyLGNvbnRlbnQ6IiIsYm9va21hcms6bnVsbCxiZWZvcmVCb29rbWFyazpudWxsfTp7dHlwZToiY29tcGxldGUiLGZyYWdtZW50czpudWxsLGNvbnRlbnQ6byxib29rbWFyazpudWxsLGJlZm9yZUJvb2ttYXJrOm51bGx9fSxFZz1mdW5jdGlvbihlLHQsbil7ImZyYWdtZW50ZWQiPT09dC50eXBlP3hnKHQuZnJhZ21lbnRzLGUuZ2V0Qm9keSgpKTplLnNldENvbnRlbnQodC5jb250ZW50LHtmb3JtYXQ6InJhdyJ9KSxlLnNlbGVjdGlvbi5tb3ZlVG9Cb29rbWFyayhuP3QuYmVmb3JlQm9va21hcms6dC5ib29rbWFyayl9LGtnPWZ1bmN0aW9uKGUpe3JldHVybiJmcmFnbWVudGVkIj09PWUudHlwZT9lLmZyYWdtZW50cy5qb2luKCIiKTplLmNvbnRlbnR9LF9nPWZ1bmN0aW9uKGUpe3ZhciB0PUN0LmZyb21UYWcoImJvZHkiLFNnLmdldCgpLmdldE9yVGh1bmsoZnVuY3Rpb24oKXt2YXIgZT1WLmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgidW5kbyIpO3JldHVybiBTZy5zZXQoQi5zb21lKGUpKSxlfSkpO3JldHVybiBkdSh0LGtnKGUpKSx6KFlhKHQsIipbZGF0YS1tY2UtYm9ndXNdIikscm4pLHQuZG9tKCkuaW5uZXJIVE1MfSxUZz1mdW5jdGlvbihlLHQpe3JldHVybiEoIWV8fCF0KSYmKHI9dCxrZyhlKT09PWtnKHIpfHwobj10LF9nKGUpPT09X2cobikpKTt2YXIgbixyfSxSZz1mdW5jdGlvbihlKXtyZXR1cm4gMD09PWUuZ2V0KCl9LEFnPWZ1bmN0aW9uKGUsdCxuKXtSZyhuKSYmKGUudHlwaW5nPXQpfSxEZz1mdW5jdGlvbihlLHQpe2UudHlwaW5nJiYoQWcoZSwhMSx0KSxlLmFkZCgpKX0sT2c9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBUZn0sQmc9ZnVuY3Rpb24oZSx0KXtabShlLnNlcmlhbGl6ZXIuZ2V0Tm9kZUZpbHRlcnMoKSxlLnNlcmlhbGl6ZXIuZ2V0QXR0cmlidXRlRmlsdGVycygpLHQpfSxQZz1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJjb21wbGV0ZSIsZnJhZ21lbnRzOltdLGNvbnRlbnQ6IiIsYm9va21hcms6bnVsbCxiZWZvcmVCb29rbWFyazpudWxsfX0sTGc9ZnVuY3Rpb24ocyl7cmV0dXJue3VuZG9NYW5hZ2VyOntiZWZvcmVDaGFuZ2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1zLHI9dCx2b2lkKFJnKGUpJiZyLnNldChCLnNvbWUoJHMobi5zZWxlY3Rpb24pKSkpO3ZhciBuLHJ9LGFkZFVuZG9MZXZlbDpmdW5jdGlvbihlLHQsbixyLG8saSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIsbyxpLGEpe3ZhciB1PU5nKGUpO2lmKGk9aXx8e30saT15dC5leHRlbmQoaSx1KSwhMT09PVJnKHIpfHxlLnJlbW92ZWQpcmV0dXJuIG51bGw7dmFyIHM9dC5kYXRhW24uZ2V0KCldO2lmKGUuZmlyZSgiQmVmb3JlQWRkVW5kbyIse2xldmVsOmksbGFzdExldmVsOnMsb3JpZ2luYWxFdmVudDphfSkuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuIG51bGw7aWYocyYmVGcocyxpKSlyZXR1cm4gbnVsbDt0LmRhdGFbbi5nZXQoKV0mJm8uZ2V0KCkuZWFjaChmdW5jdGlvbihlKXt0LmRhdGFbbi5nZXQoKV0uYmVmb3JlQm9va21hcms9ZX0pO3ZhciBjPWUuZ2V0UGFyYW0oImN1c3RvbV91bmRvX3JlZG9fbGV2ZWxzIiwwLCJudW1iZXIiKTtpZihjJiZ0LmRhdGEubGVuZ3RoPmMpe2Zvcih2YXIgbD0wO2w8dC5kYXRhLmxlbmd0aC0xO2wrKyl0LmRhdGFbbF09dC5kYXRhW2wrMV07dC5kYXRhLmxlbmd0aC0tLG4uc2V0KHQuZGF0YS5sZW5ndGgpfWkuYm9va21hcms9JHMoZS5zZWxlY3Rpb24pLG4uZ2V0KCk8dC5kYXRhLmxlbmd0aC0xJiYodC5kYXRhLmxlbmd0aD1uLmdldCgpKzEpLHQuZGF0YS5wdXNoKGkpLG4uc2V0KHQuZGF0YS5sZW5ndGgtMSk7dmFyIGY9e2xldmVsOmksbGFzdExldmVsOnMsb3JpZ2luYWxFdmVudDphfTtyZXR1cm4gZS5maXJlKCJBZGRVbmRvIixmKSwwPG4uZ2V0KCkmJihlLnNldERpcnR5KCEwKSxlLmZpcmUoImNoYW5nZSIsZikpLGl9KHMsZSx0LG4scixvLGkpfSx1bmRvOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcj1zLGk9dCxhPW4sKG89ZSkudHlwaW5nJiYoby5hZGQoKSxvLnR5cGluZz0hMSxBZyhvLCExLGkpKSwwPGEuZ2V0KCkmJihhLnNldChhLmdldCgpLTEpLHU9by5kYXRhW2EuZ2V0KCldLEVnKHIsdSwhMCksci5zZXREaXJ0eSghMCksci5maXJlKCJVbmRvIix7bGV2ZWw6dX0pKSx1O3ZhciByLG8saSxhLHV9LHJlZG86ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1zLG89dCwocj1lKS5nZXQoKTxvLmxlbmd0aC0xJiYoci5zZXQoci5nZXQoKSsxKSxpPW9bci5nZXQoKV0sRWcobixpLCExKSxuLnNldERpcnR5KCEwKSxuLmZpcmUoIlJlZG8iLHtsZXZlbDppfSkpLGk7dmFyIG4scixvLGl9LGNsZWFyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49cyxvPXQsKHI9ZSkuZGF0YT1bXSxvLnNldCgwKSxyLnR5cGluZz0hMSx2b2lkIG4uZmlyZSgiQ2xlYXJVbmRvcyIpO3ZhciBuLHIsb30scmVzZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuKHQ9ZSkuY2xlYXIoKSx2b2lkIHQuYWRkKCk7dmFyIHR9LGhhc1VuZG86ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1zLHI9ZSwwPHQuZ2V0KCl8fHIudHlwaW5nJiZyLmRhdGFbMF0mJiFUZyhOZyhuKSxyLmRhdGFbMF0pO3ZhciBuLHJ9LGhhc1JlZG86ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1lLHQuZ2V0KCk8bi5kYXRhLmxlbmd0aC0xJiYhbi50eXBpbmc7dmFyIG59LHRyYW5zYWN0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbz1uLERnKHI9ZSx0KSxyLmJlZm9yZUNoYW5nZSgpLHIuaWdub3JlKG8pLHIuYWRkKCk7dmFyIHIsb30saWdub3JlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dHJ5e2Uuc2V0KGUuZ2V0KCkrMSksdCgpfWZpbmFsbHl7ZS5zZXQoZS5nZXQoKS0xKX19KGUsdCl9LGV4dHJhOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBmdW5jdGlvbihlLHQsbixyLG8pe2lmKHQudHJhbnNhY3Qocikpe3ZhciBpPXQuZGF0YVtuLmdldCgpXS5ib29rbWFyayxhPXQuZGF0YVtuLmdldCgpLTFdO0VnKGUsYSwhMCksdC50cmFuc2FjdChvKSYmKHQuZGF0YVtuLmdldCgpLTFdLmJlZm9yZUJvb2ttYXJrPWkpfX0ocyxlLHQsbixyKX19LGZvcm1hdHRlcjp7YXBwbHk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBacChzLGUsdCxuKX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBIcChzLGUsdCxuLHIpfSx0b2dnbGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBvPWUsaT10LGE9bix1PShyPXMpLmZvcm1hdHRlci5nZXQobyksdm9pZCghZnAocixvLGksYSl8fCJ0b2dnbGUiaW4gdVswXSYmIXVbMF0udG9nZ2xlP1pwOkhwKShyLG8saSxhKTt2YXIgcixvLGksYSx1fX0sZWRpdG9yOntnZXRDb250ZW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49cyxyPWUsbz10LEIuZnJvbShuLmdldEJvZHkoKSkuZm9sZCh4KCJ0cmVlIj09PXIuZm9ybWF0P25ldyBUZigiYm9keSIsMTEpOiIiKSxmdW5jdGlvbihlKXtyZXR1cm4gJGYobixyLG8sZSl9KTt2YXIgbixyLG99LHNldENvbnRlbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnAocyxlLHQpfSxpbnNlcnRDb250ZW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHltKHMsZSx0KX19LHNlbGVjdGlvbjp7Z2V0Q29udGVudDpmdW5jdGlvbihlLHQpe3JldHVybiBiZyhzLGUsdCl9fSxyYXc6e2dldE1vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIEIubm9uZSgpfX19fSxJZz1mdW5jdGlvbihlKXtyZXR1cm4gbWUoZS5wbHVnaW5zLCJydGMiKX0sTWc9ZnVuY3Rpb24obil7dmFyIHI9bjtyZXR1cm4gZGUobi5wbHVnaW5zLCJydGMiKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIHIucnRjSW5zdGFuY2U9TGcobiksQi5ub25lKCl9LGZ1bmN0aW9uKGUpe3JldHVybiBCLnNvbWUoZS5zZXR1cCgpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIG8saSxhLHQ7cmV0dXJuIHIucnRjSW5zdGFuY2U9KG89bixpPWUsYT1mdW5jdGlvbihlKXtyZXR1cm4gRShlKT9lOnt9fSx0PXAoIlVuaW1wbGVtZW50ZWQgZmVhdHVyZSBmb3IgcnRjIikse3VuZG9NYW5hZ2VyOntiZWZvcmVDaGFuZ2U6ZixhZGRVbmRvTGV2ZWw6dCx1bmRvOmZ1bmN0aW9uKCl7cmV0dXJuIGkudW5kbygpLFBnKCl9LHJlZG86ZnVuY3Rpb24oKXtyZXR1cm4gaS5yZWRvKCksUGcoKX0sY2xlYXI6dCxyZXNldDp0LGhhc1VuZG86ZnVuY3Rpb24oKXtyZXR1cm4gaS5oYXNVbmRvKCl9LGhhc1JlZG86ZnVuY3Rpb24oKXtyZXR1cm4gaS5oYXNSZWRvKCl9LHRyYW5zYWN0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaS50cmFuc2FjdChuKSxQZygpfSxpZ25vcmU6dCxleHRyYTp0fSxmb3JtYXR0ZXI6e2FwcGx5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaS5hcHBseUZvcm1hdChlLGEodCkpfSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGkucmVtb3ZlRm9ybWF0KGUsYSh0KSl9LHRvZ2dsZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGkudG9nZ2xlRm9ybWF0KGUsYSh0KSl9fSxlZGl0b3I6e2dldENvbnRlbnQ6ZnVuY3Rpb24oZSx0KXtpZigiaHRtbCIhPT10JiYidHJlZSIhPT10KXJldHVybiBMZyhvKS5lZGl0b3IuZ2V0Q29udGVudChlLHQpO3ZhciBuPWkuZ2V0Q29udGVudCgpLHI9T2Yoe2lubmVyOiEwfSk7cmV0dXJuIEJnKG8sbiksInRyZWUiPT09dD9uOnIuc2VyaWFsaXplKG4pfSxzZXRDb250ZW50OmZ1bmN0aW9uKGUsdCl7dmFyIG49T2coZSk/ZTpvLnBhcnNlci5wYXJzZShlLHtpc1Jvb3RDb250ZW50OiEwLGluc2VydDohMH0pO3JldHVybiBpLnNldENvbnRlbnQobiksZX0saW5zZXJ0Q29udGVudDpmdW5jdGlvbihlLHQpe3ZhciBuPU9nKGUpP2U6by5wYXJzZXIucGFyc2UoZSx7aW5zZXJ0OiEwfSk7aS5pbnNlcnRDb250ZW50KG4pfX0sc2VsZWN0aW9uOntnZXRDb250ZW50OmZ1bmN0aW9uKGUsdCl7aWYoImh0bWwiIT09ZSYmInRyZWUiIT09ZSlyZXR1cm4gTGcobykuc2VsZWN0aW9uLmdldENvbnRlbnQoZSx0KTt2YXIgbj1pLmdldFNlbGVjdGVkQ29udGVudCgpLHI9T2Yoe30pO3JldHVybiBCZyhvLG4pLCJ0cmVlIj09PWU/bjpyLnNlcmlhbGl6ZShuKX19LHJhdzp7Z2V0TW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gQi5zb21lKGkuZ2V0UmF3TW9kZWwoKSl9fX0pLGUuaXNSZW1vdGV9KSl9KX0sRmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucnRjSW5zdGFuY2U/ZS5ydGNJbnN0YW5jZTpMZyhlKX0sVWc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ydGNJbnN0YW5jZTtpZih0KXJldHVybiB0O3Rocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGdldCBSVEMgaW5zdGFuY2Ugbm90IHlldCBpbml0aWFsaXplZC4iKX0semc9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIG4scixvPXQuZm9ybWF0P3QuZm9ybWF0OiJodG1sIjtyZXR1cm4gbj10LHI9byxGZyhlKS5lZGl0b3IuZ2V0Q29udGVudChuLHIpfSxqZz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXt9KSxyPXQsbz1uLEZnKGUpLmVkaXRvci5zZXRDb250ZW50KHIsbyk7dmFyIHIsb30sSGc9RWEuRE9NLFZnPWZ1bmN0aW9uKGUpe3JldHVybiBCLmZyb20oZSkuZWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5kZXN0cm95KCl9KX0scWc9ZnVuY3Rpb24oZSl7aWYoIWUucmVtb3ZlZCl7dmFyIHQ9ZS5fc2VsZWN0aW9uT3ZlcnJpZGVzLG49ZS5lZGl0b3JVcGxvYWQscj1lLmdldEJvZHkoKSxvPWUuZ2V0RWxlbWVudCgpO3ImJmUuc2F2ZSh7aXNfcmVtb3Zpbmc6ITB9KSxlLnJlbW92ZWQ9ITAsZS51bmJpbmRBbGxOYXRpdmVFdmVudHMoKSxlLmhhc0hpZGRlbklucHV0JiZvJiZIZy5yZW1vdmUoby5uZXh0U2libGluZyksZS5maXJlKCJyZW1vdmUiKSxlLmVkaXRvck1hbmFnZXIucmVtb3ZlKGUpLCFlLmlubGluZSYmciYmKGk9ZSxIZy5zZXRTdHlsZShpLmlkLCJkaXNwbGF5IixpLm9yZ0Rpc3BsYXkpKSxlLmZpcmUoImRldGFjaCIpLEhnLnJlbW92ZShlLmdldENvbnRhaW5lcigpKSxWZyh0KSxWZyhuKSxlLmRlc3Ryb3koKX12YXIgaX0sJGc9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saT1lLnNlbGVjdGlvbixhPWUuZG9tO2UuZGVzdHJveWVkfHwodHx8ZS5yZW1vdmVkPyh0fHwoZS5lZGl0b3JNYW5hZ2VyLm9mZigiYmVmb3JldW5sb2FkIixlLl9iZWZvcmVVbmxvYWQpLGUudGhlbWUmJmUudGhlbWUuZGVzdHJveSYmZS50aGVtZS5kZXN0cm95KCksVmcoaSksVmcoYSkpLChyPShuPWUpLmZvcm1FbGVtZW50KSYmKHIuX21jZU9sZFN1Ym1pdCYmKHIuc3VibWl0PXIuX21jZU9sZFN1Ym1pdCxyLl9tY2VPbGRTdWJtaXQ9bnVsbCksSGcudW5iaW5kKHIsInN1Ym1pdCByZXNldCIsbi5mb3JtRXZlbnREZWxlZ2F0ZSkpLChvPWUpLmNvbnRlbnRBcmVhQ29udGFpbmVyPW8uZm9ybUVsZW1lbnQ9by5jb250YWluZXI9by5lZGl0b3JDb250YWluZXI9bnVsbCxvLmJvZHlFbGVtZW50PW8uY29udGVudERvY3VtZW50PW8uY29udGVudFdpbmRvdz1udWxsLG8uaWZyYW1lRWxlbWVudD1vLnRhcmdldEVsbT1udWxsLG8uc2VsZWN0aW9uJiYoby5zZWxlY3Rpb249by5zZWxlY3Rpb24ud2luPW8uc2VsZWN0aW9uLmRvbT1vLnNlbGVjdGlvbi5kb20uZG9jPW51bGwpLGUuZGVzdHJveWVkPSEwKTplLnJlbW92ZSgpKX0sV2c9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxLZz0oQXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRShlKSYmRSh0KT9LZyhlLHQpOnR9LGZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSx0PTA7dDxlLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07aWYoMD09PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQ2FuJ3QgbWVyZ2UgemVybyBvYmplY3RzIik7Zm9yKHZhciBuPXt9LHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXTtmb3IodmFyIGkgaW4gbylXZy5jYWxsKG8saSkmJihuW2ldPUFwKG5baV0sb1tpXSkpfXJldHVybiBufSksWGc9b3QoKS5kZXZpY2VUeXBlLFlnPVhnLmlzVG91Y2goKSxHZz1YZy5pc1Bob25lKCksSmc9WGcuaXNUYWJsZXQoKSxRZz1bImxpc3RzIiwiYXV0b2xpbmsiLCJhdXRvc2F2ZSJdLFpnPXt0YWJsZV9ncmlkOiExLG9iamVjdF9yZXNpemluZzohMSxyZXNpemU6ITF9LGVoPWZ1bmN0aW9uKGUpe3ZhciB0PWsoZSk/ZS5qb2luKCIgIik6ZSxuPVUocSh0KT90LnNwbGl0KCIgIik6W10sS2UpO3JldHVybiBIKG4sZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZS5sZW5ndGh9KX0sdGg9ZnVuY3Rpb24obixlKXt2YXIgdCxyLG89Y2UoZSxmdW5jdGlvbihlLHQpe3JldHVybiBNKG4sdCl9KTtyZXR1cm4gdD1vLnQscj1vLmYse3NlY3Rpb25zOngodCksc2V0dGluZ3M6eChyKX19LG5oPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc2VjdGlvbnMoKS5oYXNPd25Qcm9wZXJ0eSh0KX0scmg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZGUoZSwidG9vbGJhcl9tb2RlIikub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBkZShlLCJ0b29sYmFyX2RyYXdlciIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hMT09PWU/IndyYXAiOmV9KX0pLmdldE9yKHQpfSxvaD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzLGMsbCxmPWVoKG4uZm9yY2VkX3BsdWdpbnMpLGQ9ZWgoci5wbHVnaW5zKSxtPW5oKG89dCxpPSJtb2JpbGUiKT9vLnNlY3Rpb25zKClbaV06e30scD1tLnBsdWdpbnM/ZWgobS5wbHVnaW5zKTpkLGc9ZSYmKHM9dT0ibW9iaWxlIixjPShhPXQpLnNlY3Rpb25zKCksbmgoYSx1KSYmY1t1XS50aGVtZT09PXMpP0gocCxOKE0sUWcpKTplJiZuaCh0LCJtb2JpbGUiKT9wOmQsaD0obD1nLFtdLmNvbmNhdChlaChmKSkuY29uY2F0KGVoKGwpKSk7cmV0dXJuIHl0LmV4dGVuZChyLHtwbHVnaW5zOmguam9pbigiICIpfSl9LGloPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYSx1LHMsYyxsLGYsZD1lP3ttb2JpbGU6KGk9by5tb2JpbGV8fHt9LGE9dCx1PXtyZXNpemU6ITEsdG9vbGJhcl9tb2RlOnJoKGksInNjcm9sbGluZyIpLHRvb2xiYXJfc3RpY2t5OiExfSx4ZSh4ZSh4ZSh7fSxaZyksdSksYT97bWVudWJhcjohMX06e30pKX06e30sbT10aChbIm1vYmlsZSJdLEtnKGQsbykpLHA9eXQuZXh0ZW5kKG4scixtLnNldHRpbmdzKCksKGY9bSxlJiZuaChmLCJtb2JpbGUiKT9mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09biYmKG49e30pO3ZhciByPWUuc2VjdGlvbnMoKSxvPXIuaGFzT3duUHJvcGVydHkodCk/clt0XTp7fTtyZXR1cm4geXQuZXh0ZW5kKHt9LG4sbyl9KG0sIm1vYmlsZSIpOnt9KSx7dmFsaWRhdGU6ITAsZXh0ZXJuYWxfcGx1Z2luczoocz1yLGM9bS5zZXR0aW5ncygpLGw9Yy5leHRlcm5hbF9wbHVnaW5zP2MuZXh0ZXJuYWxfcGx1Z2luczp7fSxzJiZzLmV4dGVybmFsX3BsdWdpbnM/eXQuZXh0ZW5kKHt9LHMuZXh0ZXJuYWxfcGx1Z2lucyxsKTpsKX0pO3JldHVybiBvaChlLG0scixwKX0sYWg9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHUscyxjPShpPW4sYT1ZZyx1PWUscz17aWQ6dCx0aGVtZToic2lsdmVyIix0b29sYmFyX21vZGU6cmgobywiZmxvYXRpbmciKSxwbHVnaW5zOiIiLGRvY3VtZW50X2Jhc2VfdXJsOmksYWRkX2Zvcm1fc3VibWl0X3RyaWdnZXI6ITAsc3VibWl0X3BhdGNoOiEwLGFkZF91bmxvYWRfdHJpZ2dlcjohMCxjb252ZXJ0X3VybHM6ITAscmVsYXRpdmVfdXJsczohMCxyZW1vdmVfc2NyaXB0X2hvc3Q6ITAsb2JqZWN0X3Jlc2l6aW5nOiEwLGRvY3R5cGU6IjwhRE9DVFlQRSBodG1sPiIsdmlzdWFsOiEwLGZvbnRfc2l6ZV9sZWdhY3lfdmFsdWVzOiJ4eC1zbWFsbCxzbWFsbCxtZWRpdW0sbGFyZ2UseC1sYXJnZSx4eC1sYXJnZSwzMDAlIixmb3JjZWRfcm9vdF9ibG9jazoicCIsaGlkZGVuX2lucHV0OiEwLGlubGluZV9zdHlsZXM6ITAsY29udmVydF9mb250c190b19zcGFuczohMCxpbmRlbnQ6ITAsaW5kZW50X2JlZm9yZToicCxoMSxoMixoMyxoNCxoNSxoNixibG9ja3F1b3RlLGRpdix0aXRsZSxzdHlsZSxwcmUsc2NyaXB0LHRkLHRoLHVsLG9sLGxpLGRsLGR0LGRkLGFyZWEsdGFibGUsdGhlYWQsdGZvb3QsdGJvZHksdHIsc2VjdGlvbixzdW1tYXJ5LGFydGljbGUsaGdyb3VwLGFzaWRlLGZpZ3VyZSxmaWdjYXB0aW9uLG9wdGlvbixvcHRncm91cCxkYXRhbGlzdCIsaW5kZW50X2FmdGVyOiJwLGgxLGgyLGgzLGg0LGg1LGg2LGJsb2NrcXVvdGUsZGl2LHRpdGxlLHN0eWxlLHByZSxzY3JpcHQsdGQsdGgsdWwsb2wsbGksZGwsZHQsZGQsYXJlYSx0YWJsZSx0aGVhZCx0Zm9vdCx0Ym9keSx0cixzZWN0aW9uLHN1bW1hcnksYXJ0aWNsZSxoZ3JvdXAsYXNpZGUsZmlndXJlLGZpZ2NhcHRpb24sb3B0aW9uLG9wdGdyb3VwLGRhdGFsaXN0IixlbnRpdHlfZW5jb2Rpbmc6Im5hbWVkIix1cmxfY29udmVydGVyOnUuY29udmVydFVSTCx1cmxfY29udmVydGVyX3Njb3BlOnV9LHhlKHhlKHt9LHMpLGE/Wmc6e30pKTtyZXR1cm4gaWgoR2d8fEpnLEdnLGMscixvKX0sdWg9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBCLmZyb20odC5zZXR0aW5nc1tuXSkuZmlsdGVyKGUpfSxzaD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdT10IGluIGUuc2V0dGluZ3M/ZS5zZXR0aW5nc1t0XTpuO3JldHVybiJoYXNoIj09PXI/KGE9e30sInN0cmluZyI9PXR5cGVvZihpPXUpP3ooMDxpLmluZGV4T2YoIj0iKT9pLnNwbGl0KC9bOyxdKD8hW149OyxdKig/Ols7LF18JCkpLyk6aS5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIj0iKTsxPHQubGVuZ3RoP2FbeXQudHJpbSh0WzBdKV09eXQudHJpbSh0WzFdKTphW3l0LnRyaW0odFswXSldPXl0LnRyaW0odFswXSl9KTphPWksYSk6InN0cmluZyI9PT1yP3VoKHEsZSx0KS5nZXRPcihuKToibnVtYmVyIj09PXI/dWgoRCxlLHQpLmdldE9yKG4pOiJib29sZWFuIj09PXI/dWgoVCxlLHQpLmdldE9yKG4pOiJvYmplY3QiPT09cj91aChFLGUsdCkuZ2V0T3Iobik6ImFycmF5Ij09PXI/dWgoayxlLHQpLmdldE9yKG4pOiJzdHJpbmdbXSI9PT1yP3VoKChvPXEsZnVuY3Rpb24oZSl7cmV0dXJuIGsoZSkmJkcoZSxvKX0pLGUsdCkuZ2V0T3Iobik6ImZ1bmN0aW9uIj09PXI/dWgoQSxlLHQpLmdldE9yKG4pOnV9LGNoPShEcD17fSx7YWRkOmZ1bmN0aW9uKGUsdCl7RHBbZV09dH0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBEcFtlXT9EcFtlXTp7aWNvbnM6e319fSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIG1lKERwLGUpfX0pLGxoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZG9tKClbZV19LGZoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHBhcnNlSW50KEZuKHQsZSksMTApfSxkaD1OKGxoLCJjbGllbnRXaWR0aCIpLG1oPU4obGgsImNsaWVudEhlaWdodCIpLHBoPU4oZmgsIm1hcmdpbi10b3AiKSxnaD1OKGZoLCJtYXJnaW4tbGVmdCIpLGhoPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYyxsLGYsZCxtLHA9Q3QuZnJvbURvbShlLmdldEJvZHkoKSksZz1lLmlubGluZT9wOihyPXAsQ3QuZnJvbURvbShyLmRvbSgpLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSksaD0obz1lLmlubGluZSxhPXQsdT1uLHM9KGk9ZykuZG9tKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkse3g6YS0obz9zLmxlZnQraS5kb20oKS5jbGllbnRMZWZ0K2doKGkpOjApLHk6dS0obz9zLnRvcCtpLmRvbSgpLmNsaWVudFRvcCtwaChpKTowKX0pO3JldHVybiBsPWgueCxmPWgueSxkPWRoKGM9ZyksbT1taChjKSwwPD1sJiYwPD1mJiZsPD1kJiZmPD1tfSx2aD1mdW5jdGlvbihlKXt2YXIgdCxuPWUuaW5saW5lP2UuZ2V0Qm9keSgpOmUuZ2V0Q29udGVudEFyZWFDb250YWluZXIoKTtyZXR1cm4gdD1uLEIuZnJvbSh0KS5tYXAoQ3QuZnJvbURvbSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBCdChQdChlKSxlKX0pLmdldE9yKCExKX07ZnVuY3Rpb24geWgobil7dmFyIHQsbz1bXSxpPWZ1bmN0aW9uKCl7dmFyIGU9bi50aGVtZTtyZXR1cm4gZSYmZS5nZXROb3RpZmljYXRpb25NYW5hZ2VySW1wbD9lLmdldE5vdGlmaWNhdGlvbk1hbmFnZXJJbXBsKCk6ZnVuY3Rpb24gdCgpe3ZhciBlPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJUaGVtZSBkaWQgbm90IHByb3ZpZGUgYSBOb3RpZmljYXRpb25NYW5hZ2VyIGltcGxlbWVudGF0aW9uLiIpfTtyZXR1cm57b3BlbjplLGNsb3NlOmUscmVwb3NpdGlvbjplLGdldEFyZ3M6ZX19KCl9LGE9ZnVuY3Rpb24oKXswPG8ubGVuZ3RoJiZpKCkucmVwb3NpdGlvbihvKX0sdT1mdW5jdGlvbih0KXtYKG8sZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSkuZWFjaChmdW5jdGlvbihlKXtvLnNwbGljZShlLDEpfSl9LHI9ZnVuY3Rpb24ocil7aWYoIW4ucmVtb3ZlZCYmdmgobikpcmV0dXJuIEsobyxmdW5jdGlvbihlKXtyZXR1cm4gdD1pKCkuZ2V0QXJncyhlKSxuPXIsISh0LnR5cGUhPT1uLnR5cGV8fHQudGV4dCE9PW4udGV4dHx8dC5wcm9ncmVzc0Jhcnx8dC50aW1lb3V0fHxuLnByb2dyZXNzQmFyfHxuLnRpbWVvdXQpO3ZhciB0LG59KS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7bi5lZGl0b3JNYW5hZ2VyLnNldEFjdGl2ZShuKTt2YXIgZSx0PWkoKS5vcGVuKHIsZnVuY3Rpb24oKXt1KHQpLGEoKX0pO3JldHVybiBlPXQsby5wdXNoKGUpLGEoKSx0fSl9O3JldHVybih0PW4pLm9uKCJTa2luTG9hZGVkIixmdW5jdGlvbigpe3ZhciBlPXQuZ2V0UGFyYW0oInNlcnZpY2VfbWVzc2FnZSIpO2UmJnIoe3RleHQ6ZSx0eXBlOiJ3YXJuaW5nIix0aW1lb3V0OjB9KX0pLHQub24oIlJlc2l6ZUVkaXRvciBSZXNpemVXaW5kb3cgTm9kZUNoYW5nZSIsZnVuY3Rpb24oKXtmYS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYSl9KSx0Lm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7eihvLnNsaWNlKCksZnVuY3Rpb24oZSl7aSgpLmNsb3NlKGUpfSl9KSx7b3BlbjpyLGNsb3NlOmZ1bmN0aW9uKCl7Qi5mcm9tKG9bMF0pLmVhY2goZnVuY3Rpb24oZSl7aSgpLmNsb3NlKGUpLHUoZSksYSgpfSl9LGdldE5vdGlmaWNhdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gb319fXZhciBiaD1GYS5QbHVnaW5NYW5hZ2VyLENoPUZhLlRoZW1lTWFuYWdlcjt2YXIgd2g9ZnVuY3Rpb24obil7dmFyIHI9W10sbz1mdW5jdGlvbigpe3ZhciBlPW4udGhlbWU7cmV0dXJuIGUmJmUuZ2V0V2luZG93TWFuYWdlckltcGw/ZS5nZXRXaW5kb3dNYW5hZ2VySW1wbCgpOmZ1bmN0aW9uIHQoKXt2YXIgZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiVGhlbWUgZGlkIG5vdCBwcm92aWRlIGEgV2luZG93TWFuYWdlciBpbXBsZW1lbnRhdGlvbi4iKX07cmV0dXJue29wZW46ZSxvcGVuVXJsOmUsYWxlcnQ6ZSxjb25maXJtOmUsY2xvc2U6ZSxnZXRQYXJhbXM6ZSxzZXRQYXJhbXM6ZX19KCl9LGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdD90LmFwcGx5KGUsYXJndW1lbnRzKTp1bmRlZmluZWR9fSxhPWZ1bmN0aW9uKGUpe3ZhciB0O3IucHVzaChlKSx0PWUsbi5maXJlKCJPcGVuV2luZG93Iix7ZGlhbG9nOnR9KX0sdT1mdW5jdGlvbih0KXt2YXIgZTtlPXQsbi5maXJlKCJDbG9zZVdpbmRvdyIse2RpYWxvZzplfSksMD09PShyPUgocixmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXR9KSkubGVuZ3RoJiZuLmZvY3VzKCl9LHM9ZnVuY3Rpb24oZSl7bi5lZGl0b3JNYW5hZ2VyLnNldEFjdGl2ZShuKSxMbShuKTt2YXIgdD1lKCk7cmV0dXJuIGEodCksdH07cmV0dXJuIG4ub24oInJlbW92ZSIsZnVuY3Rpb24oKXt6KHIsZnVuY3Rpb24oZSl7bygpLmNsb3NlKGUpfSl9KSx7b3BlbjpmdW5jdGlvbihlLHQpe3JldHVybiBzKGZ1bmN0aW9uKCl7cmV0dXJuIG8oKS5vcGVuKGUsdCx1KX0pfSxvcGVuVXJsOmZ1bmN0aW9uKGUpe3JldHVybiBzKGZ1bmN0aW9uKCl7cmV0dXJuIG8oKS5vcGVuVXJsKGUsdSl9KX0sYWxlcnQ6ZnVuY3Rpb24oZSx0LG4pe28oKS5hbGVydChlLGkobnx8dGhpcyx0KSl9LGNvbmZpcm06ZnVuY3Rpb24oZSx0LG4pe28oKS5jb25maXJtKGUsaShufHx0aGlzLHQpKX0sY2xvc2U6ZnVuY3Rpb24oKXtCLmZyb20ocltyLmxlbmd0aC0xXSkuZWFjaChmdW5jdGlvbihlKXtvKCkuY2xvc2UoZSksdShlKX0pfX19LHhoPWZ1bmN0aW9uKGUsdCl7ZS5ub3RpZmljYXRpb25NYW5hZ2VyLm9wZW4oe3R5cGU6ImVycm9yIix0ZXh0OnR9KX0sU2g9ZnVuY3Rpb24oZSx0KXtlLl9za2luTG9hZGVkP3hoKGUsdCk6ZS5vbigiU2tpbkxvYWRlZCIsZnVuY3Rpb24oKXt4aChlLHQpfSl9LE5oPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvO3I9dCxvPXttZXNzYWdlOm59LGUuZmlyZShyLG8pLFYuY29uc29sZS5lcnJvcihuKX0sRWg9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuPyJGYWlsZWQgdG8gbG9hZCAiK2UrIjogIituKyIgZnJvbSB1cmwgIit0OiJGYWlsZWQgdG8gbG9hZCAiK2UrIiB1cmw6ICIrdH0sa2g9ZnVuY3Rpb24oZSx0LG4pe05oKGUsIlBsdWdpbkxvYWRFcnJvciIsRWgoInBsdWdpbiIsdCxuKSl9LF9oPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3ZhciByPVYud2luZG93LmNvbnNvbGU7ciYmKHIuZXJyb3I/ci5lcnJvci5hcHBseShyLFNlKFtlXSx0KSk6ci5sb2cuYXBwbHkocixTZShbZV0sdCkpKX0sVGg9ZnVuY3Rpb24odCl7dmFyIGUsbixyPShuPShlPXQpLmdldFBhcmFtKCJjb250ZW50X2NzcyIpLHEobik/VShuLnNwbGl0KCIsIiksS2UpOmsobik/bjohMT09PW58fGUuaW5saW5lP1tdOlsiZGVmYXVsdCJdKSxvPXQuZWRpdG9yTWFuYWdlci5iYXNlVVJMKyIvc2tpbnMvY29udGVudCIsaT0iY29udGVudCIrdC5lZGl0b3JNYW5hZ2VyLnN1ZmZpeCsiLmNzcyIsYT0hMD09PXQuaW5saW5lO3JldHVybiBVKHIsZnVuY3Rpb24oZSl7cmV0dXJuL15bYS16MC05XC1dKyQvaS50ZXN0KGUpJiYhYT9vKyIvIitlKyIvIitpOnQuZG9jdW1lbnRCYXNlVVJJLnRvQWJzb2x1dGUoZSl9KX07dmFyIFJoPWZ1bmN0aW9uIE1FKHIsbyl7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIHQ9byhlKTtpZih0PD0wfHxudWxsPT09dCl7dmFyIG49Rm4oZSxyKTtyZXR1cm4gcGFyc2VGbG9hdChuKXx8MH1yZXR1cm4gdH0saT1mdW5jdGlvbihvLGUpe3JldHVybiBXKGUsZnVuY3Rpb24oZSx0KXt2YXIgbj1GbihvLHQpLHI9bj09PXVuZGVmaW5lZD8wOnBhcnNlSW50KG4sMTApO3JldHVybiBpc05hTihyKT9lOmUrcn0sMCl9O3JldHVybntzZXQ6ZnVuY3Rpb24oZSx0KXtpZighRCh0KSYmIXQubWF0Y2goL15bMC05XSskLykpdGhyb3cgbmV3IEVycm9yKHIrIi5zZXQgYWNjZXB0cyBvbmx5IHBvc2l0aXZlIGludGVnZXIgdmFsdWVzLiBWYWx1ZSB3YXMgIit0KTt2YXIgbj1lLmRvbSgpO09uKG4pJiYobi5zdHlsZVtyXT10KyJweCIpfSxnZXQ6ZSxnZXRPdXRlcjplLGFnZ3JlZ2F0ZTppLG1heDpmdW5jdGlvbihlLHQsbil7dmFyIHI9aShlLG4pO3JldHVybiByPHQ/dC1yOjB9fX0oImhlaWdodCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb20oKTtyZXR1cm4gb24oZSk/dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ6dC5vZmZzZXRIZWlnaHR9KSxBaD1mdW5jdGlvbihyLGUpe3JldHVybiByLnZpZXcoZSkuZm9sZCh4KFtdKSxmdW5jdGlvbihlKXt2YXIgdD1yLm93bmVyKGUpLG49QWgocix0KTtyZXR1cm5bZV0uY29uY2F0KG4pfSl9LERoPS8qICovT2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsdmlldzpmdW5jdGlvbihlKXtyZXR1cm4oZS5kb20oKT09PVYuZG9jdW1lbnQ/Qi5ub25lKCk6Qi5mcm9tKGUuZG9tKCkuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50KSkubWFwKEN0LmZyb21Eb20pfSxvd25lcjpmdW5jdGlvbihlKXtyZXR1cm4gUHQoZSl9fSksT2g9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89Q3QuZnJvbURvbShWLmRvY3VtZW50KSxpPWxuKG8pLGE9KHQ9ZSxyPShuPURoKS5vd25lcih0KSxBaChuLHIpKSx1PWNuKGUpLHM9JChhLGZ1bmN0aW9uKGUsdCl7dmFyIG49Y24odCk7cmV0dXJue2xlZnQ6ZS5sZWZ0K24ubGVmdCgpLHRvcDplLnRvcCtuLnRvcCgpfX0se2xlZnQ6MCx0b3A6MH0pO3JldHVybiB1bihzLmxlZnQrdS5sZWZ0KCkraS5sZWZ0KCkscy50b3ArdS50b3AoKStpLnRvcCgpKX0sQmg9ZnVuY3Rpb24oZSl7cmV0dXJuInRleHRhcmVhIj09PXd0KGUpfSxQaD1mdW5jdGlvbihlLHQpe3ZhciBuLHI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb20oKS5vd25lckRvY3VtZW50LG49dC5ib2R5LHI9dC5kZWZhdWx0VmlldyxvPXQuZG9jdW1lbnRFbGVtZW50O2lmKG49PT1lLmRvbSgpKXJldHVybiB1bihuLm9mZnNldExlZnQsbi5vZmZzZXRUb3ApO3ZhciBpPXNuKHIucGFnZVlPZmZzZXQsby5zY3JvbGxUb3ApLGE9c24oci5wYWdlWE9mZnNldCxvLnNjcm9sbExlZnQpLHU9c24oby5jbGllbnRUb3Asbi5jbGllbnRUb3ApLHM9c24oby5jbGllbnRMZWZ0LG4uY2xpZW50TGVmdCk7cmV0dXJuIGNuKGUpLnRyYW5zbGF0ZShhLXMsaS11KX0oZSksbz0obj1lLFJoLmdldChuKSk7cmV0dXJue2VsZW1lbnQ6ZSxib3R0b206ci50b3AoKStvLGhlaWdodDpvLHBvczpyLGNsZWFudXA6dH19LExoPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgbj1IdChlKTtpZigwPT09bi5sZW5ndGh8fEJoKGUpKXJldHVybntlbGVtZW50OmUsb2Zmc2V0OnR9O2lmKHQ8bi5sZW5ndGgmJiFCaChuW3RdKSlyZXR1cm57ZWxlbWVudDpuW3RdLG9mZnNldDowfTt2YXIgcj1uW24ubGVuZ3RoLTFdO3JldHVybiBCaChyKT97ZWxlbWVudDplLG9mZnNldDp0fToiaW1nIj09PXd0KHIpP3tlbGVtZW50OnIsb2Zmc2V0OjF9OkV0KHIpP3tlbGVtZW50OnIsb2Zmc2V0OnZmKHIpLmxlbmd0aH06e2VsZW1lbnQ6cixvZmZzZXQ6SHQocikubGVuZ3RofX0oZSx0KSxyPUN0LmZyb21IdG1sKCc8c3BhbiBkYXRhLW1jZS1ib2d1cz0iYWxsIj5cdWZlZmY8L3NwYW4+Jyk7cmV0dXJuIEd0KG4uZWxlbWVudCxyKSxQaChyLGZ1bmN0aW9uKCl7cmV0dXJuIG5uKHIpfSl9LEloPWZ1bmN0aW9uKG4scixvLGkpe3poKG4sZnVuY3Rpb24oZSx0KXtyZXR1cm4gRmgobixyLG8saSl9LG8pfSxNaD1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdT17ZWxtOnIuZWxlbWVudC5kb20oKSxhbGlnblRvVG9wOm99O2k9dSxlLmZpcmUoIlNjcm9sbEludG9WaWV3IixpKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KG4odCxsbih0KS50b3AoKSxyLG8pLGE9dSxlLmZpcmUoIkFmdGVyU2Nyb2xsSW50b1ZpZXciLGEpKX0sRmg9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89Q3QuZnJvbURvbShlLmdldEJvZHkoKSksaT1DdC5mcm9tRG9tKGUuZ2V0RG9jKCkpO28uZG9tKCkub2Zmc2V0V2lkdGg7dmFyIGE9TGgoQ3QuZnJvbURvbShuLnN0YXJ0Q29udGFpbmVyKSxuLnN0YXJ0T2Zmc2V0KTtNaChlLGksdCxhLHIpLGEuY2xlYW51cCgpfSxVaD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpPUN0LmZyb21Eb20oZS5nZXREb2MoKSk7TWgoZSxpLG4sKG89dCxQaChDdC5mcm9tRG9tKG8pLGYpKSxyKX0semg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4uc3RhcnRDb250YWluZXIsbz1uLnN0YXJ0T2Zmc2V0LGk9bi5lbmRDb250YWluZXIsYT1uLmVuZE9mZnNldDt0KEN0LmZyb21Eb20ociksQ3QuZnJvbURvbShpKSk7dmFyIHU9ZS5kb20uY3JlYXRlUm5nKCk7dS5zZXRTdGFydChyLG8pLHUuc2V0RW5kKGksYSksZS5zZWxlY3Rpb24uc2V0Um5nKG4pfSxqaD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lLnBvcztpZihuKWZuKG8ubGVmdCgpLG8udG9wKCkscik7ZWxzZXt2YXIgaT1vLnRvcCgpLXQrZS5oZWlnaHQ7Zm4oby5sZWZ0KCksaSxyKX19LEhoPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGk9bit0LGE9ci5wb3MudG9wKCksdT1yLmJvdHRvbSxzPW48PXUtYTtpZihhPHQpamgocixuLCExIT09byxlKTtlbHNlIGlmKGk8YSl7amgocixuLHM/ITEhPT1vOiEwPT09byxlKX1lbHNlIGk8dSYmIXMmJmpoKHIsbiwhMD09PW8sZSl9LFZoPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWUuZG9tKCkuZGVmYXVsdFZpZXcuaW5uZXJIZWlnaHQ7SGgoZSx0LG8sbixyKX0scWg9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89ZS5kb20oKS5kZWZhdWx0Vmlldy5pbm5lckhlaWdodDtIaChlLHQsbyxuLHIpO3ZhciBpPU9oKG4uZWxlbWVudCksYT1wbihWLndpbmRvdyk7aS50b3AoKTxhLnk/ZG4obi5lbGVtZW50LCExIT09cik6aS50b3AoKT5hLmJvdHRvbSYmZG4obi5lbGVtZW50LCEwPT09cil9LCRoPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gSWgoZSxWaCx0LG4pfSxXaD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFVoKGUsdCxWaCxuKX0sS2g9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBJaChlLHFoLHQsbil9LFhoPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVWgoZSx0LHFoLG4pfSxZaD1mdW5jdGlvbihlLHQsbil7KGUuaW5saW5lPyRoOktoKShlLHQsbil9LEdoPWZ1bmN0aW9uKGUpe3JldHVybiBBbihlKXx8RG4oZSl9LEpoPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHM9bjtpZihzLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQpKG89cy5jYXJldFBvc2l0aW9uRnJvbVBvaW50KGUsdCkpJiYoKHI9bi5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydChvLm9mZnNldE5vZGUsby5vZmZzZXQpLHIuY29sbGFwc2UoITApKTtlbHNlIGlmKG4uY2FyZXRSYW5nZUZyb21Qb2ludClyPW4uY2FyZXRSYW5nZUZyb21Qb2ludChlLHQpO2Vsc2UgaWYocy5ib2R5LmNyZWF0ZVRleHRSYW5nZSl7cj1zLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e3IubW92ZVRvUG9pbnQoZSx0KSxyLmNvbGxhcHNlKCEwKX1jYXRjaChjKXtyPWZ1bmN0aW9uKGUsbix0KXt2YXIgcixvPXQuZWxlbWVudEZyb21Qb2ludChlLG4pLGk9dC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO2lmKG8mJiJIVE1MIiE9PW8udGFnTmFtZXx8KG89dC5ib2R5KSxpLm1vdmVUb0VsZW1lbnRUZXh0KG8pLDA8KHI9KHI9eXQudG9BcnJheShpLmdldENsaWVudFJlY3RzKCkpKS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuKGU9TWF0aC5hYnMoTWF0aC5tYXgoZS50b3AtbixlLmJvdHRvbS1uKSkpLSh0PU1hdGguYWJzKE1hdGgubWF4KHQudG9wLW4sdC5ib3R0b20tbikpKX0pKS5sZW5ndGgpe249KHJbMF0uYm90dG9tK3JbMF0udG9wKS8yO3RyeXtyZXR1cm4gaS5tb3ZlVG9Qb2ludChlLG4pLGkuY29sbGFwc2UoITApLGl9Y2F0Y2goYSl7fX1yZXR1cm4gbnVsbH0oZSx0LG4pfXJldHVybiBpPXIsYT1uLmJvZHksdT1pJiZpLnBhcmVudEVsZW1lbnQ/aS5wYXJlbnRFbGVtZW50KCk6bnVsbCxEbihmdW5jdGlvbihlLHQsbil7Zm9yKDtlJiZlIT09dDspe2lmKG4oZSkpcmV0dXJuIGU7ZT1lLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9KHUsYSxHaCkpP251bGw6aX1yZXR1cm4gcn0sUWg9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1uP3Quc3RhcnRDb250YWluZXI6dC5lbmRDb250YWluZXIsYT1uP3Quc3RhcnRPZmZzZXQ6dC5lbmRPZmZzZXQ7cmV0dXJuIEIuZnJvbShpKS5tYXAoQ3QuZnJvbURvbSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiByJiZ0LmNvbGxhcHNlZD9lOlZ0KGUsbyhlLGEpKS5nZXRPcihlKX0pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIE50KGUpP0Iuc29tZShlKTpNdChlKS5maWx0ZXIoTnQpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpfSkuZ2V0T3IoZSl9LFpoPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUWgoZSx0LCEwLG4sZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5taW4oZS5kb20oKS5jaGlsZE5vZGVzLmxlbmd0aCx0KX0pfSxldj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFFoKGUsdCwhMSxuLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA8dD90LTE6dH0pfSx0dj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lO2UmJkVuKGUpJiYwPT09ZS5sZW5ndGg7KWU9dD9lLm5leHRTaWJsaW5nOmUucHJldmlvdXNTaWJsaW5nO3JldHVybiBlfHxufSxudj1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgbixyLG89dC5mb3JtYXQ/dC5mb3JtYXQ6Imh0bWwiO3JldHVybiBuPW8scj10LFVnKGUpLnNlbGVjdGlvbi5nZXRDb250ZW50KG4scil9LHJ2PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnQmJmUuc3RhcnRDb250YWluZXI9PT10LnN0YXJ0Q29udGFpbmVyJiZlLnN0YXJ0T2Zmc2V0PT09dC5zdGFydE9mZnNldCYmZS5lbmRDb250YWluZXI9PT10LmVuZENvbnRhaW5lciYmZS5lbmRPZmZzZXQ9PT10LmVuZE9mZnNldH0sb3Y9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBudWxsIT09ZnVuY3Rpb24oZSx0LG4pe2Zvcig7ZSYmZSE9PXQ7KXtpZihuKGUpKXJldHVybiBlO2U9ZS5wYXJlbnROb2RlfXJldHVybiBudWxsfShlLHQsbil9LGl2PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gb3YoZSx0LGZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVOYW1lPT09bn0pfSxhdj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmIlRBQkxFIj09PWUubm9kZU5hbWV9LHV2PWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bmV3IEFpKHQsZS5nZXRQYXJlbnQodC5wYXJlbnROb2RlLGUuaXNCbG9jayl8fGUuZ2V0Um9vdCgpKTt0PXJbbj8icHJldiI6Im5leHQiXSgpOylpZihSbih0KSlyZXR1cm4hMH0sc3Y9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHU9ZS5nZXRSb290KCkscz1lLnNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCksYz1lLmdldFBhcmVudChvLnBhcmVudE5vZGUsZS5pc0Jsb2NrKXx8dTtpZihyJiZSbihvKSYmdCYmZS5pc0VtcHR5KGMpKXJldHVybiBCLnNvbWUoQ3Moby5wYXJlbnROb2RlLGUubm9kZUluZGV4KG8pKSk7Zm9yKHZhciBsLGYsZD1uZXcgQWkobyxjKTthPWRbcj8icHJldiI6Im5leHQiXSgpOyl7aWYoImZhbHNlIj09PWUuZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50KGEpfHwoZj11LEV1KGw9YSkmJiExPT09b3YobCxmLGdsKSkpcmV0dXJuIEIubm9uZSgpO2lmKEVuKGEpJiYwPGEubm9kZVZhbHVlLmxlbmd0aClyZXR1cm4hMT09PWl2KGEsdSwiQSIpP0Iuc29tZShDcyhhLHI/YS5ub2RlVmFsdWUubGVuZ3RoOjApKTpCLm5vbmUoKTtpZihlLmlzQmxvY2soYSl8fHNbYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSlyZXR1cm4gQi5ub25lKCk7aT1hfXJldHVybiBuJiZpP0Iuc29tZShDcyhpLDApKTpCLm5vbmUoKX0sY3Y9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscz1lLmdldFJvb3QoKSxjPSExO289clsobj8ic3RhcnQiOiJlbmQiKSsiQ29udGFpbmVyIl0saT1yWyhuPyJzdGFydCI6ImVuZCIpKyJPZmZzZXQiXTt2YXIgbCxmLGQsbT12bihvKSYmaT09PW8uY2hpbGROb2Rlcy5sZW5ndGgscD1lLnNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCk7aWYodT1uLEV1KG8pKXJldHVybiBCLm5vbmUoKTtpZih2bihvKSYmaT5vLmNoaWxkTm9kZXMubGVuZ3RoLTEmJih1PSExKSxfbihvKSYmKG89cyxpPTApLG89PT1zKXtpZih1JiYoYT1vLmNoaWxkTm9kZXNbMDxpP2ktMTowXSkpe2lmKEV1KGEpKXJldHVybiBCLm5vbmUoKTtpZihwW2Eubm9kZU5hbWVdfHxhdihhKSlyZXR1cm4gQi5ub25lKCl9aWYoby5oYXNDaGlsZE5vZGVzKCkpe2lmKGk9TWF0aC5taW4oIXUmJjA8aT9pLTE6aSxvLmNoaWxkTm9kZXMubGVuZ3RoLTEpLG89by5jaGlsZE5vZGVzW2ldLGk9RW4obykmJm0/by5kYXRhLmxlbmd0aDowLCF0JiZvPT09cy5sYXN0Q2hpbGQmJmF2KG8pKXJldHVybiBCLm5vbmUoKTtpZihmdW5jdGlvbihlLHQpe2Zvcig7dCYmdCE9PWU7KXtpZihEbih0KSlyZXR1cm4hMDt0PXQucGFyZW50Tm9kZX1yZXR1cm4hMX0ocyxvKXx8RXUobykpcmV0dXJuIEIubm9uZSgpO2lmKG8uaGFzQ2hpbGROb2RlcygpJiYhMT09PWF2KG8pKXt2YXIgZz1uZXcgQWkoYT1vLHMpO2Rve2lmKERuKGEpfHxFdShhKSl7Yz0hMTticmVha31pZihFbihhKSYmMDxhLm5vZGVWYWx1ZS5sZW5ndGgpe2k9dT8wOmEubm9kZVZhbHVlLmxlbmd0aCxvPWEsYz0hMDticmVha31pZihwW2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0mJighKGw9YSl8fCEvXihURHxUSHxDQVBUSU9OKSQvLnRlc3QobC5ub2RlTmFtZSkpKXtpPWUubm9kZUluZGV4KGEpLG89YS5wYXJlbnROb2RlLHV8fGkrKyxjPSEwO2JyZWFrfX13aGlsZShhPXU/Zy5uZXh0KCk6Zy5wcmV2KCkpfX19cmV0dXJuIHQmJihFbihvKSYmMD09PWkmJnN2KGUsbSx0LCEwLG8pLmVhY2goZnVuY3Rpb24oZSl7bz1lLmNvbnRhaW5lcigpLGk9ZS5vZmZzZXQoKSxjPSEwfSksdm4obykmJighKGE9KGE9by5jaGlsZE5vZGVzW2ldKXx8by5jaGlsZE5vZGVzW2ktMV0pfHwhUm4oYSl8fChkPSJBIiwoZj1hKS5wcmV2aW91c1NpYmxpbmcmJmYucHJldmlvdXNTaWJsaW5nLm5vZGVOYW1lPT09ZCl8fHV2KGUsYSwhMSl8fHV2KGUsYSwhMCl8fHN2KGUsbSx0LCEwLGEpLmVhY2goZnVuY3Rpb24oZSl7bz1lLmNvbnRhaW5lcigpLGk9ZS5vZmZzZXQoKSxjPSEwfSkpKSx1JiYhdCYmRW4obykmJmk9PT1vLm5vZGVWYWx1ZS5sZW5ndGgmJnN2KGUsbSx0LCExLG8pLmVhY2goZnVuY3Rpb24oZSl7bz1lLmNvbnRhaW5lcigpLGk9ZS5vZmZzZXQoKSxjPSEwfSksYz9CLnNvbWUoQ3MobyxpKSk6Qi5ub25lKCl9LGx2PWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5jb2xsYXBzZWQscj10LmNsb25lUmFuZ2UoKSxvPUNzLmZyb21SYW5nZVN0YXJ0KHQpO3JldHVybiBjdihlLG4sITAscikuZWFjaChmdW5jdGlvbihlKXtuJiZDcy5pc0Fib3ZlKG8sZSl8fHIuc2V0U3RhcnQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKX0pLG58fGN2KGUsbiwhMSxyKS5lYWNoKGZ1bmN0aW9uKGUpe3Iuc2V0RW5kKGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSl9KSxuJiZyLmNvbGxhcHNlKCEwKSxydih0LHIpP0Iubm9uZSgpOkIuc29tZShyKX0sZnY9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLmRvbSgpLmxlbmd0aD8obm4oZSksQi5ub25lKCkpOkIuc29tZShlKX0sZHY9ZnVuY3Rpb24ocixlKXt2YXIgdD1CLmZyb20oZS5maXJzdENoaWxkKS5tYXAoQ3QuZnJvbURvbSksbj1CLmZyb20oZS5sYXN0Q2hpbGQpLm1hcChDdC5mcm9tRG9tKTtyLmRlbGV0ZUNvbnRlbnRzKCksci5pbnNlcnROb2RlKGUpO3ZhciBvPXQuYmluZChGdCkuZmlsdGVyKEV0KS5iaW5kKGZ2KSxpPW4uYmluZChVdCkuZmlsdGVyKEV0KS5iaW5kKGZ2KTtCdShvLHQuZmlsdGVyKEV0KSxmdW5jdGlvbihlLHQpe3ZhciBuLHI7bj10LmRvbSgpLHI9ZS5kb20oKS5kYXRhLG4uaW5zZXJ0RGF0YSgwLHIpLG5uKGUpfSksQnUoaSxuLmZpbHRlcihFdCksZnVuY3Rpb24oZSx0KXt2YXIgbj10LmRvbSgpLmxlbmd0aDt0LmRvbSgpLmFwcGVuZERhdGEoZS5kb20oKS5kYXRhKSxyLnNldEVuZCh0LmRvbSgpLG4pLG5uKGUpfSksci5jb2xsYXBzZSghMSl9LG12PWZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHIsbz0ocj10LHhlKHhlKHtmb3JtYXQ6Imh0bWwifSxuKSx7c2V0OiEwLHNlbGVjdGlvbjohMCxjb250ZW50OnJ9KSk7aWYoby5ub19ldmVudHN8fCEobz1lLmZpcmUoIkJlZm9yZVNldENvbnRlbnQiLG8pKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7bi5jb250ZW50PWZ1bmN0aW9uKGUsdCl7aWYoInJhdyI9PT10LmZvcm1hdClyZXR1cm4gdC5jb250ZW50O3ZhciBuPWUucGFyc2VyLnBhcnNlKHQuY29udGVudCx4ZSh7aXNSb290Q29udGVudDohMCxmb3JjZWRfcm9vdF9ibG9jazohMX0sdCkpO3JldHVybiBPZih7dmFsaWRhdGU6ZS52YWxpZGF0ZX0sZS5zY2hlbWEpLnNlcmlhbGl6ZShuKX0oZSxvKTt2YXIgaT1lLnNlbGVjdGlvbi5nZXRSbmcoKTtkdihpLGkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KG4uY29udGVudCkpLGUuc2VsZWN0aW9uLnNldFJuZyhpKSxZaChlLGkpLG8ubm9fZXZlbnRzfHxlLmZpcmUoIlNldENvbnRlbnQiLG8pfWVsc2UgZS5maXJlKCJTZXRDb250ZW50IixvKX07ZnVuY3Rpb24gcHYoZSl7cmV0dXJue2dldEJvb2ttYXJrOk4oTmwsZSksbW92ZVRvQm9va21hcms6TihFbCxlKX19KHB2PXB2fHx7fSkuaXNCb29rbWFya05vZGU9a2w7dmFyIGd2PXB2LGh2PWZ1bmN0aW9uKHQsbixlKXtpZihlLmNvbGxhcHNlZClyZXR1cm4hMTtpZihtdC5icm93c2VyLmlzSUUoKSYmZS5zdGFydE9mZnNldD09PWUuZW5kT2Zmc2V0LTEmJmUuc3RhcnRDb250YWluZXI9PT1lLmVuZENvbnRhaW5lcil7dmFyIHI9ZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW2Uuc3RhcnRPZmZzZXRdO2lmKHZuKHIpKXJldHVybiBGKHIuZ2V0Q2xpZW50UmVjdHMoKSxmdW5jdGlvbihlKXtyZXR1cm4genUoZSx0LG4pfSl9cmV0dXJuIEYoZS5nZXRDbGllbnRSZWN0cygpLGZ1bmN0aW9uKGUpe3JldHVybiB6dShlLHQsbil9KX0sdnY9e0JBQ0tTUEFDRTo4LERFTEVURTo0NixET1dOOjQwLEVOVEVSOjEzLExFRlQ6MzcsUklHSFQ6MzksU1BBQ0VCQVI6MzIsVEFCOjksVVA6MzgsRU5EOjM1LEhPTUU6MzYsbW9kaWZpZXJQcmVzc2VkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNoaWZ0S2V5fHxlLmN0cmxLZXl8fGUuYWx0S2V5fHx0aGlzLm1ldGFLZXlQcmVzc2VkKGUpfSxtZXRhS2V5UHJlc3NlZDpmdW5jdGlvbihlKXtyZXR1cm4gbXQubWFjP2UubWV0YUtleTplLmN0cmxLZXkmJiFlLmFsdEtleX19LHl2PURuLGJ2PUFuLEN2PWZ1bmN0aW9uKHIscyl7dmFyIGMsbCxmLGQsbSxwLGcsaCx2LHksYixDLHcseCxTPXMuZG9tLE49eXQuZWFjaCxFPXMuZ2V0RG9jKCksaz1WLmRvY3VtZW50LF89TWF0aC5hYnMsVD1NYXRoLnJvdW5kLFI9cy5nZXRCb2R5KCksQT17bnc6WzAsMCwtMSwtMV0sbmU6WzEsMCwxLC0xXSxzZTpbMSwxLDEsMV0sc3c6WzAsMSwtMSwxXX0sRD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmKCJJTUciPT09ZS5ub2RlTmFtZXx8cy5kb20uaXMoZSwiZmlndXJlLmltYWdlIikpfSxuPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0OyFmdW5jdGlvbihlLHQpe2lmKCJsb25ncHJlc3MiIT09ZS50eXBlJiYwIT09ZS50eXBlLmluZGV4T2YoInRvdWNoIikpcmV0dXJuIEQoZS50YXJnZXQpJiYhaHYoZS5jbGllbnRYLGUuY2xpZW50WSx0KTt2YXIgbj1lLnRvdWNoZXNbMF07cmV0dXJuIEQoZS50YXJnZXQpJiYhaHYobi5jbGllbnRYLG4uY2xpZW50WSx0KX0oZSxzLnNlbGVjdGlvbi5nZXRSbmcoKSl8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fHMuc2VsZWN0aW9uLnNlbGVjdCh0KX0sTz1mdW5jdGlvbihlKXtyZXR1cm4gcy5kb20uaXMoZSwiZmlndXJlLmltYWdlIik/ZS5xdWVyeVNlbGVjdG9yKCJpbWciKTplfSxCPWZ1bmN0aW9uKGUpe3ZhciB0PW5jKHMpO3JldHVybiExIT09dCYmIW10LmlPUyYmKCJzdHJpbmciIT10eXBlb2YgdCYmKHQ9InRhYmxlLGltZyxmaWd1cmUuaW1hZ2UsZGl2IiksImZhbHNlIiE9PWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1yZXNpemUiKSYmKGUhPT1zLmdldEJvZHkoKSYmUnQoQ3QuZnJvbURvbShlKSx0KSkpfSxQPWZ1bmN0aW9uKGUsdCxuKXtTLnNldFN0eWxlcyhPKGUpLHt3aWR0aDp0LGhlaWdodDpufSl9LEw9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHU7dD1lLnNjcmVlblgtbSxuPWUuc2NyZWVuWS1wLGI9dCpkWzJdK2csQz1uKmRbM10raCxiPWI8NT81OmIsQz1DPDU/NTpDLChEKGMpJiYhMSE9PXMuZ2V0UGFyYW0oInJlc2l6ZV9pbWdfcHJvcG9ydGlvbmFsIiwhMCwiYm9vbGVhbiIpPyF2di5tb2RpZmllclByZXNzZWQoZSk6dnYubW9kaWZpZXJQcmVzc2VkKGUpKSYmKF8odCk+XyhuKT8oQz1UKGIqdiksYj1UKEMvdikpOihiPVQoQy92KSxDPVQoYip2KSkpLFAobCxiLEMpLHI9MDwocj1kLnN0YXJ0UG9zLngrdCk/cjowLG89MDwobz1kLnN0YXJ0UG9zLnkrbik/bzowLFMuc2V0U3R5bGVzKGYse2xlZnQ6cix0b3A6byxkaXNwbGF5OiJibG9jayJ9KSxmLmlubmVySFRNTD1iKyIgJnRpbWVzOyAiK0MsZFsyXTwwJiZsLmNsaWVudFdpZHRoPD1iJiZTLnNldFN0eWxlKGwsImxlZnQiLHZvaWQgMCsoZy1iKSksZFszXTwwJiZsLmNsaWVudEhlaWdodDw9QyYmUy5zZXRTdHlsZShsLCJ0b3AiLHZvaWQgMCsoaC1DKSksKHQ9Ui5zY3JvbGxXaWR0aC13KSsobj1SLnNjcm9sbEhlaWdodC14KSE9PTAmJlMuc2V0U3R5bGVzKGYse2xlZnQ6ci10LHRvcDpvLW59KSx5fHwoaT1jLGE9Zyx1PWgscy5maXJlKCJPYmplY3RSZXNpemVTdGFydCIse3RhcmdldDppLHdpZHRoOmEsaGVpZ2h0OnV9KSx5PSEwKX0sST1mdW5jdGlvbigpe3ZhciBlPXk7eT0hMTt2YXIgdCxuLHIsbz1mdW5jdGlvbihlLHQpe3QmJihjLnN0eWxlW2VdfHwhcy5zY2hlbWEuaXNWYWxpZChjLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZSk/Uy5zZXRTdHlsZShPKGMpLGUsdCk6Uy5zZXRBdHRyaWIoTyhjKSxlLCIiK3QpKX07ZSYmKG8oIndpZHRoIixiKSxvKCJoZWlnaHQiLEMpKSxTLnVuYmluZChFLCJtb3VzZW1vdmUiLEwpLFMudW5iaW5kKEUsIm1vdXNldXAiLEkpLGshPT1FJiYoUy51bmJpbmQoaywibW91c2Vtb3ZlIixMKSxTLnVuYmluZChrLCJtb3VzZXVwIixJKSksUy5yZW1vdmUobCksUy5yZW1vdmUoZiksaShjKSxlJiYodD1jLG49YixyPUMscy5maXJlKCJPYmplY3RSZXNpemVkIix7dGFyZ2V0OnQsd2lkdGg6bixoZWlnaHQ6cn0pLFMuc2V0QXR0cmliKGMsInN0eWxlIixTLmdldEF0dHJpYihjLCJzdHlsZSIpKSkscy5ub2RlQ2hhbmdlZCgpfSxpPWZ1bmN0aW9uKGUpe00oKSxGKCk7dmFyIHQ9Uy5nZXRQb3MoZSxSKSxyPXQueCxvPXQueSxuPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1uLndpZHRofHxuLnJpZ2h0LW4ubGVmdCxhPW4uaGVpZ2h0fHxuLmJvdHRvbS1uLnRvcDtjIT09ZSYmKGM9ZSxiPUM9MCk7dmFyIHU9cy5maXJlKCJPYmplY3RTZWxlY3RlZCIse3RhcmdldDplfSk7QihlKSYmIXUuaXNEZWZhdWx0UHJldmVudGVkKCk/TihBLGZ1bmN0aW9uKG4sZSl7dmFyIHQ7KHQ9Uy5nZXQoIm1jZVJlc2l6ZUhhbmRsZSIrZSkpJiZTLnJlbW92ZSh0KSx0PVMuYWRkKFIsImRpdiIse2lkOiJtY2VSZXNpemVIYW5kbGUiK2UsImRhdGEtbWNlLWJvZ3VzIjoiYWxsIiwiY2xhc3MiOiJtY2UtcmVzaXplaGFuZGxlIix1bnNlbGVjdGFibGU6ITAsc3R5bGU6ImN1cnNvcjoiK2UrIi1yZXNpemU7IG1hcmdpbjowOyBwYWRkaW5nOjAifSksMTE9PT1tdC5pZSYmKHQuY29udGVudEVkaXRhYmxlPSExKSxTLmJpbmQodCwibW91c2Vkb3duIixmdW5jdGlvbihlKXt2YXIgdDtlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSxtPSh0PWUpLnNjcmVlblgscD10LnNjcmVlblksZz1PKGMpLmNsaWVudFdpZHRoLGg9TyhjKS5jbGllbnRIZWlnaHQsdj1oL2csKGQ9bikuc3RhcnRQb3M9e3g6aSpuWzBdK3IseTphKm5bMV0rb30sdz1SLnNjcm9sbFdpZHRoLHg9Ui5zY3JvbGxIZWlnaHQsbD1jLmNsb25lTm9kZSghMCksUy5hZGRDbGFzcyhsLCJtY2UtY2xvbmVkcmVzaXphYmxlIiksUy5zZXRBdHRyaWIobCwiZGF0YS1tY2UtYm9ndXMiLCJhbGwiKSxsLmNvbnRlbnRFZGl0YWJsZT0hMSxsLnVuU2VsZWN0YWJlPSEwLFMuc2V0U3R5bGVzKGwse2xlZnQ6cix0b3A6byxtYXJnaW46MH0pLFAobCxpLGEpLGwucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpLFIuYXBwZW5kQ2hpbGQobCksUy5iaW5kKEUsIm1vdXNlbW92ZSIsTCksUy5iaW5kKEUsIm1vdXNldXAiLEkpLGshPT1FJiYoUy5iaW5kKGssIm1vdXNlbW92ZSIsTCksUy5iaW5kKGssIm1vdXNldXAiLEkpKSxmPVMuYWRkKFIsImRpdiIseyJjbGFzcyI6Im1jZS1yZXNpemUtaGVscGVyIiwiZGF0YS1tY2UtYm9ndXMiOiJhbGwifSxnKyIgJnRpbWVzOyAiK2gpfSksbi5lbG09dCxTLnNldFN0eWxlcyh0LHtsZWZ0OmkqblswXStyLXQub2Zmc2V0V2lkdGgvMix0b3A6YSpuWzFdK28tdC5vZmZzZXRIZWlnaHQvMn0pfSk6TSgpLGMuc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIsIjEiKX0sTT1mdW5jdGlvbigpe0YoKSxjJiZjLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc2VsZWN0ZWQiKSxvZShBLGZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5nZXQoIm1jZVJlc2l6ZUhhbmRsZSIrdCk7biYmKFMudW5iaW5kKG4pLFMucmVtb3ZlKG4pKX0pfSxvPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZnVuY3Rpb24oZSx0KXtpZihlKWRve2lmKGU9PT10KXJldHVybiEwfXdoaWxlKGU9ZS5wYXJlbnROb2RlKX07eXx8cy5yZW1vdmVkfHwoTihTLnNlbGVjdCgiaW1nW2RhdGEtbWNlLXNlbGVjdGVkXSxocltkYXRhLW1jZS1zZWxlY3RlZF0iKSxmdW5jdGlvbihlKXtlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc2VsZWN0ZWQiKX0pLHQ9Im1vdXNlZG93biI9PT1lLnR5cGU/ZS50YXJnZXQ6ci5nZXROb2RlKCksbih0PVMuJCh0KS5jbG9zZXN0KCJ0YWJsZSxpbWcsZmlndXJlLmltYWdlLGhyIilbMF0sUikmJih1KCksbihyLmdldFN0YXJ0KCEwKSx0KSYmbihyLmdldEVuZCghMCksdCkpP2kodCk6TSgpKX0sYT1mdW5jdGlvbihlKXtyZXR1cm4geXYoZnVuY3Rpb24oZSx0KXtmb3IoO3QmJnQhPT1lOyl7aWYoYnYodCl8fHl2KHQpKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfXJldHVybiBudWxsfShzLmdldEJvZHkoKSxlKSl9LEY9ZnVuY3Rpb24oKXtvZShBLGZ1bmN0aW9uKGUpe2UuZWxtJiYoUy51bmJpbmQoZS5lbG0pLGRlbGV0ZSBlLmVsbSl9KX0sdT1mdW5jdGlvbigpe3RyeXtzLmdldERvYygpLmV4ZWNDb21tYW5kKCJlbmFibGVPYmplY3RSZXNpemluZyIsITEsITEpfWNhdGNoKGUpe319O3Mub24oImluaXQiLGZ1bmN0aW9uKCl7aWYodSgpLG10LmJyb3dzZXIuaXNJRSgpfHxtdC5icm93c2VyLmlzRWRnZSgpKXtzLm9uKCJtb3VzZWRvd24gY2xpY2siLGZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LG49dC5ub2RlTmFtZTt5fHwhL14oVEFCTEV8SU1HfEhSKSQvLnRlc3Qobil8fGEodCl8fCgyIT09ZS5idXR0b24mJnMuc2VsZWN0aW9uLnNlbGVjdCh0LCJUQUJMRSI9PT1uKSwibW91c2Vkb3duIj09PWUudHlwZSYmcy5ub2RlQ2hhbmdlZCgpKX0pO3ZhciBlPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2ZhLnNldEVkaXRvclRpbWVvdXQocyxmdW5jdGlvbigpe3JldHVybiBzLnNlbGVjdGlvbi5zZWxlY3QoZSl9KX07aWYoYShlLnRhcmdldCkpcmV0dXJuIGUucHJldmVudERlZmF1bHQoKSx2b2lkIHQoZS50YXJnZXQpOy9eKFRBQkxFfElNR3xIUikkLy50ZXN0KGUudGFyZ2V0Lm5vZGVOYW1lKSYmKGUucHJldmVudERlZmF1bHQoKSwiSU1HIj09PWUudGFyZ2V0LnRhZ05hbWUmJnQoZS50YXJnZXQpKX07Uy5iaW5kKFIsIm1zY29udHJvbHNlbGVjdCIsZSkscy5vbigicmVtb3ZlIixmdW5jdGlvbigpe3JldHVybiBTLnVuYmluZChSLCJtc2NvbnRyb2xzZWxlY3QiLGUpfSl9dmFyIHQ9ZmEudGhyb3R0bGUoZnVuY3Rpb24oZSl7cy5jb21wb3Npbmd8fG8oZSl9KTtzLm9uKCJub2RlY2hhbmdlIFJlc2l6ZUVkaXRvciBSZXNpemVXaW5kb3cgUmVzaXplQ29udGVudCBkcm9wIEZ1bGxzY3JlZW5TdGF0ZUNoYW5nZWQiLHQpLHMub24oImtleXVwIGNvbXBvc2l0aW9uZW5kIixmdW5jdGlvbihlKXtjJiYiVEFCTEUiPT09Yy5ub2RlTmFtZSYmdChlKX0pLHMub24oImhpZGUgYmx1ciIsTSkscy5vbigiY29udGV4dG1lbnUgbG9uZ3ByZXNzIixuLCEwKX0pLHMub24oInJlbW92ZSIsRik7cmV0dXJue2lzUmVzaXphYmxlOkIsc2hvd1Jlc2l6ZVJlY3Q6aSxoaWRlUmVzaXplUmVjdDpNLHVwZGF0ZVJlc2l6ZVJlY3Q6byxkZXN0cm95OmZ1bmN0aW9uKCl7Yz1sPW51bGx9fX0sd3Y9ZnVuY3Rpb24oZSx0LG4pe2lmKGUmJmUuaGFzT3duUHJvcGVydHkodCkpe3ZhciByPUgoZVt0XSxmdW5jdGlvbihlKXtyZXR1cm4gZSE9PW59KTswPT09ci5sZW5ndGg/ZGVsZXRlIGVbdF06ZVt0XT1yfX07dmFyIHh2PWZ1bmN0aW9uKGUpe3JldHVybiEhZS5zZWxlY3R9LFN2PWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLm93bmVyRG9jdW1lbnQpJiZCdChDdC5mcm9tRG9tKGUub3duZXJEb2N1bWVudCksQ3QuZnJvbURvbShlKSl9LE52PWZ1bmN0aW9uKHUscyxlLGMpe3ZhciBsLGYsbj1mdW5jdGlvbiBoKGksbil7dmFyIGEsdTtyZXR1cm57c2VsZWN0b3JDaGFuZ2VkV2l0aFVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiBhfHwoYT17fSx1PXt9LG4ub24oIk5vZGVDaGFuZ2UiLGZ1bmN0aW9uKGUpe3ZhciBuPWUuZWxlbWVudCxyPWkuZ2V0UGFyZW50cyhuLG51bGwsaS5nZXRSb290KCkpLG89e307eXQuZWFjaChhLGZ1bmN0aW9uKGUsbil7eXQuZWFjaChyLGZ1bmN0aW9uKHQpe2lmKGkuaXModCxuKSlyZXR1cm4gdVtuXXx8KHl0LmVhY2goZSxmdW5jdGlvbihlKXtlKCEwLHtub2RlOnQsc2VsZWN0b3I6bixwYXJlbnRzOnJ9KX0pLHVbbl09ZSksb1tuXT1lLCExfSl9KSx5dC5lYWNoKHUsZnVuY3Rpb24oZSx0KXtvW3RdfHwoZGVsZXRlIHVbdF0seXQuZWFjaChlLGZ1bmN0aW9uKGUpe2UoITEse25vZGU6bixzZWxlY3Rvcjp0LHBhcmVudHM6cn0pfSkpfSl9KSksYVtlXXx8KGFbZV09W10pLGFbZV0ucHVzaCh0KSx7dW5iaW5kOmZ1bmN0aW9uKCl7d3YoYSxlLHQpLHd2KHUsZSx0KX19fX19KHUsYykuc2VsZWN0b3JDaGFuZ2VkV2l0aFVuYmluZCx0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG12KGMsZSx0KX0scj1mdW5jdGlvbihlKXt2YXIgdD1vKCk7dC5jb2xsYXBzZSghIWUpLGkodCl9LGQ9ZnVuY3Rpb24oKXtyZXR1cm4gcy5nZXRTZWxlY3Rpb24/cy5nZXRTZWxlY3Rpb24oKTpzLmRvY3VtZW50LnNlbGVjdGlvbn0sbz1mdW5jdGlvbigpe3ZhciBlLHQsbixyPWZ1bmN0aW9uKGUsdCxuKXt0cnl7cmV0dXJuIHQuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGUsbil9Y2F0Y2gocil7cmV0dXJuLTF9fTtpZighcylyZXR1cm4gbnVsbDt2YXIgbz1zLmRvY3VtZW50O2lmKG51bGw9PW8pcmV0dXJuIG51bGw7aWYoYy5ib29rbWFyayE9PXVuZGVmaW5lZCYmITE9PT1ZbShjKSl7dmFyIGk9SW0oYyk7aWYoaS5pc1NvbWUoKSlyZXR1cm4gaS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGVnKGMsW2VdKVswXX0pLmdldE9yKG8uY3JlYXRlUmFuZ2UoKSl9dHJ5eyhlPWQoKSkmJiFobihlLmFuY2hvck5vZGUpJiYodD0wPGUucmFuZ2VDb3VudD9lLmdldFJhbmdlQXQoMCk6ZS5jcmVhdGVSYW5nZT9lLmNyZWF0ZVJhbmdlKCk6by5jcmVhdGVSYW5nZSgpKX1jYXRjaChhKXt9cmV0dXJuKHQ9KHQ9ZWcoYyxbdF0pWzBdKXx8KG8uY3JlYXRlUmFuZ2U/by5jcmVhdGVSYW5nZSgpOm8uYm9keS5jcmVhdGVUZXh0UmFuZ2UoKSkpLnNldFN0YXJ0JiY5PT09dC5zdGFydENvbnRhaW5lci5ub2RlVHlwZSYmdC5jb2xsYXBzZWQmJihuPXUuZ2V0Um9vdCgpLHQuc2V0U3RhcnQobiwwKSx0LnNldEVuZChuLDApKSxsJiZmJiYoMD09PXIodC5TVEFSVF9UT19TVEFSVCx0LGwpJiYwPT09cih0LkVORF9UT19FTkQsdCxsKT90PWY6Zj1sPW51bGwpLHR9LGk9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZigocj1lKSYmKHh2KHIpfHxTdihyLnN0YXJ0Q29udGFpbmVyKSYmU3Yoci5lbmRDb250YWluZXIpKSl7dmFyIHIsbz14dihlKT9lOm51bGw7aWYobyl7Zj1udWxsO3RyeXtvLnNlbGVjdCgpfWNhdGNoKGEpe319ZWxzZXt2YXIgaT1kKCk7aWYoZT1jLmZpcmUoIlNldFNlbGVjdGlvblJhbmdlIix7cmFuZ2U6ZSxmb3J3YXJkOnR9KS5yYW5nZSxpKXtmPWU7dHJ5e2kucmVtb3ZlQWxsUmFuZ2VzKCksaS5hZGRSYW5nZShlKX1jYXRjaChhKXt9ITE9PT10JiZpLmV4dGVuZCYmKGkuY29sbGFwc2UoZS5lbmRDb250YWluZXIsZS5lbmRPZmZzZXQpLGkuZXh0ZW5kKGUuc3RhcnRDb250YWluZXIsZS5zdGFydE9mZnNldCkpLGw9MDxpLnJhbmdlQ291bnQ/aS5nZXRSYW5nZUF0KDApOm51bGx9ZS5jb2xsYXBzZWR8fGUuc3RhcnRDb250YWluZXIhPT1lLmVuZENvbnRhaW5lcnx8IWkuc2V0QmFzZUFuZEV4dGVudHx8bXQuaWV8fGUuZW5kT2Zmc2V0LWUuc3RhcnRPZmZzZXQ8MiYmZS5zdGFydENvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkmJihuPWUuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tlLnN0YXJ0T2Zmc2V0XSkmJiJJTUciPT09bi50YWdOYW1lJiYoaS5zZXRCYXNlQW5kRXh0ZW50KGUuc3RhcnRDb250YWluZXIsZS5zdGFydE9mZnNldCxlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCksaS5hbmNob3JOb2RlPT09ZS5zdGFydENvbnRhaW5lciYmaS5mb2N1c05vZGU9PT1lLmVuZENvbnRhaW5lcnx8aS5zZXRCYXNlQW5kRXh0ZW50KG4sMCxuLDEpKSxjLmZpcmUoIkFmdGVyU2V0U2VsZWN0aW9uUmFuZ2UiLHtyYW5nZTplLGZvcndhcmQ6dH0pfX19LGE9ZnVuY3Rpb24oKXt2YXIgZT1kKCk7aWYoIWV8fCFlLmFuY2hvck5vZGV8fCFlLmZvY3VzTm9kZSlyZXR1cm4hMDt2YXIgdD11LmNyZWF0ZVJuZygpO3Quc2V0U3RhcnQoZS5hbmNob3JOb2RlLGUuYW5jaG9yT2Zmc2V0KSx0LmNvbGxhcHNlKCEwKTt2YXIgbj11LmNyZWF0ZVJuZygpO3JldHVybiBuLnNldFN0YXJ0KGUuZm9jdXNOb2RlLGUuZm9jdXNPZmZzZXQpLG4uY29sbGFwc2UoITApLHQuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKHQuU1RBUlRfVE9fU1RBUlQsbik8PTB9LG09e2Jvb2ttYXJrTWFuYWdlcjpudWxsLGNvbnRyb2xTZWxlY3Rpb246bnVsbCxkb206dSx3aW46cyxzZXJpYWxpemVyOmUsZWRpdG9yOmMsY29sbGFwc2U6cixzZXRDdXJzb3JMb2NhdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXUuY3JlYXRlUm5nKCk7ZT8obi5zZXRTdGFydChlLHQpLG4uc2V0RW5kKGUsdCksaShuKSxyKCExKSk6KGRmKHUsbixjLmdldEJvZHkoKSwhMCksaShuKSl9LGdldENvbnRlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG52KGMsZSl9LHNldENvbnRlbnQ6dCxnZXRCb29rbWFyazpmdW5jdGlvbihlLHQpe3JldHVybiBwLmdldEJvb2ttYXJrKGUsdCl9LG1vdmVUb0Jvb2ttYXJrOmZ1bmN0aW9uKGUpe3JldHVybiBwLm1vdmVUb0Jvb2ttYXJrKGUpfSxzZWxlY3Q6ZnVuY3Rpb24oZSx0KXt2YXIgcixuLG87cmV0dXJuIHI9dSxuPWUsbz10LEIuZnJvbShuKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ci5ub2RlSW5kZXgoZSksbj1yLmNyZWF0ZVJuZygpO3JldHVybiBuLnNldFN0YXJ0KGUucGFyZW50Tm9kZSx0KSxuLnNldEVuZChlLnBhcmVudE5vZGUsdCsxKSxvJiYoZGYocixuLGUsITApLGRmKHIsbixlLCExKSksbn0pLmVhY2goaSksZX0saXNDb2xsYXBzZWQ6ZnVuY3Rpb24oKXt2YXIgZT1vKCksdD1kKCk7cmV0dXJuISghZXx8ZS5pdGVtKSYmKGUuY29tcGFyZUVuZFBvaW50cz8wPT09ZS5jb21wYXJlRW5kUG9pbnRzKCJTdGFydFRvRW5kIixlKTohdHx8ZS5jb2xsYXBzZWQpfSxpc0ZvcndhcmQ6YSxzZXROb2RlOmZ1bmN0aW9uKGUpe3JldHVybiB0KHUuZ2V0T3V0ZXJIVE1MKGUpKSxlfSxnZXROb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG4scixvO2lmKCF0KXJldHVybiBlO3I9dC5zdGFydENvbnRhaW5lcixvPXQuZW5kQ29udGFpbmVyO3ZhciBpPXQuc3RhcnRPZmZzZXQsYT10LmVuZE9mZnNldDtyZXR1cm4gbj10LmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLCF0LmNvbGxhcHNlZCYmKHI9PT1vJiZhLWk8MiYmci5oYXNDaGlsZE5vZGVzKCkmJihuPXIuY2hpbGROb2Rlc1tpXSksMz09PXIubm9kZVR5cGUmJjM9PT1vLm5vZGVUeXBlJiYocj1yLmxlbmd0aD09PWk/dHYoci5uZXh0U2libGluZywhMCk6ci5wYXJlbnROb2RlLG89MD09PWE/dHYoby5wcmV2aW91c1NpYmxpbmcsITEpOm8ucGFyZW50Tm9kZSxyJiZyPT09bykpP3I6biYmMz09PW4ubm9kZVR5cGU/bi5wYXJlbnROb2RlOm59KGMuZ2V0Qm9keSgpLG8oKSl9LGdldFNlbDpkLHNldFJuZzppLGdldFJuZzpvLGdldFN0YXJ0OmZ1bmN0aW9uKGUpe3JldHVybiBaaChjLmdldEJvZHkoKSxvKCksZSl9LGdldEVuZDpmdW5jdGlvbihlKXtyZXR1cm4gZXYoYy5nZXRCb2R5KCksbygpLGUpfSxnZXRTZWxlY3RlZEJsb2NrczpmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpPVtdLGE9ZS5nZXRSb290KCk7aWYobj1lLmdldFBhcmVudChufHxaaChhLHQsdC5jb2xsYXBzZWQpLGUuaXNCbG9jaykscj1lLmdldFBhcmVudChyfHxldihhLHQsdC5jb2xsYXBzZWQpLGUuaXNCbG9jayksbiYmbiE9PWEmJmkucHVzaChuKSxuJiZyJiZuIT09cilmb3IodmFyIHU9bmV3IEFpKG89bixhKTsobz11Lm5leHQoKSkmJm8hPT1yOyllLmlzQmxvY2sobykmJmkucHVzaChvKTtyZXR1cm4gciYmbiE9PXImJnIhPT1hJiZpLnB1c2gociksaX0odSxvKCksZSx0KX0sbm9ybWFsaXplOmZ1bmN0aW9uKCl7dmFyIGU9bygpLHQ9ZCgpO2lmKDE8b2YodCkubGVuZ3RofHwhbWYoYykpcmV0dXJuIGU7dmFyIG49bHYodSxlKTtyZXR1cm4gbi5lYWNoKGZ1bmN0aW9uKGUpe2koZSxhKCkpfSksbi5nZXRPcihlKX0sc2VsZWN0b3JDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4oZSx0KSxtfSxzZWxlY3RvckNoYW5nZWRXaXRoVW5iaW5kOm4sZ2V0U2Nyb2xsQ29udGFpbmVyOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9dS5nZXRSb290KCk7dCYmIkJPRFkiIT09dC5ub2RlTmFtZTspe2lmKHQuc2Nyb2xsSGVpZ2h0PnQuY2xpZW50SGVpZ2h0KXtlPXQ7YnJlYWt9dD10LnBhcmVudE5vZGV9cmV0dXJuIGV9LHNjcm9sbEludG9WaWV3OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHI9ZSxvPXQsdm9pZCgobj1jKS5pbmxpbmU/V2g6WGgpKG4scixvKTt2YXIgbixyLG99LHBsYWNlQ2FyZXRBdDpmdW5jdGlvbihlLHQpe3JldHVybiBpKEpoKGUsdCxjLmdldERvYygpKSl9LGdldEJvdW5kaW5nQ2xpZW50UmVjdDpmdW5jdGlvbigpe3ZhciBlPW8oKTtyZXR1cm4gZS5jb2xsYXBzZWQ/U3MuZnJvbVJhbmdlU3RhcnQoZSkuZ2V0Q2xpZW50UmVjdHMoKVswXTplLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7cz1sPWY9bnVsbCxnLmRlc3Ryb3koKX19LHA9Z3YobSksZz1DdihtLGMpO3JldHVybiBtLmJvb2ttYXJrTWFuYWdlcj1wLG0uY29udHJvbFNlbGVjdGlvbj1nLG19LEV2PWZ1bmN0aW9uKGUsYSx1KXtlLmFkZE5vZGVGaWx0ZXIoImZvbnQiLGZ1bmN0aW9uKGUpe3ooZSxmdW5jdGlvbihlKXt2YXIgdCxuPWEucGFyc2UoZS5hdHRyKCJzdHlsZSIpKSxyPWUuYXR0cigiY29sb3IiKSxvPWUuYXR0cigiZmFjZSIpLGk9ZS5hdHRyKCJzaXplIik7ciYmKG4uY29sb3I9ciksbyYmKG5bImZvbnQtZmFtaWx5Il09byksaSYmKG5bImZvbnQtc2l6ZSJdPXVbcGFyc2VJbnQoZS5hdHRyKCJzaXplIiksMTApLTFdKSxlLm5hbWU9InNwYW4iLGUuYXR0cigic3R5bGUiLGEuc2VyaWFsaXplKG4pKSx0PWUseihbImNvbG9yIiwiZmFjZSIsInNpemUiXSxmdW5jdGlvbihlKXt0LmF0dHIoZSxudWxsKX0pfSl9KX0sa3Y9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPUJyKCk7dC5jb252ZXJ0X2ZvbnRzX3RvX3NwYW5zJiZFdihlLHIseXQuZXhwbG9kZSh0LmZvbnRfc2l6ZV9sZWdhY3lfdmFsdWVzKSksbj1yLGUuYWRkTm9kZUZpbHRlcigic3RyaWtlIixmdW5jdGlvbihlKXt6KGUsZnVuY3Rpb24oZSl7dmFyIHQ9bi5wYXJzZShlLmF0dHIoInN0eWxlIikpO3RbInRleHQtZGVjb3JhdGlvbiJdPSJsaW5lLXRocm91Z2giLGUubmFtZT0ic3BhbiIsZS5hdHRyKCJzdHlsZSIsbi5zZXJpYWxpemUodCkpfSl9KX0sX3Y9ZnVuY3Rpb24oZSl7dmFyIHQsbj1kZWNvZGVVUklDb21wb25lbnQoZSkuc3BsaXQoIiwiKSxyPS9kYXRhOihbXjtdKykvLmV4ZWMoblswXSk7cmV0dXJuIHImJih0PXJbMV0pLHt0eXBlOnQsZGF0YTpuWzFdfX0sVHY9ZnVuY3Rpb24oZSx0KXt2YXIgbjt0cnl7bj1WLmF0b2IodCl9Y2F0Y2goTEUpe3JldHVybiBCLm5vbmUoKX1mb3IodmFyIHI9bmV3IFVpbnQ4QXJyYXkobi5sZW5ndGgpLG89MDtvPHIubGVuZ3RoO28rKylyW29dPW4uY2hhckNvZGVBdChvKTtyZXR1cm4gQi5zb21lKG5ldyBWLkJsb2IoW3JdLHt0eXBlOmV9KSl9LFJ2PWZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5pbmRleE9mKCJibG9iOiIpPyhpPWUsbmV3IGVhKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oKXt0KCJDYW5ub3QgY29udmVydCAiK2krIiB0byBCbG9iLiBSZXNvdXJjZSBtaWdodCBub3QgZXhpc3Qgb3IgaXMgaW5hY2Nlc3NpYmxlLiIpfTt0cnl7dmFyIHI9bmV3IFYuWE1MSHR0cFJlcXVlc3Q7ci5vcGVuKCJHRVQiLGksITApLHIucmVzcG9uc2VUeXBlPSJibG9iIixyLm9ubG9hZD1mdW5jdGlvbigpezIwMD09PXRoaXMuc3RhdHVzP2UodGhpcy5yZXNwb25zZSk6bigpfSxyLm9uZXJyb3I9bixyLnNlbmQoKX1jYXRjaChvKXtuKCl9fSkpOjA9PT1lLmluZGV4T2YoImRhdGE6Iik/KG89ZSxuZXcgZWEoZnVuY3Rpb24oZSl7dmFyIHQ9X3Yobyksbj10LnR5cGUscj10LmRhdGE7VHYobixyKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGUobmV3IFYuQmxvYihbXSkpfSxlKX0pKTpudWxsO3ZhciBpLG99LEF2PTAsRHY9ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fCJibG9iaWQiKStBdisrfSxPdj1mdW5jdGlvbihyLG8saSx0KXt2YXIgYSx1O2lmKDAhPT1vLnNyYy5pbmRleE9mKCJibG9iOiIpKXt2YXIgZT1fdihvLnNyYyksbj1lLmRhdGEscz1lLnR5cGU7YT1uLCh1PXIuZ2V0QnlEYXRhKGEscykpP2koe2ltYWdlOm8sYmxvYkluZm86dX0pOlJ2KG8uc3JjKS50aGVuKGZ1bmN0aW9uKGUpe3U9ci5jcmVhdGUoRHYoKSxlLGEpLHIuYWRkKHUpLGkoe2ltYWdlOm8sYmxvYkluZm86dX0pfSxmdW5jdGlvbihlKXt0KGUpfSl9ZWxzZSh1PXIuZ2V0QnlVcmkoby5zcmMpKT9pKHtpbWFnZTpvLGJsb2JJbmZvOnV9KTpSdihvLnNyYykudGhlbihmdW5jdGlvbih0KXt2YXIgbjtuPXQsbmV3IGVhKGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBWLkZpbGVSZWFkZXI7dC5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXtlKHQucmVzdWx0KX0sdC5yZWFkQXNEYXRhVVJMKG4pfSkudGhlbihmdW5jdGlvbihlKXthPV92KGUpLmRhdGEsdT1yLmNyZWF0ZShEdigpLHQsYSksci5hZGQodSksaSh7aW1hZ2U6byxibG9iSW5mbzp1fSl9KX0sZnVuY3Rpb24oZSl7dChlKX0pfTtmdW5jdGlvbiBCdihpLGEpe3ZhciB1PXt9O3JldHVybntmaW5kQWxsOmZ1bmN0aW9uKGUsbil7bj1ufHx4KCEwKTt2YXIgdCxyPUgoKHQ9ZSk/dGUodC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW1nIikpOltdLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3JjO3JldHVybiEhbXQuZmlsZUFwaSYmKCFlLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSYmKCFlLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtcGxhY2Vob2xkZXIiKSYmKCEoIXR8fHQ9PT1tdC50cmFuc3BhcmVudFNyYykmJigwPT09dC5pbmRleE9mKCJibG9iOiIpPyFpLmlzVXBsb2FkZWQodCkmJm4oZSk6MD09PXQuaW5kZXhPZigiZGF0YToiKSYmbihlKSkpKSl9KSxvPVUocixmdW5jdGlvbihuKXtpZih1W24uc3JjXSE9PXVuZGVmaW5lZClyZXR1cm4gbmV3IGVhKGZ1bmN0aW9uKHQpe3Vbbi5zcmNdLnRoZW4oZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBlO3Qoe2ltYWdlOm4sYmxvYkluZm86ZS5ibG9iSW5mb30pfSl9KTt2YXIgZT1uZXcgZWEoZnVuY3Rpb24oZSx0KXtPdihhLG4sZSx0KX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGRlbGV0ZSB1W2UuaW1hZ2Uuc3JjXSxlfSlbImNhdGNoIl0oZnVuY3Rpb24oZSl7cmV0dXJuIGRlbGV0ZSB1W24uc3JjXSxlfSk7cmV0dXJuIHVbbi5zcmNdPWV9KTtyZXR1cm4gZWEuYWxsKG8pfX19dmFyIFB2PWZ1bmN0aW9uKGUsdCxuLHIpeyhlLnBhZGRfZW1wdHlfd2l0aF9icnx8dC5pbnNlcnQpJiZuW3IubmFtZV0/ci5lbXB0eSgpLmFwcGVuZChuZXcgVGYoImJyIiwxKSkuc2hvcnRFbmRlZD0hMDpyLmVtcHR5KCkuYXBwZW5kKG5ldyBUZigiI3RleHQiLDMpKS52YWx1ZT1Ecn0sTHY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmZS5maXJzdENoaWxkJiZlLmZpcnN0Q2hpbGQ9PT1lLmxhc3RDaGlsZCYmZS5maXJzdENoaWxkLm5hbWU9PT10fSxJdj1mdW5jdGlvbihyLGUsdCxuKXtyZXR1cm4gbi5pc0VtcHR5KGUsdCxmdW5jdGlvbihlKXtyZXR1cm4gdD1lLChuPXIuZ2V0RWxlbWVudFJ1bGUodC5uYW1lKSkmJm4ucGFkZEVtcHR5O3ZhciB0LG59KX0sTXY9ZnVuY3Rpb24oZSxvKXt2YXIgaT1vLmJsb2JfY2FjaGUsdD1mdW5jdGlvbih0KXt2YXIgZSxuLHI9dC5hdHRyKCJzcmMiKTsoZT10KS5hdHRyKCJzcmMiKT09PW10LnRyYW5zcGFyZW50U3JjfHxlLmF0dHIoImRhdGEtbWNlLXBsYWNlaG9sZGVyIil8fHQuYXR0cigiZGF0YS1tY2UtYm9ndXMiKXx8KChuPS9kYXRhOihbXjtdKyk7YmFzZTY0LChbYS16MC05XCtcLz1dKykvaS5leGVjKHIpKT9CLnNvbWUoe3R5cGU6blsxXSxkYXRhOmRlY29kZVVSSUNvbXBvbmVudChuWzJdKX0pOkIubm9uZSgpKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZih0LmltYWdlc19kYXRhaW1nX2ZpbHRlcil7dmFyIG49bmV3IFYuSW1hZ2U7cmV0dXJuIG4uc3JjPWUuYXR0cigic3JjIiksb2UoZS5hdHRyaWJ1dGVzLm1hcCxmdW5jdGlvbihlLHQpe24uc2V0QXR0cmlidXRlKHQsZSl9KSx0LmltYWdlc19kYXRhaW1nX2ZpbHRlcihuKX1yZXR1cm4hMH0odCxvKX0pLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlLG49ZS5kYXRhO3JldHVybiBCLmZyb20oaS5nZXRCeURhdGEobix0KSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBUdih0LG4pLm1hcChmdW5jdGlvbihlKXt2YXIgdD1pLmNyZWF0ZShEdigpLGUsbik7cmV0dXJuIGkuYWRkKHQpLHR9KX0pfSkuZWFjaChmdW5jdGlvbihlKXt0LmF0dHIoInNyYyIsZS5ibG9iVXJpKCkpfSl9O2kmJmUuYWRkQXR0cmlidXRlRmlsdGVyKCJzcmMiLGZ1bmN0aW9uKGUpe3JldHVybiB6KGUsdCl9KX0sRnY9ZnVuY3Rpb24oZSxnKXt2YXIgaD1lLnNjaGVtYTtnLnJlbW92ZV90cmFpbGluZ19icnMmJmUuYWRkTm9kZUZpbHRlcigiYnIiLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYyxsLGY9ZS5sZW5ndGgsZD15dC5leHRlbmQoe30saC5nZXRCbG9ja0VsZW1lbnRzKCkpLG09aC5nZXROb25FbXB0eUVsZW1lbnRzKCkscD1oLmdldFdoaXRlU3BhY2VFbGVtZW50cygpO2ZvcihkLmJvZHk9MSxyPTA7cjxmO3IrKylpZihpPShvPWVbcl0pLnBhcmVudCxkW28ucGFyZW50Lm5hbWVdJiZvPT09aS5sYXN0Q2hpbGQpe2Zvcih1PW8ucHJldjt1Oyl7aWYoInNwYW4iIT09KHM9dS5uYW1lKXx8ImJvb2ttYXJrIiE9PXUuYXR0cigiZGF0YS1tY2UtdHlwZSIpKXtpZigiYnIiIT09cylicmVhaztpZigiYnIiPT09cyl7bz1udWxsO2JyZWFrfX11PXUucHJldn1vJiYoby5yZW1vdmUoKSxJdihoLG0scCxpKSYmKGM9aC5nZXRFbGVtZW50UnVsZShpLm5hbWUpKSYmKGMucmVtb3ZlRW1wdHk/aS5yZW1vdmUoKTpjLnBhZGRFbXB0eSYmUHYoZyxuLGQsaSkpKX1lbHNle2ZvcihhPW87aSYmaS5maXJzdENoaWxkPT09YSYmaS5sYXN0Q2hpbGQ9PT1hJiYhZFsoYT1pKS5uYW1lXTspaT1pLnBhcmVudDthPT09aSYmITAhPT1nLnBhZGRfZW1wdHlfd2l0aF9iciYmKChsPW5ldyBUZigiI3RleHQiLDMpKS52YWx1ZT1EcixvLnJlcGxhY2UobCkpfX0pLGUuYWRkQXR0cmlidXRlRmlsdGVyKCJocmVmIixmdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aCxuPWZ1bmN0aW9uKGUpe3ZhciB0PWU/eXQudHJpbShlKToiIjtyZXR1cm4vXGIobm9vcGVuZXIpXGIvZy50ZXN0KHQpP3Q6dC5zcGxpdCgiICIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aH0pLmNvbmNhdChbIm5vb3BlbmVyIl0pLnNvcnQoKS5qb2luKCIgIil9O2lmKCFnLmFsbG93X3Vuc2FmZV9saW5rX3RhcmdldClmb3IoO3QtLTspe3ZhciByPWVbdF07ImEiPT09ci5uYW1lJiYiX2JsYW5rIj09PXIuYXR0cigidGFyZ2V0IikmJnIuYXR0cigicmVsIixuKHIuYXR0cigicmVsIikpKX19KSxnLmFsbG93X2h0bWxfaW5fbmFtZWRfYW5jaG9yfHxlLmFkZEF0dHJpYnV0ZUZpbHRlcigiaWQsbmFtZSIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scixvLGk9ZS5sZW5ndGg7aS0tOylpZigiYSI9PT0obz1lW2ldKS5uYW1lJiZvLmZpcnN0Q2hpbGQmJiFvLmF0dHIoImhyZWYiKSlmb3Iocj1vLnBhcmVudCx0PW8ubGFzdENoaWxkO249dC5wcmV2LHIuaW5zZXJ0KHQsbyksdD1uOyk7fSksZy5maXhfbGlzdF9lbGVtZW50cyYmZS5hZGROb2RlRmlsdGVyKCJ1bCxvbCIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj1lLmxlbmd0aDtyLS07KWlmKCJ1bCI9PT0obj0odD1lW3JdKS5wYXJlbnQpLm5hbWV8fCJvbCI9PT1uLm5hbWUpaWYodC5wcmV2JiYibGkiPT09dC5wcmV2Lm5hbWUpdC5wcmV2LmFwcGVuZCh0KTtlbHNle3ZhciBvPW5ldyBUZigibGkiLDEpO28uYXR0cigic3R5bGUiLCJsaXN0LXN0eWxlLXR5cGU6IG5vbmUiKSx0LndyYXAobyl9fSksZy52YWxpZGF0ZSYmaC5nZXRWYWxpZENsYXNzZXMoKSYmZS5hZGRBdHRyaWJ1dGVGaWx0ZXIoImNsYXNzIixmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLG8saSxhLHUscz1lLmxlbmd0aCxjPWguZ2V0VmFsaWRDbGFzc2VzKCk7cy0tOyl7Zm9yKG49KHQ9ZVtzXSkuYXR0cigiY2xhc3MiKS5zcGxpdCgiICIpLGk9IiIscj0wO3I8bi5sZW5ndGg7cisrKW89bltyXSx1PSExLChhPWNbIioiXSkmJmFbb10mJih1PSEwKSxhPWNbdC5uYW1lXSwhdSYmYSYmYVtvXSYmKHU9ITApLHUmJihpJiYoaSs9IiAiKSxpKz1vKTtpLmxlbmd0aHx8KGk9bnVsbCksdC5hdHRyKCJjbGFzcyIsaSl9fSksTXYoZSxnKX0sVXY9eXQubWFrZU1hcCx6dj15dC5lYWNoLGp2PXl0LmV4cGxvZGUsSHY9eXQuZXh0ZW5kLFZ2PWZ1bmN0aW9uKFQsUil7dm9pZCAwPT09UiYmKFI9UnIoKSk7dmFyIEE9e30sRD1bXSxPPXt9LEI9e307KFQ9VHx8e30pLnZhbGlkYXRlPSEoInZhbGlkYXRlImluIFQpfHxULnZhbGlkYXRlLFQucm9vdF9uYW1lPVQucm9vdF9uYW1lfHwiYm9keSI7dmFyIGUsdCxQPWZ1bmN0aW9uKGUpe3ZhciB0LG4scjsobj1lLm5hbWUpaW4gQSYmKChyPU9bbl0pP3IucHVzaChlKTpPW25dPVtlXSksdD1ELmxlbmd0aDtmb3IoO3QtLTspKG49RFt0XS5uYW1lKWluIGUuYXR0cmlidXRlcy5tYXAmJigocj1CW25dKT9yLnB1c2goZSk6QltuXT1bZV0pO3JldHVybiBlfSxuPXtzY2hlbWE6UixhZGRBdHRyaWJ1dGVGaWx0ZXI6ZnVuY3Rpb24oZSxuKXt6dihqdihlKSxmdW5jdGlvbihlKXt2YXIgdDtmb3IodD0wO3Q8RC5sZW5ndGg7dCsrKWlmKERbdF0ubmFtZT09PWUpcmV0dXJuIHZvaWQgRFt0XS5jYWxsYmFja3MucHVzaChuKTtELnB1c2goe25hbWU6ZSxjYWxsYmFja3M6W25dfSl9KX0sZ2V0QXR0cmlidXRlRmlsdGVyczpmdW5jdGlvbigpe3JldHVybltdLmNvbmNhdChEKX0sYWRkTm9kZUZpbHRlcjpmdW5jdGlvbihlLG4pe3p2KGp2KGUpLGZ1bmN0aW9uKGUpe3ZhciB0PUFbZV07dHx8KEFbZV09dD1bXSksdC5wdXNoKG4pfSl9LGdldE5vZGVGaWx0ZXJzOmZ1bmN0aW9uKCl7dmFyIGU9W107Zm9yKHZhciB0IGluIEEpQS5oYXNPd25Qcm9wZXJ0eSh0KSYmZS5wdXNoKHtuYW1lOnQsY2FsbGJhY2tzOkFbdF19KTtyZXR1cm4gZX0sZmlsdGVyTm9kZTpQLHBhcnNlOmZ1bmN0aW9uKGUsdSl7dmFyIHQsbixyLG8saSxzLGEsYyxsLGY9W107dT11fHx7fSxPPXt9LEI9e307dmFyIGQsbT1IdihVdigic2NyaXB0LHN0eWxlLGhlYWQsaHRtbCxib2R5LHRpdGxlLG1ldGEscGFyYW0iKSxSLmdldEJsb2NrRWxlbWVudHMoKSkscD1SLmdldE5vbkVtcHR5RWxlbWVudHMoKSxnPVIuY2hpbGRyZW4saD1ULnZhbGlkYXRlLHY9ImZvcmNlZF9yb290X2Jsb2NrImluIHU/dS5mb3JjZWRfcm9vdF9ibG9jazpULmZvcmNlZF9yb290X2Jsb2NrLHk9ITE9PT0oZD12KT8iIjohMD09PWQ/InAiOmQsYj1SLmdldFdoaXRlU3BhY2VFbGVtZW50cygpLEM9L15bIFx0XHJcbl0rLyx3PS9bIFx0XHJcbl0rJC8seD0vWyBcdFxyXG5dKy9nLFM9L15bIFx0XHJcbl0rJC87Yz1iLmhhc093blByb3BlcnR5KHUuY29udGV4dCl8fGIuaGFzT3duUHJvcGVydHkoVC5yb290X25hbWUpO3ZhciBOPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1uZXcgVGYoZSx0KTtyZXR1cm4gZSBpbiBBJiYoKG49T1tlXSk/bi5wdXNoKHIpOk9bZV09W3JdKSxyfSxFPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGk9Ui5nZXRCbG9ja0VsZW1lbnRzKCk7Zm9yKHQ9ZS5wcmV2O3QmJjM9PT10LnR5cGU7KXtpZigwPChyPXQudmFsdWUucmVwbGFjZSh3LCIiKSkubGVuZ3RoKXJldHVybiB2b2lkKHQudmFsdWU9cik7aWYobj10Lm5leHQpe2lmKDM9PT1uLnR5cGUmJm4udmFsdWUubGVuZ3RoKXt0PXQucHJldjtjb250aW51ZX1pZighaVtuLm5hbWVdJiYic2NyaXB0IiE9PW4ubmFtZSYmInN0eWxlIiE9PW4ubmFtZSl7dD10LnByZXY7Y29udGludWV9fW89dC5wcmV2LHQucmVtb3ZlKCksdD1vfX0saz1IZih7dmFsaWRhdGU6aCxhbGxvd19odG1sX2RhdGFfdXJsczpULmFsbG93X2h0bWxfZGF0YV91cmxzLGFsbG93X3NjcmlwdF91cmxzOlQuYWxsb3dfc2NyaXB0X3VybHMsYWxsb3dfY29uZGl0aW9uYWxfY29tbWVudHM6VC5hbGxvd19jb25kaXRpb25hbF9jb21tZW50cyxwcmVzZXJ2ZV9jZGF0YTpULnByZXNlcnZlX2NkYXRhLHNlbGZfY2xvc2luZ19lbGVtZW50czpmdW5jdGlvbihlKXt2YXIgdCxuPXt9O2Zvcih0IGluIGUpImxpIiE9PXQmJiJwIiE9PXQmJihuW3RdPWVbdF0pO3JldHVybiBufShSLmdldFNlbGZDbG9zaW5nRWxlbWVudHMoKSksY2RhdGE6ZnVuY3Rpb24oZSl7bC5hcHBlbmQoTigiI2NkYXRhIiw0KSkudmFsdWU9ZX0sdGV4dDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbztjfHwoZT1lLnJlcGxhY2UoeCwiICIpLHI9bC5sYXN0Q2hpbGQsbz1tLHImJihvW3IubmFtZV18fCJiciI9PT1yLm5hbWUpJiYoZT1lLnJlcGxhY2UoQywiIikpKSwwIT09ZS5sZW5ndGgmJigobj1OKCIjdGV4dCIsMykpLnJhdz0hIXQsbC5hcHBlbmQobikudmFsdWU9ZSl9LGNvbW1lbnQ6ZnVuY3Rpb24oZSl7bC5hcHBlbmQoTigiI2NvbW1lbnQiLDgpKS52YWx1ZT1lfSxwaTpmdW5jdGlvbihlLHQpe2wuYXBwZW5kKE4oZSw3KSkudmFsdWU9dCxFKGwpfSxkb2N0eXBlOmZ1bmN0aW9uKGUpe2wuYXBwZW5kKE4oIiNkb2N0eXBlIiwxMCkpLnZhbHVlPWUsRShsKX0sc3RhcnQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHU9aD9SLmdldEVsZW1lbnRSdWxlKGUpOnt9O2lmKHUpe2Zvcigocj1OKHUub3V0cHV0TmFtZXx8ZSwxKSkuYXR0cmlidXRlcz10LHIuc2hvcnRFbmRlZD1uLGwuYXBwZW5kKHIpLChhPWdbbC5uYW1lXSkmJmdbci5uYW1lXSYmIWFbci5uYW1lXSYmZi5wdXNoKHIpLG89RC5sZW5ndGg7by0tOykoaT1EW29dLm5hbWUpaW4gdC5tYXAmJigocz1CW2ldKT9zLnB1c2gocik6QltpXT1bcl0pO21bZV0mJkUociksbnx8KGw9ciksIWMmJmJbZV0mJihjPSEwKX19LGVuZDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGE9aD9SLmdldEVsZW1lbnRSdWxlKGUpOnt9O2lmKGEpe2lmKG1bZV0mJiFjKXtpZigodD1sLmZpcnN0Q2hpbGQpJiYzPT09dC50eXBlKWlmKDA8KG49dC52YWx1ZS5yZXBsYWNlKEMsIiIpKS5sZW5ndGgpdC52YWx1ZT1uLHQ9dC5uZXh0O2Vsc2UgZm9yKHI9dC5uZXh0LHQucmVtb3ZlKCksdD1yO3QmJjM9PT10LnR5cGU7KW49dC52YWx1ZSxyPXQubmV4dCwwIT09bi5sZW5ndGgmJiFTLnRlc3Qobil8fCh0LnJlbW92ZSgpLHQ9ciksdD1yO2lmKCh0PWwubGFzdENoaWxkKSYmMz09PXQudHlwZSlpZigwPChuPXQudmFsdWUucmVwbGFjZSh3LCIiKSkubGVuZ3RoKXQudmFsdWU9bix0PXQucHJldjtlbHNlIGZvcihyPXQucHJldix0LnJlbW92ZSgpLHQ9cjt0JiYzPT09dC50eXBlOyluPXQudmFsdWUscj10LnByZXYsMCE9PW4ubGVuZ3RoJiYhUy50ZXN0KG4pfHwodC5yZW1vdmUoKSx0PXIpLHQ9cn1pZihjJiZiW2VdJiYoYz0hMSksYS5yZW1vdmVFbXB0eSYmSXYoUixwLGIsbCkpcmV0dXJuIG89bC5wYXJlbnQsbVtsLm5hbWVdP2wuZW1wdHkoKS5yZW1vdmUoKTpsLnVud3JhcCgpLHZvaWQobD1vKTthLnBhZGRFbXB0eSYmKEx2KGk9bCwiI3RleHQiKSYmaS5maXJzdENoaWxkLnZhbHVlPT09RHJ8fEl2KFIscCxiLGwpKSYmUHYoVCx1LG0sbCksbD1sLnBhcmVudH19fSxSKSxfPWw9bmV3IFRmKHUuY29udGV4dHx8VC5yb290X25hbWUsMTEpO2lmKGsucGFyc2UoZSx1LmZvcm1hdCksaCYmZi5sZW5ndGgmJih1LmNvbnRleHQ/dS5pbnZhbGlkPSEwOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1LHMsYyxsLGYsZD1VdigidHIsdGQsdGgsdGJvZHksdGhlYWQsdGZvb3QsdGFibGUiKSxtPVIuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLHA9Ui5nZXRXaGl0ZVNwYWNlRWxlbWVudHMoKSxnPVIuZ2V0VGV4dEJsb2NrRWxlbWVudHMoKSxoPVIuZ2V0U3BlY2lhbEVsZW1lbnRzKCk7Zm9yKHQ9MDt0PGUubGVuZ3RoO3QrKylpZigobj1lW3RdKS5wYXJlbnQmJiFuLmZpeGVkKWlmKGdbbi5uYW1lXSYmImxpIj09PW4ucGFyZW50Lm5hbWUpe2ZvcihsPW4ubmV4dDtsJiZnW2wubmFtZV07KWwubmFtZT0ibGkiLGwuZml4ZWQ9ITAsbi5wYXJlbnQuaW5zZXJ0KGwsbi5wYXJlbnQpLGw9bC5uZXh0O24udW53cmFwKG4pfWVsc2V7Zm9yKG89W25dLHI9bi5wYXJlbnQ7ciYmIVIuaXNWYWxpZENoaWxkKHIubmFtZSxuLm5hbWUpJiYhZFtyLm5hbWVdO3I9ci5wYXJlbnQpby5wdXNoKHIpO2lmKHImJjE8by5sZW5ndGgpe2ZvcihvLnJldmVyc2UoKSxpPWE9UChvWzBdLmNsb25lKCkpLGM9MDtjPG8ubGVuZ3RoLTE7YysrKXtmb3IoUi5pc1ZhbGlkQ2hpbGQoYS5uYW1lLG9bY10ubmFtZSk/KHU9UChvW2NdLmNsb25lKCkpLGEuYXBwZW5kKHUpKTp1PWEscz1vW2NdLmZpcnN0Q2hpbGQ7cyYmcyE9PW9bYysxXTspZj1zLm5leHQsdS5hcHBlbmQocykscz1mO2E9dX1JdihSLG0scCxpKT9yLmluc2VydChuLG9bMF0sITApOihyLmluc2VydChpLG9bMF0sITApLHIuaW5zZXJ0KG4saSkpLHI9b1swXSwoSXYoUixtLHAscil8fEx2KHIsImJyIikpJiZyLmVtcHR5KCkucmVtb3ZlKCl9ZWxzZSBpZihuLnBhcmVudCl7aWYoImxpIj09PW4ubmFtZSl7aWYoKGw9bi5wcmV2KSYmKCJ1bCI9PT1sLm5hbWV8fCJ1bCI9PT1sLm5hbWUpKXtsLmFwcGVuZChuKTtjb250aW51ZX1pZigobD1uLm5leHQpJiYoInVsIj09PWwubmFtZXx8InVsIj09PWwubmFtZSkpe2wuaW5zZXJ0KG4sbC5maXJzdENoaWxkLCEwKTtjb250aW51ZX1uLndyYXAoUChuZXcgVGYoInVsIiwxKSkpO2NvbnRpbnVlfVIuaXNWYWxpZENoaWxkKG4ucGFyZW50Lm5hbWUsImRpdiIpJiZSLmlzVmFsaWRDaGlsZCgiZGl2IixuLm5hbWUpP24ud3JhcChQKG5ldyBUZigiZGl2IiwxKSkpOmhbbi5uYW1lXT9uLmVtcHR5KCkucmVtb3ZlKCk6bi51bndyYXAoKX19fShmKSkseSYmKCJib2R5Ij09PV8ubmFtZXx8dS5pc1Jvb3RDb250ZW50KSYmZnVuY3Rpb24oKXt2YXIgZSx0LG49Xy5maXJzdENoaWxkLHI9ZnVuY3Rpb24oZSl7ZSYmKChuPWUuZmlyc3RDaGlsZCkmJjM9PT1uLnR5cGUmJihuLnZhbHVlPW4udmFsdWUucmVwbGFjZShDLCIiKSksKG49ZS5sYXN0Q2hpbGQpJiYzPT09bi50eXBlJiYobi52YWx1ZT1uLnZhbHVlLnJlcGxhY2UodywiIikpKX07aWYoUi5pc1ZhbGlkQ2hpbGQoXy5uYW1lLHkudG9Mb3dlckNhc2UoKSkpe2Zvcig7bjspZT1uLm5leHQsMz09PW4udHlwZXx8MT09PW4udHlwZSYmInAiIT09bi5uYW1lJiYhbVtuLm5hbWVdJiYhbi5hdHRyKCJkYXRhLW1jZS10eXBlIik/KHR8fCgodD1OKHksMSkpLmF0dHIoVC5mb3JjZWRfcm9vdF9ibG9ja19hdHRycyksXy5pbnNlcnQodCxuKSksdC5hcHBlbmQobikpOihyKHQpLHQ9bnVsbCksbj1lO3IodCl9fSgpLCF1LmludmFsaWQpe2ZvcihhIGluIE8paWYoTy5oYXNPd25Qcm9wZXJ0eShhKSl7Zm9yKHM9QVthXSxvPSh0PU9bYV0pLmxlbmd0aDtvLS07KXRbb10ucGFyZW50fHx0LnNwbGljZShvLDEpO2ZvcihuPTAscj1zLmxlbmd0aDtuPHI7bisrKXNbbl0odCxhLHUpfWZvcihuPTAscj1ELmxlbmd0aDtuPHI7bisrKWlmKChzPURbbl0pLm5hbWUgaW4gQil7Zm9yKG89KHQ9QltzLm5hbWVdKS5sZW5ndGg7by0tOyl0W29dLnBhcmVudHx8dC5zcGxpY2UobywxKTtmb3Iobz0wLGk9cy5jYWxsYmFja3MubGVuZ3RoO288aTtvKyspcy5jYWxsYmFja3Nbb10odCxzLm5hbWUsdSl9fXJldHVybiBffX07cmV0dXJuIEZ2KG4sVCksZT1uLCh0PVQpLmlubGluZV9zdHlsZXMmJmt2KGUsdCksbn0scXY9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBvPW4sKHI9ZSkmJnIuaGFzRXZlbnRMaXN0ZW5lcnMoIlByZVByb2Nlc3MiKSYmIW8ubm9fZXZlbnRzP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9ZS5kb207dD10LmNsb25lTm9kZSghMCk7dmFyIGEsdSxzPVYuZG9jdW1lbnQuaW1wbGVtZW50YXRpb247cmV0dXJuIHMuY3JlYXRlSFRNTERvY3VtZW50JiYocj1zLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikseXQuZWFjaCgiQk9EWSI9PT10Lm5vZGVOYW1lP3QuY2hpbGROb2RlczpbdF0sZnVuY3Rpb24oZSl7ci5ib2R5LmFwcGVuZENoaWxkKHIuaW1wb3J0Tm9kZShlLCEwKSl9KSx0PSJCT0RZIiE9PXQubm9kZU5hbWU/ci5ib2R5LmZpcnN0Q2hpbGQ6ci5ib2R5LG89aS5kb2MsaS5kb2M9ciksYT1lLHU9eGUoeGUoe30sbikse25vZGU6dH0pLGEuZmlyZSgiUHJlUHJvY2VzcyIsdSksbyYmKGkuZG9jPW8pLHR9KGUsdCxuKTp0O3ZhciByLG99LCR2PWZ1bmN0aW9uKGUsdCxuKXstMT09PXl0LmluQXJyYXkodCxuKSYmKGUuYWRkQXR0cmlidXRlRmlsdGVyKG4sZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5sZW5ndGg7bi0tOyllW25dLmF0dHIodCxudWxsKX0pLHQucHVzaChuKSl9LFd2PWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYSx1LHMsYyxsLGY9KGk9cixPZih0LG4pLnNlcmlhbGl6ZShpKSk7cmV0dXJuIGE9ZSxzPWYsKHU9bykubm9fZXZlbnRzfHwhYT9zOihjPWEsbD14ZSh4ZSh7fSx1KSx7Y29udGVudDpzfSksYy5maXJlKCJQb3N0UHJvY2VzcyIsbCkuY29udGVudCl9LEt2PWZ1bmN0aW9uKGcsaCl7dmFyIGU9WyJkYXRhLW1jZS1zZWxlY3RlZCJdLHY9aCYmaC5kb20/aC5kb206RWEuRE9NLHk9aCYmaC5zY2hlbWE/aC5zY2hlbWE6UnIoZyk7Zy5lbnRpdHlfZW5jb2Rpbmc9Zy5lbnRpdHlfZW5jb2Rpbmd8fCJuYW1lZCIsZy5yZW1vdmVfdHJhaWxpbmdfYnJzPSEoInJlbW92ZV90cmFpbGluZ19icnMiaW4gZyl8fGcucmVtb3ZlX3RyYWlsaW5nX2Jyczt2YXIgdCxzLGMsYj1WdihnLHkpO3M9ZyxjPXYsKHQ9YikuYWRkQXR0cmlidXRlRmlsdGVyKCJkYXRhLW1jZS10YWJpbmRleCIsZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1lLmxlbmd0aDtyLS07KShuPWVbcl0pLmF0dHIoInRhYmluZGV4IixuLmF0dHIoImRhdGEtbWNlLXRhYmluZGV4IikpLG4uYXR0cih0LG51bGwpfSksdC5hZGRBdHRyaWJ1dGVGaWx0ZXIoInNyYyxocmVmLHN0eWxlIixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLG89ZS5sZW5ndGgsaT0iZGF0YS1tY2UtIit0LGE9cy51cmxfY29udmVydGVyLHU9cy51cmxfY29udmVydGVyX3Njb3BlO28tLTspKHI9KG49ZVtvXSkuYXR0cihpKSkhPT11bmRlZmluZWQ/KG4uYXR0cih0LDA8ci5sZW5ndGg/cjpudWxsKSxuLmF0dHIoaSxudWxsKSk6KHI9bi5hdHRyKHQpLCJzdHlsZSI9PT10P3I9Yy5zZXJpYWxpemVTdHlsZShjLnBhcnNlU3R5bGUociksbi5uYW1lKTphJiYocj1hLmNhbGwodSxyLHQsbi5uYW1lKSksbi5hdHRyKHQsMDxyLmxlbmd0aD9yOm51bGwpKX0pLHQuYWRkQXR0cmlidXRlRmlsdGVyKCJjbGFzcyIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj1lLmxlbmd0aDtyLS07KShuPSh0PWVbcl0pLmF0dHIoImNsYXNzIikpJiYobj10LmF0dHIoImNsYXNzIikucmVwbGFjZSgvKD86XnxccyltY2UtaXRlbS1cdysoPyFcUykvZywiIiksdC5hdHRyKCJjbGFzcyIsMDxuLmxlbmd0aD9uOm51bGwpKX0pLHQuYWRkQXR0cmlidXRlRmlsdGVyKCJkYXRhLW1jZS10eXBlIixmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByLG89ZS5sZW5ndGg7by0tOyl7aWYoImJvb2ttYXJrIj09PShyPWVbb10pLmF0dHIoImRhdGEtbWNlLXR5cGUiKSYmIW4uY2xlYW51cClCLmZyb20oci5maXJzdENoaWxkKS5leGlzdHMoZnVuY3Rpb24oZSl7cmV0dXJuIWJ1KGUudmFsdWUpfSk/ci51bndyYXAoKTpyLnJlbW92ZSgpfX0pLHQuYWRkTm9kZUZpbHRlcigibm9zY3JpcHQiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPWUubGVuZ3RoO24tLTspKHQ9ZVtuXS5maXJzdENoaWxkKSYmKHQudmFsdWU9eXIuZGVjb2RlKHQudmFsdWUpKX0pLHQuYWRkTm9kZUZpbHRlcigic2NyaXB0LHN0eWxlIixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLG8saT1lLmxlbmd0aCxhPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyg8IS0tXFtDREFUQVxbfFxdXF0tLT4pL2csIlxuIikucmVwbGFjZSgvXltcclxuXSp8W1xyXG5dKiQvZywiIikucmVwbGFjZSgvXlxzKigoPCEtLSk/KFxzKlwvXC8pP1xzKjwhXFtDREFUQVxbfCg8IS0tXHMqKT9cL1wqXHMqPCFcW0NEQVRBXFtccypcKlwvfChcL1wvKT9ccyo8IS0tfFwvXCpccyo8IS0tXHMqXCpcLylccypbXHJcbl0qL2dpLCIiKS5yZXBsYWNlKC9ccyooXC9cKlxzKlxdXF0+XHMqXCpcLygtLT4pP3xccypcL1wvXHMqXF1cXT4oLS0+KT98XC9cL1xzKigtLT4pP3xcXVxdPnxcL1wqXHMqLS0+XHMqXCpcL3xccyotLT5ccyopXHMqJC9nLCIiKX07aS0tOylyPShuPWVbaV0pLmZpcnN0Q2hpbGQ/bi5maXJzdENoaWxkLnZhbHVlOiIiLCJzY3JpcHQiPT09dD8oKG89bi5hdHRyKCJ0eXBlIikpJiZuLmF0dHIoInR5cGUiLCJtY2Utbm8vdHlwZSI9PT1vP251bGw6by5yZXBsYWNlKC9ebWNlXC0vLCIiKSksInhodG1sIj09PXMuZWxlbWVudF9mb3JtYXQmJjA8ci5sZW5ndGgmJihuLmZpcnN0Q2hpbGQudmFsdWU9Ii8vIDwhW0NEQVRBW1xuIithKHIpKyJcbi8vIF1dPiIpKToieGh0bWwiPT09cy5lbGVtZW50X2Zvcm1hdCYmMDxyLmxlbmd0aCYmKG4uZmlyc3RDaGlsZC52YWx1ZT0iXHgzYyEtLVxuIithKHIpKyJcbi0tXHgzZSIpfSksdC5hZGROb2RlRmlsdGVyKCIjY29tbWVudCIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49ZS5sZW5ndGg7bi0tOyl0PWVbbl0scy5wcmVzZXJ2ZV9jZGF0YSYmMD09PXQudmFsdWUuaW5kZXhPZigiW0NEQVRBWyIpPyh0Lm5hbWU9IiNjZGF0YSIsdC50eXBlPTQsdC52YWx1ZT1jLmRlY29kZSh0LnZhbHVlLnJlcGxhY2UoL15cW0NEQVRBXFt8XF1cXSQvZywiIikpKTowPT09dC52YWx1ZS5pbmRleE9mKCJtY2U6cHJvdGVjdGVkICIpJiYodC5uYW1lPSIjdGV4dCIsdC50eXBlPTMsdC5yYXc9ITAsdC52YWx1ZT11bmVzY2FwZSh0LnZhbHVlKS5zdWJzdHIoMTQpKX0pLHQuYWRkTm9kZUZpbHRlcigieG1sOm5hbWVzcGFjZSxpbnB1dCIsZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1lLmxlbmd0aDtyLS07KTc9PT0obj1lW3JdKS50eXBlP24ucmVtb3ZlKCk6MT09PW4udHlwZSYmKCJpbnB1dCIhPT10fHxuLmF0dHIoInR5cGUiKXx8bi5hdHRyKCJ0eXBlIiwidGV4dCIpKX0pLHQuYWRkQXR0cmlidXRlRmlsdGVyKCJkYXRhLW1jZS10eXBlIixmdW5jdGlvbihlKXt6KGUsZnVuY3Rpb24oZSl7ImZvcm1hdC1jYXJldCI9PT1lLmF0dHIoImRhdGEtbWNlLXR5cGUiKSYmKGUuaXNFbXB0eSh0LnNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCkpP2UucmVtb3ZlKCk6ZS51bndyYXAoKSl9KX0pLHQuYWRkQXR0cmlidXRlRmlsdGVyKCJkYXRhLW1jZS1zcmMsZGF0YS1tY2UtaHJlZixkYXRhLW1jZS1zdHlsZSxkYXRhLW1jZS1zZWxlY3RlZCxkYXRhLW1jZS1leHBhbmRvLGRhdGEtbWNlLXR5cGUsZGF0YS1tY2UtcmVzaXplLGRhdGEtbWNlLXBsYWNlaG9sZGVyIixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KWVbbl0uYXR0cih0LG51bGwpfSk7cmV0dXJue3NjaGVtYTp5LGFkZE5vZGVGaWx0ZXI6Yi5hZGROb2RlRmlsdGVyLGFkZEF0dHJpYnV0ZUZpbHRlcjpiLmFkZEF0dHJpYnV0ZUZpbHRlcixzZXJpYWxpemU6ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIG4scixvLGksYSx1LHMsYyxsLGY9eGUoe2Zvcm1hdDoiaHRtbCJ9LHQpLGQ9cXYoaCxlLGYpLG09KG49dixyPWQsaT1DdSgobz1mKS5nZXRJbm5lcj9yLmlubmVySFRNTDpuLmdldE91dGVySFRNTChyKSksby5zZWxlY3Rpb258fG5yKEN0LmZyb21Eb20ocikpP2k6eXQudHJpbShpKSkscD0oYT1iLHU9bSxjPShzPWYpLnNlbGVjdGlvbj94ZSh7Zm9yY2VkX3Jvb3RfYmxvY2s6ITF9LHMpOnMsZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJiciI9PT1lLm5hbWV9LG49ZS5sYXN0Q2hpbGQ7aWYodChuKSl7dmFyIHI9bi5wcmV2O3QocikmJihuLnJlbW92ZSgpLHIucmVtb3ZlKCkpfX0obD1hLnBhcnNlKHUsYykpLGwpO3JldHVybiJ0cmVlIj09PWYuZm9ybWF0P3A6V3YoaCxnLHkscCxmKX0sYWRkUnVsZXM6ZnVuY3Rpb24oZSl7eS5hZGRWYWxpZEVsZW1lbnRzKGUpfSxzZXRSdWxlczpmdW5jdGlvbihlKXt5LnNldFZhbGlkRWxlbWVudHMoZSl9LGFkZFRlbXBBdHRyOk4oJHYsYixlKSxnZXRUZW1wQXR0cnM6ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZ2V0Tm9kZUZpbHRlcnM6Yi5nZXROb2RlRmlsdGVycyxnZXRBdHRyaWJ1dGVGaWx0ZXJzOmIuZ2V0QXR0cmlidXRlRmlsdGVyc319LFh2PWZ1bmN0aW9uKGUsdCl7dmFyIG49S3YoZSx0KTtyZXR1cm57c2NoZW1hOm4uc2NoZW1hLGFkZE5vZGVGaWx0ZXI6bi5hZGROb2RlRmlsdGVyLGFkZEF0dHJpYnV0ZUZpbHRlcjpuLmFkZEF0dHJpYnV0ZUZpbHRlcixzZXJpYWxpemU6bi5zZXJpYWxpemUsYWRkUnVsZXM6bi5hZGRSdWxlcyxzZXRSdWxlczpuLnNldFJ1bGVzLGFkZFRlbXBBdHRyOm4uYWRkVGVtcEF0dHIsZ2V0VGVtcEF0dHJzOm4uZ2V0VGVtcEF0dHJzLGdldE5vZGVGaWx0ZXJzOm4uZ2V0Tm9kZUZpbHRlcnMsZ2V0QXR0cmlidXRlRmlsdGVyczpuLmdldEF0dHJpYnV0ZUZpbHRlcnN9fTtmdW5jdGlvbiBZdih1LHMpe3ZhciByPXt9LG49ZnVuY3Rpb24oZSxyLG8sdCl7dmFyIGk9bmV3IFYuWE1MSHR0cFJlcXVlc3Q7aS5vcGVuKCJQT1NUIixzLnVybCksaS53aXRoQ3JlZGVudGlhbHM9cy5jcmVkZW50aWFscyxpLnVwbG9hZC5vbnByb2dyZXNzPWZ1bmN0aW9uKGUpe3QoZS5sb2FkZWQvZS50b3RhbCoxMDApfSxpLm9uZXJyb3I9ZnVuY3Rpb24oKXtvKCJJbWFnZSB1cGxvYWQgZmFpbGVkIGR1ZSB0byBhIFhIUiBUcmFuc3BvcnQgZXJyb3IuIENvZGU6ICIraS5zdGF0dXMpfSxpLm9ubG9hZD1mdW5jdGlvbigpe2lmKGkuc3RhdHVzPDIwMHx8MzAwPD1pLnN0YXR1cylvKCJIVFRQIEVycm9yOiAiK2kuc3RhdHVzKTtlbHNle3ZhciBlLHQsbj1KU09OLnBhcnNlKGkucmVzcG9uc2VUZXh0KTtpZihuJiYic3RyaW5nIj09dHlwZW9mIG4ubG9jYXRpb24pcigoZT1zLmJhc2VQYXRoLHQ9bi5sb2NhdGlvbixlP2UucmVwbGFjZSgvXC8kLywiIikrIi8iK3QucmVwbGFjZSgvXlwvLywiIik6dCkpO2Vsc2UgbygiSW52YWxpZCBKU09OOiAiK2kucmVzcG9uc2VUZXh0KX19O3ZhciBuPW5ldyBWLkZvcm1EYXRhO24uYXBwZW5kKCJmaWxlIixlLmJsb2IoKSxlLmZpbGVuYW1lKCkpLGkuc2VuZChuKX0sYz1mdW5jdGlvbihlLHQpe3JldHVybnt1cmw6dCxibG9iSW5mbzplLHN0YXR1czohMH19LGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dXJsOiIiLGJsb2JJbmZvOmUsc3RhdHVzOiExLGVycm9yOnR9fSxmPWZ1bmN0aW9uKGUsdCl7eXQuZWFjaChyW2VdLGZ1bmN0aW9uKGUpe2UodCl9KSxkZWxldGUgcltlXX0sbz1mdW5jdGlvbihlLG4pe3JldHVybiBlPXl0LmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4hdS5pc1VwbG9hZGVkKGUuYmxvYlVyaSgpKX0pLGVhLmFsbCh5dC5tYXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gdS5pc1BlbmRpbmcoZS5ibG9iVXJpKCkpPyh0PWUuYmxvYlVyaSgpLG5ldyBlYShmdW5jdGlvbihlKXtyW3RdPXJbdF18fFtdLHJbdF0ucHVzaChlKX0pKToobz1lLGk9cy5oYW5kbGVyLGE9bix1Lm1hcmtQZW5kaW5nKG8uYmxvYlVyaSgpKSxuZXcgZWEoZnVuY3Rpb24odCl7dmFyIG47dHJ5e3ZhciByPWZ1bmN0aW9uKCl7biYmbi5jbG9zZSgpfTtpKG8sZnVuY3Rpb24oZSl7cigpLHUubWFya1VwbG9hZGVkKG8uYmxvYlVyaSgpLGUpLGYoby5ibG9iVXJpKCksYyhvLGUpKSx0KGMobyxlKSl9LGZ1bmN0aW9uKGUpe3IoKSx1LnJlbW92ZUZhaWxlZChvLmJsb2JVcmkoKSksZihvLmJsb2JVcmkoKSxsKG8sZSkpLHQobChvLGUpKX0sZnVuY3Rpb24oZSl7ZTwwfHwxMDA8ZXx8KG49bnx8YSgpKS5wcm9ncmVzc0Jhci52YWx1ZShlKX0pfWNhdGNoKGUpe3QobChvLGUubWVzc2FnZSkpfX0pKTt2YXIgbyxpLGEsdH0pKX07cmV0dXJuITE9PT1BKHMuaGFuZGxlcikmJihzLmhhbmRsZXI9bikse3VwbG9hZDpmdW5jdGlvbihlLHQpe3JldHVybiBzLnVybHx8cy5oYW5kbGVyIT09bj9vKGUsdCk6bmV3IGVhKGZ1bmN0aW9uKGUpe2UoW10pfSl9fX12YXIgR3Y9MCxKdj1mdW5jdGlvbihlKXtyZXR1cm4gZStHdisrKyh0PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucm91bmQoNDI5NDk2NzI5NSpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygzNil9LCJzIisobmV3IERhdGUpLmdldFRpbWUoKS50b1N0cmluZygzNikrdCgpK3QoKSt0KCkpO3ZhciB0fSxRdj1mdW5jdGlvbih1KXt2YXIgbixvLGUsdCxyLGkscz0obj1bXSxvPWZ1bmN0aW9uKGUpe2lmKCFlLmJsb2J8fCFlLmJhc2U2NCl0aHJvdyBuZXcgRXJyb3IoImJsb2IgYW5kIGJhc2U2NCByZXByZXNlbnRhdGlvbnMgb2YgdGhlIGltYWdlIGFyZSByZXF1aXJlZCBmb3IgQmxvYkluZm8gdG8gYmUgY3JlYXRlZCIpO3ZhciB0PWUuaWR8fEp2KCJibG9iaWQiKSxuPWUubmFtZXx8dDtyZXR1cm57aWQ6eCh0KSxuYW1lOngobiksZmlsZW5hbWU6eChuKyIuIisoeyJpbWFnZS9qcGVnIjoianBnIiwiaW1hZ2UvanBnIjoianBnIiwiaW1hZ2UvZ2lmIjoiZ2lmIiwiaW1hZ2UvcG5nIjoicG5nIn1bZS5ibG9iLnR5cGUudG9Mb3dlckNhc2UoKV18fCJkYXQiKSksYmxvYjp4KGUuYmxvYiksYmFzZTY0OngoZS5iYXNlNjQpLGJsb2JVcmk6eChlLmJsb2JVcml8fFYuVVJMLmNyZWF0ZU9iamVjdFVSTChlLmJsb2IpKSx1cmk6eChlLnVyaSl9fSx7Y3JlYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKHEoZSkpcmV0dXJuIG8oe2lkOmUsbmFtZTpyLGJsb2I6dCxiYXNlNjQ6bn0pO2lmKEUoZSkpcmV0dXJuIG8oZSk7dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGlucHV0IHR5cGUiKX0sYWRkOmZ1bmN0aW9uKGUpe3QoZS5pZCgpKXx8bi5wdXNoKGUpfSxnZXQ6dD1mdW5jdGlvbih0KXtyZXR1cm4gZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pZCgpPT09dH0pfSxnZXRCeVVyaTpmdW5jdGlvbih0KXtyZXR1cm4gZShmdW5jdGlvbihlKXtyZXR1cm4gZS5ibG9iVXJpKCk9PT10fSl9LGdldEJ5RGF0YTpmdW5jdGlvbih0LG4pe3JldHVybiBlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJhc2U2NCgpPT09dCYmZS5ibG9iKCkudHlwZT09PW59KX0sZmluZEZpcnN0OmU9ZnVuY3Rpb24oZSl7cmV0dXJuIEsobixlKS5nZXRPclVuZGVmaW5lZCgpfSxyZW1vdmVCeVVyaTpmdW5jdGlvbih0KXtuPUgobixmdW5jdGlvbihlKXtyZXR1cm4gZS5ibG9iVXJpKCkhPT10fHwoVi5VUkwucmV2b2tlT2JqZWN0VVJMKGUuYmxvYlVyaSgpKSwhMSl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3oobixmdW5jdGlvbihlKXtWLlVSTC5yZXZva2VPYmplY3RVUkwoZS5ibG9iVXJpKCkpfSksbj1bXX19KSxhPWZ1bmN0aW9uIHcoKXt2YXIgbj17fSxyPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3N0YXR1czplLHJlc3VsdFVyaTp0fX0sdD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbiBufTtyZXR1cm57aGFzQmxvYlVyaTp0LGdldFJlc3VsdFVyaTpmdW5jdGlvbihlKXt2YXIgdD1uW2VdO3JldHVybiB0P3QucmVzdWx0VXJpOm51bGx9LGlzUGVuZGluZzpmdW5jdGlvbihlKXtyZXR1cm4hIXQoZSkmJjE9PT1uW2VdLnN0YXR1c30saXNVcGxvYWRlZDpmdW5jdGlvbihlKXtyZXR1cm4hIXQoZSkmJjI9PT1uW2VdLnN0YXR1c30sbWFya1BlbmRpbmc6ZnVuY3Rpb24oZSl7bltlXT1yKDEsbnVsbCl9LG1hcmtVcGxvYWRlZDpmdW5jdGlvbihlLHQpe25bZV09cigyLHQpfSxyZW1vdmVGYWlsZWQ6ZnVuY3Rpb24oZSl7ZGVsZXRlIG5bZV19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtuPXt9fX19KCksYz1bXSxsPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdS5zZWxlY3Rpb24/dChlKTpbXX19LGY9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wOy0xIT09KHI9ZS5pbmRleE9mKHQscikpJiYoZT1lLnN1YnN0cmluZygwLHIpK24rZS5zdWJzdHIocit0Lmxlbmd0aCkscis9bi5sZW5ndGgtdC5sZW5ndGgrMSksLTEhPT1yOyk7cmV0dXJuIGV9LGQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPWYoZSwnc3JjPSInK3QrJyInLCdzcmM9IicrbisnIicpLGU9ZihlLCdkYXRhLW1jZS1zcmM9IicrdCsnIicsJ2RhdGEtbWNlLXNyYz0iJytuKyciJyl9LG09ZnVuY3Rpb24odCxuKXt6KHUudW5kb01hbmFnZXIuZGF0YSxmdW5jdGlvbihlKXsiZnJhZ21lbnRlZCI9PT1lLnR5cGU/ZS5mcmFnbWVudHM9VShlLmZyYWdtZW50cyxmdW5jdGlvbihlKXtyZXR1cm4gZChlLHQsbil9KTplLmNvbnRlbnQ9ZChlLmNvbnRlbnQsdCxuKX0pfSxwPWZ1bmN0aW9uKCl7cmV0dXJuIHUubm90aWZpY2F0aW9uTWFuYWdlci5vcGVuKHt0ZXh0OnUudHJhbnNsYXRlKCJJbWFnZSB1cGxvYWRpbmcuLi4iKSx0eXBlOiJpbmZvIix0aW1lb3V0Oi0xLHByb2dyZXNzQmFyOiEwfSl9LGc9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPXUuY29udmVydFVSTCh0LCJzcmMiKTttKGUuc3JjLHQpLHUuJChlKS5hdHRyKHtzcmM6dS5nZXRQYXJhbSgiaW1hZ2VzX3JldXNlX2ZpbGVuYW1lIiwhMSwiYm9vbGVhbiIpPyhuPXQpKygtMT09PW4uaW5kZXhPZigiPyIpPyI/IjoiJiIpKyhuZXcgRGF0ZSkuZ2V0VGltZSgpOnQsImRhdGEtbWNlLXNyYyI6cn0pfSxoPWZ1bmN0aW9uKG4pe3JldHVybiByPXJ8fFl2KGEse3VybDp1LmdldFBhcmFtKCJpbWFnZXNfdXBsb2FkX3VybCIsIiIsInN0cmluZyIpLGJhc2VQYXRoOnUuZ2V0UGFyYW0oImltYWdlc191cGxvYWRfYmFzZV9wYXRoIiwiIiwic3RyaW5nIiksY3JlZGVudGlhbHM6dS5nZXRQYXJhbSgiaW1hZ2VzX3VwbG9hZF9jcmVkZW50aWFscyIsITEsImJvb2xlYW4iKSxoYW5kbGVyOnUuZ2V0UGFyYW0oImltYWdlc191cGxvYWRfaGFuZGxlciIsbnVsbCwiZnVuY3Rpb24iKX0pLGIoKS50aGVuKGwoZnVuY3Rpb24oYSl7dmFyIGU9VShhLGZ1bmN0aW9uKGUpe3JldHVybiBlLmJsb2JJbmZvfSk7cmV0dXJuIHIudXBsb2FkKGUscCkudGhlbihsKGZ1bmN0aW9uKGUpe3ZhciB0PVUoZSxmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1hW3RdLmJsb2JJbmZvLGk9YVt0XS5pbWFnZTtyZXR1cm4gZS5zdGF0dXMmJnUuZ2V0UGFyYW0oImltYWdlc19yZXBsYWNlX2Jsb2JfdXJpcyIsITAsImJvb2xlYW4iKT8ocy5yZW1vdmVCeVVyaShpLnNyYyksZyhpLGUudXJsKSk6ZS5lcnJvciYmKG49dSxyPWUuZXJyb3IsU2gobixJYS50cmFuc2xhdGUoWyJGYWlsZWQgdG8gdXBsb2FkIGltYWdlOiB7MH0iLHJdKSkpLHtlbGVtZW50Omksc3RhdHVzOmUuc3RhdHVzLHVwbG9hZFVyaTplLnVybCxibG9iSW5mbzpvfX0pO3JldHVybiBuJiZuKHQpLHR9KSl9KSl9LHY9ZnVuY3Rpb24oZSl7aWYoSnModSkpcmV0dXJuIGgoZSl9LHk9ZnVuY3Rpb24odCl7cmV0dXJuITEhPT1HKGMsZnVuY3Rpb24oZSl7cmV0dXJuIGUodCl9KSYmKDAhPT10LmdldEF0dHJpYnV0ZSgic3JjIikuaW5kZXhPZigiZGF0YToiKXx8dS5nZXRQYXJhbSgiaW1hZ2VzX2RhdGFpbWdfZmlsdGVyIix4KCEwKSwiZnVuY3Rpb24iKSh0KSl9LGI9ZnVuY3Rpb24oKXtyZXR1cm4oaT1pfHxCdihhLHMpKS5maW5kQWxsKHUuZ2V0Qm9keSgpLHkpLnRoZW4obChmdW5jdGlvbihlKXtyZXR1cm4gZT1IKGUsZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlfHwoU2godSxlKSwhMSl9KSx6KGUsZnVuY3Rpb24oZSl7bShlLmltYWdlLnNyYyxlLmJsb2JJbmZvLmJsb2JVcmkoKSksZS5pbWFnZS5zcmM9ZS5ibG9iSW5mby5ibG9iVXJpKCksZS5pbWFnZS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNyYyIpfSksZX0pKX0sQz1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9zcmM9IihibG9iOlteIl0rKSIvZyxmdW5jdGlvbihlLG4pe3ZhciB0PWEuZ2V0UmVzdWx0VXJpKG4pO2lmKHQpcmV0dXJuJ3NyYz0iJyt0KyciJzt2YXIgcj1zLmdldEJ5VXJpKG4pO3JldHVybihyPXJ8fFcodS5lZGl0b3JNYW5hZ2VyLmdldCgpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGV8fHQuZWRpdG9yVXBsb2FkJiZ0LmVkaXRvclVwbG9hZC5ibG9iQ2FjaGUuZ2V0QnlVcmkobil9LG51bGwpKT8nc3JjPSJkYXRhOicrci5ibG9iKCkudHlwZSsiO2Jhc2U2NCwiK3IuYmFzZTY0KCkrJyInOmV9KX07cmV0dXJuIHUub24oIlNldENvbnRlbnQiLGZ1bmN0aW9uKCl7KEpzKHUpP3Y6YikoKX0pLHUub24oIlJhd1NhdmVDb250ZW50IixmdW5jdGlvbihlKXtlLmNvbnRlbnQ9QyhlLmNvbnRlbnQpfSksdS5vbigiR2V0Q29udGVudCIsZnVuY3Rpb24oZSl7ZS5zb3VyY2Vfdmlld3x8InJhdyI9PT1lLmZvcm1hdHx8KGUuY29udGVudD1DKGUuY29udGVudCkpfSksdS5vbigiUG9zdFJlbmRlciIsZnVuY3Rpb24oKXt1LnBhcnNlci5hZGROb2RlRmlsdGVyKCJpbWciLGZ1bmN0aW9uKGUpe3ooZSxmdW5jdGlvbihlKXt2YXIgdD1lLmF0dHIoInNyYyIpO2lmKCFzLmdldEJ5VXJpKHQpKXt2YXIgbj1hLmdldFJlc3VsdFVyaSh0KTtuJiZlLmF0dHIoInNyYyIsbil9fSl9KX0pLHtibG9iQ2FjaGU6cyxhZGRGaWx0ZXI6ZnVuY3Rpb24oZSl7Yy5wdXNoKGUpfSx1cGxvYWRJbWFnZXM6aCx1cGxvYWRJbWFnZXNBdXRvOnYsc2NhbkZvckltYWdlczpiLGRlc3Ryb3k6ZnVuY3Rpb24oKXtzLmRlc3Ryb3koKSxhLmRlc3Ryb3koKSxpPXI9bnVsbH19fSxadj1mdW5jdGlvbihyLGUsdCxuKXt2YXIgbz1uZSh0LmdldCgpKSxpPXt9LGE9e30sdT1IKGpsKHIuZG9tLGUpLGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZSYmIWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpfSk7b2UobixmdW5jdGlvbihlLG4pe3l0LmVhY2godSxmdW5jdGlvbih0KXtyZXR1cm4gci5mb3JtYXR0ZXIubWF0Y2hOb2RlKHQsbix7fSxlLnNpbWlsYXIpPygtMT09PW8uaW5kZXhPZihuKSYmKHooZS5jYWxsYmFja3MsZnVuY3Rpb24oZSl7ZSghMCx7bm9kZTp0LGZvcm1hdDpuLHBhcmVudHM6dX0pfSksaVtuXT1lLmNhbGxiYWNrcyksYVtuXT1lLmNhbGxiYWNrcywhMSk6IWFwKHIsdCxuKSYmdm9pZCAwfSl9KTt2YXIgcz1leSh0LmdldCgpLGEsZSx1KTt0LnNldCh4ZSh4ZSh7fSxpKSxzKSl9LGV5PWZ1bmN0aW9uKGUsbixyLG8pe3JldHVybiBjZShlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuISFtZShuLHQpfHwoeihlLGZ1bmN0aW9uKGUpe2UoITEse25vZGU6cixmb3JtYXQ6dCxwYXJlbnRzOm99KX0pLCExKX0pLnR9LHR5PWZ1bmN0aW9uKGUsbyxpLGEsdCl7dmFyIG4scix1LHMsYyxsLGYsZDtyZXR1cm4gbnVsbD09PW8uZ2V0KCkmJihyPWUsdT1PYSh7fSksKG49bykuc2V0KHt9KSxyLm9uKCJOb2RlQ2hhbmdlIixmdW5jdGlvbihlKXtadihyLGUuZWxlbWVudCx1LG4uZ2V0KCkpfSkpLGM9aSxsPWEsZj10LGQ9KHM9bykuZ2V0KCkseihjLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7ZFtlXXx8KGRbZV09e3NpbWlsYXI6ZixjYWxsYmFja3M6W119KSxkW2VdLmNhbGxiYWNrcy5wdXNoKGwpfSkscy5zZXQoZCkse3VuYmluZDpmdW5jdGlvbigpe3JldHVybiB0PWksbj1hLHI9KGU9bykuZ2V0KCkseih0LnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7cltlXS5jYWxsYmFja3M9SChyW2VdLmNhbGxiYWNrcyxmdW5jdGlvbihlKXtyZXR1cm4gZSE9PW59KSwwPT09cltlXS5jYWxsYmFja3MubGVuZ3RoJiZkZWxldGUgcltlXX0pLHZvaWQgZS5zZXQocik7dmFyIGUsdCxuLHJ9fX07ZnVuY3Rpb24gbnkoZSl7dmFyIHIsdCxuPXt9LG89ZnVuY3Rpb24oZSx0KXtlJiYoInN0cmluZyIhPXR5cGVvZiBlP3l0LmVhY2goZSxmdW5jdGlvbihlLHQpe28odCxlKX0pOihrKHQpfHwodD1bdF0pLHl0LmVhY2godCxmdW5jdGlvbihlKXsidW5kZWZpbmVkIj09dHlwZW9mIGUuZGVlcCYmKGUuZGVlcD0hZS5zZWxlY3RvciksInVuZGVmaW5lZCI9PXR5cGVvZiBlLnNwbGl0JiYoZS5zcGxpdD0hZS5zZWxlY3Rvcnx8ZS5pbmxpbmUpLCJ1bmRlZmluZWQiPT10eXBlb2YgZS5yZW1vdmUmJmUuc2VsZWN0b3ImJiFlLmlubGluZSYmKGUucmVtb3ZlPSJub25lIiksZS5zZWxlY3RvciYmZS5pbmxpbmUmJihlLm1peGVkPSEwLGUuYmxvY2tfZXhwYW5kPSEwKSwic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NlcyYmKGUuY2xhc3Nlcz1lLmNsYXNzZXMuc3BsaXQoL1xzKy8pKX0pLG5bZV09dCkpfTtyZXR1cm4gbygocj1lLmRvbSx0PXt2YWxpZ250b3A6W3tzZWxlY3RvcjoidGQsdGgiLHN0eWxlczp7dmVydGljYWxBbGlnbjoidG9wIn19XSx2YWxpZ25taWRkbGU6W3tzZWxlY3RvcjoidGQsdGgiLHN0eWxlczp7dmVydGljYWxBbGlnbjoibWlkZGxlIn19XSx2YWxpZ25ib3R0b206W3tzZWxlY3RvcjoidGQsdGgiLHN0eWxlczp7dmVydGljYWxBbGlnbjoiYm90dG9tIn19XSxhbGlnbmxlZnQ6W3tzZWxlY3RvcjoiZmlndXJlLmltYWdlIixjb2xsYXBzZWQ6ITEsY2xhc3NlczoiYWxpZ24tbGVmdCIsY2VGYWxzZU92ZXJyaWRlOiEwLHByZXZpZXc6ImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSJ9LHtzZWxlY3RvcjoiZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpIixzdHlsZXM6e3RleHRBbGlnbjoibGVmdCJ9LGluaGVyaXQ6ITEscHJldmlldzohMSxkZWZhdWx0QmxvY2s6ImRpdiJ9LHtzZWxlY3RvcjoiaW1nLHRhYmxlIixjb2xsYXBzZWQ6ITEsc3R5bGVzOnsiZmxvYXQiOiJsZWZ0In0scHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn1dLGFsaWduY2VudGVyOlt7c2VsZWN0b3I6ImZpZ3VyZSxwLGgxLGgyLGgzLGg0LGg1LGg2LHRkLHRoLHRyLGRpdix1bCxvbCxsaSIsc3R5bGVzOnt0ZXh0QWxpZ246ImNlbnRlciJ9LGluaGVyaXQ6ITEscHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIixkZWZhdWx0QmxvY2s6ImRpdiJ9LHtzZWxlY3RvcjoiZmlndXJlLmltYWdlIixjb2xsYXBzZWQ6ITEsY2xhc3NlczoiYWxpZ24tY2VudGVyIixjZUZhbHNlT3ZlcnJpZGU6ITAscHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn0se3NlbGVjdG9yOiJpbWciLGNvbGxhcHNlZDohMSxzdHlsZXM6e2Rpc3BsYXk6ImJsb2NrIixtYXJnaW5MZWZ0OiJhdXRvIixtYXJnaW5SaWdodDoiYXV0byJ9LHByZXZpZXc6ITF9LHtzZWxlY3RvcjoidGFibGUiLGNvbGxhcHNlZDohMSxzdHlsZXM6e21hcmdpbkxlZnQ6ImF1dG8iLG1hcmdpblJpZ2h0OiJhdXRvIn0scHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn1dLGFsaWducmlnaHQ6W3tzZWxlY3RvcjoiZmlndXJlLmltYWdlIixjb2xsYXBzZWQ6ITEsY2xhc3NlczoiYWxpZ24tcmlnaHQiLGNlRmFsc2VPdmVycmlkZTohMCxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifSx7c2VsZWN0b3I6ImZpZ3VyZSxwLGgxLGgyLGgzLGg0LGg1LGg2LHRkLHRoLHRyLGRpdix1bCxvbCxsaSIsc3R5bGVzOnt0ZXh0QWxpZ246InJpZ2h0In0saW5oZXJpdDohMSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUiLGRlZmF1bHRCbG9jazoiZGl2In0se3NlbGVjdG9yOiJpbWcsdGFibGUiLGNvbGxhcHNlZDohMSxzdHlsZXM6eyJmbG9hdCI6InJpZ2h0In0scHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn1dLGFsaWduanVzdGlmeTpbe3NlbGVjdG9yOiJmaWd1cmUscCxoMSxoMixoMyxoNCxoNSxoNix0ZCx0aCx0cixkaXYsdWwsb2wsbGkiLHN0eWxlczp7dGV4dEFsaWduOiJqdXN0aWZ5In0saW5oZXJpdDohMSxkZWZhdWx0QmxvY2s6ImRpdiIscHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn1dLGJvbGQ6W3tpbmxpbmU6InN0cm9uZyIscmVtb3ZlOiJhbGwiLHByZXNlcnZlX2F0dHJpYnV0ZXM6WyJjbGFzcyIsInN0eWxlIl19LHtpbmxpbmU6InNwYW4iLHN0eWxlczp7Zm9udFdlaWdodDoiYm9sZCJ9fSx7aW5saW5lOiJiIixyZW1vdmU6ImFsbCIscHJlc2VydmVfYXR0cmlidXRlczpbImNsYXNzIiwic3R5bGUiXX1dLGl0YWxpYzpbe2lubGluZToiZW0iLHJlbW92ZToiYWxsIixwcmVzZXJ2ZV9hdHRyaWJ1dGVzOlsiY2xhc3MiLCJzdHlsZSJdfSx7aW5saW5lOiJzcGFuIixzdHlsZXM6e2ZvbnRTdHlsZToiaXRhbGljIn19LHtpbmxpbmU6ImkiLHJlbW92ZToiYWxsIixwcmVzZXJ2ZV9hdHRyaWJ1dGVzOlsiY2xhc3MiLCJzdHlsZSJdfV0sdW5kZXJsaW5lOlt7aW5saW5lOiJzcGFuIixzdHlsZXM6e3RleHREZWNvcmF0aW9uOiJ1bmRlcmxpbmUifSxleGFjdDohMH0se2lubGluZToidSIscmVtb3ZlOiJhbGwiLHByZXNlcnZlX2F0dHJpYnV0ZXM6WyJjbGFzcyIsInN0eWxlIl19XSxzdHJpa2V0aHJvdWdoOlt7aW5saW5lOiJzcGFuIixzdHlsZXM6e3RleHREZWNvcmF0aW9uOiJsaW5lLXRocm91Z2gifSxleGFjdDohMH0se2lubGluZToic3RyaWtlIixyZW1vdmU6ImFsbCIscHJlc2VydmVfYXR0cmlidXRlczpbImNsYXNzIiwic3R5bGUiXX1dLGZvcmVjb2xvcjp7aW5saW5lOiJzcGFuIixzdHlsZXM6e2NvbG9yOiIldmFsdWUifSxsaW5rczohMCxyZW1vdmVfc2ltaWxhcjohMCxjbGVhcl9jaGlsZF9zdHlsZXM6ITB9LGhpbGl0ZWNvbG9yOntpbmxpbmU6InNwYW4iLHN0eWxlczp7YmFja2dyb3VuZENvbG9yOiIldmFsdWUifSxsaW5rczohMCxyZW1vdmVfc2ltaWxhcjohMCxjbGVhcl9jaGlsZF9zdHlsZXM6ITB9LGZvbnRuYW1lOntpbmxpbmU6InNwYW4iLHRvZ2dsZTohMSxzdHlsZXM6e2ZvbnRGYW1pbHk6IiV2YWx1ZSJ9LGNsZWFyX2NoaWxkX3N0eWxlczohMH0sZm9udHNpemU6e2lubGluZToic3BhbiIsdG9nZ2xlOiExLHN0eWxlczp7Zm9udFNpemU6IiV2YWx1ZSJ9LGNsZWFyX2NoaWxkX3N0eWxlczohMH0sZm9udHNpemVfY2xhc3M6e2lubGluZToic3BhbiIsYXR0cmlidXRlczp7ImNsYXNzIjoiJXZhbHVlIn19LGJsb2NrcXVvdGU6e2Jsb2NrOiJibG9ja3F1b3RlIix3cmFwcGVyOiEwLHJlbW92ZToiYWxsIn0sc3Vic2NyaXB0OntpbmxpbmU6InN1YiJ9LHN1cGVyc2NyaXB0OntpbmxpbmU6InN1cCJ9LGNvZGU6e2lubGluZToiY29kZSJ9LGxpbms6e2lubGluZToiYSIsc2VsZWN0b3I6ImEiLHJlbW92ZToiYWxsIixzcGxpdDohMCxkZWVwOiEwLG9ubWF0Y2g6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25mb3JtYXQ6ZnVuY3Rpb24obixlLHQpe3l0LmVhY2godCxmdW5jdGlvbihlLHQpe3Iuc2V0QXR0cmliKG4sdCxlKX0pfX0scmVtb3ZlZm9ybWF0Olt7c2VsZWN0b3I6ImIsc3Ryb25nLGVtLGksZm9udCx1LHN0cmlrZSxzdWIsc3VwLGRmbixjb2RlLHNhbXAsa2JkLHZhcixjaXRlLG1hcmsscSxkZWwsaW5zIixyZW1vdmU6ImFsbCIsc3BsaXQ6ITAsZXhwYW5kOiExLGJsb2NrX2V4cGFuZDohMCxkZWVwOiEwfSx7c2VsZWN0b3I6InNwYW4iLGF0dHJpYnV0ZXM6WyJzdHlsZSIsImNsYXNzIl0scmVtb3ZlOiJlbXB0eSIsc3BsaXQ6ITAsZXhwYW5kOiExLGRlZXA6ITB9LHtzZWxlY3RvcjoiKiIsYXR0cmlidXRlczpbInN0eWxlIiwiY2xhc3MiXSxzcGxpdDohMSxleHBhbmQ6ITEsZGVlcDohMH1dfSx5dC5lYWNoKCJwIGgxIGgyIGgzIGg0IGg1IGg2IGRpdiBhZGRyZXNzIHByZSBkaXYgZHQgZGQgc2FtcCIuc3BsaXQoL1xzLyksZnVuY3Rpb24oZSl7dFtlXT17YmxvY2s6ZSxyZW1vdmU6ImFsbCJ9fSksdCkpLG8oZS5nZXRQYXJhbSgiZm9ybWF0cyIpKSx7Z2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlP25bZV06bn0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBtZShuLGUpfSxyZWdpc3RlcjpvLHVucmVnaXN0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJm5bZV0mJmRlbGV0ZSBuW2VdLG59fX12YXIgcnksb3ksaXk9eXQuZWFjaCxheT1FYS5ET00sdXk9ZnVuY3Rpb24oZSx0KXt2YXIgbixvLHIsbT10JiZ0LnNjaGVtYXx8UnIoe30pLHA9ZnVuY3Rpb24oZSl7bz0ic3RyaW5nIj09dHlwZW9mIGU/e25hbWU6ZSxjbGFzc2VzOltdLGF0dHJzOnt9fTplO3ZhciB0LG4scj1heS5jcmVhdGUoby5uYW1lKTtyZXR1cm4gdD1yLChuPW8pLmNsYXNzZXMubGVuZ3RoJiZheS5hZGRDbGFzcyh0LG4uY2xhc3Nlcy5qb2luKCIgIikpLGF5LnNldEF0dHJpYnModCxuLmF0dHJzKSxyfSxnPWZ1bmN0aW9uKG4sZSx0KXt2YXIgcixvLGksYSx1LHMsYyxsPTA8ZS5sZW5ndGgmJmVbMF0sZj1sJiZsLm5hbWUsZD0oYT1mLHU9InN0cmluZyIhPXR5cGVvZihpPW4pP2kubm9kZU5hbWUudG9Mb3dlckNhc2UoKTppLHM9bS5nZXRFbGVtZW50UnVsZSh1KSwhKCEoYz1zJiZzLnBhcmVudHNSZXF1aXJlZCl8fCFjLmxlbmd0aCkmJihhJiYtMSE9PXl0LmluQXJyYXkoYyxhKT9hOmNbMF0pKTtpZihkKWY9PT1kPyhvPWVbMF0sZT1lLnNsaWNlKDEpKTpvPWQ7ZWxzZSBpZihsKW89ZVswXSxlPWUuc2xpY2UoMSk7ZWxzZSBpZighdClyZXR1cm4gbjtyZXR1cm4gbyYmKHI9cChvKSkuYXBwZW5kQ2hpbGQobiksdCYmKHJ8fChyPWF5LmNyZWF0ZSgiZGl2IikpLmFwcGVuZENoaWxkKG4pLHl0LmVhY2godCxmdW5jdGlvbihlKXt2YXIgdD1wKGUpO3IuaW5zZXJ0QmVmb3JlKHQsbil9KSksZyhyLGUsbyYmby5zaWJsaW5ncyl9O3JldHVybiBlJiZlLmxlbmd0aD8obz1lWzBdLG49cChvKSwocj1heS5jcmVhdGUoImRpdiIpKS5hcHBlbmRDaGlsZChnKG4sZS5zbGljZSgxKSxvLnNpYmxpbmdzKSkscik6IiJ9LHN5PWZ1bmN0aW9uKGUpe3ZhciB0LGE9e2NsYXNzZXM6W10sYXR0cnM6e319O3JldHVybiIqIiE9PShlPWEuc2VsZWN0b3I9eXQudHJpbShlKSkmJih0PWUucmVwbGFjZSgvKD86KFsjXC5dfDo6PykoW1x3XC1dKyl8KFxbKShbXlxdXSspXF0/KS9nLGZ1bmN0aW9uKGUsdCxuLHIsbyl7c3dpdGNoKHQpe2Nhc2UiIyI6YS5hdHRycy5pZD1uO2JyZWFrO2Nhc2UiLiI6YS5jbGFzc2VzLnB1c2gobik7YnJlYWs7Y2FzZSI6IjotMSE9PXl0LmluQXJyYXkoImNoZWNrZWQgZGlzYWJsZWQgZW5hYmxlZCByZWFkLW9ubHkgcmVxdWlyZWQiLnNwbGl0KCIgIiksbikmJihhLmF0dHJzW25dPW4pfWlmKCJbIj09PXIpe3ZhciBpPW8ubWF0Y2goLyhbXHdcLV0rKSg/Olw9XCIoW15cIl0rKSk/Lyk7aSYmKGEuYXR0cnNbaVsxXV09aVsyXSl9cmV0dXJuIiJ9KSksYS5uYW1lPXR8fCJkaXYiLGF9LGN5PWZ1bmN0aW9uKG4sZSl7dmFyIHQscixvLGksYT0iIix1PShpPW4uZ2V0UGFyYW0oInByZXZpZXdfc3R5bGVzIiwiZm9udC1mYW1pbHkgZm9udC1zaXplIGZvbnQtd2VpZ2h0IGZvbnQtc3R5bGUgdGV4dC1kZWNvcmF0aW9uIHRleHQtdHJhbnNmb3JtIGNvbG9yIGJhY2tncm91bmQtY29sb3IgYm9yZGVyIGJvcmRlci1yYWRpdXMgb3V0bGluZSB0ZXh0LXNoYWRvdyIpLHEoaSk/aToiIik7aWYoIiI9PT11KXJldHVybiIiO3ZhciBzPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyUoXHcrKS9nLCIiKX07aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZighKGU9bi5mb3JtYXR0ZXIuZ2V0KGUpKSlyZXR1cm47ZT1lWzBdfWlmKCJwcmV2aWV3ImluIGUpe3ZhciBjPWRlKGUsInByZXZpZXciKTtpZihjLmlzKCExKSlyZXR1cm4iIjt1PWMuZ2V0T3IodSl9dD1lLmJsb2NrfHxlLmlubGluZXx8InNwYW4iO3ZhciBsLGY9KGw9ZS5zZWxlY3RvcikmJiJzdHJpbmciPT10eXBlb2YgbD8obD0obD1sLnNwbGl0KC9ccyosXHMqLylbMF0pLnJlcGxhY2UoL1xzKih+XCt8fnxcK3w+KVxzKi9nLCIkMSIpLHl0Lm1hcChsLnNwbGl0KC8oPzo+fFxzKyg/IVteXFtcXV0rXF0pKS8pLGZ1bmN0aW9uKGUpe3ZhciB0PXl0Lm1hcChlLnNwbGl0KC8oPzp+XCt8fnxcKykvKSxzeSksbj10LnBvcCgpO3JldHVybiB0Lmxlbmd0aCYmKG4uc2libGluZ3M9dCksbn0pLnJldmVyc2UoKSk6W107cj1mLmxlbmd0aD8oZlswXS5uYW1lfHwoZlswXS5uYW1lPXQpLHQ9ZS5zZWxlY3Rvcix1eShmLG4pKTp1eShbdF0sbik7dmFyIGQ9YXkuc2VsZWN0KHQscilbMF18fHIuZmlyc3RDaGlsZDtyZXR1cm4gaXkoZS5zdHlsZXMsZnVuY3Rpb24oZSx0KXsoZT1zKGUpKSYmYXkuc2V0U3R5bGUoZCx0LGUpfSksaXkoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUsdCl7KGU9cyhlKSkmJmF5LnNldEF0dHJpYihkLHQsZSl9KSxpeShlLmNsYXNzZXMsZnVuY3Rpb24oZSl7ZT1zKGUpLGF5Lmhhc0NsYXNzKGQsZSl8fGF5LmFkZENsYXNzKGQsZSl9KSxuLmZpcmUoIlByZXZpZXdGb3JtYXRzIiksYXkuc2V0U3R5bGVzKHIse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDotNjU1MzV9KSxuLmdldEJvZHkoKS5hcHBlbmRDaGlsZChyKSxvPWF5LmdldFN0eWxlKG4uZ2V0Qm9keSgpLCJmb250U2l6ZSIsITApLG89L3B4JC8udGVzdChvKT9wYXJzZUludChvLDEwKTowLGl5KHUuc3BsaXQoIiAiKSxmdW5jdGlvbihlKXt2YXIgdD1heS5nZXRTdHlsZShkLGUsITApO2lmKCEoImJhY2tncm91bmQtY29sb3IiPT09ZSYmL3RyYW5zcGFyZW50fHJnYmFccypcKFteKV0rLFxzKjBcKS8udGVzdCh0KSYmKHQ9YXkuZ2V0U3R5bGUobi5nZXRCb2R5KCksZSwhMCksIiNmZmZmZmYiPT09YXkudG9IZXgodCkudG9Mb3dlckNhc2UoKSl8fCJjb2xvciI9PT1lJiYiIzAwMDAwMCI9PT1heS50b0hleCh0KS50b0xvd2VyQ2FzZSgpKSl7aWYoImZvbnQtc2l6ZSI9PT1lJiYvZW18JSQvLnRlc3QodCkpe2lmKDA9PT1vKXJldHVybjt0PXBhcnNlRmxvYXQodCkvKC8lJC8udGVzdCh0KT8xMDA6MSkqbysicHgifSJib3JkZXIiPT09ZSYmdCYmKGErPSJwYWRkaW5nOjAgMnB4OyIpLGErPWUrIjoiK3QrIjsifX0pLG4uZmlyZSgiQWZ0ZXJQcmV2aWV3Rm9ybWF0cyIpLGF5LnJlbW92ZShyKSxhfSxseT1mdW5jdGlvbihzKXt2YXIgZT1ueShzKSx0PU9hKG51bGwpO3JldHVybiBmdW5jdGlvbihlKXtlLmFkZFNob3J0Y3V0KCJtZXRhK2IiLCIiLCJCb2xkIiksZS5hZGRTaG9ydGN1dCgibWV0YStpIiwiIiwiSXRhbGljIiksZS5hZGRTaG9ydGN1dCgibWV0YSt1IiwiIiwiVW5kZXJsaW5lIik7Zm9yKHZhciB0PTE7dDw9Njt0KyspZS5hZGRTaG9ydGN1dCgiYWNjZXNzKyIrdCwiIixbIkZvcm1hdEJsb2NrIiwhMSwiaCIrdF0pO2UuYWRkU2hvcnRjdXQoImFjY2Vzcys3IiwiIixbIkZvcm1hdEJsb2NrIiwhMSwicCJdKSxlLmFkZFNob3J0Y3V0KCJhY2Nlc3MrOCIsIiIsWyJGb3JtYXRCbG9jayIsITEsImRpdiJdKSxlLmFkZFNob3J0Y3V0KCJhY2Nlc3MrOSIsIiIsWyJGb3JtYXRCbG9jayIsITEsImFkZHJlc3MiXSl9KHMpLEVwKHMpLHtnZXQ6ZS5nZXQsaGFzOmUuaGFzLHJlZ2lzdGVyOmUucmVnaXN0ZXIsdW5yZWdpc3RlcjplLnVucmVnaXN0ZXIsYXBwbHk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saTtyPWUsbz10LGk9bixVZyhzKS5mb3JtYXR0ZXIuYXBwbHkocixvLGkpfSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHU7bz1lLGk9dCxhPW4sdT1yLFVnKHMpLmZvcm1hdHRlci5yZW1vdmUobyxpLGEsdSl9LHRvZ2dsZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpO3I9ZSxvPXQsaT1uLFVnKHMpLmZvcm1hdHRlci50b2dnbGUocixvLGkpfSxtYXRjaDpOKGZwLHMpLG1hdGNoQWxsOk4oZHAscyksbWF0Y2hOb2RlOk4obHAscyksY2FuQXBwbHk6TihtcCxzKSxmb3JtYXRDaGFuZ2VkOk4odHkscyx0KSxnZXRDc3NUZXh0Ok4oY3kscyl9fSxmeT1mdW5jdGlvbihuLHIsbyl7dmFyIGk9T2EoITEpLGE9ZnVuY3Rpb24oZSl7QWcociwhMSxvKSxyLmFkZCh7fSxlKX07bi5vbigiaW5pdCIsZnVuY3Rpb24oKXtyLmFkZCgpfSksbi5vbigiQmVmb3JlRXhlY0NvbW1hbmQiLGZ1bmN0aW9uKGUpe3ZhciB0PWUuY29tbWFuZC50b0xvd2VyQ2FzZSgpOyJ1bmRvIiE9PXQmJiJyZWRvIiE9PXQmJiJtY2VyZXBhaW50IiE9PXQmJihEZyhyLG8pLHIuYmVmb3JlQ2hhbmdlKCkpfSksbi5vbigiRXhlY0NvbW1hbmQiLGZ1bmN0aW9uKGUpe3ZhciB0PWUuY29tbWFuZC50b0xvd2VyQ2FzZSgpOyJ1bmRvIiE9PXQmJiJyZWRvIiE9PXQmJiJtY2VyZXBhaW50IiE9PXQmJmEoZSl9KSxuLm9uKCJPYmplY3RSZXNpemVTdGFydCBjdXQiLGZ1bmN0aW9uKCl7ci5iZWZvcmVDaGFuZ2UoKX0pLG4ub24oIlNhdmVDb250ZW50IE9iamVjdFJlc2l6ZWQgYmx1ciIsYSksbi5vbigiZHJhZ2VuZCIsYSksbi5vbigia2V5dXAiLGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5Q29kZTtlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoKDMzPD10JiZ0PD0zNnx8Mzc8PXQmJnQ8PTQwfHw0NT09PXR8fGUuY3RybEtleSkmJihhKCksbi5ub2RlQ2hhbmdlZCgpKSw0NiE9PXQmJjghPT10fHxuLm5vZGVDaGFuZ2VkKCksaS5nZXQoKSYmci50eXBpbmcmJiExPT09VGcoTmcobiksci5kYXRhWzBdKSYmKCExPT09bi5pc0RpcnR5KCkmJihuLnNldERpcnR5KCEwKSxuLmZpcmUoImNoYW5nZSIse2xldmVsOnIuZGF0YVswXSxsYXN0TGV2ZWw6bnVsbH0pKSxuLmZpcmUoIlR5cGluZ1VuZG8iKSxpLnNldCghMSksbi5ub2RlQ2hhbmdlZCgpKSl9KSxuLm9uKCJrZXlkb3duIixmdW5jdGlvbihlKXt2YXIgdD1lLmtleUNvZGU7aWYoIWUuaXNEZWZhdWx0UHJldmVudGVkKCkpaWYoMzM8PXQmJnQ8PTM2fHwzNzw9dCYmdDw9NDB8fDQ1PT09dClyLnR5cGluZyYmYShlKTtlbHNle3ZhciBuPWUuY3RybEtleSYmIWUuYWx0S2V5fHxlLm1ldGFLZXk7ISh0PDE2fHwyMDx0KXx8MjI0PT09dHx8OTE9PT10fHxyLnR5cGluZ3x8bnx8KHIuYmVmb3JlQ2hhbmdlKCksQWcociwhMCxvKSxyLmFkZCh7fSxlKSxpLnNldCghMCkpfX0pLG4ub24oIm1vdXNlZG93biIsZnVuY3Rpb24oZSl7ci50eXBpbmcmJmEoZSl9KTtuLm9uKCJpbnB1dCIsZnVuY3Rpb24oZSl7dmFyIHQsbjtlLmlucHV0VHlwZSYmKCJpbnNlcnRSZXBsYWNlbWVudFRleHQiPT09ZS5pbnB1dFR5cGV8fCJpbnNlcnRUZXh0Ij09PShuPWUpLmlucHV0VHlwZSYmbnVsbD09PW4uZGF0YXx8KCJpbnNlcnRGcm9tUGFzdGUiPT09KHQ9ZSkuaW5wdXRUeXBlfHwiaW5zZXJ0RnJvbURyb3AiPT09dC5pbnB1dFR5cGUpKSYmYShlKX0pLG4ub24oIkFkZFVuZG8gVW5kbyBSZWRvIENsZWFyVW5kb3MiLGZ1bmN0aW9uKGUpe2UuaXNEZWZhdWx0UHJldmVudGVkKCl8fG4ubm9kZUNoYW5nZWQoKX0pfSxkeT1mdW5jdGlvbihzKXt2YXIgZSxjPU9hKEIubm9uZSgpKSxsPU9hKDApLGY9T2EoMCksZD17ZGF0YTpbXSx0eXBpbmc6ITEsYmVmb3JlQ2hhbmdlOmZ1bmN0aW9uKCl7dmFyIGUsdDtlPWwsdD1jLFVnKHMpLnVuZG9NYW5hZ2VyLmJlZm9yZUNoYW5nZShlLHQpfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1kLHI9ZixvPWwsaT1jLGE9ZSx1PXQsVWcocykudW5kb01hbmFnZXIuYWRkVW5kb0xldmVsKG4scixvLGksYSx1KTt2YXIgbixyLG8saSxhLHV9LHVuZG86ZnVuY3Rpb24oKXtyZXR1cm4gZT1kLHQ9bCxuPWYsVWcocykudW5kb01hbmFnZXIudW5kbyhlLHQsbik7dmFyIGUsdCxufSxyZWRvOmZ1bmN0aW9uKCl7cmV0dXJuIGU9cyx0PWYsbj1kLmRhdGEsVWcoZSkudW5kb01hbmFnZXIucmVkbyh0LG4pO3ZhciBlLHQsbn0sY2xlYXI6ZnVuY3Rpb24oKXt2YXIgZSx0O2U9ZCx0PWYsVWcocykudW5kb01hbmFnZXIuY2xlYXIoZSx0KX0scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgZTtlPWQsVWcocykudW5kb01hbmFnZXIucmVzZXQoZSl9LGhhc1VuZG86ZnVuY3Rpb24oKXtyZXR1cm4gZT1kLHQ9ZixVZyhzKS51bmRvTWFuYWdlci5oYXNVbmRvKGUsdCk7dmFyIGUsdH0saGFzUmVkbzpmdW5jdGlvbigpe3JldHVybiBlPWQsdD1mLFVnKHMpLnVuZG9NYW5hZ2VyLmhhc1JlZG8oZSx0KTt2YXIgZSx0fSx0cmFuc2FjdDpmdW5jdGlvbihlKXtyZXR1cm4gdD1kLG49bCxyPWUsVWcocykudW5kb01hbmFnZXIudHJhbnNhY3QodCxuLHIpO3ZhciB0LG4scn0saWdub3JlOmZ1bmN0aW9uKGUpe3ZhciB0LG47dD1sLG49ZSxVZyhzKS51bmRvTWFuYWdlci5pZ25vcmUodCxuKX0sZXh0cmE6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saTtuPWQscj1mLG89ZSxpPXQsVWcocykudW5kb01hbmFnZXIuZXh0cmEobixyLG8saSl9fTtyZXR1cm4gSWcocyl8fGZ5KHMsZCxsKSwoZT1zKS5hZGRTaG9ydGN1dCgibWV0YSt6IiwiIiwiVW5kbyIpLGUuYWRkU2hvcnRjdXQoIm1ldGEreSxtZXRhK3NoaWZ0K3oiLCIiLCJSZWRvIiksZH0sbXk9WzksMjcsdnYuSE9NRSx2di5FTkQsMTksMjAsNDQsMTQ0LDE0NSwzMywzNCw0NSwxNiwxNywxOCw5MSw5Miw5Myx2di5ET1dOLHZ2LlVQLHZ2LkxFRlQsdnYuUklHSFRdLmNvbmNhdChtdC5icm93c2VyLmlzRmlyZWZveCgpP1syMjRdOltdKSxweT0iZGF0YS1tY2UtcGxhY2Vob2xkZXIiLGd5PWZ1bmN0aW9uKGUpe3JldHVybiJrZXlkb3duIj09PWUudHlwZXx8ImtleXVwIj09PWUudHlwZX0saHk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXlDb2RlO3JldHVybiB0PT09dnYuQkFDS1NQQUNFfHx0PT09dnYuREVMRVRFfSx2eT1mdW5jdGlvbihhKXt2YXIgZSx1PWEuZG9tLHM9WXMoYSksYz0oZT1hKS5nZXRQYXJhbSgicGxhY2Vob2xkZXIiLFdzLmdldEF0dHJpYihlLmdldEVsZW1lbnQoKSwicGxhY2Vob2xkZXIiKSwic3RyaW5nIiksbD1mdW5jdGlvbihlLHQpe2lmKCFmdW5jdGlvbihlKXtpZihneShlKSl7dmFyIHQ9ZS5rZXlDb2RlO3JldHVybiFoeShlKSYmKHZ2Lm1ldGFLZXlQcmVzc2VkKGUpfHxlLmFsdEtleXx8MTEyPD10JiZ0PD0xMjN8fE0obXksdCkpfXJldHVybiExfShlKSl7dmFyIG4scixvPWEuZ2V0Qm9keSgpLGk9IShneShuPWUpJiYhKGh5KG4pfHwia2V5dXAiPT09bi50eXBlJiYyMjk9PT1uLmtleUNvZGUpKSYmZnVuY3Rpb24oZSx0LG4pe2lmKGRkKEN0LmZyb21Eb20odCksITEpKXt2YXIgcj0iIj09PW4sbz10LmZpcnN0RWxlbWVudENoaWxkO3JldHVybiFvfHwhZS5nZXRTdHlsZSh0LmZpcnN0RWxlbWVudENoaWxkLCJwYWRkaW5nLWxlZnQiKSYmIWUuZ2V0U3R5bGUodC5maXJzdEVsZW1lbnRDaGlsZCwicGFkZGluZy1yaWdodCIpJiYocj8hZS5pc0Jsb2NrKG8pOm49PT1vLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpfXJldHVybiExfSh1LG8scyk7IiIhPT11LmdldEF0dHJpYihvLHB5KT09PWkmJiF0fHwodS5zZXRBdHRyaWIobyxweSxpP2M6bnVsbCksdS5zZXRBdHRyaWIobywiYXJpYS1wbGFjZWhvbGRlciIsaT9jOm51bGwpLHI9aSxhLmZpcmUoIlBsYWNlaG9sZGVyVG9nZ2xlIix7c3RhdGU6cn0pLGEub24oaT8ia2V5ZG93biI6ImtleXVwIixsKSxhLm9mZihpPyJrZXl1cCI6ImtleWRvd24iLGwpKX19O2MmJmEub24oImluaXQiLGZ1bmN0aW9uKGUpe2woZSwhMCksYS5vbigiY2hhbmdlIFNldENvbnRlbnQgRXhlY0NvbW1hbmQiLGwpLGEub24oInBhc3RlIixmdW5jdGlvbihlKXtyZXR1cm4gZmEuc2V0RWRpdG9yVGltZW91dChhLGZ1bmN0aW9uKCl7cmV0dXJuIGwoZSl9KX0pfSl9LHl5PWZ1bmN0aW9uKGUpe3JldHVybiBlLnRvdWNoZXM9PT11bmRlZmluZWR8fDEhPT1lLnRvdWNoZXMubGVuZ3RoP0Iubm9uZSgpOkIuc29tZShlLnRvdWNoZXNbMF0pfSxieT1mdW5jdGlvbihhKXt2YXIgdT1PYShCLm5vbmUoKSkscz1PYSghMSkscj16YShmdW5jdGlvbihlKXthLmZpcmUoImxvbmdwcmVzcyIseGUoeGUoe30sZSkse3R5cGU6ImxvbmdwcmVzcyJ9KSkscy5zZXQoITApfSw0MDApO2Eub24oInRvdWNoc3RhcnQiLGZ1bmN0aW9uKG4pe3l5KG4pLmVhY2goZnVuY3Rpb24oZSl7ci5jYW5jZWwoKTt2YXIgdD17eDp4KGUuY2xpZW50WCkseTp4KGUuY2xpZW50WSksdGFyZ2V0Ongobi50YXJnZXQpfTtyLnRocm90dGxlKG4pLHMuc2V0KCExKSx1LnNldChCLnNvbWUodCkpfSl9LCEwKSxhLm9uKCJ0b3VjaG1vdmUiLGZ1bmN0aW9uKGUpe3IuY2FuY2VsKCkseXkoZSkuZWFjaChmdW5jdGlvbihpKXt1LmdldCgpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbixyLG87dD1pLG49ZSxyPU1hdGguYWJzKHQuY2xpZW50WC1uLngoKSksbz1NYXRoLmFicyh0LmNsaWVudFktbi55KCkpLCg1PHJ8fDU8bykmJih1LnNldChCLm5vbmUoKSkscy5zZXQoITEpLGEuZmlyZSgibG9uZ3ByZXNzY2FuY2VsIikpfSl9KX0sITApLGEub24oInRvdWNoZW5kIHRvdWNoY2FuY2VsIixmdW5jdGlvbih0KXtyLmNhbmNlbCgpLCJ0b3VjaGNhbmNlbCIhPT10LnR5cGUmJnUuZ2V0KCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRhcmdldCgpLmlzRXF1YWxOb2RlKHQudGFyZ2V0KX0pLmVhY2goZnVuY3Rpb24oKXtzLmdldCgpP3QucHJldmVudERlZmF1bHQoKTphLmZpcmUoInRhcCIseGUoeGUoe30sdCkse3R5cGU6InRhcCJ9KSl9KX0sITApfSxDeT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmhhc093blByb3BlcnR5KHQubm9kZU5hbWUpfSx3eT1mdW5jdGlvbihlLHQpe2lmKEVuKHQpKXtpZigwPT09dC5ub2RlVmFsdWUubGVuZ3RoKXJldHVybiEwO2lmKC9eXHMrJC8udGVzdCh0Lm5vZGVWYWx1ZSkmJighdC5uZXh0U2libGluZ3x8Q3koZSx0Lm5leHRTaWJsaW5nKSkpcmV0dXJuITB9cmV0dXJuITF9LHh5PWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPWUuZG9tLGk9ZS5zZWxlY3Rpb24sYT1lLnNjaGVtYSx1PWEuZ2V0QmxvY2tFbGVtZW50cygpLHM9aS5nZXRTdGFydCgpLGM9ZS5nZXRCb2R5KCksbD1ZcyhlKTtpZihzJiZ2bihzKSYmbCl7dmFyIGY9Yy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKGEuaXNWYWxpZENoaWxkKGYsbC50b0xvd2VyQ2FzZSgpKSYmKGQ9dSxtPWMscD1zLCFGKHZkKEN0LmZyb21Eb20ocCksQ3QuZnJvbURvbShtKSksZnVuY3Rpb24oZSl7cmV0dXJuIEN5KGQsZS5kb20oKSl9KSkpe3ZhciBkLG0scCxnLGgsdj1pLmdldFJuZygpLHk9di5zdGFydENvbnRhaW5lcixiPXYuc3RhcnRPZmZzZXQsQz12LmVuZENvbnRhaW5lcix3PXYuZW5kT2Zmc2V0LHg9WW0oZSk7Zm9yKHM9Yy5maXJzdENoaWxkO3M7KWlmKGc9dSxFbihoPXMpfHx2bihoKSYmIUN5KGcsaCkmJiFrbChoKSl7aWYod3kodSxzKSl7cz0obj1zKS5uZXh0U2libGluZyxvLnJlbW92ZShuKTtjb250aW51ZX10fHwodD1vLmNyZWF0ZShsLEdzKGUpKSxzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQscykscj0hMCkscz0obj1zKS5uZXh0U2libGluZyx0LmFwcGVuZENoaWxkKG4pfWVsc2UgdD1udWxsLHM9cy5uZXh0U2libGluZztyJiZ4JiYodi5zZXRTdGFydCh5LGIpLHYuc2V0RW5kKEMsdyksaS5zZXRSbmcodiksZS5ub2RlQ2hhbmdlZCgpKX19fSxTeT1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZT8xOi0xO3JldHVybiB0LnNldFJuZyhTcyhuLmNvbnRhaW5lcigpLG4ub2Zmc2V0KCkrcikudG9SYW5nZSgpKSx0LmdldFNlbCgpLm1vZGlmeSgibW92ZSIsZT8iZm9yd2FyZCI6ImJhY2t3YXJkIiwid29yZCIpLCEwfSxOeT1mdW5jdGlvbihlLHQpe3ZhciBuPXQuc2VsZWN0aW9uLmdldFJuZygpLHI9ZT9Tcy5mcm9tUmFuZ2VFbmQobik6U3MuZnJvbVJhbmdlU3RhcnQobik7cmV0dXJuISFBKHQuc2VsZWN0aW9uLmdldFNlbCgpLm1vZGlmeSkmJihlJiZfdShyKT9TeSghMCx0LnNlbGVjdGlvbixyKTohKGV8fCFUdShyKSkmJlN5KCExLHQuc2VsZWN0aW9uLHIpKX0sRXk9RW4sa3k9ZnVuY3Rpb24oZSl7cmV0dXJuIEV5KGUpJiZlLmRhdGFbMF09PT15dX0sX3k9ZnVuY3Rpb24oZSl7cmV0dXJuIEV5KGUpJiZlLmRhdGFbZS5kYXRhLmxlbmd0aC0xXT09PXl1fSxUeT1mdW5jdGlvbihlKXtyZXR1cm4gZS5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHl1KX0sUnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZT9mdW5jdGlvbihlKXtpZihFeShlLnByZXZpb3VzU2libGluZykpcmV0dXJuIF95KGUucHJldmlvdXNTaWJsaW5nKXx8ZS5wcmV2aW91c1NpYmxpbmcuYXBwZW5kRGF0YSh5dSksZS5wcmV2aW91c1NpYmxpbmc7aWYoRXkoZSkpcmV0dXJuIGt5KGUpfHxlLmluc2VydERhdGEoMCx5dSksZTt2YXIgdD1UeShlKTtyZXR1cm4gZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LGUpLHR9OmZ1bmN0aW9uKGUpe2lmKEV5KGUubmV4dFNpYmxpbmcpKXJldHVybiBreShlLm5leHRTaWJsaW5nKXx8ZS5uZXh0U2libGluZy5pbnNlcnREYXRhKDAseXUpLGUubmV4dFNpYmxpbmc7aWYoRXkoZSkpcmV0dXJuIF95KGUpfHxlLmFwcGVuZERhdGEoeXUpLGU7dmFyIHQ9VHkoZSk7cmV0dXJuIGUubmV4dFNpYmxpbmc/ZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LGUubmV4dFNpYmxpbmcpOmUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0KSx0fSkodCl9LEF5PU4oUnksITApLER5PU4oUnksITEpLE95PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEVuKGUuY29udGFpbmVyKCkpP1J5KHQsZS5jb250YWluZXIoKSk6UnkodCxlLmdldE5vZGUoKSl9LEJ5PWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5nZXQoKTtyZXR1cm4gbiYmZS5jb250YWluZXIoKT09PW4mJk51KG4pfSxQeT1mdW5jdGlvbihuLGUpe3JldHVybiBlLmZvbGQoZnVuY3Rpb24oZSl7aGMobi5nZXQoKSk7dmFyIHQ9QXkoZSk7cmV0dXJuIG4uc2V0KHQpLEIuc29tZShTcyh0LHQubGVuZ3RoLTEpKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGRsKGUpLm1hcChmdW5jdGlvbihlKXtpZihCeShlLG4pKXJldHVybiBTcyhuLmdldCgpLDEpO2hjKG4uZ2V0KCkpO3ZhciB0PU95KGUsITApO3JldHVybiBuLnNldCh0KSxTcyh0LDEpfSl9LGZ1bmN0aW9uKGUpe3JldHVybiBtbChlKS5tYXAoZnVuY3Rpb24oZSl7aWYoQnkoZSxuKSlyZXR1cm4gU3Mobi5nZXQoKSxuLmdldCgpLmxlbmd0aC0xKTtoYyhuLmdldCgpKTt2YXIgdD1PeShlLCExKTtyZXR1cm4gbi5zZXQodCksU3ModCx0Lmxlbmd0aC0xKX0pfSxmdW5jdGlvbihlKXtoYyhuLmdldCgpKTt2YXIgdD1EeShlKTtyZXR1cm4gbi5zZXQodCksQi5zb21lKFNzKHQsMSkpfSl9LEx5PS9bXHUwNTkxLVx1MDdGRlx1RkIxRC1cdUZERkZcdUZFNzAtXHVGRUZDXS8sSXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUnQoQ3QuZnJvbURvbSh0KSxlLmdldFBhcmFtKCJpbmxpbmVfYm91bmRhcmllc19zZWxlY3RvciIsImFbaHJlZl0sY29kZSwubWNlLWFubm90YXRpb24iLCJzdHJpbmciKSl9LE15PWZ1bmN0aW9uKGUpe3JldHVybiJydGwiPT09RWEuRE9NLmdldFN0eWxlKGUsImRpcmVjdGlvbiIsITApfHwodD1lLnRleHRDb250ZW50LEx5LnRlc3QodCkpO3ZhciB0fSxGeT1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE9KHI9ZSxvPXQsaT1uLEgoRWEuRE9NLmdldFBhcmVudHMoaS5jb250YWluZXIoKSwiKiIsbykscikpO3JldHVybiBCLmZyb20oYVthLmxlbmd0aC0xXSl9LFV5PWZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuIHQ7dmFyIG49dC5jb250YWluZXIoKSxyPXQub2Zmc2V0KCk7cmV0dXJuIGU/TnUobik/RW4obi5uZXh0U2libGluZyk/U3Mobi5uZXh0U2libGluZywwKTpTcy5hZnRlcihuKTpfdSh0KT9TcyhuLHIrMSk6dDpOdShuKT9FbihuLnByZXZpb3VzU2libGluZyk/U3Mobi5wcmV2aW91c1NpYmxpbmcsbi5wcmV2aW91c1NpYmxpbmcuZGF0YS5sZW5ndGgpOlNzLmJlZm9yZShuKTpUdSh0KT9TcyhuLHItMSk6dH0senk9TihVeSwhMCksank9TihVeSwhMSksSHk9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXS5hcHBseShudWxsLHQpO2lmKHIuaXNTb21lKCkpcmV0dXJuIHJ9cmV0dXJuIEIubm9uZSgpfSxWeT1RaShbe2JlZm9yZTpbImVsZW1lbnQiXX0se3N0YXJ0OlsiZWxlbWVudCJdfSx7ZW5kOlsiZWxlbWVudCJdfSx7YWZ0ZXI6WyJlbGVtZW50Il19XSkscXk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1EYyh0LGUpO3JldHVybiBufHxlfSwkeT1mdW5jdGlvbihlLHQsbil7dmFyIHI9enkobiksbz1xeSh0LHIuY29udGFpbmVyKCkpO3JldHVybiBGeShlLG8scikuZm9sZChmdW5jdGlvbigpe3JldHVybiBsbChvLHIpLmJpbmQoTihGeSxlLG8pKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFZ5LmJlZm9yZShlKX0pfSxCLm5vbmUpfSxXeT1mdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT09aGwoZSx0KX0sS3k9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBGeShlLHQsbikuZmlsdGVyKE4oV3ksdCkpfSxYeT1mdW5jdGlvbihlLHQsbil7dmFyIHI9ankobik7cmV0dXJuIEt5KGUsdCxyKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBmbChlLHIpLmlzTm9uZSgpP0Iuc29tZShWeS5zdGFydChlKSk6Qi5ub25lKCl9KX0sWXk9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXp5KG4pO3JldHVybiBLeShlLHQscikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gbGwoZSxyKS5pc05vbmUoKT9CLnNvbWUoVnkuZW5kKGUpKTpCLm5vbmUoKX0pfSxHeT1mdW5jdGlvbihlLHQsbil7dmFyIHI9ankobiksbz1xeSh0LHIuY29udGFpbmVyKCkpO3JldHVybiBGeShlLG8scikuZm9sZChmdW5jdGlvbigpe3JldHVybiBmbChvLHIpLmJpbmQoTihGeSxlLG8pKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFZ5LmFmdGVyKGUpfSl9LEIubm9uZSl9LEp5PWZ1bmN0aW9uKGUpe3JldHVybiExPT09TXkoWnkoZSkpfSxReT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEh5KFskeSxYeSxZeSxHeV0sW2UsdCxuXSkuZmlsdGVyKEp5KX0sWnk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChvLG8sbyxvKX0sZWI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZCh4KCJiZWZvcmUiKSx4KCJzdGFydCIpLHgoImVuZCIpLHgoImFmdGVyIikpfSx0Yj1mdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKFZ5LmJlZm9yZSxWeS5iZWZvcmUsVnkuYWZ0ZXIsVnkuYWZ0ZXIpfSxuYj1mdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKFZ5LnN0YXJ0LFZ5LnN0YXJ0LFZ5LmVuZCxWeS5lbmQpfSxyYj1mdW5jdGlvbihhLGUsdSx0LG4scyl7cmV0dXJuIEJ1KEZ5KGUsdSx0KSxGeShlLHUsbiksZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSE9PXQmJihyPXQsbz1EYyhlLG49dSksaT1EYyhyLG4pLG8mJm89PT1pKT9WeS5hZnRlcihhP2U6dCk6czt2YXIgbixyLG8saX0pLmdldE9yKHMpfSxvYj1mdW5jdGlvbihlLHIpe3JldHVybiBlLmZvbGQoeCghMCksZnVuY3Rpb24oZSl7cmV0dXJuIG49ciwhKGViKHQ9ZSk9PT1lYihuKSYmWnkodCk9PT1aeShuKSk7dmFyIHQsbn0pfSxpYj1mdW5jdGlvbihlLHQpe3JldHVybiBlP3QuZm9sZChhKEIuc29tZSxWeS5zdGFydCksQi5ub25lLGEoQi5zb21lLFZ5LmFmdGVyKSxCLm5vbmUpOnQuZm9sZChCLm5vbmUsYShCLnNvbWUsVnkuYmVmb3JlKSxCLm5vbmUsYShCLnNvbWUsVnkuZW5kKSl9LGFiPWZ1bmN0aW9uKGUsYSx1LHMpe3ZhciB0PVV5KGUscyksYz1ReShhLHUsdCk7cmV0dXJuIFF5KGEsdSx0KS5iaW5kKE4oaWIsZSkpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gbj1hLHI9dSxvPWMsaT1VeSh0PWUscyksYWwodCxyLGkpLm1hcChOKFV5LHQpKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIG8ubWFwKHRiKX0sZnVuY3Rpb24oZSl7cmV0dXJuIFF5KG4scixlKS5tYXAoTihyYix0LG4scixpLGUpKS5maWx0ZXIoTihvYixvKSl9KS5maWx0ZXIoSnkpO3ZhciB0LG4scixvLGl9KX0sdWI9KE4oYWIsITEpLE4oYWIsITApLGZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb20uY3JlYXRlUm5nKCk7bi5zZXRTdGFydCh0LmNvbnRhaW5lcigpLHQub2Zmc2V0KCkpLG4uc2V0RW5kKHQuY29udGFpbmVyKCksdC5vZmZzZXQoKSksZS5zZWxlY3Rpb24uc2V0Um5nKG4pfSksc2I9ZnVuY3Rpb24oZSx0KXtlP3Quc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIsImlubGluZS1ib3VuZGFyeSIpOnQucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpfSxjYj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFB5KGUsbikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB1Yih0LGUpLG59KX0sbGI9ZnVuY3Rpb24oZSx0KXtpZihlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiYhMCE9PWUuY29tcG9zaW5nJiZ0LmdldCgpKXt2YXIgbj1Tcy5mcm9tUmFuZ2VTdGFydChlLnNlbGVjdGlvbi5nZXRSbmcoKSk7U3MuaXNUZXh0UG9zaXRpb24obikmJiExPT09KF91KHI9bil8fFR1KHIpKSYmKHViKGUsZ2ModC5nZXQoKSxuKSksdC5zZXQobnVsbCkpfXZhciByfSxmYj1mdW5jdGlvbihhLHUscyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuISFpYyhhKSYmKG49dSxlPXMscj0odD1hKS5nZXRCb2R5KCksbz1Tcy5mcm9tUmFuZ2VTdGFydCh0LnNlbGVjdGlvbi5nZXRSbmcoKSksaT1OKEl5LHQpLGFiKGUsaSxyLG8pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGNiKHQsbixlKX0pLmlzU29tZSgpKTt2YXIgdCxuLGUscixvLGl9fSxkYj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuISFpYyh0KSYmTnkoZSx0KX19LG1iPWZ1bmN0aW9uKHUpe3ZhciBzPU9hKG51bGwpLGM9TihJeSx1KTtyZXR1cm4gdS5vbigiTm9kZUNoYW5nZSIsZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhOyFpYyh1KXx8bXQuYnJvd3Nlci5pc0lFKCkmJmUuaW5pdGlhbHx8KHQ9YyxuPXUuZG9tLHI9ZS5wYXJlbnRzLG89VShZYShDdC5mcm9tRG9tKG4uZ2V0Um9vdCgpKSwnKltkYXRhLW1jZS1zZWxlY3RlZD0iaW5saW5lLWJvdW5kYXJ5Il0nKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5kb20oKX0pLGk9SChvLHQpLGE9SChyLHQpLHooUShpLGEpLE4oc2IsITEpKSx6KFEoYSxpKSxOKHNiLCEwKSksbGIodSxzKSxmdW5jdGlvbihuLHIsbyxlKXtpZihyLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpKXt2YXIgdD1IKGUsbik7eih0LGZ1bmN0aW9uKGUpe3ZhciB0PVNzLmZyb21SYW5nZVN0YXJ0KHIuc2VsZWN0aW9uLmdldFJuZygpKTtReShuLHIuZ2V0Qm9keSgpLHQpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGNiKHIsbyxlKX0pfSl9fShjLHUscyxlLnBhcmVudHMpKX0pLHN9LHBiPU4oZGIsITApLGdiPU4oZGIsITEpOyhveT1yeT1yeXx8e30pW295LkJyPTBdPSJCciIsb3lbb3kuQmxvY2s9MV09IkJsb2NrIixveVtveS5XcmFwPTJdPSJXcmFwIixveVtveS5Fb2w9M109IkVvbCI7dmFyIGhiLHZiLHliPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT13cy5CYWNrd2FyZHM/Sih0KTp0fSxiYj1mdW5jdGlvbihlLHQsbixyKXtmb3IodmFyIG8saSxhLHUscyxjLGw9dGwobiksZj1yLGQ9W107ZiYmKHM9bCxjPWYsbz10PT09d3MuRm9yd2FyZHM/cy5uZXh0KGMpOnMucHJldihjKSk7KXtpZihSbihvLmdldE5vZGUoITEpKSlyZXR1cm4gdD09PXdzLkZvcndhcmRzP3twb3NpdGlvbnM6eWIodCxkKS5jb25jYXQoW29dKSxicmVha1R5cGU6cnkuQnIsYnJlYWtBdDpCLnNvbWUobyl9Ontwb3NpdGlvbnM6eWIodCxkKSxicmVha1R5cGU6cnkuQnIsYnJlYWtBdDpCLnNvbWUobyl9O2lmKG8uaXNWaXNpYmxlKCkpe2lmKGUoZixvKSl7dmFyIG09KGk9dCxhPWYsUm4oKHU9bykuZ2V0Tm9kZShpPT09d3MuRm9yd2FyZHMpKT9yeS5CcjohMT09PU9jKGEsdSk/cnkuQmxvY2s6cnkuV3JhcCk7cmV0dXJue3Bvc2l0aW9uczp5Yih0LGQpLGJyZWFrVHlwZTptLGJyZWFrQXQ6Qi5zb21lKG8pfX1kLnB1c2gobyksZj1vfWVsc2UgZj1vfXJldHVybntwb3NpdGlvbnM6eWIodCxkKSxicmVha1R5cGU6cnkuRW9sLGJyZWFrQXQ6Qi5ub25lKCl9fSxDYj1mdW5jdGlvbihuLHIsbyxlKXtyZXR1cm4gcihvLGUpLmJyZWFrQXQubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PXIobyxlKS5wb3NpdGlvbnM7cmV0dXJuIG49PT13cy5CYWNrd2FyZHM/dC5jb25jYXQoZSk6W2VdLmNvbmNhdCh0KX0pLmdldE9yKFtdKX0sd2I9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gVyhlLGZ1bmN0aW9uKGUsbyl7cmV0dXJuIGUuZm9sZChmdW5jdGlvbigpe3JldHVybiBCLnNvbWUobyl9LGZ1bmN0aW9uKHIpe3JldHVybiBCdShaKHIuZ2V0Q2xpZW50UmVjdHMoKSksWihvLmdldENsaWVudFJlY3RzKCkpLGZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5hYnMoaS1lLmxlZnQpO3JldHVybiBNYXRoLmFicyhpLXQubGVmdCk8PW4/bzpyfSkub3IoZSl9KX0sQi5ub25lKCkpfSx4Yj1mdW5jdGlvbih0LGUpe3JldHVybiBaKGUuZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gd2IodCxlLmxlZnQpfSl9LFNiPU4oYmIsQ3MuaXNBYm92ZSwtMSksTmI9TihiYixDcy5pc0JlbG93LDEpLEViPU4oQ2IsLTEsU2IpLGtiPU4oQ2IsMSxOYiksX2I9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oZSl7cmV0dXJuIFUoZSxmdW5jdGlvbihlKXtyZXR1cm4oZT1MdShlKSkubm9kZT10LGV9KX07aWYodm4odCkpcmV0dXJuIGUodC5nZXRDbGllbnRSZWN0cygpKTtpZihFbih0KSl7dmFyIG49dC5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIG4uc2V0U3RhcnQodCwwKSxuLnNldEVuZCh0LHQuZGF0YS5sZW5ndGgpLGUobi5nZXRDbGllbnRSZWN0cygpKX19LFRiPWZ1bmN0aW9uKGUpe3JldHVybiBZKGUsX2IpfTsodmI9aGI9aGJ8fHt9KVt2Yi5VcD0tMV09IlVwIix2Ylt2Yi5Eb3duPTFdPSJEb3duIjt2YXIgUmI9ZnVuY3Rpb24obyxpLGEsZSx1LHQpe3ZhciBzPTAsYz1bXSxuPWZ1bmN0aW9uKGUpe3ZhciB0LG4scjtmb3Iocj1UYihbZV0pLC0xPT09byYmKHI9ci5yZXZlcnNlKCkpLHQ9MDt0PHIubGVuZ3RoO3QrKylpZihuPXJbdF0sIWEobixsKSl7aWYoMDxjLmxlbmd0aCYmaShuLHdlKGMpKSYmcysrLG4ubGluZT1zLHUobikpcmV0dXJuITA7Yy5wdXNoKG4pfX0sbD13ZSh0LmdldENsaWVudFJlY3RzKCkpO2lmKCFsKXJldHVybiBjO3ZhciByPXQuZ2V0Tm9kZSgpO3JldHVybiBuKHIpLGZ1bmN0aW9uKGUsdCxuLHIpe2Zvcig7cj1BYyhyLGUsdHMsdCk7KWlmKG4ocikpcmV0dXJufShvLGUsbixyKSxjfSxBYj1OKFJiLGhiLlVwLEZ1LFV1KSxEYj1OKFJiLGhiLkRvd24sVXUsRnUpLE9iPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdD1uLGUubGluZT50O3ZhciB0fX0sQmI9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0PW4sZS5saW5lPT09dDt2YXIgdH19LFBiPURuLExiPUFjLEliPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGguYWJzKGUubGVmdC10KX0sTWI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5hYnMoZS5yaWdodC10KX0sRmI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT49dC5sZWZ0JiZlPD10LnJpZ2h0fSxVYj1mdW5jdGlvbihlLHQpe3JldHVybiBlPj10LnRvcCYmZTw9dC5ib3R0b219LHpiPWZ1bmN0aW9uKGUsbyl7cmV0dXJuIGJlKGUsZnVuY3Rpb24oZSx0KXt2YXIgbj1NYXRoLm1pbihJYihlLG8pLE1iKGUsbykpLHI9TWF0aC5taW4oSWIodCxvKSxNYih0LG8pKTtyZXR1cm4gRmIobyx0KXx8IUZiKG8sZSkmJihyPT09biYmUGIodC5ub2RlKXx8cjxuKT90OmV9KX0samI9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1MYihyLGUsdHMsdCwhbyk7ZG97aWYoIWl8fG4oaSkpcmV0dXJufXdoaWxlKGk9TGIoaSxlLHRzLHQpKX0sSGI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT1UYihIKHRlKGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSkseGMpKSxhPUgoaSxOKFViLG4pKSx1PXpiKGEsdCk7aWYodSl7dmFyIHM9IXhuKHUubm9kZSk7aWYoKHU9emIoZnVuY3Rpb24oZSxyLHQpe3ZvaWQgMD09PXQmJih0PSEwKTt2YXIgbz1bXSxuPWZ1bmN0aW9uKHQsZSl7dmFyIG49SChUYihbZV0pLGZ1bmN0aW9uKGUpe3JldHVybiF0KGUscil9KTtyZXR1cm4gbz1vLmNvbmNhdChuKSwwPT09bi5sZW5ndGh9O3JldHVybiBvLnB1c2gociksamIoaGIuVXAsZSxOKG4sRnUpLHIubm9kZSx0KSxqYihoYi5Eb3duLGUsTihuLFV1KSxyLm5vZGUsdCksb30oZSx1LHMpLHQpKSYmeGModS5ub2RlKSlyZXR1cm4gbz10LHtub2RlOihyPXUpLm5vZGUsYmVmb3JlOkliKHIsbyk8TWIocixvKX19cmV0dXJuIG51bGx9LFZiPUFuLHFiPURuLCRiPWZ1bmN0aW9uKGUsdCxuLHIsbyl7cmV0dXJuIHQuX3NlbGVjdGlvbk92ZXJyaWRlcy5zaG93Q2FyZXQoZSxuLHIsbyl9LFdiPWZ1bmN0aW9uKGUsdCl7dmFyIG4scjtyZXR1cm4gZS5maXJlKCJCZWZvcmVPYmplY3RTZWxlY3RlZCIse3RhcmdldDp0fSkuaXNEZWZhdWx0UHJldmVudGVkKCk/bnVsbDooKHI9KG49dCkub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpKS5zZWxlY3ROb2RlKG4pLHIpfSxLYj1mdW5jdGlvbihlLHQsbil7dmFyIHI9RmMoMSxlLmdldEJvZHkoKSx0KSxvPVNzLmZyb21SYW5nZVN0YXJ0KHIpLGk9by5nZXROb2RlKCk7aWYocWIoaSkpcmV0dXJuICRiKDEsZSxpLCFvLmlzQXRFbmQoKSwhMSk7dmFyIGE9by5nZXROb2RlKCEwKTtpZihxYihhKSlyZXR1cm4gJGIoMSxlLGEsITEsITEpO3ZhciB1PWUuZG9tLmdldFBhcmVudChvLmdldE5vZGUoKSxmdW5jdGlvbihlKXtyZXR1cm4gcWIoZSl8fFZiKGUpfSk7cmV0dXJuIHFiKHUpPyRiKDEsZSx1LCExLG4pOm51bGx9LFhiPWZ1bmN0aW9uKGUsdCxuKXtpZighdHx8IXQuY29sbGFwc2VkKXJldHVybiB0O3ZhciByPUtiKGUsdCxuKTtyZXR1cm4gcnx8dH0sWWI9RG4sR2I9anUsSmI9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89ZT09PXdzLkZvcndhcmRzLGk9bz9pZDphZDtpZighci5jb2xsYXBzZWQpe3ZhciBhPUdiKHIpO2lmKFliKGEpKXJldHVybiAkYihlLHQsYSxlPT09d3MuQmFja3dhcmRzLCEwKX12YXIgdT1TdShyLnN0YXJ0Q29udGFpbmVyKSxzPXpjKGUsdC5nZXRCb2R5KCkscik7aWYoaShzKSlyZXR1cm4gV2IodCxzLmdldE5vZGUoIW8pKTt2YXIgYz1VeShvLG4ocykpO2lmKCFjKXJldHVybiB1P3I6bnVsbDtpZihpKGMpKXJldHVybiAkYihlLHQsYy5nZXROb2RlKCFvKSxvLCEwKTt2YXIgbD1uKGMpO3JldHVybiBsJiZpKGwpJiZWYyhjLGwpPyRiKGUsdCxsLmdldE5vZGUoIW8pLG8sITApOnU/WGIodCxjLnRvUmFuZ2UoKSwhMCk6bnVsbH0sUWI9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHU7dT1HYihyKTt2YXIgcz16YyhlLHQuZ2V0Qm9keSgpLHIpLGM9bih0LmdldEJvZHkoKSxPYigxKSxzKSxsPUgoYyxCYigxKSksZj13ZShzLmdldENsaWVudFJlY3RzKCkpO2lmKChpZChzKXx8cmQocykpJiYodT1zLmdldE5vZGUoKSksKGFkKHMpfHxvZChzKSkmJih1PXMuZ2V0Tm9kZSghMCkpLCFmKXJldHVybiBudWxsO3ZhciBkPWYubGVmdDtpZigobz16YihsLGQpKSYmWWIoby5ub2RlKSlyZXR1cm4gaT1NYXRoLmFicyhkLW8ubGVmdCksYT1NYXRoLmFicyhkLW8ucmlnaHQpLCRiKGUsdCxvLm5vZGUsaTxhLCEwKTtpZih1KXt2YXIgbT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzLGM9dGwodCksbD1bXSxmPTAsZD1mdW5jdGlvbihlKXtyZXR1cm4gd2UoZS5nZXRDbGllbnRSZWN0cygpKX0sbT1kKHU9MT09PWU/KG89Yy5uZXh0LGk9VXUsYT1GdSxTcy5hZnRlcihyKSk6KG89Yy5wcmV2LGk9RnUsYT1VdSxTcy5iZWZvcmUocikpKTtkb3tpZih1LmlzVmlzaWJsZSgpJiYhYShzPWQodSksbSkpe2lmKDA8bC5sZW5ndGgmJmkocyx3ZShsKSkmJmYrKywocz1MdShzKSkucG9zaXRpb249dSxzLmxpbmU9ZixuKHMpKXJldHVybiBsO2wucHVzaChzKX19d2hpbGUodT1vKHUpKTtyZXR1cm4gbH0oZSx0LmdldEJvZHkoKSxPYigxKSx1KTtpZihvPXpiKEgobSxCYigxKSksZCkpcmV0dXJuIFhiKHQsby5wb3NpdGlvbi50b1JhbmdlKCksITApO2lmKG89d2UoSChtLEJiKDApKSkpcmV0dXJuIFhiKHQsby5wb3NpdGlvbi50b1JhbmdlKCksITApfX0sWmI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHU9dGwoZS5nZXRCb2R5KCkpLHM9TihIYyx1Lm5leHQpLGM9TihIYyx1LnByZXYpO2lmKG4uY29sbGFwc2VkJiYiIiE9PVlzKGUpKXtpZighKHI9ZS5kb20uZ2V0UGFyZW50KG4uc3RhcnRDb250YWluZXIsIlBSRSIpKSlyZXR1cm47KDE9PT10P3M6YykoU3MuZnJvbVJhbmdlU3RhcnQobikpfHwoYT0oaT1lKS5kb20uY3JlYXRlKFlzKGkpKSwoIW10LmllfHwxMTw9bXQuaWUpJiYoYS5pbm5lckhUTUw9JzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+Jyksbz1hLDE9PT10P2UuJChyKS5hZnRlcihvKTplLiQocikuYmVmb3JlKG8pLGUuc2VsZWN0aW9uLnNlbGVjdChvLCEwKSxlLnNlbGVjdGlvbi5jb2xsYXBzZSgpKX19LGVDPWZ1bmN0aW9uKGwsZil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsbyxpLGEsdSxzLGM9KHQ9ZixyPXRsKChlPWwpLmdldEJvZHkoKSksbz1OKEhjLHIubmV4dCksaT1OKEhjLHIucHJldiksYT10P3dzLkZvcndhcmRzOndzLkJhY2t3YXJkcyx1PXQ/bzppLHM9ZS5zZWxlY3Rpb24uZ2V0Um5nKCksKG49SmIoYSxlLHUscykpP246KG49WmIoZSxhLHMpKXx8bnVsbCk7cmV0dXJuISFjJiYobC5zZWxlY3Rpb24uc2V0Um5nKGMpLCEwKX19LHRDPWZ1bmN0aW9uKHUscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsbyxpLGE9KHI9KHQ9cyk/MTotMSxvPXQ/RGI6QWIsaT0oZT11KS5zZWxlY3Rpb24uZ2V0Um5nKCksKG49UWIocixlLG8saSkpP246KG49WmIoZSxyLGkpKXx8bnVsbCk7cmV0dXJuISFhJiYodS5zZWxlY3Rpb24uc2V0Um5nKGEpLCEwKX19LG5DPWZ1bmN0aW9uKHIsbyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQsZT1vP1NzLmZyb21SYW5nZUVuZChyLnNlbGVjdGlvbi5nZXRSbmcoKSk6U3MuZnJvbVJhbmdlU3RhcnQoci5zZWxlY3Rpb24uZ2V0Um5nKCkpLG49KG8/TmI6U2IpKHIuZ2V0Qm9keSgpLGUpO3JldHVybihvP2VlOlopKG4ucG9zaXRpb25zKS5maWx0ZXIoKHQ9byxmdW5jdGlvbihlKXtyZXR1cm4odD9hZDppZCkoZSl9KSkuZm9sZCh4KCExKSxmdW5jdGlvbihlKXtyZXR1cm4gci5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpKSwhMH0pfX0sckM9ZnVuY3Rpb24obyxlKXtyZXR1cm4gWShlLGZ1bmN0aW9uKGUpe3ZhciB0LG4scj0odD1MdShlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxuPS0xLHtsZWZ0OnQubGVmdC1uLHRvcDp0LnRvcC1uLHJpZ2h0OnQucmlnaHQrMipuLGJvdHRvbTp0LmJvdHRvbSsyKm4sd2lkdGg6dC53aWR0aCtuLGhlaWdodDp0LmhlaWdodCtufSk7cmV0dXJuW3t4OnIubGVmdCx5Om8ociksY2VsbDplfSx7eDpyLnJpZ2h0LHk6byhyKSxjZWxsOmV9XX0pfSxvQz1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdT1ZYShDdC5mcm9tRG9tKG4pLCJ0ZCx0aCxjYXB0aW9uIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpfSkscz1IKHJDKGUsdSksZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSxvKX0pO3JldHVybiBpPXIsYT1vLFcocyxmdW5jdGlvbihlLHIpe3JldHVybiBlLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gQi5zb21lKHIpfSxmdW5jdGlvbihlKXt2YXIgdD1NYXRoLnNxcnQoTWF0aC5hYnMoZS54LWkpK01hdGguYWJzKGUueS1hKSksbj1NYXRoLnNxcnQoTWF0aC5hYnMoci54LWkpK01hdGguYWJzKHIueS1hKSk7cmV0dXJuIEIuc29tZShuPHQ/cjplKX0pfSxCLm5vbmUoKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNlbGx9KX0saUM9TihvQyxmdW5jdGlvbihlKXtyZXR1cm4gZS5ib3R0b219LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUueTx0fSksYUM9TihvQyxmdW5jdGlvbihlKXtyZXR1cm4gZS50b3B9LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUueT50fSksdUM9ZnVuY3Rpb24odCxuKXtyZXR1cm4gWihuLmdldENsaWVudFJlY3RzKCkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGlDKHQsZS5sZWZ0LGUudG9wKX0pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHhiKG1sKHQ9ZSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBTYih0LGUpLnBvc2l0aW9ucy5jb25jYXQoZSl9KS5nZXRPcihbXSksbik7dmFyIHR9KX0sc0M9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZWUobi5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBhQyh0LGUubGVmdCxlLnRvcCl9KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB4YihkbCh0PWUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5bZV0uY29uY2F0KE5iKHQsZSkucG9zaXRpb25zKX0pLmdldE9yKFtdKSxuKTt2YXIgdH0pfSxjQz1mdW5jdGlvbihlLHQpe2Uuc2VsZWN0aW9uLnNldFJuZyh0KSxZaChlLHQpfSxsQz1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdT1lKHQsbik7cmV0dXJuKGE9dSkuYnJlYWtUeXBlPT09cnkuV3JhcCYmMD09PWEucG9zaXRpb25zLmxlbmd0aHx8IVJuKG4uZ2V0Tm9kZSgpKSYmKChpPXUpLmJyZWFrVHlwZT09PXJ5LkJyJiYxPT09aS5wb3NpdGlvbnMubGVuZ3RoKT8ocj1lLG89dCwhdS5icmVha0F0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcihvLGUpLmJyZWFrQXQuaXNTb21lKCl9KS5nZXRPcighMSkpOnUuYnJlYWtBdC5pc05vbmUoKX0sZkM9TihsQyxTYiksZEM9TihsQyxOYiksbUM9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscz1lLnNlbGVjdGlvbi5nZXRSbmcoKSxjPXQ/MTotMTtpZih3YygpJiYobz10LGk9cyxhPW4sdT1Tcy5mcm9tUmFuZ2VTdGFydChpKSxjbCghbyxhKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNFcXVhbCh1KX0pLmdldE9yKCExKSkpe3ZhciBsPSRiKGMsZSxuLCF0LCEwKTtyZXR1cm4gY0MoZSxsKSwhMH1yZXR1cm4hMX0scEM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmdldE5vZGUoZSk7cmV0dXJuIHZuKG4pJiYiVEFCTEUiPT09bi5ub2RlTmFtZT9CLnNvbWUobik6Qi5ub25lKCl9LGdDPWZ1bmN0aW9uKHUscyxjKXt2YXIgZT1wQyghIXMsYyksdD0hMT09PXM7ZS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGNDKHUsYy50b1JhbmdlKCkpfSxmdW5jdGlvbihhKXtyZXR1cm4gY2wodCx1LmdldEJvZHkoKSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXF1YWwoYyl9KS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGNDKHUsYy50b1JhbmdlKCkpfSxmdW5jdGlvbihlKXtyZXR1cm4gbj1zLG89YSx0PWMsdm9pZCgoaT1ZcyhyPXUpKT9yLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7dmFyIGU9Q3QuZnJvbVRhZyhpKTtMbihlLEdzKHIpKSxadChlLEN0LmZyb21UYWcoImJyIikpLChuP0p0Okd0KShDdC5mcm9tRG9tKG8pLGUpO3ZhciB0PXIuZG9tLmNyZWF0ZVJuZygpO3Quc2V0U3RhcnQoZS5kb20oKSwwKSx0LnNldEVuZChlLmRvbSgpLDApLGNDKHIsdCl9KTpjQyhyLHQudG9SYW5nZSgpKSk7dmFyIG4scixvLHQsaX0pfSl9LGhDPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYyxsPWUuc2VsZWN0aW9uLmdldFJuZygpLGY9U3MuZnJvbVJhbmdlU3RhcnQobCksZD1lLmdldEJvZHkoKTtpZighdCYmZkMocixmKSl7dmFyIG09KHU9ZCx1QyhzPW4sYz1mKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIFooYy5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB3YihFYih1LFNzLmJlZm9yZShzKSksZS5sZWZ0KX0pfSkuZ2V0T3IoU3MuYmVmb3JlKHMpKSk7cmV0dXJuIGdDKGUsdCxtKSwhMH1pZih0JiZkQyhyLGYpKXttPShvPWQsc0MoaT1uLGE9Zikub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBaKGEuZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gd2Ioa2IobyxTcy5hZnRlcihpKSksZS5sZWZ0KX0pfSkuZ2V0T3IoU3MuYWZ0ZXIoaSkpKTtyZXR1cm4gZ0MoZSx0LG0pLCEwfXJldHVybiExfSx2Qz1mdW5jdGlvbih0LG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBCLmZyb20odC5kb20uZ2V0UGFyZW50KHQuc2VsZWN0aW9uLmdldE5vZGUoKSwidGQsdGgiKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gQi5mcm9tKHQuZG9tLmdldFBhcmVudChlLCJ0YWJsZSIpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG1DKHQsbixlKX0pfSkuZ2V0T3IoITEpfX0seUM9ZnVuY3Rpb24obixyKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gQi5mcm9tKG4uZG9tLmdldFBhcmVudChuLnNlbGVjdGlvbi5nZXROb2RlKCksInRkLHRoIikpLmJpbmQoZnVuY3Rpb24odCl7cmV0dXJuIEIuZnJvbShuLmRvbS5nZXRQYXJlbnQodCwidGFibGUiKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBoQyhuLHIsZSx0KX0pfSkuZ2V0T3IoITEpfX0sYkM9ZnVuY3Rpb24oZSl7cmV0dXJuIE0oWyJmaWdjYXB0aW9uIl0sd3QoZSkpfSxDQz1mdW5jdGlvbihlKXt2YXIgdD1WLmRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIHQuc2V0U3RhcnRCZWZvcmUoZS5kb20oKSksdC5zZXRFbmRCZWZvcmUoZS5kb20oKSksdH0sd0M9ZnVuY3Rpb24oZSx0LG4peyhuP1p0OlF0KShlLHQpfSx4Qz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4iIj09PXQ/KGw9ZSxmPXIsZD1DdC5mcm9tVGFnKCJiciIpLHdDKGwsZCxmKSxDQyhkKSk6KG89ZSxpPXIsYT10LHU9bixzPUN0LmZyb21UYWcoYSksYz1DdC5mcm9tVGFnKCJiciIpLExuKHMsdSksWnQocyxjKSx3QyhvLHMsaSksQ0MoYykpO3ZhciBvLGksYSx1LHMsYyxsLGYsZH0sU0M9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PyhvPWUuZG9tKCksTmIobyxuKS5icmVha0F0LmlzTm9uZSgpKToocj1lLmRvbSgpLFNiKHIsbikuYnJlYWtBdC5pc05vbmUoKSk7dmFyIHIsb30sTkM9ZnVuY3Rpb24odCxuKXt2YXIgZSxyLG89Q3QuZnJvbURvbSh0LmdldEJvZHkoKSksaT1Tcy5mcm9tUmFuZ2VTdGFydCh0LnNlbGVjdGlvbi5nZXRSbmcoKSksYT1Zcyh0KSx1PUdzKHQpO3JldHVybiBlPWkscj1OKER0LG8pLFphKEN0LmZyb21Eb20oZS5jb250YWluZXIoKSksS24scikuZmlsdGVyKGJDKS5leGlzdHMoZnVuY3Rpb24oKXtpZihTQyhvLG4saSkpe3ZhciBlPXhDKG8sYSx1LG4pO3JldHVybiB0LnNlbGVjdGlvbi5zZXRSbmcoZSksITB9cmV0dXJuITF9KX0sRUM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hIWUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJk5DKGUsdCl9fSxrQz1mdW5jdGlvbihlLHIpe3JldHVybiBZKFUoZSxmdW5jdGlvbihlKXtyZXR1cm4geGUoe3NoaWZ0S2V5OiExLGFsdEtleTohMSxjdHJsS2V5OiExLG1ldGFLZXk6ITEsa2V5Q29kZTowLGFjdGlvbjpmfSxlKX0pLGZ1bmN0aW9uKGUpe3JldHVybiB0PWUsKG49cikua2V5Q29kZT09PXQua2V5Q29kZSYmbi5zaGlmdEtleT09PXQuc2hpZnRLZXkmJm4uYWx0S2V5PT09dC5hbHRLZXkmJm4uY3RybEtleT09PXQuY3RybEtleSYmbi5tZXRhS2V5PT09dC5tZXRhS2V5P1tlXTpbXTt2YXIgdCxufSl9LF9DPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KG51bGwsdCl9fSxUQz1mdW5jdGlvbihlLHQpe3JldHVybiBLKGtDKGUsdCksZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWN0aW9uKCl9KX0sUkM9ZnVuY3Rpb24oaSxhKXtpLm9uKCJrZXlkb3duIixmdW5jdGlvbihlKXt2YXIgdCxuLHIsbzshMT09PWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJih0PWksbj1hLHI9ZSxvPW90KCkub3MsVEMoW3trZXlDb2RlOnZ2LlJJR0hULGFjdGlvbjplQyh0LCEwKX0se2tleUNvZGU6dnYuTEVGVCxhY3Rpb246ZUModCwhMSl9LHtrZXlDb2RlOnZ2LlVQLGFjdGlvbjp0Qyh0LCExKX0se2tleUNvZGU6dnYuRE9XTixhY3Rpb246dEModCwhMCl9LHtrZXlDb2RlOnZ2LlJJR0hULGFjdGlvbjp2Qyh0LCEwKX0se2tleUNvZGU6dnYuTEVGVCxhY3Rpb246dkModCwhMSl9LHtrZXlDb2RlOnZ2LlVQLGFjdGlvbjp5Qyh0LCExKX0se2tleUNvZGU6dnYuRE9XTixhY3Rpb246eUModCwhMCl9LHtrZXlDb2RlOnZ2LlJJR0hULGFjdGlvbjpmYih0LG4sITApfSx7a2V5Q29kZTp2di5MRUZULGFjdGlvbjpmYih0LG4sITEpfSx7a2V5Q29kZTp2di5SSUdIVCxjdHJsS2V5OiFvLmlzT1NYKCksYWx0S2V5Om8uaXNPU1goKSxhY3Rpb246cGIodCxuKX0se2tleUNvZGU6dnYuTEVGVCxjdHJsS2V5OiFvLmlzT1NYKCksYWx0S2V5Om8uaXNPU1goKSxhY3Rpb246Z2IodCxuKX0se2tleUNvZGU6dnYuVVAsYWN0aW9uOkVDKHQsITEpfSx7a2V5Q29kZTp2di5ET1dOLGFjdGlvbjpFQyh0LCEwKX1dLHIpLmVhY2goZnVuY3Rpb24oZSl7ci5wcmV2ZW50RGVmYXVsdCgpfSkpfSl9LEFDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEJ0KGUsdCk/WmEodCxmdW5jdGlvbihlKXtyZXR1cm4gR24oZSl8fFFuKGUpfSwobj1lLGZ1bmN0aW9uKGUpe3JldHVybiBEdChuLEN0LmZyb21Eb20oZS5kb20oKS5wYXJlbnROb2RlKSl9KSk6Qi5ub25lKCk7dmFyIG59LERDPWZ1bmN0aW9uKGUpe3ZhciB0LG4scjtlLmRvbS5pc0VtcHR5KGUuZ2V0Qm9keSgpKSYmKGUuc2V0Q29udGVudCgiIiksbj0odD1lKS5nZXRCb2R5KCkscj1uLmZpcnN0Q2hpbGQmJnQuZG9tLmlzQmxvY2sobi5maXJzdENoaWxkKT9uLmZpcnN0Q2hpbGQ6bix0LnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihyLDApKX0sT0M9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZnJvbTplLHRvOnR9fSxCQz1mdW5jdGlvbihlLHQpe3ZhciBuPUN0LmZyb21Eb20oZSkscj1DdC5mcm9tRG9tKHQuY29udGFpbmVyKCkpO3JldHVybiBBQyhuLHIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57YmxvY2s6ZSxwb3NpdGlvbjp0fX0pfSxQQz1mdW5jdGlvbihvLGksZSl7dmFyIHQ9QkMobyxTcy5mcm9tUmFuZ2VTdGFydChlKSksbj10LmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGFsKGksbyxlLnBvc2l0aW9uKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBCQyhvLGUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdD1vLG49aSxSbigocj1lKS5wb3NpdGlvbi5nZXROb2RlKCkpJiYhMT09PWRkKHIuYmxvY2spP2NsKCExLHIuYmxvY2suZG9tKCkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNFcXVhbChyLnBvc2l0aW9uKT9hbChuLHQsZSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gQkModCxlKX0pOkIuc29tZShyKX0pLmdldE9yKHIpOnI7dmFyIHQsbixyfSl9KX0pO3JldHVybiBCdSh0LG4sT0MpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hMT09PUR0KChyPWUpLmZyb20uYmxvY2ssci50by5ibG9jaykmJk10KChuPWUpLmZyb20uYmxvY2spLmJpbmQoZnVuY3Rpb24odCl7cmV0dXJuIE10KG4udG8uYmxvY2spLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gRHQodCxlKX0pfSkuaXNTb21lKCkmJighMT09PURuKCh0PWUpLmZyb20uYmxvY2suZG9tKCkpJiYhMT09PURuKHQudG8uYmxvY2suZG9tKCkpKTt2YXIgdCxuLHJ9KX0sTEM9ZnVuY3Rpb24oZSl7dmFyIHQsbj0odD1IdChlKSxYKHQsS24pLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gdH0sZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2xpY2UoMCxlKX0pKTtyZXR1cm4geihuLG5uKSxufSxJQz1mdW5jdGlvbihlLHQpe3ZhciBuPXlkKHQsZSk7cmV0dXJuIEsobi5yZXZlcnNlKCksZnVuY3Rpb24oZSl7cmV0dXJuIGRkKGUpfSkuZWFjaChubil9LE1DPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKGRkKG4pKXJldHVybiBwZChuKSxkbChuLmRvbSgpKTswPT09SCh6dChyKSxmdW5jdGlvbihlKXtyZXR1cm4hZGQoZSl9KS5sZW5ndGgmJmRkKHQpJiZHdChyLEN0LmZyb21UYWcoImJyIikpO3ZhciBvPWZsKG4uZG9tKCksU3MuYmVmb3JlKHIuZG9tKCkpKTtyZXR1cm4geihMQyh0KSxmdW5jdGlvbihlKXtHdChyLGUpfSksSUMoZSx0KSxvfSxGQz1mdW5jdGlvbihlLHQsbil7aWYoZGQobikpcmV0dXJuIG5uKG4pLGRkKHQpJiZwZCh0KSxkbCh0LmRvbSgpKTt2YXIgcj1tbChuLmRvbSgpKTtyZXR1cm4geihMQyh0KSxmdW5jdGlvbihlKXtadChuLGUpfSksSUMoZSx0KSxyfSxVQz1mdW5jdGlvbihlLHQpe3JldHVybiBCdCh0LGUpPyhuPXlkKGUsdCksQi5mcm9tKG5bbi5sZW5ndGgtMV0pKTpCLm5vbmUoKTt2YXIgbn0sekM9ZnVuY3Rpb24oZSx0KXtjbChlLHQuZG9tKCkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXROb2RlKCl9KS5tYXAoQ3QuZnJvbURvbSkuZmlsdGVyKFluKS5lYWNoKG5uKX0sakM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB6QyghMCx0KSx6QyghMSxuKSxVQyh0LG4pLmZvbGQoTihGQyxlLHQsbiksTihNQyxlLHQsbikpfSxIQz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdD9qQyhlLHIsbik6akMoZSxuLHIpfSxWQz1mdW5jdGlvbih0LG4pe3ZhciBlLHIsbyxpPUN0LmZyb21Eb20odC5nZXRCb2R5KCkpLGE9KGU9aS5kb20oKSxyPW4sKChvPXQuc2VsZWN0aW9uLmdldFJuZygpKS5jb2xsYXBzZWQ/UEMoZSxyLG8pOkIubm9uZSgpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBIQyhpLG4sZS5mcm9tLmJsb2NrLGUudG8uYmxvY2spfSkpO3JldHVybiBhLmVhY2goZnVuY3Rpb24oZSl7dC5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpKX0pLGEuaXNTb21lKCl9LHFDPWZ1bmN0aW9uKGUsdCl7dmFyIG49Q3QuZnJvbURvbSh0KSxyPU4oRHQsZSk7cmV0dXJuIFFhKG4sdHIscikuaXNTb21lKCl9LCRDPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPWZsKGUuZG9tKCksU3MuZnJvbVJhbmdlU3RhcnQodCkpLmlzTm9uZSgpLGk9bGwoZS5kb20oKSxTcy5mcm9tUmFuZ2VFbmQodCkpLmlzTm9uZSgpO3JldHVybiEocUMobj1lLChyPXQpLnN0YXJ0Q29udGFpbmVyKXx8cUMobixyLmVuZENvbnRhaW5lcikpJiZvJiZpfSxXQz1mdW5jdGlvbihlKXt2YXIgbixyLG8sdCxpPUN0LmZyb21Eb20oZS5nZXRCb2R5KCkpLGE9ZS5zZWxlY3Rpb24uZ2V0Um5nKCk7cmV0dXJuICRDKGksYSk/KCh0PWUpLnNldENvbnRlbnQoIiIpLHQuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKCksITApOihuPWkscj1lLnNlbGVjdGlvbixvPXIuZ2V0Um5nKCksQnUoQUMobixDdC5mcm9tRG9tKG8uc3RhcnRDb250YWluZXIpKSxBQyhuLEN0LmZyb21Eb20oby5lbmRDb250YWluZXIpKSxmdW5jdGlvbihlLHQpe3JldHVybiExPT09RHQoZSx0KSYmKG8uZGVsZXRlQ29udGVudHMoKSxIQyhuLCEwLGUsdCkuZWFjaChmdW5jdGlvbihlKXtyLnNldFJuZyhlLnRvUmFuZ2UoKSl9KSwhMCl9KS5nZXRPcighMSkpfSxLQz1mdW5jdGlvbihlLHQpe3JldHVybiFlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiZXQyhlKX0sWEM9ZnVuY3Rpb24oZSl7cmV0dXJuIGpjKGUpLmV4aXN0cyhZbil9LFlDPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1IKHlkKEN0LmZyb21Eb20obi5jb250YWluZXIoKSksdCksS24pLG89WihyKS5nZXRPcih0KTtyZXR1cm4gYWwoZSxvLmRvbSgpLG4pLmZpbHRlcihYQyl9LEdDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGpjKHQpLmV4aXN0cyhZbil8fFlDKCEwLGUsdCkuaXNTb21lKCl9LEpDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49dCxCLmZyb20obi5nZXROb2RlKCEwKSkubWFwKEN0LmZyb21Eb20pLmV4aXN0cyhZbil8fFlDKCExLGUsdCkuaXNTb21lKCk7dmFyIG59LFFDPU4oWUMsITEpLFpDPU4oWUMsITApLGV3PVFpKFt7cmVtb3ZlOlsiZWxlbWVudCJdfSx7bW92ZVRvRWxlbWVudDpbImVsZW1lbnQiXX0se21vdmVUb1Bvc2l0aW9uOlsicG9zaXRpb24iXX1dKSx0dz1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1yLmdldE5vZGUoITE9PT10KTtyZXR1cm4gQUMoQ3QuZnJvbURvbShlKSxDdC5mcm9tRG9tKG4uZ2V0Tm9kZSgpKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBkZChlKT9ldy5yZW1vdmUoZS5kb20oKSk6ZXcubW92ZVRvRWxlbWVudChvKX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gQi5zb21lKGV3Lm1vdmVUb0VsZW1lbnQobykpfSl9LG53PWZ1bmN0aW9uKHUscyxjKXtyZXR1cm4gYWwocyx1LGMpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGE9ZS5nZXROb2RlKCksdHIoQ3QuZnJvbURvbShhKSl8fFFuKEN0LmZyb21Eb20oYSkpP0Iubm9uZSgpOih0PXUsbz1lLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFhuKEN0LmZyb21Eb20oZSkpJiYhT2MocixvLHQpfSxVYyghKG49cykscj1jKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIFVjKG4sbykuZm9sZCh4KCExKSxpKX0saSk/Qi5ub25lKCk6cyYmRG4oZS5nZXROb2RlKCkpfHwhMT09PXMmJkRuKGUuZ2V0Tm9kZSghMCkpP3R3KHUscyxjLGUpOnMmJmFkKGMpfHwhMT09PXMmJmlkKGMpP0Iuc29tZShldy5tb3ZlVG9Qb3NpdGlvbihlKSk6Qi5ub25lKCkpO3ZhciB0LG4scixvLGksYX0pfSxydz1mdW5jdGlvbihyLGUsbyl7cmV0dXJuIGk9ZSxhPW8uZ2V0Tm9kZSghMT09PWkpLHU9aT8iYWZ0ZXIiOiJiZWZvcmUiLHZuKGEpJiZhLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKT09PXU/KHQ9ZSxuPW8uZ2V0Tm9kZSghMT09PWUpLCh0JiZEbihuLm5leHRTaWJsaW5nKT9CLnNvbWUoZXcubW92ZVRvRWxlbWVudChuLm5leHRTaWJsaW5nKSk6ITE9PT10JiZEbihuLnByZXZpb3VzU2libGluZyk/Qi5zb21lKGV3Lm1vdmVUb0VsZW1lbnQobi5wcmV2aW91c1NpYmxpbmcpKTpCLm5vbmUoKSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBudyhyLGUsbyl9LEIuc29tZSkpOm53KHIsZSxvKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB0PXIsbj1vLGUuZm9sZChmdW5jdGlvbihlKXtyZXR1cm4gQi5zb21lKGV3LnJlbW92ZShlKSl9LGZ1bmN0aW9uKGUpe3JldHVybiBCLnNvbWUoZXcubW92ZVRvRWxlbWVudChlKSl9LGZ1bmN0aW9uKGUpe3JldHVybiBPYyhuLGUsdCk/Qi5ub25lKCk6Qi5zb21lKGV3Lm1vdmVUb1Bvc2l0aW9uKGUpKX0pO3ZhciB0LG59KTt2YXIgdCxuLGksYSx1fSxvdz1mdW5jdGlvbihlLHQpe3JldHVybiBCLmZyb20odXcoZS5nZXRCb2R5KCksdCkpfSxpdz1mdW5jdGlvbihhLHUpe3ZhciBlPWEuc2VsZWN0aW9uLmdldE5vZGUoKTtyZXR1cm4gb3coYSxlKS5maWx0ZXIoRG4pLmZvbGQoZnVuY3Rpb24oKXt2YXIgZSx0LG4scixvLGk7cmV0dXJuKGU9YS5nZXRCb2R5KCksdD11LG49YS5zZWxlY3Rpb24uZ2V0Um5nKCkscj1GYyh0PzE6LTEsZSxuKSxvPVNzLmZyb21SYW5nZVN0YXJ0KHIpLGk9Q3QuZnJvbURvbShlKSwoITE9PT10JiZhZChvKT9CLnNvbWUoZXcucmVtb3ZlKG8uZ2V0Tm9kZSghMCkpKTp0JiZpZChvKT9CLnNvbWUoZXcucmVtb3ZlKG8uZ2V0Tm9kZSgpKSk6ITE9PT10JiZpZChvKSYmSkMoaSxvKT9RQyhpLG8pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZXcucmVtb3ZlKGUuZ2V0Tm9kZSgpKX0pOnQmJmFkKG8pJiZHQyhpLG8pP1pDKGksbykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBldy5yZW1vdmUoZS5nZXROb2RlKCkpfSk6cncoZSx0LG8pKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChmdW5jdGlvbihlKXtyZXR1cm4gby5fc2VsZWN0aW9uT3ZlcnJpZGVzLmhpZGVGYWtlQ2FyZXQoKSxEZChvLGksQ3QuZnJvbURvbShlKSksITB9LChyPWk9dSxmdW5jdGlvbihlKXt2YXIgdD1yP1NzLmJlZm9yZShlKTpTcy5hZnRlcihlKTtyZXR1cm4gbi5zZWxlY3Rpb24uc2V0Um5nKHQudG9SYW5nZSgpKSwhMH0pLCh0PW49bz1hLGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpLCEwfSkpO3ZhciB0LG4scixvLGl9KSkuZ2V0T3IoITEpfSxmdW5jdGlvbigpe3JldHVybiEwfSl9LGF3PWZ1bmN0aW9uKHQsbil7dmFyIGU9dC5zZWxlY3Rpb24uZ2V0Tm9kZSgpO3JldHVybiEhRG4oZSkmJm93KHQsZS5wYXJlbnROb2RlKS5maWx0ZXIoRG4pLmZvbGQoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZT1DdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSx6KFlhKGUsIi5tY2Utb2Zmc2NyZWVuLXNlbGVjdGlvbiIpLG5uKSxEZCh0LG4sQ3QuZnJvbURvbSh0LnNlbGVjdGlvbi5nZXROb2RlKCkpKSxEQyh0KSwhMH0sZnVuY3Rpb24oKXtyZXR1cm4hMH0pfSx1dz1mdW5jdGlvbihlLHQpe2Zvcig7dCYmdCE9PWU7KXtpZihBbih0KXx8RG4odCkpcmV0dXJuIHQ7dD10LnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LHN3PWZ1bmN0aW9uKGUpe3ZhciB0LG49dXcoZS5nZXRCb2R5KCksZS5zZWxlY3Rpb24uZ2V0Tm9kZSgpKTtyZXR1cm4gQW4obikmJmUuZG9tLmlzQmxvY2sobikmJmUuZG9tLmlzRW1wdHkobikmJih0PWUuZG9tLmNyZWF0ZSgiYnIiLHsiZGF0YS1tY2UtYm9ndXMiOiIxIn0pLGUuZG9tLnNldEhUTUwobiwiIiksbi5hcHBlbmRDaGlsZCh0KSxlLnNlbGVjdGlvbi5zZXRSbmcoU3MuYmVmb3JlKHQpLnRvUmFuZ2UoKSkpLCEwfSxjdz1mdW5jdGlvbihlLHQpe3JldHVybihlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpP2l3OmF3KShlLHQpfSxsdz1mdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIGEsdSxzPSRiKHIsZSxpLmdldE5vZGUoIW8pLG8sITApO2lmKHQuY29sbGFwc2VkKXt2YXIgYz10LmNsb25lUmFuZ2UoKTtvP2Muc2V0RW5kKHMuc3RhcnRDb250YWluZXIscy5zdGFydE9mZnNldCk6Yy5zZXRTdGFydChzLmVuZENvbnRhaW5lcixzLmVuZE9mZnNldCksYy5kZWxldGVDb250ZW50cygpfWVsc2UgdC5kZWxldGVDb250ZW50cygpO3JldHVybiBlLnNlbGVjdGlvbi5zZXRSbmcocyksYT1lLmRvbSxFbih1PW4pJiYwPT09dS5kYXRhLmxlbmd0aCYmYS5yZW1vdmUodSksITB9LGZ3PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5zZWxlY3Rpb24uZ2V0Um5nKCk7aWYoIUVuKG4uY29tbW9uQW5jZXN0b3JDb250YWluZXIpKXJldHVybiExO3ZhciByPXQ/d3MuRm9yd2FyZHM6d3MuQmFja3dhcmRzLG89dGwoZS5nZXRCb2R5KCkpLGk9TihIYyxvLm5leHQpLGE9TihIYyxvLnByZXYpLHU9dD9pOmEscz10P2lkOmFkLGM9emMocixlLmdldEJvZHkoKSxuKSxsPVV5KHQsdShjKSk7aWYoIWx8fCFWYyhjLGwpKXJldHVybiExO2lmKHMobCkpcmV0dXJuIGx3KGUsbixjLmdldE5vZGUoKSxyLHQsbCk7dmFyIGY9dShsKTtyZXR1cm4hIShmJiZzKGYpJiZWYyhsLGYpKSYmbHcoZSxuLGMuZ2V0Tm9kZSgpLHIsdCxmKX0oZSx0KX0sZHc9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIFB5KG4sZSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB1Yih0LGUpLCEwfSkuZ2V0T3IoITEpfX0sbXc9ZnVuY3Rpb24ocixvLGksYSl7dmFyIHU9ci5nZXRCb2R5KCkscz1OKEl5LHIpO3IudW5kb01hbmFnZXIuaWdub3JlKGZ1bmN0aW9uKCl7dmFyIGUsdCxuO3Iuc2VsZWN0aW9uLnNldFJuZygoZT1pLHQ9YSwobj1WLmRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSksbi5zZXRFbmQodC5jb250YWluZXIoKSx0Lm9mZnNldCgpKSxuKSksci5leGVjQ29tbWFuZCgiRGVsZXRlIiksUXkocyx1LFNzLmZyb21SYW5nZVN0YXJ0KHIuc2VsZWN0aW9uLmdldFJuZygpKSkubWFwKG5iKS5tYXAoZHcocixvKSl9KSxyLm5vZGVDaGFuZ2VkKCl9LHB3PWZ1bmN0aW9uKG4scixpLG8pe3ZhciBlLHQsYT0oZT1uLmdldEJvZHkoKSx0PW8uY29udGFpbmVyKCksRGModCxlKXx8ZSksdT1OKEl5LG4pLHM9UXkodSxhLG8pO3JldHVybiBzLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGk/ZS5mb2xkKHgoQi5zb21lKG5iKGUpKSksQi5ub25lLHgoQi5zb21lKHRiKGUpKSksQi5ub25lKTplLmZvbGQoQi5ub25lLHgoQi5zb21lKHRiKGUpKSksQi5ub25lLHgoQi5zb21lKG5iKGUpKSkpfSkubWFwKGR3KG4scikpLmdldE9yVGh1bmsoZnVuY3Rpb24oKXt2YXIgdD11bChpLGEsbyksZT10LmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIFF5KHUsYSxlKX0pO3JldHVybiBzLmlzU29tZSgpJiZlLmlzU29tZSgpP0Z5KHUsYSxvKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuISFCdShkbChvPWUpLG1sKG8pLGZ1bmN0aW9uKGUsdCl7dmFyIG49VXkoITAsZSkscj1VeSghMSx0KTtyZXR1cm4gbGwobyxuKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNFcXVhbChyKX0pLmdldE9yKCEwKX0pLmdldE9yKCEwKSYmKERkKG4saSxDdC5mcm9tRG9tKGUpKSwhMCk7dmFyIG99KS5nZXRPcighMSk6ZS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gaT9tdyhuLHIsbyxlKTptdyhuLHIsZSxvKSwhMH0pfSkuZ2V0T3IoITEpfSl9LGd3PWZ1bmN0aW9uKGUsdCxuKXtpZihlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiZpYyhlKSl7dmFyIHI9U3MuZnJvbVJhbmdlU3RhcnQoZS5zZWxlY3Rpb24uZ2V0Um5nKCkpO3JldHVybiBwdyhlLHQsbixyKX1yZXR1cm4hMX0saHc9ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1IdChlKS5sZW5ndGh9LHZ3PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHM9TihrcCx0KSxjPVUoSChyLHMpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpfSk7aWYoMD09PWMubGVuZ3RoKURkKHQsZSxuKTtlbHNle3ZhciBsPShvPW4uZG9tKCksaT1jLGE9YnAoITEpLHU9U3AoaSxhLmRvbSgpKSxHdChDdC5mcm9tRG9tKG8pLGEpLG5uKEN0LmZyb21Eb20obykpLFNzKHUsMCkpO3Quc2VsZWN0aW9uLnNldFJuZyhsLnRvUmFuZ2UoKSl9fSx5dz1mdW5jdGlvbihyLG8pe3ZhciB0LGU9Q3QuZnJvbURvbShyLmdldEJvZHkoKSksbj1DdC5mcm9tRG9tKHIuc2VsZWN0aW9uLmdldFN0YXJ0KCkpLHM9SCgodD15ZChuLGUpLFgodCxLbikuZm9sZCh4KHQpLGZ1bmN0aW9uKGUpe3JldHVybiB0LnNsaWNlKDAsZSl9KSksaHcpO3JldHVybiBlZShzKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQsaSxhLHUsbj1Tcy5mcm9tUmFuZ2VTdGFydChyLnNlbGVjdGlvbi5nZXRSbmcoKSk7cmV0dXJuIGk9byxhPW4sdT1lLmRvbSgpLCEoIUJ1KGRsKHUpLG1sKHUpLGZ1bmN0aW9uKGUsdCl7dmFyIG49VXkoITAsZSkscj1VeSghMSx0KSxvPVV5KCExLGEpO3JldHVybiBpP2xsKHUsbykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXF1YWwocikmJmEuaXNFcXVhbChuKX0pLmdldE9yKCExKTpmbCh1LG8pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0VxdWFsKG4pJiZhLmlzRXF1YWwocil9KS5nZXRPcighMSl9KS5nZXRPcighMCl8fGdsKCh0PWUpLmRvbSgpKSYmdnAodC5kb20oKSkpJiYodncobyxyLGUscyksITApfSkuZ2V0T3IoITEpfSxidz1mdW5jdGlvbihlLHQpe3JldHVybiEhZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmeXcoZSx0KX0sQ3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIWUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJihuPWUscj10LG89U3MuZnJvbVJhbmdlU3RhcnQobi5zZWxlY3Rpb24uZ2V0Um5nKCkpLGFsKHIsbi5nZXRCb2R5KCksbykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybihyP3RkOm5kKShlKX0pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIEIuZnJvbShCYyhyPzA6LTEsZSkpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuLnNlbGVjdGlvbi5zZWxlY3QoZSksITB9KS5nZXRPcighMSkpO3ZhciBuLHIsb30sd3c9ZnVuY3Rpb24oZSl7dmFyIHQ9cGFyc2VJbnQoZSwxMCk7cmV0dXJuIGlzTmFOKHQpPzA6dH0seHc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZXx8InRhYmxlIj09PXd0KHQpPyJtYXJnaW4iOiJwYWRkaW5nIikrKCJydGwiPT09Rm4odCwiZGlyZWN0aW9uIik/Ii1yaWdodCI6Ii1sZWZ0Iil9LFN3PWZ1bmN0aW9uKGUpe3ZhciByLHQ9RXcoZSk7cmV0dXJuIWUubW9kZS5pc1JlYWRPbmx5KCkmJigxPHQubGVuZ3RofHwocj1lLEcodCxmdW5jdGlvbihlKXt2YXIgdD14dyh0YyhyKSxlKSxuPXpuKGUsdCkubWFwKHd3KS5nZXRPcigwKTtyZXR1cm4iZmFsc2UiIT09ci5kb20uZ2V0Q29udGVudEVkaXRhYmxlKGUuZG9tKCkpJiYwPG59KSkpfSxOdz1mdW5jdGlvbihlKXtyZXR1cm4gSm4oZSl8fFFuKGUpfSxFdz1mdW5jdGlvbihlKXtyZXR1cm4gSChVKGUuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCksQ3QuZnJvbURvbSksZnVuY3Rpb24oZSl7cmV0dXJuIU53KGUpJiYhTXQoZSkubWFwKE53KS5nZXRPcighMSkmJlphKGUsZnVuY3Rpb24oZSl7cmV0dXJuIEFuKGUuZG9tKCkpfHxEbihlLmRvbSgpKX0pLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4gQW4oZS5kb20oKSl9KX0pfSxrdz1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZG9tLHI9ZS5zZWxlY3Rpb24sbz1lLmZvcm1hdHRlcixpPWUuZ2V0UGFyYW0oImluZGVudGF0aW9uIiwiNDBweCIsInN0cmluZyIpLGE9L1thLXolXSskL2kuZXhlYyhpKVswXSx1PXBhcnNlSW50KGksMTApLHM9dGMoZSksYz1ZcyhlKTtlLnF1ZXJ5Q29tbWFuZFN0YXRlKCJJbnNlcnRVbm9yZGVyZWRMaXN0Iil8fGUucXVlcnlDb21tYW5kU3RhdGUoIkluc2VydE9yZGVyZWRMaXN0Iil8fCIiIT09Y3x8bi5nZXRQYXJlbnQoci5nZXROb2RlKCksbi5pc0Jsb2NrKXx8by5hcHBseSgiZGl2IikseihFdyhlKSxmdW5jdGlvbihlKXshZnVuY3Rpb24oZSx0LG4scixvLGkpe3ZhciBhPXh3KG4sQ3QuZnJvbURvbShpKSk7aWYoIm91dGRlbnQiPT09dCl7dmFyIHU9TWF0aC5tYXgoMCx3dyhpLnN0eWxlW2FdKS1yKTtlLnNldFN0eWxlKGksYSx1P3UrbzoiIil9ZWxzZXt1PXd3KGkuc3R5bGVbYV0pK3IrbztlLnNldFN0eWxlKGksYSx1KX19KG4sdCxzLHUsYSxlLmRvbSgpKX0pfSxfdz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHNsKGUsdCxuLEpmKX0sVHc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSyh5ZChDdC5mcm9tRG9tKHQuY29udGFpbmVyKCkpLGUpLEtuKX0sUnc9ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBfdyhlLG4uZG9tKCkscikuZm9yYWxsKGZ1bmN0aW9uKHQpe3JldHVybiBUdyhuLHIpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4hMT09PU9jKHQscixuLmRvbSgpKX0sZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1PYyh0LHIsbi5kb20oKSkmJkJ0KGUsQ3QuZnJvbURvbSh0LmNvbnRhaW5lcigpKSl9KX0pfSxBdz1mdW5jdGlvbih0LG4scil7cmV0dXJuIFR3KG4scikuZm9sZChmdW5jdGlvbigpe3JldHVybiBfdyh0LG4uZG9tKCkscikuZm9yYWxsKGZ1bmN0aW9uKGUpe3JldHVybiExPT09T2MoZSxyLG4uZG9tKCkpfSl9LGZ1bmN0aW9uKGUpe3JldHVybiBfdyh0LGUuZG9tKCkscikuaXNOb25lKCl9KX0sRHc9TihBdywhMSksT3c9TihBdywhMCksQnc9TihSdywhMSksUHc9TihSdywhMCksTHc9ZnVuY3Rpb24oZSx0LG4pe2lmKGUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJlN3KGUpKXt2YXIgcj1lLmRvbSxvPWUuc2VsZWN0aW9uLmdldFJuZygpLGk9U3MuZnJvbVJhbmdlU3RhcnQobyksYT1yLmdldFBhcmVudChvLnN0YXJ0Q29udGFpbmVyLHIuaXNCbG9jayk7aWYobnVsbCE9PWEmJkR3KEN0LmZyb21Eb20oYSksaSkpcmV0dXJuIGt3KGUsIm91dGRlbnQiKSwhMH1yZXR1cm4hMX0sSXc9ZnVuY3Rpb24obyxpKXtvLm9uKCJrZXlkb3duIixmdW5jdGlvbihlKXt2YXIgdCxuLHI7ITE9PT1lLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodD1vLG49aSxyPWUsVEMoW3trZXlDb2RlOnZ2LkJBQ0tTUEFDRSxhY3Rpb246X0MoTHcsdCwhMSl9LHtrZXlDb2RlOnZ2LkJBQ0tTUEFDRSxhY3Rpb246X0MoY3csdCwhMSl9LHtrZXlDb2RlOnZ2LkRFTEVURSxhY3Rpb246X0MoY3csdCwhMCl9LHtrZXlDb2RlOnZ2LkJBQ0tTUEFDRSxhY3Rpb246X0MoZncsdCwhMSl9LHtrZXlDb2RlOnZ2LkRFTEVURSxhY3Rpb246X0MoZncsdCwhMCl9LHtrZXlDb2RlOnZ2LkJBQ0tTUEFDRSxhY3Rpb246X0MoZ3csdCxuLCExKX0se2tleUNvZGU6dnYuREVMRVRFLGFjdGlvbjpfQyhndyx0LG4sITApfSx7a2V5Q29kZTp2di5CQUNLU1BBQ0UsYWN0aW9uOl9DKG9tLHQsITEpfSx7a2V5Q29kZTp2di5ERUxFVEUsYWN0aW9uOl9DKG9tLHQsITApfSx7a2V5Q29kZTp2di5CQUNLU1BBQ0UsYWN0aW9uOl9DKEN3LHQsITEpfSx7a2V5Q29kZTp2di5ERUxFVEUsYWN0aW9uOl9DKEN3LHQsITApfSx7a2V5Q29kZTp2di5CQUNLU1BBQ0UsYWN0aW9uOl9DKEtDLHQsITEpfSx7a2V5Q29kZTp2di5ERUxFVEUsYWN0aW9uOl9DKEtDLHQsITApfSx7a2V5Q29kZTp2di5CQUNLU1BBQ0UsYWN0aW9uOl9DKFZDLHQsITEpfSx7a2V5Q29kZTp2di5ERUxFVEUsYWN0aW9uOl9DKFZDLHQsITApfSx7a2V5Q29kZTp2di5CQUNLU1BBQ0UsYWN0aW9uOl9DKGJ3LHQsITEpfSx7a2V5Q29kZTp2di5ERUxFVEUsYWN0aW9uOl9DKGJ3LHQsITApfV0scikuZWFjaChmdW5jdGlvbihlKXtyLnByZXZlbnREZWZhdWx0KCl9KSl9KSxvLm9uKCJrZXl1cCIsZnVuY3Rpb24oZSl7dmFyIHQsbjshMT09PWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJih0PW8sbj1lLFRDKFt7a2V5Q29kZTp2di5CQUNLU1BBQ0UsYWN0aW9uOl9DKHN3LHQpfSx7a2V5Q29kZTp2di5ERUxFVEUsYWN0aW9uOl9DKHN3LHQpfV0sbikpfSl9LE13PWZ1bmN0aW9uKGUsdCl7dmFyIG4scj10LG89ZS5kb20saT1lLnNjaGVtYS5nZXRNb3ZlQ2FyZXRCZWZvcmVPbkVudGVyRWxlbWVudHMoKTtpZih0KXtpZigvXihMSXxEVHxERCkkLy50ZXN0KHQubm9kZU5hbWUpKXt2YXIgYT1mdW5jdGlvbihlKXtmb3IoO2U7KXtpZigxPT09ZS5ub2RlVHlwZXx8Mz09PWUubm9kZVR5cGUmJmUuZGF0YSYmL1tcclxuXHNdLy50ZXN0KGUuZGF0YSkpcmV0dXJuIGU7ZT1lLm5leHRTaWJsaW5nfX0odC5maXJzdENoaWxkKTthJiYvXihVTHxPTHxETCkkLy50ZXN0KGEubm9kZU5hbWUpJiZ0Lmluc2VydEJlZm9yZShvLmRvYy5jcmVhdGVUZXh0Tm9kZShEciksdC5maXJzdENoaWxkKX12YXIgdT1vLmNyZWF0ZVJuZygpO2lmKHQubm9ybWFsaXplKCksdC5oYXNDaGlsZE5vZGVzKCkpe2Zvcih2YXIgcz1uZXcgQWkodCx0KTtuPXMuY3VycmVudCgpOyl7aWYoRW4obikpe3Uuc2V0U3RhcnQobiwwKSx1LnNldEVuZChuLDApO2JyZWFrfWlmKGlbbi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSl7dS5zZXRTdGFydEJlZm9yZShuKSx1LnNldEVuZEJlZm9yZShuKTticmVha31yPW4sbj1zLm5leHQoKX1ufHwodS5zZXRTdGFydChyLDApLHUuc2V0RW5kKHIsMCkpfWVsc2UgUm4odCk/dC5uZXh0U2libGluZyYmby5pc0Jsb2NrKHQubmV4dFNpYmxpbmcpPyh1LnNldFN0YXJ0QmVmb3JlKHQpLHUuc2V0RW5kQmVmb3JlKHQpKToodS5zZXRTdGFydEFmdGVyKHQpLHUuc2V0RW5kQWZ0ZXIodCkpOih1LnNldFN0YXJ0KHQsMCksdS5zZXRFbmQodCwwKSk7ZS5zZWxlY3Rpb24uc2V0Um5nKHUpLFloKGUsdSl9fSxGdz1mdW5jdGlvbihlKXtyZXR1cm4gQi5mcm9tKGUuZG9tLmdldFBhcmVudChlLnNlbGVjdGlvbi5nZXRTdGFydCghMCksZS5kb20uaXNCbG9jaykpfSxVdz1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5ub2RlTmFtZT09PXR9LHp3PWZ1bmN0aW9uKGUpe3JldHVybiBlJiYvXihPTHxVTHxMSSkkLy50ZXN0KGUubm9kZU5hbWUpfSxqdz1mdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuL14oTEl8RFR8REQpJC8udGVzdCh0Lm5vZGVOYW1lKT90OmV9LEh3PWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9ZVtuPyJmaXJzdENoaWxkIjoibGFzdENoaWxkIl07ciYmIXZuKHIpOylyPXJbbj8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciXTtyZXR1cm4gcj09PXR9LFZ3PWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGk9ZS5kb20sYT1lLnNlbGVjdGlvbi5nZXRSbmcoKTtpZihuIT09ZS5nZXRCb2R5KCkpe3ZhciB1O3p3KHU9bikmJnp3KHUucGFyZW50Tm9kZSkmJihvPSJMSSIpO3ZhciBzLGMsbD1vP3Qobyk6aS5jcmVhdGUoIkJSIik7aWYoSHcobixyLCEwKSYmSHcobixyLCExKSlVdyhuLCJMSSIpP2kuaW5zZXJ0QWZ0ZXIobCxqdyhuKSk6aS5yZXBsYWNlKGwsbik7ZWxzZSBpZihIdyhuLHIsITApKVV3KG4sIkxJIik/KGkuaW5zZXJ0QWZ0ZXIobCxqdyhuKSksbC5hcHBlbmRDaGlsZChpLmRvYy5jcmVhdGVUZXh0Tm9kZSgiICIpKSxsLmFwcGVuZENoaWxkKG4pKTpuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGwsbik7ZWxzZSBpZihIdyhuLHIsITEpKWkuaW5zZXJ0QWZ0ZXIobCxqdyhuKSk7ZWxzZXtuPWp3KG4pO3ZhciBmPWEuY2xvbmVSYW5nZSgpO2Yuc2V0U3RhcnRBZnRlcihyKSxmLnNldEVuZEFmdGVyKG4pO3ZhciBkPWYuZXh0cmFjdENvbnRlbnRzKCk7IkxJIj09PW8mJihjPSJMSSIsKHM9ZCkuZmlyc3RDaGlsZCYmcy5maXJzdENoaWxkLm5vZGVOYW1lPT09Yyk/KGw9ZC5maXJzdENoaWxkLGkuaW5zZXJ0QWZ0ZXIoZCxuKSk6KGkuaW5zZXJ0QWZ0ZXIoZCxuKSxpLmluc2VydEFmdGVyKGwsbikpfWkucmVtb3ZlKHIpLE13KGUsbCl9fSxxdz1mdW5jdGlvbihlKXtlLmlubmVySFRNTD0nPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nfSwkdz1mdW5jdGlvbihlLHQpe3JldHVybiBlLm5vZGVOYW1lPT09dHx8ZS5wcmV2aW91c1NpYmxpbmcmJmUucHJldmlvdXNTaWJsaW5nLm5vZGVOYW1lPT09dH0sV3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmZS5pc0Jsb2NrKHQpJiYhL14oVER8VEh8Q0FQVElPTnxGT1JNKSQvLnRlc3QodC5ub2RlTmFtZSkmJiEvXihmaXhlZHxhYnNvbHV0ZSkvaS50ZXN0KHQuc3R5bGUucG9zaXRpb24pJiYidHJ1ZSIhPT1lLmdldENvbnRlbnRFZGl0YWJsZSh0KX0sS3c9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiExPT09RW4odCk/bjplPzE9PT1uJiZ0LmRhdGEuY2hhckF0KG4tMSk9PT15dT8wOm46bj09PXQuZGF0YS5sZW5ndGgtMSYmdC5kYXRhLmNoYXJBdChuKT09PXl1P3QuZGF0YS5sZW5ndGg6bn0sWHc9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89ZS5nZXRSb290KCk7Zm9yKG49dDtuIT09byYmImZhbHNlIiE9PWUuZ2V0Q29udGVudEVkaXRhYmxlKG4pOykidHJ1ZSI9PT1lLmdldENvbnRlbnRFZGl0YWJsZShuKSYmKHI9biksbj1uLnBhcmVudE5vZGU7cmV0dXJuIG4hPT1vP3I6b30sWXc9ZnVuY3Rpb24obyxpLGUpe0IuZnJvbShlLnN0eWxlKS5tYXAoby5kb20ucGFyc2VTdHlsZSkuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXt2YXIgdD17fSxuPWUuZG9tKCk7aWYoT24obikpZm9yKHZhciByPTA7cjxuLnN0eWxlLmxlbmd0aDtyKyspe3ZhciBvPW4uc3R5bGUuaXRlbShyKTt0W29dPW4uc3R5bGVbb119cmV0dXJuIHR9KEN0LmZyb21Eb20oaSkpLG49eGUoeGUoe30sdCksZSk7by5kb20uc2V0U3R5bGVzKGksbil9KTt2YXIgdD1CLmZyb20oZVsiY2xhc3MiXSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KC9ccysvKX0pLG49Qi5mcm9tKGkuY2xhc3NOYW1lKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEgoZS5zcGxpdCgvXHMrLyksZnVuY3Rpb24oZSl7cmV0dXJuIiIhPT1lfSl9KTtCdSh0LG4sZnVuY3Rpb24odCxlKXt2YXIgbj1IKGUsZnVuY3Rpb24oZSl7cmV0dXJuIU0odCxlKX0pLHI9U2UodCxuKTtvLmRvbS5zZXRBdHRyaWIoaSwiY2xhc3MiLHIuam9pbigiICIpKX0pO3ZhciByPVsic3R5bGUiLCJjbGFzcyJdLGE9bGUoZSxmdW5jdGlvbihlLHQpe3JldHVybiFNKHIsdCl9KTtvLmRvbS5zZXRBdHRyaWJzKGksYSl9LEd3PWZ1bmN0aW9uKGUsdCl7dmFyIG49WXMoZSk7aWYobiYmbi50b0xvd2VyQ2FzZSgpPT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciByPUdzKGUpO1l3KGUsdCxyKX19LEp3PWZ1bmN0aW9uKGEsZSl7dmFyIHQsdSxpLHMsbixyLG8sYyxsLGYsZD1hLmRvbSxtPWEuc2NoZW1hLHA9bS5nZXROb25FbXB0eUVsZW1lbnRzKCksZz1hLnNlbGVjdGlvbi5nZXRSbmcoKSxoPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPXUsaT1tLmdldFRleHRJbmxpbmVFbGVtZW50cygpO2lmKHI9dD1lfHwiVEFCTEUiPT09Y3x8IkhSIj09PWM/ZC5jcmVhdGUoZXx8bCk6cy5jbG9uZU5vZGUoITEpLCExPT09YS5nZXRQYXJhbSgia2VlcF9zdHlsZXMiLCEwKSlkLnNldEF0dHJpYih0LCJzdHlsZSIsbnVsbCksZC5zZXRBdHRyaWIodCwiY2xhc3MiLG51bGwpO2Vsc2UgZG97aWYoaVtvLm5vZGVOYW1lXSl7aWYoZ2wobyl8fGtsKG8pKWNvbnRpbnVlO249by5jbG9uZU5vZGUoITEpLGQuc2V0QXR0cmliKG4sImlkIiwiIiksdC5oYXNDaGlsZE5vZGVzKCk/bi5hcHBlbmRDaGlsZCh0LmZpcnN0Q2hpbGQpOnI9bix0LmFwcGVuZENoaWxkKG4pfX13aGlsZSgobz1vLnBhcmVudE5vZGUpJiZvIT09dyk7cmV0dXJuIEd3KGEsdCkscXcociksdH0sdj1mdW5jdGlvbihlKXt2YXIgdCxuLHI9S3coZSx1LGkpO2lmKEVuKHUpJiYoZT8wPHI6cjx1Lm5vZGVWYWx1ZS5sZW5ndGgpKXJldHVybiExO2lmKHUucGFyZW50Tm9kZT09PXMmJmYmJiFlKXJldHVybiEwO2lmKGUmJnZuKHUpJiZ1PT09cy5maXJzdENoaWxkKXJldHVybiEwO2lmKCR3KHUsIlRBQkxFIil8fCR3KHUsIkhSIikpcmV0dXJuIGYmJiFlfHwhZiYmZTt2YXIgbz1uZXcgQWkodSxzKTtmb3IoRW4odSkmJihlJiYwPT09cj9vLnByZXYoKTplfHxyIT09dS5ub2RlVmFsdWUubGVuZ3RofHxvLm5leHQoKSk7dD1vLmN1cnJlbnQoKTspe2lmKHZuKHQpKXtpZighdC5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikmJihuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwW25dJiYiYnIiIT09bikpcmV0dXJuITF9ZWxzZSBpZihFbih0KSYmIS9eWyBcdFxyXG5dKiQvLnRlc3QodC5ub2RlVmFsdWUpKXJldHVybiExO2U/by5wcmV2KCk6by5uZXh0KCl9cmV0dXJuITB9LHk9ZnVuY3Rpb24oKXtuPS9eKEhbMS02XXxQUkV8RklHVVJFKSQvLnRlc3QoYykmJiJIR1JPVVAiIT09RT9oKGwpOmgoKSxhLmdldFBhcmFtKCJlbmRfY29udGFpbmVyX29uX2VtcHR5X2Jsb2NrIiwhMSkmJld3KGQsbykmJmQuaXNFbXB0eShzKT9uPWQuc3BsaXQobyxzKTpkLmluc2VydEFmdGVyKG4scyksTXcoYSxuKX07bHYoZCxnKS5lYWNoKGZ1bmN0aW9uKGUpe2cuc2V0U3RhcnQoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KSxnLnNldEVuZChlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCl9KSx1PWcuc3RhcnRDb250YWluZXIsaT1nLnN0YXJ0T2Zmc2V0LGw9WXMoYSk7dmFyIGI9ISghZXx8IWUuc2hpZnRLZXkpLEM9ISghZXx8IWUuY3RybEtleSk7dm4odSkmJnUuaGFzQ2hpbGROb2RlcygpJiYoZj1pPnUuY2hpbGROb2Rlcy5sZW5ndGgtMSx1PXUuY2hpbGROb2Rlc1tNYXRoLm1pbihpLHUuY2hpbGROb2Rlcy5sZW5ndGgtMSldfHx1LGk9ZiYmRW4odSk/dS5ub2RlVmFsdWUubGVuZ3RoOjApO3ZhciB3PVh3KGQsdSk7aWYodyl7KGwmJiFifHwhbCYmYikmJih1PWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYSx1LHMsYyxsLGYsZD10fHwiUCIsbT1lLmRvbSxwPVh3KG0scik7aWYoIShhPW0uZ2V0UGFyZW50KHIsbS5pc0Jsb2NrKSl8fCFXdyhtLGEpKXtpZihsPShhPWF8fHApPT09ZS5nZXRCb2R5KCl8fChmPWEpJiYvXihURHxUSHxDQVBUSU9OKSQvLnRlc3QoZi5ub2RlTmFtZSk/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOmEucGFyZW50Tm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCFhLmhhc0NoaWxkTm9kZXMoKSlyZXR1cm4gaT1tLmNyZWF0ZShkKSxHdyhlLGkpLGEuYXBwZW5kQ2hpbGQoaSksbi5zZXRTdGFydChpLDApLG4uc2V0RW5kKGksMCksaTtmb3Iocz1yO3MucGFyZW50Tm9kZSE9PWE7KXM9cy5wYXJlbnROb2RlO2Zvcig7cyYmIW0uaXNCbG9jayhzKTspcz0odT1zKS5wcmV2aW91c1NpYmxpbmc7aWYodSYmZS5zY2hlbWEuaXNWYWxpZENoaWxkKGwsZC50b0xvd2VyQ2FzZSgpKSl7Zm9yKGk9bS5jcmVhdGUoZCksR3coZSxpKSx1LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGksdSkscz11O3MmJiFtLmlzQmxvY2socyk7KWM9cy5uZXh0U2libGluZyxpLmFwcGVuZENoaWxkKHMpLHM9YztuLnNldFN0YXJ0KHIsbyksbi5zZXRFbmQocixvKX19cmV0dXJuIHJ9KGEsbCxnLHUsaSkpLHM9ZC5nZXRQYXJlbnQodSxkLmlzQmxvY2spLG89cz9kLmdldFBhcmVudChzLnBhcmVudE5vZGUsZC5pc0Jsb2NrKTpudWxsLGM9cz9zLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk6IiI7dmFyIHgsUyxOLEU9bz9vLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk6IiI7aWYoIkxJIiE9PUV8fEN8fChvPShzPW8pLnBhcmVudE5vZGUsYz1FKSwvXihMSXxEVHxERCkkLy50ZXN0KGMpJiZkLmlzRW1wdHkocykpVncoYSxoLG8scyxsKTtlbHNlIGlmKCFsfHxzIT09YS5nZXRCb2R5KCkpbD1sfHwiUCIsU3Uocyk/KG49T3UocyksZC5pc0VtcHR5KHMpJiZxdyhzKSxHdyhhLG4pLE13KGEsbikpOnYoKT95KCk6dighMCk/KG49cy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShoKCkscyksTXcoYSwkdyhzLCJIUiIpP246cykpOigoTj0oUz1nKS5jbG9uZVJhbmdlKCkpLnNldFN0YXJ0KFMuc3RhcnRDb250YWluZXIsS3coITAsUy5zdGFydENvbnRhaW5lcixTLnN0YXJ0T2Zmc2V0KSksTi5zZXRFbmQoUy5lbmRDb250YWluZXIsS3coITEsUy5lbmRDb250YWluZXIsUy5lbmRPZmZzZXQpKSwodD1OLmNsb25lUmFuZ2UoKSkuc2V0RW5kQWZ0ZXIocykscj10LmV4dHJhY3RDb250ZW50cygpLHg9cix6KFhhKEN0LmZyb21Eb20oeCksRXQpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tKCk7dC5ub2RlVmFsdWU9Q3UodC5ub2RlVmFsdWUpfSksZnVuY3Rpb24oZSl7Zm9yKDtFbihlKSYmKGUubm9kZVZhbHVlPWUubm9kZVZhbHVlLnJlcGxhY2UoL15bXHJcbl0rLywiIikpLGU9ZS5maXJzdENoaWxkOyk7fShyKSxuPXIuZmlyc3RDaGlsZCxkLmluc2VydEFmdGVyKHIscyksZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89bixpPVtdO2lmKG8pe2Zvcig7bz1vLmZpcnN0Q2hpbGQ7KXtpZihlLmlzQmxvY2sobykpcmV0dXJuO3ZuKG8pJiYhdFtvLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldJiZpLnB1c2gobyl9Zm9yKHI9aS5sZW5ndGg7ci0tOykhKG89aVtyXSkuaGFzQ2hpbGROb2RlcygpfHxvLmZpcnN0Q2hpbGQ9PT1vLmxhc3RDaGlsZCYmIiI9PT1vLmZpcnN0Q2hpbGQubm9kZVZhbHVlP2UucmVtb3ZlKG8pOihhPWUsKHU9bykmJiJBIj09PXUubm9kZU5hbWUmJmEuaXNFbXB0eSh1KSYmZS5yZW1vdmUobykpO3ZhciBhLHV9fShkLHAsbiksZnVuY3Rpb24oZSx0KXt0Lm5vcm1hbGl6ZSgpO3ZhciBuPXQubGFzdENoaWxkO24mJiEvXihsZWZ0fHJpZ2h0KSQvZ2kudGVzdChlLmdldFN0eWxlKG4sImZsb2F0IiwhMCkpfHxlLmFkZCh0LCJiciIpfShkLHMpLGQuaXNFbXB0eShzKSYmcXcocyksbi5ub3JtYWxpemUoKSxkLmlzRW1wdHkobik/KGQucmVtb3ZlKG4pLHkoKSk6KEd3KGEsbiksTXcoYSxuKSkpLGQuc2V0QXR0cmliKG4sImlkIiwiIiksYS5maXJlKCJOZXdCbG9jayIse25ld0Jsb2NrOm59KX19LFF3PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmNyZWF0ZSgic3BhbiIse30sIiZuYnNwOyIpO24ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocixuKSx0LnNjcm9sbEludG9WaWV3KHIpLGUucmVtb3ZlKHIpfSxadz1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1lLmNyZWF0ZVJuZygpO3I/KG8uc2V0U3RhcnRCZWZvcmUobiksby5zZXRFbmRCZWZvcmUobikpOihvLnNldFN0YXJ0QWZ0ZXIobiksby5zZXRFbmRBZnRlcihuKSksdC5zZXRSbmcobyl9LGV4PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPWUuc2VsZWN0aW9uLGk9ZS5kb20sYT1vLmdldFJuZygpO2x2KGksYSkuZWFjaChmdW5jdGlvbihlKXthLnNldFN0YXJ0KGUuc3RhcnRDb250YWluZXIsZS5zdGFydE9mZnNldCksYS5zZXRFbmQoZS5lbmRDb250YWluZXIsZS5lbmRPZmZzZXQpfSk7dmFyIHU9YS5zdGFydE9mZnNldCxzPWEuc3RhcnRDb250YWluZXI7aWYoMT09PXMubm9kZVR5cGUmJnMuaGFzQ2hpbGROb2RlcygpKXt2YXIgYz11PnMuY2hpbGROb2Rlcy5sZW5ndGgtMTtzPXMuY2hpbGROb2Rlc1tNYXRoLm1pbih1LHMuY2hpbGROb2Rlcy5sZW5ndGgtMSldfHxzLHU9YyYmMz09PXMubm9kZVR5cGU/cy5ub2RlVmFsdWUubGVuZ3RoOjB9dmFyIGw9aS5nZXRQYXJlbnQocyxpLmlzQmxvY2spLGY9bD9pLmdldFBhcmVudChsLnBhcmVudE5vZGUsaS5pc0Jsb2NrKTpudWxsLGQ9Zj9mLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk6IiIsbT0hKCF0fHwhdC5jdHJsS2V5KTsiTEkiIT09ZHx8bXx8KGw9ZikscyYmMz09PXMubm9kZVR5cGUmJnU+PXMubm9kZVZhbHVlLmxlbmd0aCYmIWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsbz1uZXcgQWkodCxuKSxpPWUuZ2V0Tm9uRW1wdHlFbGVtZW50cygpO3I9by5uZXh0KCk7KWlmKGlbci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXXx8MDxyLmxlbmd0aClyZXR1cm4hMH0oZS5zY2hlbWEscyxsKSYmKG49aS5jcmVhdGUoImJyIiksYS5pbnNlcnROb2RlKG4pLGEuc2V0U3RhcnRBZnRlcihuKSxhLnNldEVuZEFmdGVyKG4pLHI9ITApLG49aS5jcmVhdGUoImJyIiksRXMoaSxhLG4pLFF3KGksbyxuKSxadyhpLG8sbixyKSxlLnVuZG9NYW5hZ2VyLmFkZCgpfSx0eD1mdW5jdGlvbihlLHQpe3ZhciBuPUN0LmZyb21UYWcoImJyIik7R3QoQ3QuZnJvbURvbSh0KSxuKSxlLnVuZG9NYW5hZ2VyLmFkZCgpfSxueD1mdW5jdGlvbihlLHQpe3J4KGUuZ2V0Qm9keSgpLHQpfHxKdChDdC5mcm9tRG9tKHQpLEN0LmZyb21UYWcoImJyIikpO3ZhciBuPUN0LmZyb21UYWcoImJyIik7SnQoQ3QuZnJvbURvbSh0KSxuKSxRdyhlLmRvbSxlLnNlbGVjdGlvbixuLmRvbSgpKSxadyhlLmRvbSxlLnNlbGVjdGlvbixuLmRvbSgpLCExKSxlLnVuZG9NYW5hZ2VyLmFkZCgpfSxyeD1mdW5jdGlvbihlLHQpe3JldHVybiBuPVNzLmFmdGVyKHQpLCEhUm4obi5nZXROb2RlKCkpfHxsbChlLFNzLmFmdGVyKHQpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFJuKGUuZ2V0Tm9kZSgpKX0pLmdldE9yKCExKTt2YXIgbn0sb3g9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJBIj09PWUubm9kZU5hbWUmJiJocmVmImluIGV9LGl4PWZ1bmN0aW9uKGUpe3JldHVybiBlLmZvbGQoeCghMSksb3gsb3gseCghMSkpfSxheD1mdW5jdGlvbihlLHQpe3QuZm9sZChmLE4odHgsZSksTihueCxlKSxmKX0sdXg9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saT0ocj1OKEl5LG49ZSksbz1Tcy5mcm9tUmFuZ2VTdGFydChuLnNlbGVjdGlvbi5nZXRSbmcoKSksUXkocixuLmdldEJvZHkoKSxvKS5maWx0ZXIoaXgpKTtpLmlzU29tZSgpP2kuZWFjaChOKGF4LGUpKTpleChlLHQpfSxzeD1mdW5jdGlvbihlLHQpe3JldHVybiBGdyhlKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDA8dC5sZW5ndGgmJlJ0KEN0LmZyb21Eb20oZSksdCl9KS5pc1NvbWUoKX0sY3g9UWkoW3ticjpbXX0se2Jsb2NrOltdfSx7bm9uZTpbXX1dKSxseD1mdW5jdGlvbihlLHQpe3JldHVybiBzeChuPWUsbi5nZXRQYXJhbSgibm9fbmV3bGluZV9zZWxlY3RvciIsIiIpKTt2YXIgbn0sZng9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIiI9PT1ZcyhlKT09PW59fSxkeD1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gRncoZSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBRbihDdC5mcm9tRG9tKGUpKX0pLmlzU29tZSgpPT09bn19LG14PWZ1bmN0aW9uKG4scil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEZ3KGUpLmZvbGQoeCgiIiksZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUudG9VcHBlckNhc2UoKX0pPT09bi50b1VwcGVyQ2FzZSgpPT09cn19LHB4PWZ1bmN0aW9uKGUpe3JldHVybiBteCgicHJlIixlKX0sZ3g9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZ2V0UGFyYW0oImJyX2luX3ByZSIsITApPT09bn19LGh4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHN4KG49ZSxuLmdldFBhcmFtKCJicl9uZXdsaW5lX3NlbGVjdG9yIiwiLm1jZS10b2MgaDIsZmlnY2FwdGlvbixjYXB0aW9uIikpO3ZhciBufSx2eD1mdW5jdGlvbihlLHQpe3JldHVybiB0fSx5eD1mdW5jdGlvbihlKXt2YXIgdD1ZcyhlKSxuPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPWUuZ2V0Um9vdCgpO2ZvcihuPXQ7biE9PW8mJiJmYWxzZSIhPT1lLmdldENvbnRlbnRFZGl0YWJsZShuKTspInRydWUiPT09ZS5nZXRDb250ZW50RWRpdGFibGUobikmJihyPW4pLG49bi5wYXJlbnROb2RlO3JldHVybiBuIT09bz9yOm99KGUuZG9tLGUuc2VsZWN0aW9uLmdldFN0YXJ0KCkpO3JldHVybiBuJiZlLnNjaGVtYS5pc1ZhbGlkQ2hpbGQobi5ub2RlTmFtZSx0fHwiUCIpfSxieD1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBXKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmdChuLHIpfSwhMCk/Qi5zb21lKHQpOkIubm9uZSgpfX0sQ3g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSHkoW2J4KFtseF0sY3gubm9uZSgpKSxieChbbXgoInN1bW1hcnkiLCEwKV0sY3guYnIoKSksYngoW3B4KCEwKSxneCghMSksdnhdLGN4LmJyKCkpLGJ4KFtweCghMCksZ3goITEpXSxjeC5ibG9jaygpKSxieChbcHgoITApLGd4KCEwKSx2eF0sY3guYmxvY2soKSksYngoW3B4KCEwKSxneCghMCldLGN4LmJyKCkpLGJ4KFtkeCghMCksdnhdLGN4LmJyKCkpLGJ4KFtkeCghMCldLGN4LmJsb2NrKCkpLGJ4KFtmeCghMCksdngseXhdLGN4LmJsb2NrKCkpLGJ4KFtmeCghMCldLGN4LmJyKCkpLGJ4KFtoeF0sY3guYnIoKSksYngoW2Z4KCExKSx2eF0sY3guYnIoKSksYngoW3l4XSxjeC5ibG9jaygpKV0sW2UsISghdHx8IXQuc2hpZnRLZXkpXSkuZ2V0T3IoY3gubm9uZSgpKX0sd3g9ZnVuY3Rpb24oZSx0KXtDeChlLHQpLmZvbGQoZnVuY3Rpb24oKXt1eChlLHQpfSxmdW5jdGlvbigpe0p3KGUsdCl9LGYpfSx4eD1mdW5jdGlvbihvKXtvLm9uKCJrZXlkb3duIixmdW5jdGlvbihlKXt2YXIgdCxuLHI7ZS5rZXlDb2RlPT09dnYuRU5URVImJih0PW8sKG49ZSkuaXNEZWZhdWx0UHJldmVudGVkKCl8fChuLnByZXZlbnREZWZhdWx0KCksKHI9dC51bmRvTWFuYWdlcikudHlwaW5nJiYoci50eXBpbmc9ITEsci5hZGQoKSksdC51bmRvTWFuYWdlci50cmFuc2FjdChmdW5jdGlvbigpeyExPT09dC5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmdC5leGVjQ29tbWFuZCgiRGVsZXRlIiksd3godCxuKX0pKSl9KX0sU3g9ZnVuY3Rpb24obixyKXt2YXIgZT1yLmNvbnRhaW5lcigpLHQ9ci5vZmZzZXQoKTtyZXR1cm4gRW4oZSk/KGUuaW5zZXJ0RGF0YSh0LG4pLEIuc29tZShDcyhlLHQrbi5sZW5ndGgpKSk6amMocikubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PUN0LmZyb21UZXh0KG4pO3JldHVybihyLmlzQXRFbmQoKT9KdDpHdCkoZSx0KSxDcyh0LmRvbSgpLG4ubGVuZ3RoKX0pfSxOeD1OKFN4LERyKSxFeD1OKFN4LCIgIiksa3g9ZnVuY3Rpb24oZSl7cmV0dXJuIENzLmlzVGV4dFBvc2l0aW9uKGUpJiYhZS5pc0F0U3RhcnQoKSYmIWUuaXNBdEVuZCgpfSxfeD1mdW5jdGlvbihlLHQpe3ZhciBuPUgoeWQoQ3QuZnJvbURvbSh0LmNvbnRhaW5lcigpKSxlKSxLbik7cmV0dXJuIFoobikuZ2V0T3IoZSl9LFR4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGt4KHQpP0dmKHQpOkdmKHQpfHxmbChfeChlLHQpLmRvbSgpLHQpLmV4aXN0cyhHZil9LFJ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGt4KHQpP1lmKHQpOllmKHQpfHxsbChfeChlLHQpLmRvbSgpLHQpLmV4aXN0cyhZZil9LEF4PWZ1bmN0aW9uKGUpe3JldHVybiBqYyhlKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBaYShlLE50KX0pLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4gdD1GbihlLCJ3aGl0ZS1zcGFjZSIpLE0oWyJwcmUiLCJwcmUtd3JhcCJdLHQpO3ZhciB0fSl9LER4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHI9dCxmbChlLmRvbSgpLHIpLmlzTm9uZSgpfHwobj10LGxsKGUuZG9tKCksbikuaXNOb25lKCkpfHxEdyhlLHQpfHxPdyhlLHQpfHxKQyhlLHQpfHxHQyhlLHQpO3ZhciBuLHJ9LE94PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk9KHI9KG49dCkuY29udGFpbmVyKCksbz1uLm9mZnNldCgpLEVuKHIpJiZvPHIuZGF0YS5sZW5ndGg/Q3MocixvKzEpOm4pO3JldHVybiFBeChpKSYmKE93KGUsaSl8fFB3KGUsaSl8fEdDKGUsaSl8fFJ4KGUsaSkpfSxCeD1mdW5jdGlvbihlLHQpe3JldHVybiBuPWUsIUF4KHI9dCkmJihEdyhuLHIpfHxCdyhuLHIpfHxKQyhuLHIpfHxUeChuLHIpKXx8T3goZSx0KTt2YXIgbixyfSxQeD1mdW5jdGlvbihlLHQpe3JldHVybiBfbChlLmNoYXJBdCh0KSl9LEx4PWZ1bmN0aW9uKGUpe3ZhciB0PWUuY29udGFpbmVyKCk7cmV0dXJuIEVuKHQpJiZxZSh0LmRhdGEsRHIpfSxJeD1mdW5jdGlvbihlKXt2YXIgbix0PWUuZGF0YSxyPShuPXQuc3BsaXQoIiIpLFUobixmdW5jdGlvbihlLHQpe3JldHVybiBfbChlKSYmMDx0JiZ0PG4ubGVuZ3RoLTEmJlJsKG5bdC0xXSkmJlJsKG5bdCsxXSk/IiAiOmV9KS5qb2luKCIiKSk7cmV0dXJuIHIhPT10JiYoZS5kYXRhPXIsITApfSxNeD1mdW5jdGlvbihsLGUpe3JldHVybiBCLnNvbWUoZSkuZmlsdGVyKEx4KS5iaW5kKGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1LHMsYz1lLmNvbnRhaW5lcigpO3JldHVybihpPWwsdT0oYT1jKS5kYXRhLHM9Q3MoYSwwKSwhKCFQeCh1LDApfHxCeChpLHMpfHwoYS5kYXRhPSIgIit1LnNsaWNlKDEpLDApKXx8SXgoYyl8fCh0PWwscj0obj1jKS5kYXRhLG89Q3MobixyLmxlbmd0aC0xKSwhKCFQeChyLHIubGVuZ3RoLTEpfHxCeCh0LG8pfHwobi5kYXRhPXIuc2xpY2UoMCwtMSkrIiAiLDApKSkpP0Iuc29tZShlKTpCLm5vbmUoKX0pfSxGeD1mdW5jdGlvbih0KXt2YXIgZT1DdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKTt0LnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiZNeChlLENzLmZyb21SYW5nZVN0YXJ0KHQuc2VsZWN0aW9uLmdldFJuZygpKSkuZWFjaChmdW5jdGlvbihlKXt0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpfSl9LFV4PWZ1bmN0aW9uKHIsbyl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0PXIsKCFBeChuPWUpJiYoRHgodCxuKXx8VHgodCxuKXx8UngodCxuKSk/Tng6RXgpKG8pO3ZhciB0LG59fSx6eD1mdW5jdGlvbihlKXt2YXIgdCxuLHI9U3MuZnJvbVJhbmdlU3RhcnQoZS5zZWxlY3Rpb24uZ2V0Um5nKCkpLG89Q3QuZnJvbURvbShlLmdldEJvZHkoKSk7aWYoZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSl7dmFyIGk9TihJeSxlKSxhPVNzLmZyb21SYW5nZVN0YXJ0KGUuc2VsZWN0aW9uLmdldFJuZygpKTtyZXR1cm4gUXkoaSxlLmdldEJvZHkoKSxhKS5iaW5kKChuPW8sZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChmdW5jdGlvbihlKXtyZXR1cm4gZmwobi5kb20oKSxTcy5iZWZvcmUoZSkpfSxmdW5jdGlvbihlKXtyZXR1cm4gZGwoZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBtbChlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGxsKG4uZG9tKCksU3MuYWZ0ZXIoZSkpfSl9KSkuYmluZChVeChvLHIpKS5leGlzdHMoKHQ9ZSxmdW5jdGlvbihlKXtyZXR1cm4gdC5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpKSx0Lm5vZGVDaGFuZ2VkKCksITB9KSl9cmV0dXJuITF9LGp4PWZ1bmN0aW9uKHIpe3Iub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG47ITE9PT1lLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodD1yLG49ZSxUQyhbe2tleUNvZGU6dnYuU1BBQ0VCQVIsYWN0aW9uOl9DKHp4LHQpfV0sbikuZWFjaChmdW5jdGlvbihlKXtuLnByZXZlbnREZWZhdWx0KCl9KSl9KX0sSHg9ZnVuY3Rpb24oZSx0KXt2YXIgbjt0Lmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKSYmKE91KHQpLChuPWUpLnNlbGVjdGlvbi5zZXRSbmcobi5zZWxlY3Rpb24uZ2V0Um5nKCkpLGUuc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KHQpKX0sVng9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPShuPWUsdHUoQ3QuZnJvbURvbShuLmdldEJvZHkoKSksIipbZGF0YS1tY2UtY2FyZXRdIikuZm9sZCh4KG51bGwpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpfSkpO2lmKHIpcmV0dXJuImNvbXBvc2l0aW9uc3RhcnQiPT09dC50eXBlPyh0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx2b2lkIEh4KGUscikpOnZvaWQoa3UocikmJihIeChlLHIpLGUudW5kb01hbmFnZXIuYWRkKCkpKX0scXg9b3QoKS5icm93c2VyLCR4PWZ1bmN0aW9uKHQpe3ZhciBlLG47ZT10LG49VWEoZnVuY3Rpb24oKXtlLmNvbXBvc2luZ3x8RngoZSl9LDApLHF4LmlzSUUoKSYmKGUub24oImtleXByZXNzIixmdW5jdGlvbihlKXtuLnRocm90dGxlKCl9KSxlLm9uKCJyZW1vdmUiLGZ1bmN0aW9uKGUpe24uY2FuY2VsKCl9KSksdC5vbigiaW5wdXQiLGZ1bmN0aW9uKGUpeyExPT09ZS5pc0NvbXBvc2luZyYmRngodCl9KX0sV3g9ZnVuY3Rpb24ocil7ci5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbjshMT09PWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJih0PXIsbj1lLFRDKFt7a2V5Q29kZTp2di5FTkQsYWN0aW9uOm5DKHQsITApfSx7a2V5Q29kZTp2di5IT01FLGFjdGlvbjpuQyh0LCExKX1dLG4pLmVhY2goZnVuY3Rpb24oZSl7bi5wcmV2ZW50RGVmYXVsdCgpfSkpfSl9LEt4PWZ1bmN0aW9uKGUpe3ZhciB0LG49bWIoZSk7KHQ9ZSkub24oImtleXVwIGNvbXBvc2l0aW9uc3RhcnQiLE4oVngsdCkpLFJDKGUsbiksSXcoZSxuKSx4eChlKSxqeChlKSwkeChlKSxXeChlKX0sWHg9KFl4LnByb3RvdHlwZS5ub2RlQ2hhbmdlZD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbz10aGlzLmVkaXRvci5zZWxlY3Rpb247dGhpcy5lZGl0b3IuaW5pdGlhbGl6ZWQmJm8mJiF0aGlzLmVkaXRvci5nZXRQYXJhbSgiZGlzYWJsZV9ub2RlY2hhbmdlIikmJiF0aGlzLmVkaXRvci5tb2RlLmlzUmVhZE9ubHkoKSYmKHI9dGhpcy5lZGl0b3IuZ2V0Qm9keSgpLCh0PW8uZ2V0U3RhcnQoITApfHxyKS5vd25lckRvY3VtZW50PT09dGhpcy5lZGl0b3IuZ2V0RG9jKCkmJnRoaXMuZWRpdG9yLmRvbS5pc0NoaWxkT2YodCxyKXx8KHQ9ciksbj1bXSx0aGlzLmVkaXRvci5kb20uZ2V0UGFyZW50KHQsZnVuY3Rpb24oZSl7aWYoZT09PXIpcmV0dXJuITA7bi5wdXNoKGUpfSksKGU9ZXx8e30pLmVsZW1lbnQ9dCxlLnBhcmVudHM9bix0aGlzLmVkaXRvci5maXJlKCJOb2RlQ2hhbmdlIixlKSl9LFl4LnByb3RvdHlwZS5pc1NhbWVFbGVtZW50UGF0aD1mdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuZWRpdG9yLiQoZSkucGFyZW50c1VudGlsKHRoaXMuZWRpdG9yLmdldEJvZHkoKSkuYWRkKGUpO2lmKG4ubGVuZ3RoPT09dGhpcy5sYXN0UGF0aC5sZW5ndGgpe2Zvcih0PW4ubGVuZ3RoOzA8PXQmJm5bdF09PT10aGlzLmxhc3RQYXRoW3RdO3QtLSk7aWYoLTE9PT10KXJldHVybiB0aGlzLmxhc3RQYXRoPW4sITB9cmV0dXJuIHRoaXMubGFzdFBhdGg9biwhMX0sWXgpO2Z1bmN0aW9uIFl4KHIpe3ZhciBvO3RoaXMubGFzdFBhdGg9W10sdGhpcy5lZGl0b3I9cjt2YXIgdD10aGlzOyJvbnNlbGVjdGlvbmNoYW5nZSJpbiByLmdldERvYygpfHxyLm9uKCJOb2RlQ2hhbmdlIGNsaWNrIG1vdXNldXAga2V5dXAgZm9jdXMiLGZ1bmN0aW9uKGUpe3ZhciB0PXIuc2VsZWN0aW9uLmdldFJuZygpLG49e3N0YXJ0Q29udGFpbmVyOnQuc3RhcnRDb250YWluZXIsc3RhcnRPZmZzZXQ6dC5zdGFydE9mZnNldCxlbmRDb250YWluZXI6dC5lbmRDb250YWluZXIsZW5kT2Zmc2V0OnQuZW5kT2Zmc2V0fTsibm9kZWNoYW5nZSIhPT1lLnR5cGUmJnJ2KG4sbyl8fHIuZmlyZSgiU2VsZWN0aW9uQ2hhbmdlIiksbz1ufSksci5vbigiY29udGV4dG1lbnUiLGZ1bmN0aW9uKCl7ci5maXJlKCJTZWxlY3Rpb25DaGFuZ2UiKX0pLHIub24oIlNlbGVjdGlvbkNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgZT1yLnNlbGVjdGlvbi5nZXRTdGFydCghMCk7IWV8fCFtdC5yYW5nZSYmci5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKXx8bWYocikmJiF0LmlzU2FtZUVsZW1lbnRQYXRoKGUpJiZyLmRvbS5pc0NoaWxkT2YoZSxyLmdldEJvZHkoKSkmJnIubm9kZUNoYW5nZWQoe3NlbGVjdGlvbkNoYW5nZTohMH0pfSksci5vbigibW91c2V1cCIsZnVuY3Rpb24oZSl7IWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJm1mKHIpJiYoIklNRyI9PT1yLnNlbGVjdGlvbi5nZXROb2RlKCkubm9kZU5hbWU/ZmEuc2V0RWRpdG9yVGltZW91dChyLGZ1bmN0aW9uKCl7ci5ub2RlQ2hhbmdlZCgpfSk6ci5ub2RlQ2hhbmdlZCgpKX0pfXZhciBHeD1mdW5jdGlvbihlKXt2YXIgdCxuOyh0PWUpLm9uKCJjbGljayIsZnVuY3Rpb24oZSl7dC5kb20uZ2V0UGFyZW50KGUudGFyZ2V0LCJkZXRhaWxzIikmJmUucHJldmVudERlZmF1bHQoKX0pLChuPWUpLnBhcnNlci5hZGROb2RlRmlsdGVyKCJkZXRhaWxzIixmdW5jdGlvbihlKXt6KGUsZnVuY3Rpb24oZSl7ZS5hdHRyKCJkYXRhLW1jZS1vcGVuIixlLmF0dHIoIm9wZW4iKSksZS5hdHRyKCJvcGVuIiwib3BlbiIpfSl9KSxuLnNlcmlhbGl6ZXIuYWRkTm9kZUZpbHRlcigiZGV0YWlscyIsZnVuY3Rpb24oZSl7eihlLGZ1bmN0aW9uKGUpe3ZhciB0PWUuYXR0cigiZGF0YS1tY2Utb3BlbiIpO2UuYXR0cigib3BlbiIscSh0KT90Om51bGwpLGUuYXR0cigiZGF0YS1tY2Utb3BlbiIsbnVsbCl9KX0pfSxKeD1mdW5jdGlvbihlKXtyZXR1cm4gdm4oZSkmJkduKEN0LmZyb21Eb20oZSkpfSxReD1mdW5jdGlvbih0KXt0Lm9uKCJjbGljayIsZnVuY3Rpb24oZSl7Mzw9ZS5kZXRhaWwmJmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VsZWN0aW9uLmdldFJuZygpLG49Q3MuZnJvbVJhbmdlU3RhcnQodCkscj1Dcy5mcm9tUmFuZ2VFbmQodCk7aWYoQ3MuaXNFbGVtZW50UG9zaXRpb24obikpe3ZhciBvPW4uY29udGFpbmVyKCk7SngobykmJmRsKG8pLmVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2V0U3RhcnQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKX0pfWlmKENzLmlzRWxlbWVudFBvc2l0aW9uKHIpKXtvPW4uY29udGFpbmVyKCk7SngobykmJm1sKG8pLmVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2V0RW5kKGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSl9KX1lLnNlbGVjdGlvbi5zZXRSbmcoYW0odCkpfSh0KX0pfSxaeD1mdW5jdGlvbihlKXt2YXIgdD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49ZS5vd25lckRvY3VtZW50LHI9bi5kb2N1bWVudEVsZW1lbnQsbz1uLmRlZmF1bHRWaWV3O3JldHVybnt0b3A6dC50b3Arby5wYWdlWU9mZnNldC1yLmNsaWVudFRvcCxsZWZ0OnQubGVmdCtvLnBhZ2VYT2Zmc2V0LXIuY2xpZW50TGVmdH19LGVTPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49KHU9ZSkuaW5saW5lP1p4KHUuZ2V0Qm9keSgpKTp7bGVmdDowLHRvcDowfSxhPShpPWUpLmdldEJvZHkoKSxyPWkuaW5saW5lP3tsZWZ0OmEuc2Nyb2xsTGVmdCx0b3A6YS5zY3JvbGxUb3B9OntsZWZ0OjAsdG9wOjB9LHtwYWdlWDoobz1mdW5jdGlvbihlLHQpe2lmKHQudGFyZ2V0Lm93bmVyRG9jdW1lbnQ9PT1lLmdldERvYygpKXJldHVybntsZWZ0OnQucGFnZVgsdG9wOnQucGFnZVl9O3ZhciBuLHIsbyxpLGEsdT1aeChlLmdldENvbnRlbnRBcmVhQ29udGFpbmVyKCkpLHM9KHI9KG49ZSkuZ2V0Qm9keSgpLG89bi5nZXREb2MoKS5kb2N1bWVudEVsZW1lbnQsaT17bGVmdDpyLnNjcm9sbExlZnQsdG9wOnIuc2Nyb2xsVG9wfSxhPXtsZWZ0OnIuc2Nyb2xsTGVmdHx8by5zY3JvbGxMZWZ0LHRvcDpyLnNjcm9sbFRvcHx8by5zY3JvbGxUb3B9LG4uaW5saW5lP2k6YSk7cmV0dXJue2xlZnQ6dC5wYWdlWC11LmxlZnQrcy5sZWZ0LHRvcDp0LnBhZ2VZLXUudG9wK3MudG9wfX0oZSx0KSkubGVmdC1uLmxlZnQrci5sZWZ0LHBhZ2VZOm8udG9wLW4udG9wK3IudG9wfTt2YXIgbixyLG8saSxhLHV9LHRTPURuLG5TPUFuLHJTPWZ1bmN0aW9uKGUpe2UmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfSxvUz1mdW5jdGlvbih1LHMpe3JldHVybiBmdW5jdGlvbihlKXtpZigwPT09ZS5idXR0b24pe3ZhciB0PUsocy5kb20uZ2V0UGFyZW50cyhlLnRhcmdldCksZnVuY3Rpb24oKXtmb3IodmFyIG49W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspbltlXT1hcmd1bWVudHNbZV07cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdF0oZSkpcmV0dXJuITA7cmV0dXJuITF9fSh0UyxuUykpLmdldE9yKG51bGwpO2lmKGk9cy5nZXRCb2R5KCksdFMoYT10KSYmYSE9PWkpe3ZhciBuPXMuZG9tLmdldFBvcyh0KSxyPXMuZ2V0Qm9keSgpLG89cy5nZXREb2MoKS5kb2N1bWVudEVsZW1lbnQ7dS5lbGVtZW50PXQsdS5zY3JlZW5YPWUuc2NyZWVuWCx1LnNjcmVlblk9ZS5zY3JlZW5ZLHUubWF4WD0ocy5pbmxpbmU/ci5zY3JvbGxXaWR0aDpvLm9mZnNldFdpZHRoKS0yLHUubWF4WT0ocy5pbmxpbmU/ci5zY3JvbGxIZWlnaHQ6by5vZmZzZXRIZWlnaHQpLTIsdS5yZWxYPWUucGFnZVgtbi54LHUucmVsWT1lLnBhZ2VZLW4ueSx1LndpZHRoPXQub2Zmc2V0V2lkdGgsdS5oZWlnaHQ9dC5vZmZzZXRIZWlnaHQsdS5naG9zdD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz10LmNsb25lTm9kZSghMCk7ZS5kb20uc2V0U3R5bGVzKG8se3dpZHRoOm4saGVpZ2h0OnJ9KSxlLmRvbS5zZXRBdHRyaWIobywiZGF0YS1tY2Utc2VsZWN0ZWQiLG51bGwpO3ZhciBpPWUuZG9tLmNyZWF0ZSgiZGl2Iix7ImNsYXNzIjoibWNlLWRyYWctY29udGFpbmVyIiwiZGF0YS1tY2UtYm9ndXMiOiJhbGwiLHVuc2VsZWN0YWJsZToib24iLGNvbnRlbnRlZGl0YWJsZToiZmFsc2UifSk7cmV0dXJuIGUuZG9tLnNldFN0eWxlcyhpLHtwb3NpdGlvbjoiYWJzb2x1dGUiLG9wYWNpdHk6LjUsb3ZlcmZsb3c6ImhpZGRlbiIsYm9yZGVyOjAscGFkZGluZzowLG1hcmdpbjowLHdpZHRoOm4saGVpZ2h0OnJ9KSxlLmRvbS5zZXRTdHlsZXMobyx7bWFyZ2luOjAsYm94U2l6aW5nOiJib3JkZXItYm94In0pLGkuYXBwZW5kQ2hpbGQobyksaX0ocyx0LHUud2lkdGgsdS5oZWlnaHQpfX12YXIgaSxhfX0saVM9ZnVuY3Rpb24oZyxoKXt2YXIgdj1mYS50aHJvdHRsZShmdW5jdGlvbihlLHQpe2guX3NlbGVjdGlvbk92ZXJyaWRlcy5oaWRlRmFrZUNhcmV0KCksaC5zZWxlY3Rpb24ucGxhY2VDYXJldEF0KGUsdCl9LDApO3JldHVybiBmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzLGMsbCxmLGQsbT1NYXRoLm1heChNYXRoLmFicyhlLnNjcmVlblgtZy5zY3JlZW5YKSxNYXRoLmFicyhlLnNjcmVlblktZy5zY3JlZW5ZKSk7aWYoZy5lbGVtZW50JiYhZy5kcmFnZ2luZyYmMTA8bSl7aWYoaC5maXJlKCJkcmFnc3RhcnQiLHt0YXJnZXQ6Zy5lbGVtZW50fSkuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuO2cuZHJhZ2dpbmc9ITAsaC5mb2N1cygpfWlmKGcuZHJhZ2dpbmcpe3ZhciBwPShmPWcse3BhZ2VYOihkPWVTKGgsZSkpLnBhZ2VYLWYucmVsWCxwYWdlWTpkLnBhZ2VZKzV9KTtjPWcuZ2hvc3QsbD1oLmdldEJvZHkoKSxjLnBhcmVudE5vZGUhPT1sJiZsLmFwcGVuZENoaWxkKGMpLHQ9Zy5naG9zdCxuPXAscj1nLndpZHRoLG89Zy5oZWlnaHQsaT1nLm1heFgsYT1nLm1heFkscz11PTAsdC5zdHlsZS5sZWZ0PW4ucGFnZVgrInB4Iix0LnN0eWxlLnRvcD1uLnBhZ2VZKyJweCIsbi5wYWdlWCtyPmkmJih1PW4ucGFnZVgrci1pKSxuLnBhZ2VZK28+YSYmKHM9bi5wYWdlWStvLWEpLHQuc3R5bGUud2lkdGg9ci11KyJweCIsdC5zdHlsZS5oZWlnaHQ9by1zKyJweCIsdihlLmNsaWVudFgsZS5jbGllbnRZKX19fSxhUz1mdW5jdGlvbihsLGYpe3JldHVybiBmdW5jdGlvbihlKXtpZihsLmRyYWdnaW5nJiYocz0oaT1mKS5zZWxlY3Rpb24sYz1zLmdldFNlbCgpLmdldFJhbmdlQXQoMCkuc3RhcnRDb250YWluZXIsYT0zPT09Yy5ub2RlVHlwZT9jLnBhcmVudE5vZGU6Yyx1PWwuZWxlbWVudCxhIT09dSYmIWkuZG9tLmlzQ2hpbGRPZihhLHUpJiYhdFMoYSkpKXt2YXIgdD0ocj1sLmVsZW1lbnQsKG89ci5jbG9uZU5vZGUoITApKS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiksbyksbj1mLmZpcmUoImRyb3AiLHt0YXJnZXRDbG9uZTp0LGNsaWVudFg6ZS5jbGllbnRYLGNsaWVudFk6ZS5jbGllbnRZfSk7bi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHQ9bi50YXJnZXRDbG9uZSxmLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7clMobC5lbGVtZW50KSxmLmluc2VydENvbnRlbnQoZi5kb20uZ2V0T3V0ZXJIVE1MKHQpKSxmLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpfSkpfXZhciByLG8saSxhLHUscyxjO3VTKGwpfX0sdVM9ZnVuY3Rpb24oZSl7ZS5kcmFnZ2luZz0hMSxlLmVsZW1lbnQ9bnVsbCxyUyhlLmdob3N0KX0sc1M9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXt9LG89RWEuRE9NLGk9Vi5kb2N1bWVudCxhPW9TKHIsZSksdT1pUyhyLGUpLHM9YVMocixlKSxjPSh0PXIsZnVuY3Rpb24oKXt0LmRyYWdnaW5nJiZuLmZpcmUoImRyYWdlbmQiKSx1Uyh0KX0pOyhuPWUpLm9uKCJtb3VzZWRvd24iLGEpLGUub24oIm1vdXNlbW92ZSIsdSksZS5vbigibW91c2V1cCIscyksby5iaW5kKGksIm1vdXNlbW92ZSIsdSksby5iaW5kKGksIm1vdXNldXAiLGMpLGUub24oInJlbW92ZSIsZnVuY3Rpb24oKXtvLnVuYmluZChpLCJtb3VzZW1vdmUiLHUpLG8udW5iaW5kKGksIm1vdXNldXAiLGMpfSl9LGNTPWZ1bmN0aW9uKGUpe3ZhciBuLGksYSx1LHQ7c1MoZSksKG49ZSkub24oImRyb3AiLGZ1bmN0aW9uKGUpe3ZhciB0PSJ1bmRlZmluZWQiIT10eXBlb2YgZS5jbGllbnRYP24uZ2V0RG9jKCkuZWxlbWVudEZyb21Qb2ludChlLmNsaWVudFgsZS5jbGllbnRZKTpudWxsOyh0Uyh0KXx8dFMobi5kb20uZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50KHQpKSkmJmUucHJldmVudERlZmF1bHQoKX0pLGUuZ2V0UGFyYW0oImJsb2NrX3Vuc3VwcG9ydGVkX2Ryb3AiLCEwLCJib29sZWFuIikmJihhPWZ1bmN0aW9uKGUpe2lmKCFlLmRlZmF1bHRQcmV2ZW50ZWQpe3ZhciB0PWUuZGF0YVRyYW5zZmVyO3QmJihNKHQudHlwZXMsIkZpbGVzIil8fDA8dC5maWxlcy5sZW5ndGgpJiZlLnByZXZlbnREZWZhdWx0KCl9fSx1PWZ1bmN0aW9uKGUpe2ptKGksZS50YXJnZXQpJiZhKGUpfSx0PWZ1bmN0aW9uKCl7dmFyIHQ9RWEuRE9NLG49aS5kb20scj1WLmRvY3VtZW50LG89aS5pbmxpbmU/aS5nZXRCb2R5KCk6aS5nZXREb2MoKSxlPVsiZHJvcCIsImRyYWdvdmVyIl07eihlLGZ1bmN0aW9uKGUpe3QuYmluZChyLGUsdSksbi5iaW5kKG8sZSxhKX0pLGkub24oInJlbW92ZSIsZnVuY3Rpb24oKXt6KGUsZnVuY3Rpb24oZSl7dC51bmJpbmQocixlLHUpLG4udW5iaW5kKG8sZSxhKX0pfSl9LChpPWUpLm9uKCJpbml0IixmdW5jdGlvbigpe2ZhLnNldEVkaXRvclRpbWVvdXQoaSx0LDApfSkpfSxsUz1BbixmUz1EbixkUz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmdldEJvZHkoKTt0JiZ0IT09bjspe2lmKGxTKHQpfHxmUyh0KSlyZXR1cm4gdDt0PXQucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0sbVM9ZnVuY3Rpb24oZyl7dmFyIGgsdj1nLmdldEJvZHkoKSxvPUNjKGcsdixmdW5jdGlvbihlKXtyZXR1cm4gZy5kb20uaXNCbG9jayhlKX0sZnVuY3Rpb24oKXtyZXR1cm4gWW0oZyl9KSx5PSJzZWwtIitnLmRvbS51bmlxdWVJZCgpLGE9ZnVuY3Rpb24oZSl7ZSYmZy5zZWxlY3Rpb24uc2V0Um5nKGUpfSxyPWZ1bmN0aW9uKCl7cmV0dXJuIGcuc2VsZWN0aW9uLmdldFJuZygpfSxiPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0hMCksZy5maXJlKCJTaG93Q2FyZXQiLHt0YXJnZXQ6dCxkaXJlY3Rpb246ZSxiZWZvcmU6bn0pLmlzRGVmYXVsdFByZXZlbnRlZCgpP251bGw6KHImJmcuc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KHQsLTE9PT1lKSxvLnNob3cobix0KSl9LHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEV1KGUpfHxBdShlKXx8RHUoZSl9LEM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZS5zdGFydENvbnRhaW5lcil8fHQoZS5lbmRDb250YWluZXIpfSx1PWZ1bmN0aW9uKGUpe3ZhciB0PWcuc2NoZW1hLmdldFNob3J0RW5kZWRFbGVtZW50cygpLG49Zy5kb20uY3JlYXRlUm5nKCkscj1lLnN0YXJ0Q29udGFpbmVyLG89ZS5zdGFydE9mZnNldCxpPWUuZW5kQ29udGFpbmVyLGE9ZS5lbmRPZmZzZXQ7cmV0dXJuIG1lKHQsci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKT8wPT09bz9uLnNldFN0YXJ0QmVmb3JlKHIpOm4uc2V0U3RhcnRBZnRlcihyKTpuLnNldFN0YXJ0KHIsbyksbWUodCxpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpPzA9PT1hP24uc2V0RW5kQmVmb3JlKGkpOm4uc2V0RW5kQWZ0ZXIoaSk6bi5zZXRFbmQoaSxhKSxufSxzPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1LHMsYz1nLiQsbD1nLmRvbTtpZighZSlyZXR1cm4gbnVsbDtpZihlLmNvbGxhcHNlZCl7aWYoIUMoZSkpaWYoITE9PT10KXtpZihhPXpjKC0xLHYsZSkseGMoYS5nZXROb2RlKCEwKSkpcmV0dXJuIGIoLTEsYS5nZXROb2RlKCEwKSwhMSwhMSk7aWYoeGMoYS5nZXROb2RlKCkpKXJldHVybiBiKC0xLGEuZ2V0Tm9kZSgpLCFhLmlzQXRFbmQoKSwhMSl9ZWxzZXtpZihhPXpjKDEsdixlKSx4YyhhLmdldE5vZGUoKSkpcmV0dXJuIGIoMSxhLmdldE5vZGUoKSwhYS5pc0F0RW5kKCksITEpO2lmKHhjKGEuZ2V0Tm9kZSghMCkpKXJldHVybiBiKDEsYS5nZXROb2RlKCEwKSwhMSwhMSl9cmV0dXJuIG51bGx9bz1lLnN0YXJ0Q29udGFpbmVyLGk9ZS5zdGFydE9mZnNldDt2YXIgZj1lLmVuZE9mZnNldDtpZigzPT09by5ub2RlVHlwZSYmMD09PWkmJmZTKG8ucGFyZW50Tm9kZSkmJihvPW8ucGFyZW50Tm9kZSxpPWwubm9kZUluZGV4KG8pLG89by5wYXJlbnROb2RlKSwxIT09by5ub2RlVHlwZSlyZXR1cm4gbnVsbDtpZihmPT09aSsxJiZvPT09ZS5lbmRDb250YWluZXImJihuPW8uY2hpbGROb2Rlc1tpXSksIWZTKG4pKXJldHVybiBudWxsO3U9cz1uLmNsb25lTm9kZSghMCk7dmFyIGQ9Zy5maXJlKCJPYmplY3RTZWxlY3RlZCIse3RhcmdldDpuLHRhcmdldENsb25lOnV9KTtpZihkLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBudWxsO3I9dHUoQ3QuZnJvbURvbShnLmdldEJvZHkoKSksIiMiK3kpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gYyhbXSl9LGZ1bmN0aW9uKGUpe3JldHVybiBjKFtlLmRvbSgpXSl9KSx1PWQudGFyZ2V0Q2xvbmUsMD09PXIubGVuZ3RoJiYocj1jKCc8ZGl2IGRhdGEtbWNlLWJvZ3VzPSJhbGwiIGNsYXNzPSJtY2Utb2Zmc2NyZWVuLXNlbGVjdGlvbiI+PC9kaXY+JykuYXR0cigiaWQiLHkpKS5hcHBlbmRUbyhnLmdldEJvZHkoKSksZT1nLmRvbS5jcmVhdGVSbmcoKSx1PT09cyYmbXQuaWU/KHIuZW1wdHkoKS5hcHBlbmQoJzxwIHN0eWxlPSJmb250LXNpemU6IDAiIGRhdGEtbWNlLWJvZ3VzPSJhbGwiPlx4YTA8L3A+JykuYXBwZW5kKHUpLGUuc2V0U3RhcnRBZnRlcihyWzBdLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCksZS5zZXRFbmRBZnRlcih1KSk6KHIuZW1wdHkoKS5hcHBlbmQoRHIpLmFwcGVuZCh1KS5hcHBlbmQoRHIpLGUuc2V0U3RhcnQoclswXS5maXJzdENoaWxkLDEpLGUuc2V0RW5kKHJbMF0ubGFzdENoaWxkLDApKSxyLmNzcyh7dG9wOmwuZ2V0UG9zKG4sZy5nZXRCb2R5KCkpLnl9KSxyWzBdLmZvY3VzKCk7dmFyIG09Zy5zZWxlY3Rpb24uZ2V0U2VsKCk7bS5yZW1vdmVBbGxSYW5nZXMoKSxtLmFkZFJhbmdlKGUpO3ZhciBwPUN0LmZyb21Eb20obik7cmV0dXJuIHooWWEoQ3QuZnJvbURvbShnLmdldEJvZHkoKSksIipbZGF0YS1tY2Utc2VsZWN0ZWRdIiksZnVuY3Rpb24oZSl7RHQocCxlKXx8TW4oZSwiZGF0YS1tY2Utc2VsZWN0ZWQiKX0pLGcuZG9tLmdldEF0dHJpYihuLCJkYXRhLW1jZS1zZWxlY3RlZCIpfHxuLnNldEF0dHJpYnV0ZSgiZGF0YS1tY2Utc2VsZWN0ZWQiLCIxIiksaD1uLHcoKSxlfSxjPWZ1bmN0aW9uKCl7aCYmKGgucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpLHR1KEN0LmZyb21Eb20oZy5nZXRCb2R5KCkpLCIjIit5KS5lYWNoKG5uKSxoPW51bGwpLHR1KEN0LmZyb21Eb20oZy5nZXRCb2R5KCkpLCIjIit5KS5lYWNoKG5uKSxoPW51bGx9LHc9ZnVuY3Rpb24oKXtvLmhpZGUoKX07cmV0dXJuIG10LmNlRmFsc2UmJmZ1bmN0aW9uKCl7Zy5vbigibW91c2V1cCIsZnVuY3Rpb24oZSl7dmFyIHQ9cigpO3QuY29sbGFwc2VkJiZoaChnLGUuY2xpZW50WCxlLmNsaWVudFkpJiZhKEtiKGcsdCwhMSkpfSksZy5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe3ZhciB0PWRTKGcsZS50YXJnZXQpO3QmJihmUyh0KSYmKGUucHJldmVudERlZmF1bHQoKSxnLmZvY3VzKCkpLGxTKHQpJiZnLmRvbS5pc0NoaWxkT2YodCxnLnNlbGVjdGlvbi5nZXROb2RlKCkpJiZjKCkpfSksZy5vbigiYmx1ciBOZXdCbG9jayIsZnVuY3Rpb24oKXtjKCl9KSxnLm9uKCJSZXNpemVXaW5kb3cgRnVsbHNjcmVlblN0YXRlQ2hhbmdlZCIsZnVuY3Rpb24oKXtyZXR1cm4gby5yZXBvc2l0aW9uKCl9KTt2YXIgbixpPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPWcuZG9tLmdldFBhcmVudChlLGcuZG9tLmlzQmxvY2spLGk9Zy5kb20uZ2V0UGFyZW50KHQsZy5kb20uaXNCbG9jayk7cmV0dXJuISghb3x8IWcuZG9tLmlzQ2hpbGRPZihvLGkpfHwhMSE9PWZTKGRTKGcsbykpKXx8byYmKG49byxyPWksIShnLmRvbS5nZXRQYXJlbnQobixnLmRvbS5pc0Jsb2NrKT09PWcuZG9tLmdldFBhcmVudChyLGcuZG9tLmlzQmxvY2spKSkmJmZ1bmN0aW9uKGUpe3ZhciB0PXRsKGUpO2lmKCFlLmZpcnN0Q2hpbGQpcmV0dXJuITE7dmFyIG49U3MuYmVmb3JlKGUuZmlyc3RDaGlsZCkscj10Lm5leHQobik7cmV0dXJuIHImJiFpZChyKSYmIWFkKHIpfShvKX07KG49Zykub24oInRhcCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZFMobixlLnRhcmdldCk7ZlModCkmJihlLnByZXZlbnREZWZhdWx0KCkscyhXYihuLHQpKSl9LCEwKSxnLm9uKCJtb3VzZWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0O2lmKCh0PT09dnx8IkhUTUwiPT09dC5ub2RlTmFtZXx8Zy5kb20uaXNDaGlsZE9mKHQsdikpJiYhMSE9PWhoKGcsZS5jbGllbnRYLGUuY2xpZW50WSkpe3ZhciBuPWRTKGcsdCk7aWYobilmUyhuKT8oZS5wcmV2ZW50RGVmYXVsdCgpLHMoV2IoZyxuKSkpOihjKCksbFMobikmJmUuc2hpZnRLZXl8fGh2KGUuY2xpZW50WCxlLmNsaWVudFksZy5zZWxlY3Rpb24uZ2V0Um5nKCkpfHwodygpLGcuc2VsZWN0aW9uLnBsYWNlQ2FyZXRBdChlLmNsaWVudFgsZS5jbGllbnRZKSkpO2Vsc2UgaWYoITE9PT14Yyh0KSl7YygpLHcoKTt2YXIgcj1IYih2LGUuY2xpZW50WCxlLmNsaWVudFkpO2lmKHImJiFpKGUudGFyZ2V0LHIubm9kZSkpe2UucHJldmVudERlZmF1bHQoKTt2YXIgbz1iKDEsci5ub2RlLHIuYmVmb3JlLCExKTtnLmdldEJvZHkoKS5mb2N1cygpLGEobyl9fX19KSxnLm9uKCJrZXlwcmVzcyIsZnVuY3Rpb24oZSl7dnYubW9kaWZpZXJQcmVzc2VkKGUpfHwoZS5rZXlDb2RlLGZTKGcuc2VsZWN0aW9uLmdldE5vZGUoKSkmJmUucHJldmVudERlZmF1bHQoKSl9KSxnLm9uKCJHZXRTZWxlY3Rpb25SYW5nZSIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yYW5nZTtpZihoKXtpZighaC5wYXJlbnROb2RlKXJldHVybiB2b2lkKGg9bnVsbCk7KHQ9dC5jbG9uZVJhbmdlKCkpLnNlbGVjdE5vZGUoaCksZS5yYW5nZT10fX0pLGcub24oIlNldFNlbGVjdGlvblJhbmdlIixmdW5jdGlvbihlKXtlLnJhbmdlPXUoZS5yYW5nZSk7dmFyIHQ9cyhlLnJhbmdlLGUuZm9yd2FyZCk7dCYmKGUucmFuZ2U9dCl9KTt2YXIgdCxlO2cub24oIkFmdGVyU2V0U2VsZWN0aW9uUmFuZ2UiLGZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5yYW5nZTtDKG4pfHwibWNlcGFzdGViaW4iPT09bi5zdGFydENvbnRhaW5lci5wYXJlbnROb2RlLmlkfHx3KCksdD1uLnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGUsZy5kb20uaGFzQ2xhc3ModCwibWNlLW9mZnNjcmVlbi1zZWxlY3Rpb24iKXx8YygpfSksZy5vbigiY29weSIsZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmNsaXBib2FyZERhdGE7aWYoIWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmUuY2xpcGJvYXJkRGF0YSYmIW10LmllKXt2YXIgcj0odD1nLmRvbS5nZXQoeSkpP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKVswXTp0O3ImJihlLnByZXZlbnREZWZhdWx0KCksbi5jbGVhckRhdGEoKSxuLnNldERhdGEoInRleHQvaHRtbCIsci5vdXRlckhUTUwpLG4uc2V0RGF0YSgidGV4dC9wbGFpbiIsci5vdXRlclRleHQpKX19KSxjUyhnKSxlPVVhKGZ1bmN0aW9uKCl7aWYoIXQucmVtb3ZlZCYmdC5nZXRCb2R5KCkuY29udGFpbnMoVi5kb2N1bWVudC5hY3RpdmVFbGVtZW50KSYmdC5zZWxlY3Rpb24uZ2V0Um5nKCkuY29sbGFwc2VkKXt2YXIgZT1YYih0LHQuc2VsZWN0aW9uLmdldFJuZygpLCExKTt0LnNlbGVjdGlvbi5zZXRSbmcoZSl9fSwwKSwodD1nKS5vbigiZm9jdXMiLGZ1bmN0aW9uKCl7ZS50aHJvdHRsZSgpfSksdC5vbigiYmx1ciIsZnVuY3Rpb24oKXtlLmNhbmNlbCgpfSl9KCkse3Nob3dDYXJldDpiLHNob3dCbG9ja0NhcmV0Q29udGFpbmVyOmZ1bmN0aW9uKGUpe2UuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpJiYoT3UoZSksYShyKCkpLGcuc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KGUpKX0saGlkZUZha2VDYXJldDp3LGRlc3Ryb3k6ZnVuY3Rpb24oKXtvLmRlc3Ryb3koKSxoPW51bGx9fX0scFM9ZnVuY3Rpb24odSl7dmFyIHMsbixyLG89eXQuZWFjaCxjPXZ2LkJBQ0tTUEFDRSxsPXZ2LkRFTEVURSxmPXUuZG9tLGQ9dS5zZWxlY3Rpb24sZT11LnBhcnNlcix0PW10LmdlY2tvLGk9bXQuaWUsYT1tdC53ZWJraXQsbT0iZGF0YTp0ZXh0L21jZS1pbnRlcm5hbCwiLHA9aT8iVGV4dCI6IlVSTCIsZz1mdW5jdGlvbihlLHQpe3RyeXt1LmdldERvYygpLmV4ZWNDb21tYW5kKGUsITEsdCl9Y2F0Y2gobil7fX0saD1mdW5jdGlvbihlKXtyZXR1cm4gZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKX0sdj1mdW5jdGlvbigpe3Uuc2hvcnRjdXRzLmFkZCgibWV0YSthIixudWxsLCJTZWxlY3RBbGwiKX0seT1mdW5jdGlvbigpe3Uub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe2lmKCFoKGUpJiZlLmtleUNvZGU9PT1jJiZkLmlzQ29sbGFwc2VkKCkmJjA9PT1kLmdldFJuZygpLnN0YXJ0T2Zmc2V0KXt2YXIgdD1kLmdldE5vZGUoKS5wcmV2aW91c1NpYmxpbmc7aWYodCYmdC5ub2RlTmFtZSYmInRhYmxlIj09PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLCExfX0pfSxiPWZ1bmN0aW9uKCl7dS5pbmxpbmV8fCh1LmNvbnRlbnRTdHlsZXMucHVzaCgiYm9keSB7bWluLWhlaWdodDogMTUwcHh9IiksdS5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe3ZhciB0O2lmKCJIVE1MIj09PWUudGFyZ2V0Lm5vZGVOYW1lKXtpZigxMTxtdC5pZSlyZXR1cm4gdm9pZCB1LmdldEJvZHkoKS5mb2N1cygpO3Q9dS5zZWxlY3Rpb24uZ2V0Um5nKCksdS5nZXRCb2R5KCkuZm9jdXMoKSx1LnNlbGVjdGlvbi5zZXRSbmcodCksdS5zZWxlY3Rpb24ubm9ybWFsaXplKCksdS5ub2RlQ2hhbmdlZCgpfX0pKX07cmV0dXJuIHUub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIWgoZSkmJmUua2V5Q29kZT09PXZ2LkJBQ0tTUEFDRSl7dmFyIHI9KHQ9ZC5nZXRSbmcoKSkuc3RhcnRDb250YWluZXIsbz10LnN0YXJ0T2Zmc2V0LGk9Zi5nZXRSb290KCk7aWYobj1yLHQuY29sbGFwc2VkJiYwPT09byl7Zm9yKDtuJiZuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5maXJzdENoaWxkPT09biYmbi5wYXJlbnROb2RlIT09aTspbj1uLnBhcmVudE5vZGU7IkJMT0NLUVVPVEUiPT09bi50YWdOYW1lJiYodS5mb3JtYXR0ZXIudG9nZ2xlKCJibG9ja3F1b3RlIixudWxsLG4pLCh0PWYuY3JlYXRlUm5nKCkpLnNldFN0YXJ0KHIsMCksdC5zZXRFbmQociwwKSxkLnNldFJuZyh0KSl9fX0pLHM9ZnVuY3Rpb24oZSl7dmFyIHQ9Zi5jcmVhdGUoImJvZHkiKSxuPWUuY2xvbmVDb250ZW50cygpO3JldHVybiB0LmFwcGVuZENoaWxkKG4pLGQuc2VyaWFsaXplci5zZXJpYWxpemUodCx7Zm9ybWF0OiJodG1sIn0pfSx1Lm9uKCJrZXlkb3duIixmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGE9ZS5rZXlDb2RlO2lmKCFoKGUpJiYoYT09PWx8fGE9PT1jKSl7aWYodD11LnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpLG49dS5nZXRCb2R5KCksdCYmIWYuaXNFbXB0eShuKSlyZXR1cm47aWYoIXQmJihyPXUuc2VsZWN0aW9uLmdldFJuZygpLG89cyhyKSwoaT1mLmNyZWF0ZVJuZygpKS5zZWxlY3ROb2RlKHUuZ2V0Qm9keSgpKSxvIT09cyhpKSkpcmV0dXJuO2UucHJldmVudERlZmF1bHQoKSx1LnNldENvbnRlbnQoIiIpLG4uZmlyc3RDaGlsZCYmZi5pc0Jsb2NrKG4uZmlyc3RDaGlsZCk/dS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24obi5maXJzdENoaWxkLDApOnUuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKG4sMCksdS5ub2RlQ2hhbmdlZCgpfX0pLG10LndpbmRvd3NQaG9uZXx8dS5vbigia2V5dXAgZm9jdXNpbiBtb3VzZXVwIixmdW5jdGlvbihlKXt2di5tb2RpZmllclByZXNzZWQoZSl8fGQubm9ybWFsaXplKCl9LCEwKSxhJiYodS5pbmxpbmV8fGYuYmluZCh1LmdldERvYygpLCJtb3VzZWRvd24gbW91c2V1cCIsZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZS50YXJnZXQ9PT11LmdldERvYygpLmRvY3VtZW50RWxlbWVudClpZih0PWQuZ2V0Um5nKCksdS5nZXRCb2R5KCkuZm9jdXMoKSwibW91c2Vkb3duIj09PWUudHlwZSl7aWYoRXUodC5zdGFydENvbnRhaW5lcikpcmV0dXJuO2QucGxhY2VDYXJldEF0KGUuY2xpZW50WCxlLmNsaWVudFkpfWVsc2UgZC5zZXRSbmcodCl9KSx1Lm9uKCJjbGljayIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7L14oSU1HfEhSKSQvLnRlc3QodC5ub2RlTmFtZSkmJiJmYWxzZSIhPT1mLmdldENvbnRlbnRFZGl0YWJsZVBhcmVudCh0KSYmKGUucHJldmVudERlZmF1bHQoKSx1LnNlbGVjdGlvbi5zZWxlY3QodCksdS5ub2RlQ2hhbmdlZCgpKSwiQSI9PT10Lm5vZGVOYW1lJiZmLmhhc0NsYXNzKHQsIm1jZS1pdGVtLWFuY2hvciIpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGQuc2VsZWN0KHQpKX0pLFlzKHUpJiZ1Lm9uKCJpbml0IixmdW5jdGlvbigpe2coIkRlZmF1bHRQYXJhZ3JhcGhTZXBhcmF0b3IiLFlzKHUpKX0pLHUub24oImluaXQiLGZ1bmN0aW9uKCl7dS5kb20uYmluZCh1LmdldEJvZHkoKSwic3VibWl0IixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCl9KX0pLHkoKSxlLmFkZE5vZGVGaWx0ZXIoImJyIixmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dC0tOykiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZSI9PT1lW3RdLmF0dHIoImNsYXNzIikmJmVbdF0ucmVtb3ZlKCl9KSxtdC5pT1M/KHUuaW5saW5lfHx1Lm9uKCJrZXlkb3duIixmdW5jdGlvbigpe1YuZG9jdW1lbnQuYWN0aXZlRWxlbWVudD09PVYuZG9jdW1lbnQuYm9keSYmdS5nZXRXaW4oKS5mb2N1cygpfSksYigpLHUub24oImNsaWNrIixmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtkb3tpZigiQSI9PT10LnRhZ05hbWUpcmV0dXJuIHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpfXdoaWxlKHQ9dC5wYXJlbnROb2RlKX0pLHUuY29udGVudFN0eWxlcy5wdXNoKCIubWNlLWNvbnRlbnQtYm9keSB7LXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lfSIpKTp2KCkpLDExPD1tdC5pZSYmKGIoKSx5KCkpLG10LmllJiYodigpLGcoIkF1dG9VcmxEZXRlY3QiLCExKSx1Lm9uKCJkcmFnc3RhcnQiLGZ1bmN0aW9uKGUpe3ZhciB0LG4scjsodD1lKS5kYXRhVHJhbnNmZXImJih1LnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiYiSU1HIj09PXQudGFyZ2V0LnRhZ05hbWUmJmQuc2VsZWN0KHQudGFyZ2V0KSwwPChuPXUuc2VsZWN0aW9uLmdldENvbnRlbnQoKSkubGVuZ3RoJiYocj1tK2VzY2FwZSh1LmlkKSsiLCIrZXNjYXBlKG4pLHQuZGF0YVRyYW5zZmVyLnNldERhdGEocCxyKSkpfSksdS5vbigiZHJvcCIsZnVuY3Rpb24oZSl7aWYoIWgoZSkpe3ZhciB0PShpPWUpLmRhdGFUcmFuc2ZlciYmKGE9aS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShwKSkmJjA8PWEuaW5kZXhPZihtKT8oYT1hLnN1YnN0cihtLmxlbmd0aCkuc3BsaXQoIiwiKSx7aWQ6dW5lc2NhcGUoYVswXSksaHRtbDp1bmVzY2FwZShhWzFdKX0pOm51bGw7aWYodCYmdC5pZCE9PXUuaWQpe2UucHJldmVudERlZmF1bHQoKTt2YXIgbj1KaChlLngsZS55LHUuZ2V0RG9jKCkpO2Quc2V0Um5nKG4pLHI9dC5odG1sLG89ITAsdS5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoIm1jZUluc2VydENsaXBib2FyZENvbnRlbnQiKT91LmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDbGlwYm9hcmRDb250ZW50IiwhMSx7Y29udGVudDpyLGludGVybmFsOm99KTp1LmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwhMSxyKX19dmFyIHIsbyxpLGF9KSksdCYmKHUub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe2lmKCFoKGUpJiZlLmtleUNvZGU9PT1jKXtpZighdS5nZXRCb2R5KCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhyIikubGVuZ3RoKXJldHVybjtpZihkLmlzQ29sbGFwc2VkKCkmJjA9PT1kLmdldFJuZygpLnN0YXJ0T2Zmc2V0KXt2YXIgdD1kLmdldE5vZGUoKSxuPXQucHJldmlvdXNTaWJsaW5nO2lmKCJIUiI9PT10Lm5vZGVOYW1lKXJldHVybiBmLnJlbW92ZSh0KSx2b2lkIGUucHJldmVudERlZmF1bHQoKTtuJiZuLm5vZGVOYW1lJiYiaHIiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYoZi5yZW1vdmUobiksZS5wcmV2ZW50RGVmYXVsdCgpKX19fSksVi5SYW5nZS5wcm90b3R5cGUuZ2V0Q2xpZW50UmVjdHN8fHUub24oIm1vdXNlZG93biIsZnVuY3Rpb24oZSl7aWYoIWgoZSkmJiJIVE1MIj09PWUudGFyZ2V0Lm5vZGVOYW1lKXt2YXIgdD11LmdldEJvZHkoKTt0LmJsdXIoKSxmYS5zZXRFZGl0b3JUaW1lb3V0KHUsZnVuY3Rpb24oKXt0LmZvY3VzKCl9KX19KSxuPWZ1bmN0aW9uKCl7dmFyIGU9Zi5nZXRBdHRyaWJzKGQuZ2V0U3RhcnQoKS5jbG9uZU5vZGUoITEpKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1kLmdldFN0YXJ0KCk7dCE9PXUuZ2V0Qm9keSgpJiYoZi5zZXRBdHRyaWIodCwic3R5bGUiLG51bGwpLG8oZSxmdW5jdGlvbihlKXt0LnNldEF0dHJpYnV0ZU5vZGUoZS5jbG9uZU5vZGUoITApKX0pKX19LHI9ZnVuY3Rpb24oKXtyZXR1cm4hZC5pc0NvbGxhcHNlZCgpJiZmLmdldFBhcmVudChkLmdldFN0YXJ0KCksZi5pc0Jsb2NrKSE9PWYuZ2V0UGFyZW50KGQuZ2V0RW5kKCksZi5pc0Jsb2NrKX0sdS5vbigia2V5cHJlc3MiLGZ1bmN0aW9uKGUpe3ZhciB0O2lmKCFoKGUpJiYoOD09PWUua2V5Q29kZXx8NDY9PT1lLmtleUNvZGUpJiZyKCkpcmV0dXJuIHQ9bigpLHUuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoImRlbGV0ZSIsITEsbnVsbCksdCgpLGUucHJldmVudERlZmF1bHQoKSwhMX0pLGYuYmluZCh1LmdldERvYygpLCJjdXQiLGZ1bmN0aW9uKGUpe3ZhciB0OyFoKGUpJiZyKCkmJih0PW4oKSxmYS5zZXRFZGl0b3JUaW1lb3V0KHUsZnVuY3Rpb24oKXt0KCl9KSl9KSx1LmdldFBhcmFtKCJyZWFkb25seSIpfHx1Lm9uKCJCZWZvcmVFeGVjQ29tbWFuZCBtb3VzZWRvd24iLGZ1bmN0aW9uKCl7ZygiU3R5bGVXaXRoQ1NTIiwhMSksZygiZW5hYmxlSW5saW5lVGFibGVFZGl0aW5nIiwhMSksbmModSl8fGcoImVuYWJsZU9iamVjdFJlc2l6aW5nIiwhMSl9KSx1Lm9uKCJTZXRDb250ZW50IEV4ZWNDb21tYW5kIixmdW5jdGlvbihlKXsic2V0Y29udGVudCIhPT1lLnR5cGUmJiJtY2VJbnNlcnRMaW5rIiE9PWUuY29tbWFuZHx8byhmLnNlbGVjdCgiYSIpLGZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZSxuPWYuZ2V0Um9vdCgpO2lmKHQubGFzdENoaWxkPT09ZSl7Zm9yKDt0JiYhZi5pc0Jsb2NrKHQpOyl7aWYodC5wYXJlbnROb2RlLmxhc3RDaGlsZCE9PXR8fHQ9PT1uKXJldHVybjt0PXQucGFyZW50Tm9kZX1mLmFkZCh0LCJiciIseyJkYXRhLW1jZS1ib2d1cyI6MX0pfX0pfSksdS5jb250ZW50U3R5bGVzLnB1c2goImltZzotbW96LWJyb2tlbiB7LW1vei1mb3JjZS1icm9rZW4taW1hZ2UtaWNvbjoxO21pbi13aWR0aDoyNHB4O21pbi1oZWlnaHQ6MjRweH0iKSxtdC5tYWMmJnUub24oImtleWRvd24iLGZ1bmN0aW9uKGUpeyF2di5tZXRhS2V5UHJlc3NlZChlKXx8ZS5zaGlmdEtleXx8MzchPT1lLmtleUNvZGUmJjM5IT09ZS5rZXlDb2RlfHwoZS5wcmV2ZW50RGVmYXVsdCgpLHUuc2VsZWN0aW9uLmdldFNlbCgpLm1vZGlmeSgibW92ZSIsMzc9PT1lLmtleUNvZGU/ImJhY2t3YXJkIjoiZm9yd2FyZCIsImxpbmVib3VuZGFyeSIpKX0pLHkoKSkse3JlZnJlc2hDb250ZW50RWRpdGFibGU6ZnVuY3Rpb24oKXt9LGlzSGlkZGVuOmZ1bmN0aW9uKCl7aWYoIXR8fHUucmVtb3ZlZClyZXR1cm4hMTt2YXIgZT11LnNlbGVjdGlvbi5nZXRTZWwoKTtyZXR1cm4hZXx8IWUucmFuZ2VDb3VudHx8MD09PWUucmFuZ2VDb3VudH19fSxnUz1FYS5ET00saFM9ZnVuY3Rpb24oZSl7cmV0dXJuIGxlKGUsZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1SKGUpfSl9LHZTPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5zZXR0aW5ncyxyPWUuZWRpdG9yVXBsb2FkLmJsb2JDYWNoZTtyZXR1cm4gaFMoe2FsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzOm4uYWxsb3dfY29uZGl0aW9uYWxfY29tbWVudHMsYWxsb3dfaHRtbF9kYXRhX3VybHM6bi5hbGxvd19odG1sX2RhdGFfdXJscyxhbGxvd19odG1sX2luX25hbWVkX2FuY2hvcjpuLmFsbG93X2h0bWxfaW5fbmFtZWRfYW5jaG9yLGFsbG93X3NjcmlwdF91cmxzOm4uYWxsb3dfc2NyaXB0X3VybHMsYWxsb3dfdW5zYWZlX2xpbmtfdGFyZ2V0Om4uYWxsb3dfdW5zYWZlX2xpbmtfdGFyZ2V0LGNvbnZlcnRfZm9udHNfdG9fc3BhbnM6bi5jb252ZXJ0X2ZvbnRzX3RvX3NwYW5zLGZpeF9saXN0X2VsZW1lbnRzOm4uZml4X2xpc3RfZWxlbWVudHMsZm9udF9zaXplX2xlZ2FjeV92YWx1ZXM6bi5mb250X3NpemVfbGVnYWN5X3ZhbHVlcyxmb3JjZWRfcm9vdF9ibG9jazpuLmZvcmNlZF9yb290X2Jsb2NrLGZvcmNlZF9yb290X2Jsb2NrX2F0dHJzOm4uZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnMscGFkZF9lbXB0eV93aXRoX2JyOm4ucGFkZF9lbXB0eV93aXRoX2JyLHByZXNlcnZlX2NkYXRhOm4ucHJlc2VydmVfY2RhdGEscmVtb3ZlX3RyYWlsaW5nX2JyczpuLnJlbW92ZV90cmFpbGluZ19icnMsaW5saW5lX3N0eWxlczpuLmlubGluZV9zdHlsZXMscm9vdF9uYW1lOih0PWUpLmlubGluZT90LmdldEVsZW1lbnQoKS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOnVuZGVmaW5lZCx2YWxpZGF0ZTohMCxibG9iX2NhY2hlOnIsaW1hZ2VzX2RhdGFpbWdfZmlsdGVyOm4uaW1hZ2VzX2RhdGFpbWdfZmlsdGVyfSl9LHlTPWZ1bmN0aW9uKHUpe3ZhciBlPXUuZG9tLmdldFJvb3QoKTt1LmlubGluZXx8bWYodSkmJnUuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSE9PWV8fGRsKGUpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saT1lLmdldE5vZGUoKSxhPXhuKGkpP2RsKGkpLmdldE9yKGUpOmU7bXQuYnJvd3Nlci5pc0lFKCk/KHQ9dSxuPWEudG9SYW5nZSgpLHI9Q3QuZnJvbURvbSh0LmdldEJvZHkoKSksbz0oRG0odCk/Qi5mcm9tKG4pOkIubm9uZSgpKS5tYXAoT20pLmZpbHRlcihBbShyKSksdC5ib29rbWFyaz1vLmlzU29tZSgpP286dC5ib29rbWFyayk6dS5zZWxlY3Rpb24uc2V0Um5nKGEudG9SYW5nZSgpKX0pfSxiUz1mdW5jdGlvbihlKXt2YXIgdDtlLmJpbmRQZW5kaW5nRXZlbnREZWxlZ2F0ZXMoKSxlLmluaXRpYWxpemVkPSEwLGUuZmlyZSgiSW5pdCIpLGUuZm9jdXMoITApLHlTKGUpLGUubm9kZUNoYW5nZWQoe2luaXRpYWw6ITB9KSxlLmV4ZWNDYWxsYmFjaygiaW5pdF9pbnN0YW5jZV9jYWxsYmFjayIsZSksKHQ9ZSkuc2V0dGluZ3MuYXV0b19mb2N1cyYmZmEuc2V0RWRpdG9yVGltZW91dCh0LGZ1bmN0aW9uKCl7dmFyIGU7KGU9ITA9PT10LnNldHRpbmdzLmF1dG9fZm9jdXM/dDp0LmVkaXRvck1hbmFnZXIuZ2V0KHQuc2V0dGluZ3MuYXV0b19mb2N1cykpLmRlc3Ryb3llZHx8ZS5mb2N1cygpfSwxMDApfSxDUz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc2V0dGluZ3Mscj10LmdldERvYygpLG89dC5nZXRCb2R5KCk7bi5icm93c2VyX3NwZWxsY2hlY2t8fG4uZ2Vja29fc3BlbGxjaGVja3x8KHIuYm9keS5zcGVsbGNoZWNrPSExLGdTLnNldEF0dHJpYihvLCJzcGVsbGNoZWNrIiwiZmFsc2UiKSksdC5xdWlya3M9cFModCksdC5maXJlKCJQb3N0UmVuZGVyIik7dmFyIGksYSx1LHMsYyxsPXQuZ2V0UGFyYW0oImRpcmVjdGlvbmFsaXR5IixJYS5pc1J0bCgpPyJydGwiOnVuZGVmaW5lZCk7aWYobCE9PXVuZGVmaW5lZCYmKG8uZGlyPWwpLG4ucHJvdGVjdCYmdC5vbigiQmVmb3JlU2V0Q29udGVudCIsZnVuY3Rpb24odCl7eXQuZWFjaChuLnByb3RlY3QsZnVuY3Rpb24oZSl7dC5jb250ZW50PXQuY29udGVudC5yZXBsYWNlKGUsZnVuY3Rpb24oZSl7cmV0dXJuIlx4M2MhLS1tY2U6cHJvdGVjdGVkICIrZXNjYXBlKGUpKyItLVx4M2UifSl9KX0pLHQub24oIlNldENvbnRlbnQiLGZ1bmN0aW9uKCl7dC5hZGRWaXN1YWwodC5nZXRCb2R5KCkpfSksITE9PT1lJiZ0LmxvYWQoe2luaXRpYWw6ITAsZm9ybWF0OiJodG1sIn0pLHQuc3RhcnRDb250ZW50PXQuZ2V0Q29udGVudCh7Zm9ybWF0OiJyYXcifSksdC5vbigiY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCIsZnVuY3Rpb24oZSl7dC5jb21wb3Npbmc9ImNvbXBvc2l0aW9uc3RhcnQiPT09ZS50eXBlfSksMDx0LmNvbnRlbnRTdHlsZXMubGVuZ3RoKXt2YXIgZj0iIjt5dC5lYWNoKHQuY29udGVudFN0eWxlcyxmdW5jdGlvbihlKXtmKz1lKyJcclxuIn0pLHQuZG9tLmFkZFN0eWxlKGYpfSgoaT10KS5pbmxpbmU/Z1Muc3R5bGVTaGVldExvYWRlcjppLmRvbS5zdHlsZVNoZWV0TG9hZGVyKS5sb2FkQWxsKHQuY29udGVudENTUyxmdW5jdGlvbihlKXtiUyh0KX0sZnVuY3Rpb24oZSl7YlModCl9KSxuLmNvbnRlbnRfc3R5bGUmJihhPXQsdT1uLmNvbnRlbnRfc3R5bGUscz1DdC5mcm9tRG9tKGEuZ2V0RG9jKCkuaGVhZCksYz1DdC5mcm9tVGFnKCJzdHlsZSIpLFBuKGMsInR5cGUiLCJ0ZXh0L2NzcyIpLFp0KGMsQ3QuZnJvbVRleHQodSkpLFp0KHMsYykpfSx3Uz1mdW5jdGlvbih0LGUpe3ZhciBuPXQuc2V0dGluZ3Mscj10LmdldEVsZW1lbnQoKSxvPXQuZ2V0RG9jKCk7bi5pbmxpbmV8fCh0LmdldEVsZW1lbnQoKS5zdHlsZS52aXNpYmlsaXR5PXQub3JnVmlzaWJpbGl0eSksZXx8dC5pbmxpbmV8fChvLm9wZW4oKSxvLndyaXRlKHQuaWZyYW1lSFRNTCksby5jbG9zZSgpKSx0LmlubGluZSYmKGdTLmFkZENsYXNzKHIsIm1jZS1jb250ZW50LWJvZHkiKSx0LmNvbnRlbnREb2N1bWVudD1vPVYuZG9jdW1lbnQsdC5jb250ZW50V2luZG93PVYud2luZG93LHQuYm9keUVsZW1lbnQ9cix0LmNvbnRlbnRBcmVhQ29udGFpbmVyPXIpO3ZhciB1LGksYSxzLGMsbCxmPXQuZ2V0Qm9keSgpO2YuZGlzYWJsZWQ9ITAsdC5yZWFkb25seT0hIW4ucmVhZG9ubHksdC5yZWFkb25seXx8KHQuaW5saW5lJiYic3RhdGljIj09PWdTLmdldFN0eWxlKGYsInBvc2l0aW9uIiwhMCkmJihmLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLGYuY29udGVudEVkaXRhYmxlPXQuZ2V0UGFyYW0oImNvbnRlbnRfZWRpdGFibGVfc3RhdGUiLCEwKSksZi5kaXNhYmxlZD0hMSx0LmVkaXRvclVwbG9hZD1Rdih0KSx0LnNjaGVtYT1ScihuKSx0LmRvbT1FYShvLHtrZWVwX3ZhbHVlczohMCx1cmxfY29udmVydGVyOnQuY29udmVydFVSTCx1cmxfY29udmVydGVyX3Njb3BlOnQsaGV4X2NvbG9yczpuLmZvcmNlX2hleF9zdHlsZV9jb2xvcnMsdXBkYXRlX3N0eWxlczohMCxyb290X2VsZW1lbnQ6dC5pbmxpbmU/dC5nZXRCb2R5KCk6bnVsbCxjb2xsZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuaW5saW5lfSxzY2hlbWE6dC5zY2hlbWEsY29udGVudENzc0NvcnM6dC5nZXRQYXJhbSgiY29udGVudF9jc3NfY29ycyIsITEsImJvb2xlYW4iKSxyZWZlcnJlclBvbGljeTpacyh0KSxvblNldEF0dHJpYjpmdW5jdGlvbihlKXt0LmZpcmUoIlNldEF0dHJpYiIsZSl9fSksdC5wYXJzZXI9KChpPVZ2KHZTKHU9dCksdS5zY2hlbWEpKS5hZGRBdHRyaWJ1dGVGaWx0ZXIoInNyYyxocmVmLHN0eWxlLHRhYmluZGV4IixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLG89ZS5sZW5ndGgsaT11LmRvbSxhPSJkYXRhLW1jZS0iK3Q7by0tOylpZigocj0obj1lW29dKS5hdHRyKHQpKSYmIW4uYXR0cihhKSl7aWYoMD09PXIuaW5kZXhPZigiZGF0YToiKXx8MD09PXIuaW5kZXhPZigiYmxvYjoiKSljb250aW51ZTsic3R5bGUiPT09dD8oKHI9aS5zZXJpYWxpemVTdHlsZShpLnBhcnNlU3R5bGUociksbi5uYW1lKSkubGVuZ3RofHwocj1udWxsKSxuLmF0dHIoYSxyKSxuLmF0dHIodCxyKSk6InRhYmluZGV4Ij09PXQ/KG4uYXR0cihhLHIpLG4uYXR0cih0LG51bGwpKTpuLmF0dHIoYSx1LmNvbnZlcnRVUkwocix0LG4ubmFtZSkpfX0pLGkuYWRkTm9kZUZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dC0tOyl7dmFyIG49ZVt0XSxyPW4uYXR0cigidHlwZSIpfHwibm8vdHlwZSI7MCE9PXIuaW5kZXhPZigibWNlLSIpJiZuLmF0dHIoInR5cGUiLCJtY2UtIityKX19KSx1LnNldHRpbmdzLnByZXNlcnZlX2NkYXRhJiZpLmFkZE5vZGVGaWx0ZXIoIiNjZGF0YSIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoO3QtLTspe3ZhciBuPWVbdF07bi50eXBlPTgsbi5uYW1lPSIjY29tbWVudCIsbi52YWx1ZT0iW0NEQVRBWyIrdS5kb20uZW5jb2RlKG4udmFsdWUpKyJdXSJ9fSksaS5hZGROb2RlRmlsdGVyKCJwLGgxLGgyLGgzLGg0LGg1LGg2LGRpdiIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLG49dS5zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpO3QtLTspe3ZhciByPWVbdF07ci5pc0VtcHR5KG4pJiYwPT09ci5nZXRBbGwoImJyIikubGVuZ3RoJiYoci5hcHBlbmQobmV3IFRmKCJiciIsMSkpLnNob3J0RW5kZWQ9ITApfX0pLGkpLHQuc2VyaWFsaXplcj1Ydigocz0oYT10KS5zZXR0aW5ncyx4ZSh4ZSh7fSx2UyhhKSksaFMoe3VybF9jb252ZXJ0ZXI6cy51cmxfY29udmVydGVyLHVybF9jb252ZXJ0ZXJfc2NvcGU6cy51cmxfY29udmVydGVyX3Njb3BlLGVsZW1lbnRfZm9ybWF0OnMuZWxlbWVudF9mb3JtYXQsZW50aXRpZXM6cy5lbnRpdGllcyxlbnRpdHlfZW5jb2Rpbmc6cy5lbnRpdHlfZW5jb2RpbmcsaW5kZW50OnMuaW5kZW50LGluZGVudF9hZnRlcjpzLmluZGVudF9hZnRlcixpbmRlbnRfYmVmb3JlOnMuaW5kZW50X2JlZm9yZSxibG9ja19lbGVtZW50czpzLmJsb2NrX2VsZW1lbnRzLGJvb2xlYW5fYXR0cmlidXRlczpzLmJvb2xlYW5fYXR0cmlidXRlcyxjdXN0b21fZWxlbWVudHM6cy5jdXN0b21fZWxlbWVudHMsZXh0ZW5kZWRfdmFsaWRfZWxlbWVudHM6cy5leHRlbmRlZF92YWxpZF9lbGVtZW50cyxpbnZhbGlkX2VsZW1lbnRzOnMuaW52YWxpZF9lbGVtZW50cyxpbnZhbGlkX3N0eWxlczpzLmludmFsaWRfc3R5bGVzLG1vdmVfY2FyZXRfYmVmb3JlX29uX2VudGVyX2VsZW1lbnRzOnMubW92ZV9jYXJldF9iZWZvcmVfb25fZW50ZXJfZWxlbWVudHMsbm9uX2VtcHR5X2VsZW1lbnRzOnMubm9uX2VtcHR5X2VsZW1lbnRzLHNjaGVtYTpzLnNjaGVtYSxzZWxmX2Nsb3NpbmdfZWxlbWVudHM6cy5zZWxmX2Nsb3NpbmdfZWxlbWVudHMsc2hvcnRfZW5kZWRfZWxlbWVudHM6cy5zaG9ydF9lbmRlZF9lbGVtZW50cyxzcGVjaWFsOnMuc3BlY2lhbCx0ZXh0X2Jsb2NrX2VsZW1lbnRzOnMudGV4dF9ibG9ja19lbGVtZW50cyx0ZXh0X2lubGluZV9lbGVtZW50czpzLnRleHRfaW5saW5lX2VsZW1lbnRzLHZhbGlkX2NoaWxkcmVuOnMudmFsaWRfY2hpbGRyZW4sdmFsaWRfY2xhc3NlczpzLnZhbGlkX2NsYXNzZXMsdmFsaWRfZWxlbWVudHM6cy52YWxpZF9lbGVtZW50cyx2YWxpZF9zdHlsZXM6cy52YWxpZF9zdHlsZXMsdmVyaWZ5X2h0bWw6cy52ZXJpZnlfaHRtbCx3aGl0ZXNwYWNlX2VsZW1lbnRzOnMud2hpdGVzcGFjZV9lbGVtZW50c30pKSksdCksdC5zZWxlY3Rpb249TnYodC5kb20sdC5nZXRXaW4oKSx0LnNlcmlhbGl6ZXIsdCksdC5hbm5vdGF0b3I9eGYodCksdC5mb3JtYXR0ZXI9bHkodCksdC51bmRvTWFuYWdlcj1keSh0KSx0Ll9ub2RlQ2hhbmdlRGlzcGF0Y2hlcj1uZXcgWHgodCksdC5fc2VsZWN0aW9uT3ZlcnJpZGVzPW1TKHQpLGJ5KHQpLEd4KHQpLElnKHQpfHxReCh0KSxJZyhjPXQpfHxLeChjKSxZcyhsPXQpJiZsLm9uKCJOb2RlQ2hhbmdlIixOKHh5LGwpKSx2eSh0KSx0LmZpcmUoIlByZUluaXQiKSxNZyh0KS5mb2xkKGZ1bmN0aW9uKCl7Q1ModCwhMSl9LGZ1bmN0aW9uKGUpe3Quc2V0UHJvZ3Jlc3NTdGF0ZSghMCksZS50aGVuKGZ1bmN0aW9uKGUpe3Quc2V0UHJvZ3Jlc3NTdGF0ZSghMSksQ1ModCxlKX0pfSl9LHhTPUVhLkRPTSxTUz1mdW5jdGlvbihlKXt2YXIgdD1lLmdldFBhcmFtKCJkb2N0eXBlIiwiPCFET0NUWVBFIGh0bWw+IikrIjxodG1sPjxoZWFkPiI7ZS5nZXRQYXJhbSgiZG9jdW1lbnRfYmFzZV91cmwiLCIiKSE9PWUuZG9jdW1lbnRCYXNlVXJsJiYodCs9JzxiYXNlIGhyZWY9IicrZS5kb2N1bWVudEJhc2VVUkkuZ2V0VVJJKCkrJyIgLz4nKSx0Kz0nPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLTgiIC8+Jzt2YXIgbj1LcyhlLCJib2R5X2lkIiwidGlueW1jZSIpLHI9S3MoZSwiYm9keV9jbGFzcyIsIiIpO3JldHVybiBYcyhlKSYmKHQrPSc8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVNlY3VyaXR5LVBvbGljeSIgY29udGVudD0iJytYcyhlKSsnIiAvPicpLHQrPSc8L2hlYWQ+PGJvZHkgaWQ9IicrbisnIiBjbGFzcz0ibWNlLWNvbnRlbnQtYm9keSAnK3IrJyIgZGF0YS1pZD0iJytlLmlkKyciPjxicj48L2JvZHk+PC9odG1sPid9LE5TPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYT1lLmVkaXRvck1hbmFnZXIudHJhbnNsYXRlKCJSaWNoIFRleHQgQXJlYS4gUHJlc3MgQUxULTAgZm9yIGhlbHAuIiksdT0obj1lLmlkLHI9YSx0LmhlaWdodCxvPWUuZ2V0UGFyYW0oImlmcmFtZV9hdHRycyIse30pLGk9Q3QuZnJvbVRhZygiaWZyYW1lIiksTG4oaSxvKSxMbihpLHtpZDpuKyJfaWZyIixmcmFtZUJvcmRlcjoiMCIsYWxsb3dUcmFuc3BhcmVuY3k6InRydWUiLHRpdGxlOnJ9KSwkYShpLCJ0b3gtZWRpdC1hcmVhX19pZnJhbWUiKSxpLmRvbSgpKTt1Lm9ubG9hZD1mdW5jdGlvbigpe3Uub25sb2FkPW51bGwsZS5maXJlKCJsb2FkIil9O3ZhciBzPWZ1bmN0aW9uKGUsdCl7aWYoVi5kb2N1bWVudC5kb21haW4hPT1WLndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSYmbXQuYnJvd3Nlci5pc0lFKCkpe3ZhciBuPUp2KCJtY2UiKTtlW25dPWZ1bmN0aW9uKCl7d1MoZSl9O3ZhciByPSdqYXZhc2NyaXB0OihmdW5jdGlvbigpe2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC5kb21haW49IicrVi5kb2N1bWVudC5kb21haW4rJyI7dmFyIGVkID0gd2luZG93LnBhcmVudC50aW55bWNlLmdldCgiJytlLmlkKyciKTtkb2N1bWVudC53cml0ZShlZC5pZnJhbWVIVE1MKTtkb2N1bWVudC5jbG9zZSgpO2VkLicrbisiKHRydWUpO30pKCkiO3JldHVybiB4Uy5zZXRBdHRyaWIodCwic3JjIixyKSwhMH1yZXR1cm4hMX0oZSx1KTtyZXR1cm4gZS5jb250ZW50QXJlYUNvbnRhaW5lcj10LmlmcmFtZUNvbnRhaW5lcixlLmlmcmFtZUVsZW1lbnQ9dSxlLmlmcmFtZUhUTUw9U1MoZSkseFMuYWRkKHQuaWZyYW1lQ29udGFpbmVyLHUpLHN9LEVTPUVhLkRPTSxrUz1mdW5jdGlvbih0LG4sZSl7dmFyIHI9YmguZ2V0KGUpLG89YmgudXJsc1tlXXx8dC5kb2N1bWVudEJhc2VVcmwucmVwbGFjZSgvXC8kLywiIik7aWYoZT15dC50cmltKGUpLHImJi0xPT09eXQuaW5BcnJheShuLGUpKXtpZih5dC5lYWNoKGJoLmRlcGVuZGVuY2llcyhlKSxmdW5jdGlvbihlKXtrUyh0LG4sZSl9KSx0LnBsdWdpbnNbZV0pcmV0dXJuO3RyeXt2YXIgaT1uZXcgcih0LG8sdC4kKTsodC5wbHVnaW5zW2VdPWkpLmluaXQmJihpLmluaXQodCxvKSxuLnB1c2goZSkpfWNhdGNoKExFKXshZnVuY3Rpb24oZSx0LG4pe3ZhciByPUlhLnRyYW5zbGF0ZShbIkZhaWxlZCB0byBpbml0aWFsaXplIHBsdWdpbjogezB9Iix0XSk7X2gocixuKSxTaChlLHIpfSh0LGUsTEUpfX19LF9TPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL15cLS8sIiIpfSxUUz1mdW5jdGlvbihlKXtyZXR1cm57ZWRpdG9yQ29udGFpbmVyOmUsaWZyYW1lQ29udGFpbmVyOmV9fSxSUz1mdW5jdGlvbihlKXt2YXIgdCxuLHI9ZS5nZXRFbGVtZW50KCk7cmV0dXJuIGUuaW5saW5lP1RTKG51bGwpOih0PXIsbj1FUy5jcmVhdGUoImRpdiIpLEVTLmluc2VydEFmdGVyKG4sdCksVFMobikpfSxBUz1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbz1lLmdldEVsZW1lbnQoKTtyZXR1cm4gZS5vcmdEaXNwbGF5PW8uc3R5bGUuZGlzcGxheSxxKG9jKGUpKT9lLnRoZW1lLnJlbmRlclVJKCk6QShvYyhlKSk/KG49KHQ9ZSkuZ2V0RWxlbWVudCgpLChyPW9jKHQpKHQsbikpLmVkaXRvckNvbnRhaW5lci5ub2RlVHlwZSYmKHIuZWRpdG9yQ29udGFpbmVyLmlkPXIuZWRpdG9yQ29udGFpbmVyLmlkfHx0LmlkKyJfcGFyZW50Iiksci5pZnJhbWVDb250YWluZXImJnIuaWZyYW1lQ29udGFpbmVyLm5vZGVUeXBlJiYoci5pZnJhbWVDb250YWluZXIuaWQ9ci5pZnJhbWVDb250YWluZXIuaWR8fHQuaWQrIl9pZnJhbWVjb250YWluZXIiKSxyLmhlaWdodD1yLmlmcmFtZUhlaWdodD9yLmlmcmFtZUhlaWdodDpuLm9mZnNldEhlaWdodCxyKTpSUyhlKX0sRFM9ZnVuY3Rpb24oZSl7dmFyIG4sdCxyLG8saSxhO2UuZmlyZSgiU2NyaXB0c0xvYWRlZCIpLG49ZSx0PXl0LnRyaW0oUXMobikpLHI9bi51aS5yZWdpc3RyeS5nZXRBbGwoKS5pY29ucyxvPXhlKHhlKHt9LGNoLmdldCgiZGVmYXVsdCIpLmljb25zKSxjaC5nZXQodCkuaWNvbnMpLG9lKG8sZnVuY3Rpb24oZSx0KXttZShyLHQpfHxuLnVpLnJlZ2lzdHJ5LmFkZEljb24odCxlKX0pLGZ1bmN0aW9uKGUpe3ZhciB0PW9jKGUpO2lmKHEodCkpe2Uuc2V0dGluZ3MudGhlbWU9X1ModCk7dmFyIG49Q2guZ2V0KHQpO2UudGhlbWU9bmV3IG4oZSxDaC51cmxzW3RdKSxlLnRoZW1lLmluaXQmJmUudGhlbWUuaW5pdChlLENoLnVybHNbdF18fGUuZG9jdW1lbnRCYXNlVXJsLnJlcGxhY2UoL1wvJC8sIiIpLGUuJCl9ZWxzZSBlLnRoZW1lPXt9fShlKSxpPWUsYT1bXSx5dC5lYWNoKGFjKGkpLnNwbGl0KC9bICxdLyksZnVuY3Rpb24oZSl7a1MoaSxhLF9TKGUpKX0pO3ZhciB1LHMsYyxsLGY9QVMoZSk7cmV0dXJuIGUuZWRpdG9yQ29udGFpbmVyPWYuZWRpdG9yQ29udGFpbmVyP2YuZWRpdG9yQ29udGFpbmVyOm51bGwsKHU9ZSkuY29udGVudENTUz11LmNvbnRlbnRDU1MuY29uY2F0KFRoKHUpKSxlLmlubGluZT93UyhlKToobD1OUyhzPWUsYz1mKSxjLmVkaXRvckNvbnRhaW5lciYmKHhTLmdldChjLmVkaXRvckNvbnRhaW5lcikuc3R5bGUuZGlzcGxheT1zLm9yZ0Rpc3BsYXkscy5oaWRkZW49eFMuaXNIaWRkZW4oYy5lZGl0b3JDb250YWluZXIpKSxzLmdldEVsZW1lbnQoKS5zdHlsZS5kaXNwbGF5PSJub25lIix4Uy5zZXRBdHRyaWIocy5pZCwiYXJpYS1oaWRkZW4iLCJ0cnVlIiksdm9pZChsfHx3UyhzKSkpfSxPUz1FYS5ET00sQlM9ZnVuY3Rpb24oZSl7cmV0dXJuIi0iPT09ZS5jaGFyQXQoMCl9LFBTPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZWModCkscj10LmdldFBhcmFtKCJsYW5ndWFnZV91cmwiLCIiLCJzdHJpbmciKTtpZighMT09PUlhLmhhc0NvZGUobikmJiJlbiIhPT1uKXt2YXIgbz0iIiE9PXI/cjp0LmVkaXRvck1hbmFnZXIuYmFzZVVSTCsiL2xhbmdzLyIrbisiLmpzIjtlLmFkZChvLGYsdW5kZWZpbmVkLGZ1bmN0aW9uKCl7TmgodCwiTGFuZ3VhZ2VMb2FkRXJyb3IiLEVoKCJsYW5ndWFnZSIsbyxuKSl9KX19LExTPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gQi5mcm9tKGUpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aCYmIWNoLmhhcyhlKX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm57dXJsOnQuZWRpdG9yTWFuYWdlci5iYXNlVVJMKyIvaWNvbnMvIitlKyIvaWNvbnMiK24rIi5qcyIsbmFtZTpCLnNvbWUoZSl9fSl9LElTPWZ1bmN0aW9uKGUsbyx0KXt2YXIgbixyPUxTKG8sImRlZmF1bHQiLHQpLGk9KG49byxCLmZyb20obi5nZXRQYXJhbSgiaWNvbnNfdXJsIiwiIiwic3RyaW5nIikpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aH0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm57dXJsOmUsbmFtZTpCLm5vbmUoKX19KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIExTKG8sUXMobyksIiIpfSkpO3ooZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49ZnVuY3Rpb24oZSl7dC5wdXNoKGUpfSxyPTA7cjxlLmxlbmd0aDtyKyspZVtyXS5lYWNoKG4pO3JldHVybiB0fShbcixpXSksZnVuY3Rpb24ocil7ZS5hZGQoci51cmwsZix1bmRlZmluZWQsZnVuY3Rpb24oKXt2YXIgZSx0LG47ZT1vLHQ9ci51cmwsbj1yLm5hbWUuZ2V0T3JVbmRlZmluZWQoKSxOaChlLCJJY29uc0xvYWRFcnJvciIsRWgoImljb25zIix0LG4pKX0pfSl9LE1TPWZ1bmN0aW9uKGUsdCl7dmFyIG49UmEuU2NyaXB0TG9hZGVyOyFmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1vYyh0KTtpZihxKG8pKXtpZighQlMobykmJiFDaC51cmxzLmhhc093blByb3BlcnR5KG8pKXt2YXIgaT10LmdldFBhcmFtKCJ0aGVtZV91cmwiKTtpP0NoLmxvYWQobyx0LmRvY3VtZW50QmFzZVVSSS50b0Fic29sdXRlKGkpKTpDaC5sb2FkKG8sInRoZW1lcy8iK28rIi90aGVtZSIrbisiLmpzIil9ZS5sb2FkUXVldWUoZnVuY3Rpb24oKXtDaC53YWl0Rm9yKG8scil9KX1lbHNlIHIoKX0obixlLHQsZnVuY3Rpb24oKXt2YXIgcixvO1BTKG4sZSksSVMobixlLHQpLHI9ZSxvPXQseXQuZWFjaChyLmdldFBhcmFtKCJleHRlcm5hbF9wbHVnaW5zIiksZnVuY3Rpb24oZSx0KXtiaC5sb2FkKHQsZSxmLHVuZGVmaW5lZCxmdW5jdGlvbigpe2toKHIsZSx0KX0pLHIuc2V0dGluZ3MucGx1Z2lucys9IiAiK3R9KSx5dC5lYWNoKGFjKHIpLnNwbGl0KC9bICxdLyksZnVuY3Rpb24oZSl7aWYoKGU9eXQudHJpbShlKSkmJiFiaC51cmxzW2VdKWlmKEJTKGUpKXtlPWUuc3Vic3RyKDEsZS5sZW5ndGgpO3ZhciB0PWJoLmRlcGVuZGVuY2llcyhlKTt5dC5lYWNoKHQsZnVuY3Rpb24oZSl7dmFyIHQ9e3ByZWZpeDoicGx1Z2lucy8iLHJlc291cmNlOmUsc3VmZml4OiIvcGx1Z2luIitvKyIuanMifSxuPWJoLmNyZWF0ZVVybCh0LGUpO2JoLmxvYWQobi5yZXNvdXJjZSxuLGYsdW5kZWZpbmVkLGZ1bmN0aW9uKCl7a2gocixuLnByZWZpeCtuLnJlc291cmNlK24uc3VmZml4LG4ucmVzb3VyY2UpfSl9KX1lbHNle3ZhciBuPXtwcmVmaXg6InBsdWdpbnMvIixyZXNvdXJjZTplLHN1ZmZpeDoiL3BsdWdpbiIrbysiLmpzIn07YmgubG9hZChlLG4sZix1bmRlZmluZWQsZnVuY3Rpb24oKXtraChyLG4ucHJlZml4K24ucmVzb3VyY2Urbi5zdWZmaXgsZSl9KX19KSxuLmxvYWRRdWV1ZShmdW5jdGlvbigpe2UucmVtb3ZlZHx8RFMoZSl9LGUsZnVuY3Rpb24oKXtlLnJlbW92ZWR8fERTKGUpfSl9KX0sRlM9ZnVuY3Rpb24odCl7dmFyIGU9dC5pZDtJYS5zZXRDb2RlKGVjKHQpKTt2YXIgbj1mdW5jdGlvbigpe09TLnVuYmluZChWLndpbmRvdywicmVhZHkiLG4pLHQucmVuZGVyKCl9O2lmKEhyLkV2ZW50LmRvbUxvYWRlZCl7aWYodC5nZXRFbGVtZW50KCkmJm10LmNvbnRlbnRFZGl0YWJsZSl7dmFyIHIsbyxpPUN0LmZyb21Eb20odC5nZXRFbGVtZW50KCkpLGE9VyhpLmRvbSgpLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0Lm5hbWVdPXQudmFsdWUsZX0se30pO3Qub24oInJlbW92ZSIsZnVuY3Rpb24oKXtqKGkuZG9tKCkuYXR0cmlidXRlcyxmdW5jdGlvbihlKXtyZXR1cm4gTW4oaSxlLm5hbWUpfSksTG4oaSxhKX0pLHQudWkuc3R5bGVTaGVldExvYWRlcj0ocj1pLG89dCxnYS5mb3JFbGVtZW50KHIse2NvbnRlbnRDc3NDb3JzOm8uZ2V0UGFyYW0oImNvbnRlbnRfY3NzX2NvcnMiKSxyZWZlcnJlclBvbGljeTpacyhvKX0pKSx0LmdldFBhcmFtKCJpbmxpbmUiKT90LmlubGluZT0hMDoodC5vcmdWaXNpYmlsaXR5PXQuZ2V0RWxlbWVudCgpLnN0eWxlLnZpc2liaWxpdHksdC5nZXRFbGVtZW50KCkuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIik7dmFyIHU9dC5nZXRFbGVtZW50KCkuZm9ybXx8T1MuZ2V0UGFyZW50KGUsImZvcm0iKTt1JiYodC5mb3JtRWxlbWVudD11LHQuZ2V0UGFyYW0oImhpZGRlbl9pbnB1dCIpJiYhTm4odC5nZXRFbGVtZW50KCkpJiYoT1MuaW5zZXJ0QWZ0ZXIoT1MuY3JlYXRlKCJpbnB1dCIse3R5cGU6ImhpZGRlbiIsbmFtZTplfSksZSksdC5oYXNIaWRkZW5JbnB1dD0hMCksdC5mb3JtRXZlbnREZWxlZ2F0ZT1mdW5jdGlvbihlKXt0LmZpcmUoZS50eXBlLGUpfSxPUy5iaW5kKHUsInN1Ym1pdCByZXNldCIsdC5mb3JtRXZlbnREZWxlZ2F0ZSksdC5vbigicmVzZXQiLGZ1bmN0aW9uKCl7dC5yZXNldENvbnRlbnQoKX0pLCF0LmdldFBhcmFtKCJzdWJtaXRfcGF0Y2giKXx8dS5zdWJtaXQubm9kZVR5cGV8fHUuc3VibWl0Lmxlbmd0aHx8dS5fbWNlT2xkU3VibWl0fHwodS5fbWNlT2xkU3VibWl0PXUuc3VibWl0LHUuc3VibWl0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuZWRpdG9yTWFuYWdlci50cmlnZ2VyU2F2ZSgpLHQuc2V0RGlydHkoITEpLHUuX21jZU9sZFN1Ym1pdCh1KX0pKSx0LndpbmRvd01hbmFnZXI9d2godCksdC5ub3RpZmljYXRpb25NYW5hZ2VyPXloKHQpLCJ4bWwiPT09dC5nZXRQYXJhbSgiZW5jb2RpbmciKSYmdC5vbigiR2V0Q29udGVudCIsZnVuY3Rpb24oZSl7ZS5zYXZlJiYoZS5jb250ZW50PU9TLmVuY29kZShlLmNvbnRlbnQpKX0pLHQuZ2V0UGFyYW0oImFkZF9mb3JtX3N1Ym1pdF90cmlnZ2VyIikmJnQub24oInN1Ym1pdCIsZnVuY3Rpb24oKXt0LmluaXRpYWxpemVkJiZ0LnNhdmUoKX0pLHQuZ2V0UGFyYW0oImFkZF91bmxvYWRfdHJpZ2dlciIpJiYodC5fYmVmb3JlVW5sb2FkPWZ1bmN0aW9uKCl7IXQuaW5pdGlhbGl6ZWR8fHQuZGVzdHJveWVkfHx0LmlzSGlkZGVuKCl8fHQuc2F2ZSh7Zm9ybWF0OiJyYXciLG5vX2V2ZW50czohMCxzZXRfZGlydHk6ITF9KX0sdC5lZGl0b3JNYW5hZ2VyLm9uKCJCZWZvcmVVbmxvYWQiLHQuX2JlZm9yZVVubG9hZCkpLHQuZWRpdG9yTWFuYWdlci5hZGQodCksTVModCx0LnN1ZmZpeCl9fWVsc2UgT1MuYmluZChWLndpbmRvdywicmVhZHkiLG4pfSxVUz1mdW5jdGlvbihlKXtyZXR1cm4gQShlKT9lOngoITEpfSx6Uz1mdW5jdGlvbihlLHQsbil7dmFyIHI9dChlKSxvPVVTKG4pO3JldHVybiByLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gbyhlKT9CLm5vbmUoKTpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPWUuZG9tKCksbz1VUyhuKTtyLnBhcmVudE5vZGU7KXtyPXIucGFyZW50Tm9kZTt2YXIgaT1DdC5mcm9tRG9tKHIpLGE9dChpKTtpZihhLmlzU29tZSgpKXJldHVybiBhO2lmKG8oaSkpYnJlYWt9cmV0dXJuIEIubm9uZSgpfShlLHQsbyl9KX0salM9eyJmb250LXNpemUiOiJzaXplIiwiZm9udC1mYW1pbHkiOiJmYWNlIn0sSFM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKHIpe3JldHVybiB6bihyLGUpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4iZm9udCI9PT13dChyKT9kZShqUyxlKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB0PXIsbj1lLEIuZnJvbShJbih0LG4pKTt2YXIgdCxufSk6Qi5ub25lKCl9KX07cmV0dXJuIHpTKEN0LmZyb21Eb20obiksZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBEdChDdC5mcm9tRG9tKHQpLGUpfSl9LFZTPWZ1bmN0aW9uKG8pe3JldHVybiBmdW5jdGlvbihyLGUpe3JldHVybiBCLmZyb20oZSkubWFwKEN0LmZyb21Eb20pLmZpbHRlcihOdCkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gSFMobyxyLGUuZG9tKCkpLm9yKCh0PW8sbj1lLmRvbSgpLEIuZnJvbShFYS5ET00uZ2V0U3R5bGUobix0LCEwKSkpKTt2YXIgdCxufSkuZ2V0T3IoIiIpfX0scVM9VlMoImZvbnQtc2l6ZSIpLCRTPWEoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvW1wnXCJcXF0vZywiIikucmVwbGFjZSgvLFxzKy9nLCIsIil9LFZTKCJmb250LWZhbWlseSIpKSxXUz1mdW5jdGlvbihlKXtyZXR1cm4gZGwoZS5nZXRCb2R5KCkpLm1hcChmdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRhaW5lcigpO3JldHVybiBFbih0KT90LnBhcmVudE5vZGU6dH0pfSxLUz1mdW5jdGlvbihvKXtyZXR1cm4gQi5mcm9tKG8uc2VsZWN0aW9uLmdldFJuZygpKS5iaW5kKGZ1bmN0aW9uKGUpe3ZhciB0LG4scj1vLmdldEJvZHkoKTtyZXR1cm4gbj1yLCh0PWUpLnN0YXJ0Q29udGFpbmVyPT09biYmMD09PXQuc3RhcnRPZmZzZXQ/Qi5ub25lKCk6Qi5mcm9tKG8uc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSl9KX0sWFM9ZnVuY3Rpb24oZSx0KXtpZigvXlswLTlcLl0rJC8udGVzdCh0KSl7dmFyIG49cGFyc2VJbnQodCwxMCk7aWYoMTw9biYmbjw9Nyl7dmFyIHI9KGE9ZSx5dC5leHBsb2RlKGEuZ2V0UGFyYW0oImZvbnRfc2l6ZV9zdHlsZV92YWx1ZXMiLCJ4eC1zbWFsbCx4LXNtYWxsLHNtYWxsLG1lZGl1bSxsYXJnZSx4LWxhcmdlLHh4LWxhcmdlIikpKSxvPShpPWUseXQuZXhwbG9kZShpLmdldFBhcmFtKCJmb250X3NpemVfY2xhc3NlcyIsIiIpKSk7cmV0dXJuIG8/b1tuLTFdfHx0OnJbbi0xXXx8dH1yZXR1cm4gdH1yZXR1cm4gdDt2YXIgaSxhfSxZUz1mdW5jdGlvbihlLHQpe3ZhciBuLHI9WFMoZSx0KTtlLmZvcm1hdHRlci50b2dnbGUoImZvbnRuYW1lIix7dmFsdWU6KG49ci5zcGxpdCgvXHMqLFxzKi8pLFUobixmdW5jdGlvbihlKXtyZXR1cm4tMT09PWUuaW5kZXhPZigiICIpfHwkZShlLCciJyl8fCRlKGUsIiciKT9lOiInIitlKyInIn0pLmpvaW4oIiwiKSl9KSxlLm5vZGVDaGFuZ2VkKCl9LEdTPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYT0ic3RyaW5nIiE9dHlwZW9mKG49dCk/KHI9eXQuZXh0ZW5kKHtwYXN0ZTpuLnBhc3RlLGRhdGE6e3Bhc3RlOm4ucGFzdGV9fSxuKSx7Y29udGVudDpuLmNvbnRlbnQsZGV0YWlsczpyfSk6e2NvbnRlbnQ6bixkZXRhaWxzOnt9fTtvPWEuY29udGVudCxpPWEuZGV0YWlscyxGZyhlKS5lZGl0b3IuaW5zZXJ0Q29udGVudChvLGkpfSxKUz1mdW5jdGlvbihlLHQpe2UuZ2V0RG9jKCkuZXhlY0NvbW1hbmQodCwhMSxudWxsKX0sUVM9eXQuZWFjaCxaUz15dC5tYXAsZU49eXQuaW5BcnJheSx0Tj0obk4ucHJvdG90eXBlLmV4ZWNDb21tYW5kPWZ1bmN0aW9uKHQsbixyLGUpe3ZhciBvLGk9ITEsYT10aGlzO2lmKCFhLmVkaXRvci5yZW1vdmVkKXt2YXIgdTtpZigvXihtY2VBZGRVbmRvTGV2ZWx8bWNlRW5kVW5kb0xldmVsfG1jZUJlZ2luVW5kb0xldmVsfG1jZVJlcGFpbnQpJC8udGVzdCh0KXx8ZSYmZS5za2lwX2ZvY3VzPyh1PWEuZWRpdG9yLEltKHUpLmVhY2goZnVuY3Rpb24oZSl7dS5zZWxlY3Rpb24uc2V0Um5nKGUpfSkpOmEuZWRpdG9yLmZvY3VzKCksKGU9YS5lZGl0b3IuZmlyZSgiQmVmb3JlRXhlY0NvbW1hbmQiLHtjb21tYW5kOnQsdWk6bix2YWx1ZTpyfSkpLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiExO3ZhciBzPXQudG9Mb3dlckNhc2UoKTtpZihvPWEuY29tbWFuZHMuZXhlY1tzXSlyZXR1cm4gbyhzLG4sciksYS5lZGl0b3IuZmlyZSgiRXhlY0NvbW1hbmQiLHtjb21tYW5kOnQsdWk6bix2YWx1ZTpyfSksITA7aWYoUVModGhpcy5lZGl0b3IucGx1Z2lucyxmdW5jdGlvbihlKXtpZihlLmV4ZWNDb21tYW5kJiZlLmV4ZWNDb21tYW5kKHQsbixyKSlyZXR1cm4gYS5lZGl0b3IuZmlyZSgiRXhlY0NvbW1hbmQiLHtjb21tYW5kOnQsdWk6bix2YWx1ZTpyfSksIShpPSEwKX0pLGkpcmV0dXJuIGk7aWYoYS5lZGl0b3IudGhlbWUmJmEuZWRpdG9yLnRoZW1lLmV4ZWNDb21tYW5kJiZhLmVkaXRvci50aGVtZS5leGVjQ29tbWFuZCh0LG4scikpcmV0dXJuIGEuZWRpdG9yLmZpcmUoIkV4ZWNDb21tYW5kIix7Y29tbWFuZDp0LHVpOm4sdmFsdWU6cn0pLCEwO3RyeXtpPWEuZWRpdG9yLmdldERvYygpLmV4ZWNDb21tYW5kKHQsbixyKX1jYXRjaChjKXt9cmV0dXJuISFpJiYoYS5lZGl0b3IuZmlyZSgiRXhlY0NvbW1hbmQiLHtjb21tYW5kOnQsdWk6bix2YWx1ZTpyfSksITApfX0sbk4ucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN0YXRlPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKCF0aGlzLmVkaXRvci5xdWlya3MuaXNIaWRkZW4oKSYmIXRoaXMuZWRpdG9yLnJlbW92ZWQpe2lmKGU9ZS50b0xvd2VyQ2FzZSgpLHQ9dGhpcy5jb21tYW5kcy5zdGF0ZVtlXSlyZXR1cm4gdChlKTt0cnl7cmV0dXJuIHRoaXMuZWRpdG9yLmdldERvYygpLnF1ZXJ5Q29tbWFuZFN0YXRlKGUpfWNhdGNoKG4pe31yZXR1cm4hMX19LG5OLnByb3RvdHlwZS5xdWVyeUNvbW1hbmRWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdDtpZighdGhpcy5lZGl0b3IucXVpcmtzLmlzSGlkZGVuKCkmJiF0aGlzLmVkaXRvci5yZW1vdmVkKXtpZihlPWUudG9Mb3dlckNhc2UoKSx0PXRoaXMuY29tbWFuZHMudmFsdWVbZV0pcmV0dXJuIHQoZSk7dHJ5e3JldHVybiB0aGlzLmVkaXRvci5nZXREb2MoKS5xdWVyeUNvbW1hbmRWYWx1ZShlKX1jYXRjaChuKXt9fX0sbk4ucHJvdG90eXBlLmFkZENvbW1hbmRzPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcztuPW58fCJleGVjIixRUyhlLGZ1bmN0aW9uKHQsZSl7UVMoZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7ci5jb21tYW5kc1tuXVtlXT10fSl9KX0sbk4ucHJvdG90eXBlLmFkZENvbW1hbmQ9ZnVuY3Rpb24oZSxvLGkpe3ZhciBhPXRoaXM7ZT1lLnRvTG93ZXJDYXNlKCksdGhpcy5jb21tYW5kcy5leGVjW2VdPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBvLmNhbGwoaXx8YS5lZGl0b3IsdCxuLHIpfX0sbk4ucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZD1mdW5jdGlvbihlKXtpZihlPWUudG9Mb3dlckNhc2UoKSx0aGlzLmNvbW1hbmRzLmV4ZWNbZV0pcmV0dXJuITA7dHJ5e3JldHVybiB0aGlzLmVkaXRvci5nZXREb2MoKS5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoZSl9Y2F0Y2godCl7fXJldHVybiExfSxuTi5wcm90b3R5cGUuYWRkUXVlcnlTdGF0ZUhhbmRsZXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7ZT1lLnRvTG93ZXJDYXNlKCksdGhpcy5jb21tYW5kcy5zdGF0ZVtlXT1mdW5jdGlvbigpe3JldHVybiB0LmNhbGwobnx8ci5lZGl0b3IpfX0sbk4ucHJvdG90eXBlLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzO2U9ZS50b0xvd2VyQ2FzZSgpLHRoaXMuY29tbWFuZHMudmFsdWVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gdC5jYWxsKG58fHIuZWRpdG9yKX19LG5OLnByb3RvdHlwZS5oYXNDdXN0b21Db21tYW5kPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUudG9Mb3dlckNhc2UoKSwhIXRoaXMuY29tbWFuZHMuZXhlY1tlXX0sbk4ucHJvdG90eXBlLmV4ZWNOYXRpdmVDb21tYW5kPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdD09PXVuZGVmaW5lZCYmKHQ9ITEpLG49PT11bmRlZmluZWQmJihuPW51bGwpLHRoaXMuZWRpdG9yLmdldERvYygpLmV4ZWNDb21tYW5kKGUsdCxuKX0sbk4ucHJvdG90eXBlLmlzRm9ybWF0TWF0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWRpdG9yLmZvcm1hdHRlci5tYXRjaChlKX0sbk4ucHJvdG90eXBlLnRvZ2dsZUZvcm1hdD1mdW5jdGlvbihlLHQpe3RoaXMuZWRpdG9yLmZvcm1hdHRlci50b2dnbGUoZSx0P3t2YWx1ZTp0fTp1bmRlZmluZWQpLHRoaXMuZWRpdG9yLm5vZGVDaGFuZ2VkKCl9LG5OLnByb3RvdHlwZS5zdG9yZVNlbGVjdGlvbj1mdW5jdGlvbihlKXt0aGlzLnNlbGVjdGlvbkJvb2ttYXJrPXRoaXMuZWRpdG9yLnNlbGVjdGlvbi5nZXRCb29rbWFyayhlKX0sbk4ucHJvdG90eXBlLnJlc3RvcmVTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5zZWxlY3Rpb24ubW92ZVRvQm9va21hcmsodGhpcy5zZWxlY3Rpb25Cb29rbWFyayl9LG5OLnByb3RvdHlwZS5zZXR1cENvbW1hbmRzPWZ1bmN0aW9uKGkpe3ZhciBhPXRoaXM7dGhpcy5hZGRDb21tYW5kcyh7Im1jZVJlc2V0RGVzaWduTW9kZSxtY2VCZWdpblVuZG9MZXZlbCI6ZnVuY3Rpb24oKXt9LCJtY2VFbmRVbmRvTGV2ZWwsbWNlQWRkVW5kb0xldmVsIjpmdW5jdGlvbigpe2kudW5kb01hbmFnZXIuYWRkKCl9LCJDdXQsQ29weSxQYXN0ZSI6ZnVuY3Rpb24oZSl7dmFyIHQsbj1pLmdldERvYygpO3RyeXthLmV4ZWNOYXRpdmVDb21tYW5kKGUpfWNhdGNoKG8pe3Q9ITB9aWYoInBhc3RlIiE9PWV8fG4ucXVlcnlDb21tYW5kRW5hYmxlZChlKXx8KHQ9ITApLHR8fCFuLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChlKSl7dmFyIHI9aS50cmFuc2xhdGUoIllvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgZGlyZWN0IGFjY2VzcyB0byB0aGUgY2xpcGJvYXJkLiBQbGVhc2UgdXNlIHRoZSBDdHJsK1gvQy9WIGtleWJvYXJkIHNob3J0Y3V0cyBpbnN0ZWFkLiIpO210Lm1hYyYmKHI9ci5yZXBsYWNlKC9DdHJsXCsvZywiXHUyMzE4KyIpKSxpLm5vdGlmaWNhdGlvbk1hbmFnZXIub3Blbih7dGV4dDpyLHR5cGU6ImVycm9yIn0pfX0sdW5saW5rOmZ1bmN0aW9uKCl7aWYoaS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSl7dmFyIGU9aS5kb20uZ2V0UGFyZW50KGkuc2VsZWN0aW9uLmdldFN0YXJ0KCksImEiKTtlJiZpLmRvbS5yZW1vdmUoZSwhMCl9ZWxzZSBpLmZvcm1hdHRlci5yZW1vdmUoImxpbmsiKX0sIkp1c3RpZnlMZWZ0LEp1c3RpZnlDZW50ZXIsSnVzdGlmeVJpZ2h0LEp1c3RpZnlGdWxsLEp1c3RpZnlOb25lIjpmdW5jdGlvbihlKXt2YXIgdD1lLnN1YnN0cmluZyg3KTsiZnVsbCI9PT10JiYodD0ianVzdGlmeSIpLFFTKCJsZWZ0LGNlbnRlcixyaWdodCxqdXN0aWZ5Ii5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe3QhPT1lJiZpLmZvcm1hdHRlci5yZW1vdmUoImFsaWduIitlKX0pLCJub25lIiE9PXQmJmEudG9nZ2xlRm9ybWF0KCJhbGlnbiIrdCl9LCJJbnNlcnRVbm9yZGVyZWRMaXN0LEluc2VydE9yZGVyZWRMaXN0IjpmdW5jdGlvbihlKXt2YXIgdDthLmV4ZWNOYXRpdmVDb21tYW5kKGUpO3ZhciBuPWkuZG9tLmdldFBhcmVudChpLnNlbGVjdGlvbi5nZXROb2RlKCksIm9sLHVsIik7biYmKHQ9bi5wYXJlbnROb2RlLC9eKEhbMS02XXxQfEFERFJFU1N8UFJFKSQvLnRlc3QodC5ub2RlTmFtZSkmJihhLnN0b3JlU2VsZWN0aW9uKCksaS5kb20uc3BsaXQodCxuKSxhLnJlc3RvcmVTZWxlY3Rpb24oKSkpfSwiQm9sZCxJdGFsaWMsVW5kZXJsaW5lLFN0cmlrZXRocm91Z2gsU3VwZXJzY3JpcHQsU3Vic2NyaXB0IjpmdW5jdGlvbihlKXthLnRvZ2dsZUZvcm1hdChlKX0sIkZvcmVDb2xvcixIaWxpdGVDb2xvciI6ZnVuY3Rpb24oZSx0LG4pe2EudG9nZ2xlRm9ybWF0KGUsbil9LEZvbnROYW1lOmZ1bmN0aW9uKGUsdCxuKXtZUyhpLG4pfSxGb250U2l6ZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsbztvPW4sKHI9aSkuZm9ybWF0dGVyLnRvZ2dsZSgiZm9udHNpemUiLHt2YWx1ZTpYUyhyLG8pfSksci5ub2RlQ2hhbmdlZCgpfSxSZW1vdmVGb3JtYXQ6ZnVuY3Rpb24oZSl7aS5mb3JtYXR0ZXIucmVtb3ZlKGUpfSxtY2VCbG9ja1F1b3RlOmZ1bmN0aW9uKCl7YS50b2dnbGVGb3JtYXQoImJsb2NrcXVvdGUiKX0sRm9ybWF0QmxvY2s6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBhLnRvZ2dsZUZvcm1hdChufHwicCIpfSxtY2VDbGVhbnVwOmZ1bmN0aW9uKCl7dmFyIGU9aS5zZWxlY3Rpb24uZ2V0Qm9va21hcmsoKTtpLnNldENvbnRlbnQoaS5nZXRDb250ZW50KCkpLGkuc2VsZWN0aW9uLm1vdmVUb0Jvb2ttYXJrKGUpfSxtY2VSZW1vdmVOb2RlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1ufHxpLnNlbGVjdGlvbi5nZXROb2RlKCk7ciE9PWkuZ2V0Qm9keSgpJiYoYS5zdG9yZVNlbGVjdGlvbigpLGkuZG9tLnJlbW92ZShyLCEwKSxhLnJlc3RvcmVTZWxlY3Rpb24oKSl9LG1jZVNlbGVjdE5vZGVEZXB0aDpmdW5jdGlvbihlLHQsbil7dmFyIHI9MDtpLmRvbS5nZXRQYXJlbnQoaS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLGZ1bmN0aW9uKGUpe2lmKDE9PT1lLm5vZGVUeXBlJiZyKys9PT1uKXJldHVybiBpLnNlbGVjdGlvbi5zZWxlY3QoZSksITF9LGkuZ2V0Qm9keSgpKX0sbWNlU2VsZWN0Tm9kZTpmdW5jdGlvbihlLHQsbil7aS5zZWxlY3Rpb24uc2VsZWN0KG4pfSxtY2VJbnNlcnRDb250ZW50OmZ1bmN0aW9uKGUsdCxuKXtHUyhpLG4pfSxtY2VJbnNlcnRSYXdIVE1MOmZ1bmN0aW9uKGUsdCxuKXtpLnNlbGVjdGlvbi5zZXRDb250ZW50KCJ0aW55X21jZV9tYXJrZXIiKTt2YXIgcj1pLmdldENvbnRlbnQoKTtpLnNldENvbnRlbnQoci5yZXBsYWNlKC90aW55X21jZV9tYXJrZXIvZyxmdW5jdGlvbigpe3JldHVybiBufSkpfSxtY2VJbnNlcnROZXdMaW5lOmZ1bmN0aW9uKGUsdCxuKXt3eChpLG4pfSxtY2VUb2dnbGVGb3JtYXQ6ZnVuY3Rpb24oZSx0LG4pe2EudG9nZ2xlRm9ybWF0KG4pfSxtY2VTZXRDb250ZW50OmZ1bmN0aW9uKGUsdCxuKXtpLnNldENvbnRlbnQobil9LCJJbmRlbnQsT3V0ZGVudCI6ZnVuY3Rpb24oZSl7a3coaSxlKX0sbWNlUmVwYWludDpmdW5jdGlvbigpe30sSW5zZXJ0SG9yaXpvbnRhbFJ1bGU6ZnVuY3Rpb24oKXtpLmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwhMSwiPGhyIC8+Iil9LG1jZVRvZ2dsZVZpc3VhbEFpZDpmdW5jdGlvbigpe2kuaGFzVmlzdWFsPSFpLmhhc1Zpc3VhbCxpLmFkZFZpc3VhbCgpfSxtY2VSZXBsYWNlQ29udGVudDpmdW5jdGlvbihlLHQsbil7aS5leGVjQ29tbWFuZCgibWNlSW5zZXJ0Q29udGVudCIsITEsbi5yZXBsYWNlKC9ce1wkc2VsZWN0aW9uXH0vZyxpLnNlbGVjdGlvbi5nZXRDb250ZW50KHtmb3JtYXQ6InRleHQifSkpKX0sbWNlSW5zZXJ0TGluazpmdW5jdGlvbihlLHQsbil7InN0cmluZyI9PXR5cGVvZiBuJiYobj17aHJlZjpufSk7dmFyIHI9aS5kb20uZ2V0UGFyZW50KGkuc2VsZWN0aW9uLmdldE5vZGUoKSwiYSIpO24uaHJlZj1uLmhyZWYucmVwbGFjZSgvIC9nLCIlMjAiKSxyJiZuLmhyZWZ8fGkuZm9ybWF0dGVyLnJlbW92ZSgibGluayIpLG4uaHJlZiYmaS5mb3JtYXR0ZXIuYXBwbHkoImxpbmsiLG4scil9LHNlbGVjdEFsbDpmdW5jdGlvbigpe3ZhciBlPWkuZG9tLmdldFBhcmVudChpLnNlbGVjdGlvbi5nZXRTdGFydCgpLEFuKTtpZihlKXt2YXIgdD1pLmRvbS5jcmVhdGVSbmcoKTt0LnNlbGVjdE5vZGVDb250ZW50cyhlKSxpLnNlbGVjdGlvbi5zZXRSbmcodCl9fSwiZGVsZXRlIjpmdW5jdGlvbigpe3ZhciBlO0x3KGU9aSl8fGN3KGUsITEpfHxmdyhlLCExKXx8Z3coZSwhMSl8fFZDKGUsITEpfHxvbShlKXx8S0MoZSl8fGJ3KGUsITEpfHwoSlMoZSwiRGVsZXRlIiksREMoZSkpfSxmb3J3YXJkRGVsZXRlOmZ1bmN0aW9uKCl7dmFyIGU7Y3coZT1pLCEwKXx8ZncoZSwhMCl8fGd3KGUsITApfHxWQyhlLCEwKXx8b20oZSl8fEtDKGUpfHxidyhlLCEwKXx8SlMoZSwiRm9yd2FyZERlbGV0ZSIpfSxtY2VOZXdEb2N1bWVudDpmdW5jdGlvbigpe2kuc2V0Q29udGVudCgiIil9LEluc2VydExpbmVCcmVhazpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHV4KGksbiksITB9fSk7dmFyIGU9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9aS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKT9baS5kb20uZ2V0UGFyZW50KGkuc2VsZWN0aW9uLmdldE5vZGUoKSxpLmRvbS5pc0Jsb2NrKV06aS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSx0PVpTKGUsZnVuY3Rpb24oZSl7cmV0dXJuISFpLmZvcm1hdHRlci5tYXRjaE5vZGUoZSxuKX0pO3JldHVybi0xIT09ZU4odCwhMCl9fTthLmFkZENvbW1hbmRzKHtKdXN0aWZ5TGVmdDplKCJhbGlnbmxlZnQiKSxKdXN0aWZ5Q2VudGVyOmUoImFsaWduY2VudGVyIiksSnVzdGlmeVJpZ2h0OmUoImFsaWducmlnaHQiKSxKdXN0aWZ5RnVsbDplKCJhbGlnbmp1c3RpZnkiKSwiQm9sZCxJdGFsaWMsVW5kZXJsaW5lLFN0cmlrZXRocm91Z2gsU3VwZXJzY3JpcHQsU3Vic2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gYS5pc0Zvcm1hdE1hdGNoKGUpfSxtY2VCbG9ja1F1b3RlOmZ1bmN0aW9uKCl7cmV0dXJuIGEuaXNGb3JtYXRNYXRjaCgiYmxvY2txdW90ZSIpfSxPdXRkZW50OmZ1bmN0aW9uKCl7cmV0dXJuIFN3KGkpfSwiSW5zZXJ0VW5vcmRlcmVkTGlzdCxJbnNlcnRPcmRlcmVkTGlzdCI6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5kb20uZ2V0UGFyZW50KGkuc2VsZWN0aW9uLmdldE5vZGUoKSwidWwsb2wiKTtyZXR1cm4gdCYmKCJpbnNlcnR1bm9yZGVyZWRsaXN0Ij09PWUmJiJVTCI9PT10LnRhZ05hbWV8fCJpbnNlcnRvcmRlcmVkbGlzdCI9PT1lJiYiT0wiPT09dC50YWdOYW1lKX19LCJzdGF0ZSIpLGEuYWRkQ29tbWFuZHMoe1VuZG86ZnVuY3Rpb24oKXtpLnVuZG9NYW5hZ2VyLnVuZG8oKX0sUmVkbzpmdW5jdGlvbigpe2kudW5kb01hbmFnZXIucmVkbygpfX0pLGEuYWRkUXVlcnlWYWx1ZUhhbmRsZXIoIkZvbnROYW1lIixmdW5jdGlvbigpe3JldHVybiBLUyh0PWkpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gV1ModCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiAkUyh0LmdldEJvZHkoKSxlKX0pLmdldE9yKCIiKX0sZnVuY3Rpb24oZSl7cmV0dXJuICRTKHQuZ2V0Qm9keSgpLGUpfSk7dmFyIHR9LHRoaXMpLGEuYWRkUXVlcnlWYWx1ZUhhbmRsZXIoIkZvbnRTaXplIixmdW5jdGlvbigpe3JldHVybiBLUyh0PWkpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gV1ModCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBxUyh0LmdldEJvZHkoKSxlKX0pLmdldE9yKCIiKX0sZnVuY3Rpb24oZSl7cmV0dXJuIHFTKHQuZ2V0Qm9keSgpLGUpfSk7dmFyIHR9LHRoaXMpfSxuTik7ZnVuY3Rpb24gbk4oZSl7dGhpcy5jb21tYW5kcz17c3RhdGU6e30sZXhlYzp7fSx2YWx1ZTp7fX0sdGhpcy5lZGl0b3I9ZSx0aGlzLnNldHVwQ29tbWFuZHMoZSl9dmFyIHJOPSJkYXRhLW1jZS1jb250ZW50ZWRpdGFibGUiLG9OPWZ1bmN0aW9uKGUsdCxuKXtLYShlLHQpJiYhMT09PW4/ZnVuY3Rpb24oZSx0KXtIYShlKT9lLmRvbSgpLmNsYXNzTGlzdC5yZW1vdmUodCk6cWEoZSx0KTtXYShlKX0oZSx0KTpuJiYkYShlLHQpfSxpTj1mdW5jdGlvbihlLHQsbil7dHJ5e2UuZ2V0RG9jKCkuZXhlY0NvbW1hbmQodCwhMSxuKX1jYXRjaChyKXt9fSxhTj1mdW5jdGlvbihlLHQpe2UuZG9tKCkuY29udGVudEVkaXRhYmxlPXQ/InRydWUiOiJmYWxzZSJ9LHVOPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk9Q3QuZnJvbURvbShlLmdldEJvZHkoKSk7b04oaSwibWNlLWNvbnRlbnQtcmVhZG9ubHkiLHQpLHQ/KGUuc2VsZWN0aW9uLmNvbnRyb2xTZWxlY3Rpb24uaGlkZVJlc2l6ZVJlY3QoKSxlLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpLG89ZSxCLmZyb20oby5zZWxlY3Rpb24uZ2V0Tm9kZSgpKS5lYWNoKGZ1bmN0aW9uKGUpe2UucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpfSksZS5yZWFkb25seT0hMCxhTihpLCExKSx6KFlhKGksJypbY29udGVudGVkaXRhYmxlPSJ0cnVlIl0nKSxmdW5jdGlvbihlKXtQbihlLHJOLCJ0cnVlIiksYU4oZSwhMSl9KSk6KGUucmVhZG9ubHk9ITEsYU4oaSwhMCkseihZYShpLCIqWyIrck4rJz0idHJ1ZSJdJyksZnVuY3Rpb24oZSl7TW4oZSxyTiksYU4oZSwhMCl9KSxpTihlLCJTdHlsZVdpdGhDU1MiLCExKSxpTihlLCJlbmFibGVJbmxpbmVUYWJsZUVkaXRpbmciLCExKSxpTihlLCJlbmFibGVPYmplY3RSZXNpemluZyIsITEpLChZbShyPWUpfHxYbShyKSkmJmUuZm9jdXMoKSwobj1lKS5zZWxlY3Rpb24uc2V0Um5nKG4uc2VsZWN0aW9uLmdldFJuZygpKSxlLm5vZGVDaGFuZ2VkKCkpfSxzTj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZWFkb25seX0sY049ZnVuY3Rpb24odCl7dC5wYXJzZXIuYWRkQXR0cmlidXRlRmlsdGVyKCJjb250ZW50ZWRpdGFibGUiLGZ1bmN0aW9uKGUpe3NOKHQpJiZ6KGUsZnVuY3Rpb24oZSl7ZS5hdHRyKHJOLGUuYXR0cigiY29udGVudGVkaXRhYmxlIikpLGUuYXR0cigiY29udGVudGVkaXRhYmxlIiwiZmFsc2UiKX0pfSksdC5zZXJpYWxpemVyLmFkZEF0dHJpYnV0ZUZpbHRlcihyTixmdW5jdGlvbihlKXtzTih0KSYmeihlLGZ1bmN0aW9uKGUpe2UuYXR0cigiY29udGVudGVkaXRhYmxlIixlLmF0dHIock4pKX0pfSksdC5zZXJpYWxpemVyLmFkZFRlbXBBdHRyKHJOKX0sbE49eXQubWFrZU1hcCgiZm9jdXMgYmx1ciBmb2N1c2luIGZvY3Vzb3V0IGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgYmVmb3JlcGFzdGUgcGFzdGUgY3V0IGNvcHkgc2VsZWN0aW9uY2hhbmdlIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSB3aGVlbCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IGJlZm9yZWlucHV0IGNvbnRleHRtZW51IGRyYWdzdGFydCBkcmFnZW5kIGRyYWdvdmVyIGRyYWdnZXN0dXJlIGRyYWdkcm9wIGRyb3AgZHJhZyBzdWJtaXQgY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCBjb21wb3NpdGlvbnVwZGF0ZSB0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCIsIiAiKSxmTj0oZE4uaXNOYXRpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuISFsTltlLnRvTG93ZXJDYXNlKCldfSxkTi5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbihlLHQpe2U9ZS50b0xvd2VyQ2FzZSgpLCh0PXR8fHt9KS50eXBlPWUsdC50YXJnZXR8fCh0LnRhcmdldD10aGlzLnNjb3BlKSx0LnByZXZlbnREZWZhdWx0fHwodC5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3QuaXNEZWZhdWx0UHJldmVudGVkPWh9LHQuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dC5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1ofSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3QuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9aH0sdC5pc0RlZmF1bHRQcmV2ZW50ZWQ9Zyx0LmlzUHJvcGFnYXRpb25TdG9wcGVkPWcsdC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1nKSx0aGlzLnNldHRpbmdzLmJlZm9yZUZpcmUmJnRoaXMuc2V0dGluZ3MuYmVmb3JlRmlyZSh0KTt2YXIgbj10aGlzLmJpbmRpbmdzW2VdO2lmKG4pZm9yKHZhciByPTAsbz1uLmxlbmd0aDtyPG87cisrKXt2YXIgaT1uW3JdO2lmKGkub25jZSYmdGhpcy5vZmYoZSxpLmZ1bmMpLHQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSlyZXR1cm4gdC5zdG9wUHJvcGFnYXRpb24oKSx0O2lmKCExPT09aS5mdW5jLmNhbGwodGhpcy5zY29wZSx0KSlyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHR9cmV0dXJuIHR9LGROLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGE7aWYoITE9PT10JiYodD1nKSx0KXt2YXIgdT17ZnVuYzp0fTtmb3IociYmeXQuZXh0ZW5kKHUsciksYT0oaT1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKSkubGVuZ3RoO2EtLTspZT1pW2FdLChvPXRoaXMuYmluZGluZ3NbZV0pfHwobz10aGlzLmJpbmRpbmdzW2VdPVtdLHRoaXMudG9nZ2xlRXZlbnQoZSwhMCkpLG4/by51bnNoaWZ0KHUpOm8ucHVzaCh1KX1yZXR1cm4gdGhpc30sZE4ucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGE9dGhpcztpZihlKWZvcihuPShvPWUudG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpKS5sZW5ndGg7bi0tOyl7aWYoZT1vW25dLHI9dGhpcy5iaW5kaW5nc1tlXSwhZSlyZXR1cm4gb2UodGhpcy5iaW5kaW5ncyxmdW5jdGlvbihlLHQpe2EudG9nZ2xlRXZlbnQodCwhMSksZGVsZXRlIGEuYmluZGluZ3NbdF19KSx0aGlzO2lmKHIpe2lmKHQpZm9yKGk9ci5sZW5ndGg7aS0tOylyW2ldLmZ1bmM9PT10JiYocj1yLnNsaWNlKDAsaSkuY29uY2F0KHIuc2xpY2UoaSsxKSksdGhpcy5iaW5kaW5nc1tlXT1yKTtlbHNlIHIubGVuZ3RoPTA7ci5sZW5ndGh8fCh0aGlzLnRvZ2dsZUV2ZW50KGUsITEpLGRlbGV0ZSB0aGlzLmJpbmRpbmdzW2VdKX19ZWxzZSBvZSh0aGlzLmJpbmRpbmdzLGZ1bmN0aW9uKGUsdCl7YS50b2dnbGVFdmVudCh0LCExKX0pLHRoaXMuYmluZGluZ3M9e307cmV0dXJuIHRoaXN9LGROLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5vbihlLHQsbix7b25jZTohMH0pfSxkTi5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUudG9Mb3dlckNhc2UoKSwhKCF0aGlzLmJpbmRpbmdzW2VdfHwwPT09dGhpcy5iaW5kaW5nc1tlXS5sZW5ndGgpfSxkTik7ZnVuY3Rpb24gZE4oZSl7dGhpcy5iaW5kaW5ncz17fSx0aGlzLnNldHRpbmdzPWV8fHt9LHRoaXMuc2NvcGU9dGhpcy5zZXR0aW5ncy5zY29wZXx8dGhpcyx0aGlzLnRvZ2dsZUV2ZW50PXRoaXMuc2V0dGluZ3MudG9nZ2xlRXZlbnR8fGd9dmFyIG1OLHBOPWZ1bmN0aW9uKG4pe3JldHVybiBuLl9ldmVudERpc3BhdGNoZXJ8fChuLl9ldmVudERpc3BhdGNoZXI9bmV3IGZOKHtzY29wZTpuLHRvZ2dsZUV2ZW50OmZ1bmN0aW9uKGUsdCl7Zk4uaXNOYXRpdmUoZSkmJm4udG9nZ2xlTmF0aXZlRXZlbnQmJm4udG9nZ2xlTmF0aXZlRXZlbnQoZSx0KX19KSksbi5fZXZlbnREaXNwYXRjaGVyfSxnTj17ZmlyZTpmdW5jdGlvbihlLHQsbil7aWYodGhpcy5yZW1vdmVkJiYicmVtb3ZlIiE9PWUmJiJkZXRhY2giIT09ZSlyZXR1cm4gdDt2YXIgcj1wTih0aGlzKS5maXJlKGUsdCk7aWYoITEhPT1uJiZ0aGlzLnBhcmVudClmb3IodmFyIG89dGhpcy5wYXJlbnQoKTtvJiYhci5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylvLmZpcmUoZSxyLCExKSxvPW8ucGFyZW50KCk7cmV0dXJuIHJ9LG9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcE4odGhpcykub24oZSx0LG4pfSxvZmY6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcE4odGhpcykub2ZmKGUsdCl9LG9uY2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcE4odGhpcykub25jZShlLHQpfSxoYXNFdmVudExpc3RlbmVyczpmdW5jdGlvbihlKXtyZXR1cm4gcE4odGhpcykuaGFzKGUpfX0saE49RWEuRE9NLHZOPWZ1bmN0aW9uKGUsdCl7aWYoInNlbGVjdGlvbmNoYW5nZSI9PT10KXJldHVybiBlLmdldERvYygpO2lmKCFlLmlubGluZSYmL15tb3VzZXx0b3VjaHxjbGlja3xjb250ZXh0bWVudXxkcm9wfGRyYWdvdmVyfGRyYWdlbmQvLnRlc3QodCkpcmV0dXJuIGUuZ2V0RG9jKCkuZG9jdW1lbnRFbGVtZW50O3ZhciBuPXJjKGUpO3JldHVybiBuPyhlLmV2ZW50Um9vdHx8KGUuZXZlbnRSb290PWhOLnNlbGVjdChuKVswXSksZS5ldmVudFJvb3QpOmUuZ2V0Qm9keSgpfSx5Tj1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdTsodT1lKS5oaWRkZW58fHNOKHUpP3NOKGUpJiYocj1lLGE9KG89bikudGFyZ2V0LCJjbGljayIhPT1vLnR5cGV8fHZ2Lm1ldGFLZXlQcmVzc2VkKG8pfHwoaT1hLG51bGw9PT1yLmRvbS5nZXRQYXJlbnQoaSwiYSIpKXx8by5wcmV2ZW50RGVmYXVsdCgpKTplLmZpcmUodCxuKX0sYk49ZnVuY3Rpb24oaSxhKXt2YXIgZTtpZihpLmRlbGVnYXRlc3x8KGkuZGVsZWdhdGVzPXt9KSwhaS5kZWxlZ2F0ZXNbYV0mJiFpLnJlbW92ZWQpe3ZhciB0PXZOKGksYSk7aWYocmMoaSkpe2lmKG1OfHwobU49e30saS5lZGl0b3JNYW5hZ2VyLm9uKCJyZW1vdmVFZGl0b3IiLGZ1bmN0aW9uKCl7aS5lZGl0b3JNYW5hZ2VyLmFjdGl2ZUVkaXRvcnx8bU4mJihvZShtTixmdW5jdGlvbihlLHQpe2kuZG9tLnVuYmluZCh2TihpLHQpKX0pLG1OPW51bGwpfSkpLG1OW2FdKXJldHVybjtlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnRhcmdldCxuPWkuZWRpdG9yTWFuYWdlci5nZXQoKSxyPW4ubGVuZ3RoO3ItLTspe3ZhciBvPW5bcl0uZ2V0Qm9keSgpO28hPT10JiYhaE4uaXNDaGlsZE9mKHQsbyl8fHlOKG5bcl0sYSxlKX19LG1OW2FdPWUsaE4uYmluZCh0LGEsZSl9ZWxzZSBlPWZ1bmN0aW9uKGUpe3lOKGksYSxlKX0saE4uYmluZCh0LGEsZSksaS5kZWxlZ2F0ZXNbYV09ZX19LENOPXhlKHhlKHt9LGdOKSx7YmluZFBlbmRpbmdFdmVudERlbGVnYXRlczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7eXQuZWFjaCh0Ll9wZW5kaW5nTmF0aXZlRXZlbnRzLGZ1bmN0aW9uKGUpe2JOKHQsZSl9KX0sdG9nZ2xlTmF0aXZlRXZlbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzOyJmb2N1cyIhPT1lJiYiYmx1ciIhPT1lJiYodD9uLmluaXRpYWxpemVkP2JOKG4sZSk6bi5fcGVuZGluZ05hdGl2ZUV2ZW50cz9uLl9wZW5kaW5nTmF0aXZlRXZlbnRzLnB1c2goZSk6bi5fcGVuZGluZ05hdGl2ZUV2ZW50cz1bZV06bi5pbml0aWFsaXplZCYmKG4uZG9tLnVuYmluZCh2TihuLGUpLGUsbi5kZWxlZ2F0ZXNbZV0pLGRlbGV0ZSBuLmRlbGVnYXRlc1tlXSkpfSx1bmJpbmRBbGxOYXRpdmVFdmVudHM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLGU9bi5nZXRCb2R5KCksdD1uLmRvbTtuLmRlbGVnYXRlcyYmKG9lKG4uZGVsZWdhdGVzLGZ1bmN0aW9uKGUsdCl7bi5kb20udW5iaW5kKHZOKG4sdCksdCxlKX0pLGRlbGV0ZSBuLmRlbGVnYXRlcyksIW4uaW5saW5lJiZlJiZ0JiYoZS5vbmxvYWQ9bnVsbCx0LnVuYmluZChuLmdldFdpbigpKSx0LnVuYmluZChuLmdldERvYygpKSksdCYmKHQudW5iaW5kKGUpLHQudW5iaW5kKG4uZ2V0Q29udGFpbmVyKCkpKX19KSx3Tj1bImRlc2lnbiIsInJlYWRvbmx5Il0seE49ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saT1uW3QuZ2V0KCldLGE9bltyXTt0cnl7YS5hY3RpdmF0ZSgpfWNhdGNoKExFKXtyZXR1cm4gdm9pZCBWLmNvbnNvbGUuZXJyb3IoInByb2JsZW0gd2hpbGUgYWN0aXZhdGluZyBlZGl0b3IgbW9kZSAiK3IrIjoiLExFKX1pLmRlYWN0aXZhdGUoKSxpLmVkaXRvclJlYWRPbmx5IT09YS5lZGl0b3JSZWFkT25seSYmdU4oZSxhLmVkaXRvclJlYWRPbmx5KSx0LnNldChyKSxvPXIsZS5maXJlKCJTd2l0Y2hNb2RlIix7bW9kZTpvfSl9LFNOPWZ1bmN0aW9uKHQpe3ZhciBlLG4scj1PYSgiZGVzaWduIiksbz1PYSh7ZGVzaWduOnthY3RpdmF0ZTpmLGRlYWN0aXZhdGU6ZixlZGl0b3JSZWFkT25seTohMX0scmVhZG9ubHk6e2FjdGl2YXRlOmYsZGVhY3RpdmF0ZTpmLGVkaXRvclJlYWRPbmx5OiEwfX0pO3JldHVybihlPXQpLnNlcmlhbGl6ZXI/Y04oZSk6ZS5vbigiUHJlSW5pdCIsZnVuY3Rpb24oKXtjTihlKX0pLChuPXQpLm9uKCJTaG93Q2FyZXQiLGZ1bmN0aW9uKGUpe3NOKG4pJiZlLnByZXZlbnREZWZhdWx0KCl9KSxuLm9uKCJPYmplY3RTZWxlY3RlZCIsZnVuY3Rpb24oZSl7c04obikmJmUucHJldmVudERlZmF1bHQoKX0pLHtpc1JlYWRPbmx5OmZ1bmN0aW9uKCl7cmV0dXJuIHNOKHQpfSxzZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIpe2lmKHIhPT1uLmdldCgpKXtpZighbWUodCxyKSl0aHJvdyBuZXcgRXJyb3IoIkVkaXRvciBtb2RlICciK3IrIicgaXMgaW52YWxpZCIpO2UuaW5pdGlhbGl6ZWQ/eE4oZSxuLHQscik6ZS5vbigiaW5pdCIsZnVuY3Rpb24oKXtyZXR1cm4geE4oZSxuLHQscil9KX19KHQsby5nZXQoKSxyLGUpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5nZXQoKX0scmVnaXN0ZXI6ZnVuY3Rpb24oZSx0KXtvLnNldChmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoTSh3Tix0KSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBvdmVycmlkZSBkZWZhdWx0IG1vZGUgIit0KTtyZXR1cm4geGUoeGUoe30sZSksKChyPXt9KVt0XT14ZSh4ZSh7fSxuKSx7ZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3RyeXtuLmRlYWN0aXZhdGUoKX1jYXRjaChMRSl7Vi5jb25zb2xlLmVycm9yKCJwcm9ibGVtIHdoaWxlIGRlYWN0aXZhdGluZyBlZGl0b3IgbW9kZSAiK3QrIjoiLExFKX19fSkscikpfShvLmdldCgpLGUsdCkpfX19LE5OPXl0LmVhY2gsRU49eXQuZXhwbG9kZSxrTj17ZjE6MTEyLGYyOjExMyxmMzoxMTQsZjQ6MTE1LGY1OjExNixmNjoxMTcsZjc6MTE4LGY4OjExOSxmOToxMjAsZjEwOjEyMSxmMTE6MTIyLGYxMjoxMjN9LF9OPXl0Lm1ha2VNYXAoImFsdCxjdHJsLHNoaWZ0LG1ldGEsYWNjZXNzIiksVE49KFJOLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSxuLHIsbyl7dmFyIGk9dGhpcyx0PXI7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3I9ZnVuY3Rpb24oKXtpLmVkaXRvci5leGVjQ29tbWFuZCh0LCExLG51bGwpfTp5dC5pc0FycmF5KHQpJiYocj1mdW5jdGlvbigpe2kuZWRpdG9yLmV4ZWNDb21tYW5kKHRbMF0sdFsxXSx0WzJdKX0pLE5OKEVOKHl0LnRyaW0oZSkpLGZ1bmN0aW9uKGUpe3ZhciB0PWkuY3JlYXRlU2hvcnRjdXQoZSxuLHIsbyk7aS5zaG9ydGN1dHNbdC5pZF09dH0pLCEwfSxSTi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY3JlYXRlU2hvcnRjdXQoZSk7cmV0dXJuISF0aGlzLnNob3J0Y3V0c1t0LmlkXSYmKGRlbGV0ZSB0aGlzLnNob3J0Y3V0c1t0LmlkXSwhMCl9LFJOLnByb3RvdHlwZS5wYXJzZVNob3J0Y3V0PWZ1bmN0aW9uKGUpe3ZhciB0LG49e307Tk4oRU4oZS50b0xvd2VyQ2FzZSgpLCIrIiksZnVuY3Rpb24oZSl7ZSBpbiBfTj9uW2VdPSEwOi9eWzAtOV17Mix9JC8udGVzdChlKT9uLmtleUNvZGU9cGFyc2VJbnQoZSwxMCk6KG4uY2hhckNvZGU9ZS5jaGFyQ29kZUF0KDApLG4ua2V5Q29kZT1rTltlXXx8ZS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCkpfSk7dmFyIHI9W24ua2V5Q29kZV07Zm9yKHQgaW4gX04pblt0XT9yLnB1c2godCk6blt0XT0hMTtyZXR1cm4gbi5pZD1yLmpvaW4oIiwiKSxuLmFjY2VzcyYmKG4uYWx0PSEwLG10Lm1hYz9uLmN0cmw9ITA6bi5zaGlmdD0hMCksbi5tZXRhJiYobXQubWFjP24ubWV0YT0hMDoobi5jdHJsPSEwLG4ubWV0YT0hMSkpLG59LFJOLnByb3RvdHlwZS5jcmVhdGVTaG9ydGN1dD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz15dC5tYXAoRU4oZSwiPiIpLHRoaXMucGFyc2VTaG9ydGN1dCk7cmV0dXJuIG9bby5sZW5ndGgtMV09eXQuZXh0ZW5kKG9bby5sZW5ndGgtMV0se2Z1bmM6bixzY29wZTpyfHx0aGlzLmVkaXRvcn0pLHl0LmV4dGVuZChvWzBdLHtkZXNjOnRoaXMuZWRpdG9yLnRyYW5zbGF0ZSh0KSxzdWJwYXR0ZXJuczpvLnNsaWNlKDEpfSl9LFJOLnByb3RvdHlwZS5oYXNNb2RpZmllcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5hbHRLZXl8fGUuY3RybEtleXx8ZS5tZXRhS2V5fSxSTi5wcm90b3R5cGUuaXNGdW5jdGlvbktleT1mdW5jdGlvbihlKXtyZXR1cm4ia2V5ZG93biI9PT1lLnR5cGUmJjExMjw9ZS5rZXlDb2RlJiZlLmtleUNvZGU8PTEyM30sUk4ucHJvdG90eXBlLm1hdGNoU2hvcnRjdXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIXQmJnQuY3RybD09PWUuY3RybEtleSYmdC5tZXRhPT09ZS5tZXRhS2V5JiZ0LmFsdD09PWUuYWx0S2V5JiZ0LnNoaWZ0PT09ZS5zaGlmdEtleSYmISEoZS5rZXlDb2RlPT09dC5rZXlDb2RlfHxlLmNoYXJDb2RlJiZlLmNoYXJDb2RlPT09dC5jaGFyQ29kZSkmJihlLnByZXZlbnREZWZhdWx0KCksITApfSxSTi5wcm90b3R5cGUuZXhlY3V0ZVNob3J0Y3V0QWN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZ1bmM/ZS5mdW5jLmNhbGwoZS5zY29wZSk6bnVsbH0sUk4pO2Z1bmN0aW9uIFJOKGUpe3RoaXMuc2hvcnRjdXRzPXt9LHRoaXMucGVuZGluZ1BhdHRlcm5zPVtdLHRoaXMuZWRpdG9yPWU7dmFyIG49dGhpcztlLm9uKCJrZXl1cCBrZXlwcmVzcyBrZXlkb3duIixmdW5jdGlvbih0KXshbi5oYXNNb2RpZmllcih0KSYmIW4uaXNGdW5jdGlvbktleSh0KXx8dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KE5OKG4uc2hvcnRjdXRzLGZ1bmN0aW9uKGUpe2lmKG4ubWF0Y2hTaG9ydGN1dCh0LGUpKXJldHVybiBuLnBlbmRpbmdQYXR0ZXJucz1lLnN1YnBhdHRlcm5zLnNsaWNlKDApLCJrZXlkb3duIj09PXQudHlwZSYmbi5leGVjdXRlU2hvcnRjdXRBY3Rpb24oZSksITB9KSxuLm1hdGNoU2hvcnRjdXQodCxuLnBlbmRpbmdQYXR0ZXJuc1swXSkmJigxPT09bi5wZW5kaW5nUGF0dGVybnMubGVuZ3RoJiYia2V5ZG93biI9PT10LnR5cGUmJm4uZXhlY3V0ZVNob3J0Y3V0QWN0aW9uKG4ucGVuZGluZ1BhdHRlcm5zWzBdKSxuLnBlbmRpbmdQYXR0ZXJucy5zaGlmdCgpKSl9KX12YXIgQU49ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixvLGksYSx1LHM9KHQ9e30sbj17fSxyPXt9LG89e30saT17fSxhPXt9LHthZGRCdXR0b246KHU9ZnVuY3Rpb24obixyKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gbltlLnRvTG93ZXJDYXNlKCldPXhlKHhlKHt9LHQpLHt0eXBlOnJ9KX19KShlPXt9LCJidXR0b24iKSxhZGRHcm91cFRvb2xiYXJCdXR0b246dShlLCJncm91cHRvb2xiYXJidXR0b24iKSxhZGRUb2dnbGVCdXR0b246dShlLCJ0b2dnbGVidXR0b24iKSxhZGRNZW51QnV0dG9uOnUoZSwibWVudWJ1dHRvbiIpLGFkZFNwbGl0QnV0dG9uOnUoZSwic3BsaXRidXR0b24iKSxhZGRNZW51SXRlbTp1KHQsIm1lbnVpdGVtIiksYWRkTmVzdGVkTWVudUl0ZW06dSh0LCJuZXN0ZWRtZW51aXRlbSIpLGFkZFRvZ2dsZU1lbnVJdGVtOnUodCwidG9nZ2xlbWVudWl0ZW0iKSxhZGRBdXRvY29tcGxldGVyOnUobiwiYXV0b2NvbXBsZXRlciIpLGFkZENvbnRleHRNZW51OnUobywiY29udGV4dG1lbnUiKSxhZGRDb250ZXh0VG9vbGJhcjp1KGksImNvbnRleHR0b29sYmFyIiksYWRkQ29udGV4dEZvcm06dShpLCJjb250ZXh0Zm9ybSIpLGFkZFNpZGViYXI6dShhLCJzaWRlYmFyIiksYWRkSWNvbjpmdW5jdGlvbihlLHQpe3JldHVybiByW2UudG9Mb3dlckNhc2UoKV09dH0sZ2V0QWxsOmZ1bmN0aW9uKCl7cmV0dXJue2J1dHRvbnM6ZSxtZW51SXRlbXM6dCxpY29uczpyLHBvcHVwczpuLGNvbnRleHRNZW51czpvLGNvbnRleHRUb29sYmFyczppLHNpZGViYXJzOmF9fX0pO3JldHVybnthZGRBdXRvY29tcGxldGVyOnMuYWRkQXV0b2NvbXBsZXRlcixhZGRCdXR0b246cy5hZGRCdXR0b24sYWRkQ29udGV4dEZvcm06cy5hZGRDb250ZXh0Rm9ybSxhZGRDb250ZXh0TWVudTpzLmFkZENvbnRleHRNZW51LGFkZENvbnRleHRUb29sYmFyOnMuYWRkQ29udGV4dFRvb2xiYXIsYWRkSWNvbjpzLmFkZEljb24sYWRkTWVudUJ1dHRvbjpzLmFkZE1lbnVCdXR0b24sYWRkTWVudUl0ZW06cy5hZGRNZW51SXRlbSxhZGROZXN0ZWRNZW51SXRlbTpzLmFkZE5lc3RlZE1lbnVJdGVtLGFkZFNpZGViYXI6cy5hZGRTaWRlYmFyLGFkZFNwbGl0QnV0dG9uOnMuYWRkU3BsaXRCdXR0b24sYWRkVG9nZ2xlQnV0dG9uOnMuYWRkVG9nZ2xlQnV0dG9uLGFkZEdyb3VwVG9vbGJhckJ1dHRvbjpzLmFkZEdyb3VwVG9vbGJhckJ1dHRvbixhZGRUb2dnbGVNZW51SXRlbTpzLmFkZFRvZ2dsZU1lbnVJdGVtLGdldEFsbDpzLmdldEFsbH19LEROPXl0LmVhY2gsT049eXQudHJpbSxCTj0ic291cmNlIHByb3RvY29sIGF1dGhvcml0eSB1c2VySW5mbyB1c2VyIHBhc3N3b3JkIGhvc3QgcG9ydCByZWxhdGl2ZSBwYXRoIGRpcmVjdG9yeSBmaWxlIHF1ZXJ5IGFuY2hvciIuc3BsaXQoIiAiKSxQTj17ZnRwOjIxLGh0dHA6ODAsaHR0cHM6NDQzLG1haWx0bzoyNX0sTE49KElOLnBhcnNlRGF0YVVyaT1mdW5jdGlvbihlKXt2YXIgdCxuPWRlY29kZVVSSUNvbXBvbmVudChlKS5zcGxpdCgiLCIpLHI9L2RhdGE6KFteO10rKS8uZXhlYyhuWzBdKTtyZXR1cm4gciYmKHQ9clsxXSkse3R5cGU6dCxkYXRhOm5bMV19fSxJTi5nZXREb2N1bWVudEJhc2VVcmw9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9MCE9PWUucHJvdG9jb2wuaW5kZXhPZigiaHR0cCIpJiYiZmlsZToiIT09ZS5wcm90b2NvbD9lLmhyZWY6ZS5wcm90b2NvbCsiLy8iK2UuaG9zdCtlLnBhdGhuYW1lLC9eW146XSs6XC9cL1wvP1teXC9dK1wvLy50ZXN0KHQpJiYodD10LnJlcGxhY2UoL1tcPyNdLiokLywiIikucmVwbGFjZSgvW1wvXFxdW15cL10rJC8sIiIpLC9bXC9cXF0kLy50ZXN0KHQpfHwodCs9Ii8iKSksdH0sSU4ucHJvdG90eXBlLnNldFBhdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9L14oLio/KVwvPyhcdyspPyQvLmV4ZWMoZSk7dGhpcy5wYXRoPXRbMF0sdGhpcy5kaXJlY3Rvcnk9dFsxXSx0aGlzLmZpbGU9dFsyXSx0aGlzLnNvdXJjZT0iIix0aGlzLmdldFVSSSgpfSxJTi5wcm90b3R5cGUudG9SZWxhdGl2ZT1mdW5jdGlvbihlKXt2YXIgdDtpZigiLi8iPT09ZSlyZXR1cm4gZTt2YXIgbj1uZXcgSU4oZSx7YmFzZV91cmk6dGhpc30pO2lmKCJtY2VfaG9zdCIhPT1uLmhvc3QmJnRoaXMuaG9zdCE9PW4uaG9zdCYmbi5ob3N0fHx0aGlzLnBvcnQhPT1uLnBvcnR8fHRoaXMucHJvdG9jb2whPT1uLnByb3RvY29sJiYiIiE9PW4ucHJvdG9jb2wpcmV0dXJuIG4uZ2V0VVJJKCk7dmFyIHI9dGhpcy5nZXRVUkkoKSxvPW4uZ2V0VVJJKCk7cmV0dXJuIHI9PT1vfHwiLyI9PT1yLmNoYXJBdChyLmxlbmd0aC0xKSYmci5zdWJzdHIoMCxyLmxlbmd0aC0xKT09PW8/cjoodD10aGlzLnRvUmVsUGF0aCh0aGlzLnBhdGgsbi5wYXRoKSxuLnF1ZXJ5JiYodCs9Ij8iK24ucXVlcnkpLG4uYW5jaG9yJiYodCs9IiMiK24uYW5jaG9yKSx0KX0sSU4ucHJvdG90eXBlLnRvQWJzb2x1dGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgSU4oZSx7YmFzZV91cmk6dGhpc30pO3JldHVybiBuLmdldFVSSSh0JiZ0aGlzLmlzU2FtZU9yaWdpbihuKSl9LElOLnByb3RvdHlwZS5pc1NhbWVPcmlnaW49ZnVuY3Rpb24oZSl7aWYodGhpcy5ob3N0PT1lLmhvc3QmJnRoaXMucHJvdG9jb2w9PWUucHJvdG9jb2wpe2lmKHRoaXMucG9ydD09ZS5wb3J0KXJldHVybiEwO3ZhciB0PVBOW3RoaXMucHJvdG9jb2xdO2lmKHQmJih0aGlzLnBvcnR8fHQpPT0oZS5wb3J0fHx0KSlyZXR1cm4hMH1yZXR1cm4hMX0sSU4ucHJvdG90eXBlLnRvUmVsUGF0aD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbz0wLGk9IiIsYT1lLnN1YnN0cmluZygwLGUubGFzdEluZGV4T2YoIi8iKSkuc3BsaXQoIi8iKSx1PXQuc3BsaXQoIi8iKTtpZihhLmxlbmd0aD49dS5sZW5ndGgpZm9yKG49MCxyPWEubGVuZ3RoO248cjtuKyspaWYobj49dS5sZW5ndGh8fGFbbl0hPT11W25dKXtvPW4rMTticmVha31pZihhLmxlbmd0aDx1Lmxlbmd0aClmb3Iobj0wLHI9dS5sZW5ndGg7bjxyO24rKylpZihuPj1hLmxlbmd0aHx8YVtuXSE9PXVbbl0pe289bisxO2JyZWFrfWlmKDE9PT1vKXJldHVybiB0O2ZvcihuPTAscj1hLmxlbmd0aC0oby0xKTtuPHI7bisrKWkrPSIuLi8iO2ZvcihuPW8tMSxyPXUubGVuZ3RoO248cjtuKyspaSs9biE9PW8tMT8iLyIrdVtuXTp1W25dO3JldHVybiBpfSxJTi5wcm90b3R5cGUudG9BYnNQYXRoPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPTAsaT1bXSxhPS9cLyQvLnRlc3QodCk/Ii8iOiIiLHU9ZS5zcGxpdCgiLyIpLHM9dC5zcGxpdCgiLyIpO2ZvcihETih1LGZ1bmN0aW9uKGUpe2UmJmkucHVzaChlKX0pLHU9aSxuPXMubGVuZ3RoLTEsaT1bXTswPD1uO24tLSkwIT09c1tuXS5sZW5ndGgmJiIuIiE9PXNbbl0mJigiLi4iIT09c1tuXT8wPG8/by0tOmkucHVzaChzW25dKTpvKyspO3JldHVybiAwIT09KHI9KG49dS5sZW5ndGgtbyk8PTA/SihpKS5qb2luKCIvIik6dS5zbGljZSgwLG4pLmpvaW4oIi8iKSsiLyIrSihpKS5qb2luKCIvIikpLmluZGV4T2YoIi8iKSYmKHI9Ii8iK3IpLGEmJnIubGFzdEluZGV4T2YoIi8iKSE9PXIubGVuZ3RoLTEmJihyKz1hKSxyfSxJTi5wcm90b3R5cGUuZ2V0VVJJPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy5zb3VyY2UmJiFlfHwodD0iIixlfHwodGhpcy5wcm90b2NvbD90Kz10aGlzLnByb3RvY29sKyI6Ly8iOnQrPSIvLyIsdGhpcy51c2VySW5mbyYmKHQrPXRoaXMudXNlckluZm8rIkAiKSx0aGlzLmhvc3QmJih0Kz10aGlzLmhvc3QpLHRoaXMucG9ydCYmKHQrPSI6Iit0aGlzLnBvcnQpKSx0aGlzLnBhdGgmJih0Kz10aGlzLnBhdGgpLHRoaXMucXVlcnkmJih0Kz0iPyIrdGhpcy5xdWVyeSksdGhpcy5hbmNob3ImJih0Kz0iIyIrdGhpcy5hbmNob3IpLHRoaXMuc291cmNlPXQpLHRoaXMuc291cmNlfSxJTik7ZnVuY3Rpb24gSU4oZSx0KXtlPU9OKGUpLHRoaXMuc2V0dGluZ3M9dHx8e307dmFyIG49dGhpcy5zZXR0aW5ncy5iYXNlX3VyaSxyPXRoaXM7aWYoL14oW1x3XC1dKyk6KFteXC9dezJ9KS9pLnRlc3QoZSl8fC9eXHMqIy8udGVzdChlKSlyLnNvdXJjZT1lO2Vsc2V7dmFyIG89MD09PWUuaW5kZXhPZigiLy8iKTtpZigwIT09ZS5pbmRleE9mKCIvIil8fG98fChlPShuJiZuLnByb3RvY29sfHwiaHR0cCIpKyI6Ly9tY2VfaG9zdCIrZSksIS9eW1x3XC1dKjo/XC9cLy8udGVzdChlKSl7dmFyIGk9dGhpcy5zZXR0aW5ncy5iYXNlX3VyaT90aGlzLnNldHRpbmdzLmJhc2VfdXJpLnBhdGg6bmV3IElOKFYuZG9jdW1lbnQubG9jYXRpb24uaHJlZikuZGlyZWN0b3J5O2lmKHRoaXMuc2V0dGluZ3MuYmFzZV91cmkmJiIiPT10aGlzLnNldHRpbmdzLmJhc2VfdXJpLnByb3RvY29sKWU9Ii8vbWNlX2hvc3QiK3IudG9BYnNQYXRoKGksZSk7ZWxzZXt2YXIgYT0vKFteIz9dKikoWyM/XT8uKikvLmV4ZWMoZSk7ZT0obiYmbi5wcm90b2NvbHx8Imh0dHAiKSsiOi8vbWNlX2hvc3QiK3IudG9BYnNQYXRoKGksYVsxXSkrYVsyXX19ZT1lLnJlcGxhY2UoL0BAL2csIihtY2VfYXQpIik7dmFyIHU9L14oPzooPyFbXjpAXSs6W146QFwvXSpAKShbXjpcLz8jLl0rKTopPyg/OlwvXC8pPygoPzooKFteOkBcL10qKTo/KFteOkBcL10qKSk/QCk/KFteOlwvPyNdKikoPzo6KFxkKikpPykoKChcLyg/OltePyNdKD8hW14/I1wvXSpcLltePyNcLy5dKyg/Ols/I118JCkpKSpcLz8pPyhbXj8jXC9dKikpKD86XD8oW14jXSopKT8oPzojKC4qKSk/KS8uZXhlYyhlKTtETihCTixmdW5jdGlvbihlLHQpe3ZhciBuPXVbdF07bj1uJiZuLnJlcGxhY2UoL1wobWNlX2F0XCkvZywiQEAiKSxyW2VdPW59KSxuJiYoci5wcm90b2NvbHx8KHIucHJvdG9jb2w9bi5wcm90b2NvbCksci51c2VySW5mb3x8KHIudXNlckluZm89bi51c2VySW5mbyksci5wb3J0fHwibWNlX2hvc3QiIT09ci5ob3N0fHwoci5wb3J0PW4ucG9ydCksci5ob3N0JiYibWNlX2hvc3QiIT09ci5ob3N0fHwoci5ob3N0PW4uaG9zdCksci5zb3VyY2U9IiIpLG8mJihyLnByb3RvY29sPSIiKX19dmFyIE1OPUVhLkRPTSxGTj15dC5leHRlbmQsVU49eXQuZWFjaCx6Tj15dC5yZXNvbHZlLGpOPW10LmllLEhOPShWTi5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7RlModGhpcyl9LFZOLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbihlKXt2YXIgdCxuO249ZSwodD10aGlzKS5yZW1vdmVkfHwobj9KbTpHbSkodCl9LFZOLnByb3RvdHlwZS5oYXNGb2N1cz1mdW5jdGlvbigpe3JldHVybiBZbSh0aGlzKX0sVk4ucHJvdG90eXBlLmV4ZWNDYWxsYmFjaz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTt2YXIgcixvPXRoaXMuc2V0dGluZ3NbZV07aWYobylyZXR1cm4gdGhpcy5jYWxsYmFja0xvb2t1cCYmKHI9dGhpcy5jYWxsYmFja0xvb2t1cFtlXSkmJihvPXIuZnVuYyxyPXIuc2NvcGUpLCJzdHJpbmciPT10eXBlb2YgbyYmKHI9KHI9by5yZXBsYWNlKC9cLlx3KyQvLCIiKSk/ek4ocik6MCxvPXpOKG8pLHRoaXMuY2FsbGJhY2tMb29rdXA9dGhpcy5jYWxsYmFja0xvb2t1cHx8e30sdGhpcy5jYWxsYmFja0xvb2t1cFtlXT17ZnVuYzpvLHNjb3BlOnJ9KSxvLmFwcGx5KHJ8fHRoaXMsdCl9LFZOLnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIElhLnRyYW5zbGF0ZShlKX0sVk4ucHJvdG90eXBlLmdldFBhcmFtPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gc2godGhpcyxlLHQsbil9LFZOLnByb3RvdHlwZS5ub2RlQ2hhbmdlZD1mdW5jdGlvbihlKXt0aGlzLl9ub2RlQ2hhbmdlRGlzcGF0Y2hlci5ub2RlQ2hhbmdlZChlKX0sVk4ucHJvdG90eXBlLmFkZENvbW1hbmQ9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuZWRpdG9yQ29tbWFuZHMuYWRkQ29tbWFuZChlLHQsbil9LFZOLnByb3RvdHlwZS5hZGRRdWVyeVN0YXRlSGFuZGxlcj1mdW5jdGlvbihlLHQsbil7dGhpcy5lZGl0b3JDb21tYW5kcy5hZGRRdWVyeVN0YXRlSGFuZGxlcihlLHQsbil9LFZOLnByb3RvdHlwZS5hZGRRdWVyeVZhbHVlSGFuZGxlcj1mdW5jdGlvbihlLHQsbil7dGhpcy5lZGl0b3JDb21tYW5kcy5hZGRRdWVyeVZhbHVlSGFuZGxlcihlLHQsbil9LFZOLnByb3RvdHlwZS5hZGRTaG9ydGN1dD1mdW5jdGlvbihlLHQsbixyKXt0aGlzLnNob3J0Y3V0cy5hZGQoZSx0LG4scil9LFZOLnByb3RvdHlwZS5leGVjQ29tbWFuZD1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5leGVjQ29tbWFuZChlLHQsbixyKX0sVk4ucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN0YXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVkaXRvckNvbW1hbmRzLnF1ZXJ5Q29tbWFuZFN0YXRlKGUpfSxWTi5wcm90b3R5cGUucXVlcnlDb21tYW5kVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWRpdG9yQ29tbWFuZHMucXVlcnlDb21tYW5kVmFsdWUoZSl9LFZOLnByb3RvdHlwZS5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWRpdG9yQ29tbWFuZHMucXVlcnlDb21tYW5kU3VwcG9ydGVkKGUpfSxWTi5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMuaGlkZGVuJiYodGhpcy5oaWRkZW49ITEsdGhpcy5pbmxpbmU/dGhpcy5nZXRCb2R5KCkuY29udGVudEVkaXRhYmxlPSJ0cnVlIjooTU4uc2hvdyh0aGlzLmdldENvbnRhaW5lcigpKSxNTi5oaWRlKHRoaXMuaWQpKSx0aGlzLmxvYWQoKSx0aGlzLmZpcmUoInNob3ciKSl9LFZOLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuZ2V0RG9jKCk7ZS5oaWRkZW58fChqTiYmdCYmIWUuaW5saW5lJiZ0LmV4ZWNDb21tYW5kKCJTZWxlY3RBbGwiKSxlLnNhdmUoKSxlLmlubGluZT8oZS5nZXRCb2R5KCkuY29udGVudEVkaXRhYmxlPSJmYWxzZSIsZT09PWUuZWRpdG9yTWFuYWdlci5mb2N1c2VkRWRpdG9yJiYoZS5lZGl0b3JNYW5hZ2VyLmZvY3VzZWRFZGl0b3I9bnVsbCkpOihNTi5oaWRlKGUuZ2V0Q29udGFpbmVyKCkpLE1OLnNldFN0eWxlKGUuaWQsImRpc3BsYXkiLGUub3JnRGlzcGxheSkpLGUuaGlkZGVuPSEwLGUuZmlyZSgiaGlkZSIpKX0sVk4ucHJvdG90eXBlLmlzSGlkZGVuPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmhpZGRlbn0sVk4ucHJvdG90eXBlLnNldFByb2dyZXNzU3RhdGU9ZnVuY3Rpb24oZSx0KXt0aGlzLmZpcmUoIlByb2dyZXNzU3RhdGUiLHtzdGF0ZTplLHRpbWU6dH0pfSxWTi5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuZ2V0RWxlbWVudCgpO2lmKHRoaXMucmVtb3ZlZClyZXR1cm4iIjtpZihuKXsoZT1lfHx7fSkubG9hZD0hMDt2YXIgcj1ObihuKT9uLnZhbHVlOm4uaW5uZXJIVE1MO3JldHVybiB0PXRoaXMuc2V0Q29udGVudChyLGUpLGUuZWxlbWVudD1uLGUubm9fZXZlbnRzfHx0aGlzLmZpcmUoIkxvYWRDb250ZW50IixlKSxlLmVsZW1lbnQ9bj1udWxsLHR9fSxWTi5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcyxvPXIuZ2V0RWxlbWVudCgpO2lmKG8mJnIuaW5pdGlhbGl6ZWQmJiFyLnJlbW92ZWQpcmV0dXJuKGU9ZXx8e30pLnNhdmU9ITAsZS5lbGVtZW50PW8sZS5jb250ZW50PXIuZ2V0Q29udGVudChlKSxlLm5vX2V2ZW50c3x8ci5maXJlKCJTYXZlQ29udGVudCIsZSksInJhdyI9PT1lLmZvcm1hdCYmci5maXJlKCJSYXdTYXZlQ29udGVudCIsZSksdD1lLmNvbnRlbnQsTm4obyk/by52YWx1ZT10OighZS5pc19yZW1vdmluZyYmci5pbmxpbmV8fChvLmlubmVySFRNTD10KSwobj1NTi5nZXRQYXJlbnQoci5pZCwiZm9ybSIpKSYmVU4obi5lbGVtZW50cyxmdW5jdGlvbihlKXtpZihlLm5hbWU9PT1yLmlkKXJldHVybiBlLnZhbHVlPXQsITF9KSksZS5lbGVtZW50PW89bnVsbCwhMSE9PWUuc2V0X2RpcnR5JiZyLnNldERpcnR5KCExKSx0fSxWTi5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbihlLHQpe3JldHVybiBqZyh0aGlzLGUsdCl9LFZOLnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKGUpe3JldHVybiB6Zyh0aGlzLGUpfSxWTi5wcm90b3R5cGUuaW5zZXJ0Q29udGVudD1mdW5jdGlvbihlLHQpe3QmJihlPUZOKHtjb250ZW50OmV9LHQpKSx0aGlzLmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwhMSxlKX0sVk4ucHJvdG90eXBlLnJlc2V0Q29udGVudD1mdW5jdGlvbihlKXtlPT09dW5kZWZpbmVkP2pnKHRoaXMsdGhpcy5zdGFydENvbnRlbnQse2Zvcm1hdDoicmF3In0pOmpnKHRoaXMsZSksdGhpcy51bmRvTWFuYWdlci5yZXNldCgpLHRoaXMuc2V0RGlydHkoITEpLHRoaXMubm9kZUNoYW5nZWQoKX0sVk4ucHJvdG90eXBlLmlzRGlydHk9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc05vdERpcnR5fSxWTi5wcm90b3R5cGUuc2V0RGlydHk9ZnVuY3Rpb24oZSl7dmFyIHQ9IXRoaXMuaXNOb3REaXJ0eTt0aGlzLmlzTm90RGlydHk9IWUsZSYmZSE9PXQmJnRoaXMuZmlyZSgiZGlydHkiKX0sVk4ucHJvdG90eXBlLmdldENvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lcnx8KHRoaXMuY29udGFpbmVyPU1OLmdldCh0aGlzLmVkaXRvckNvbnRhaW5lcnx8dGhpcy5pZCsiX3BhcmVudCIpKSx0aGlzLmNvbnRhaW5lcn0sVk4ucHJvdG90eXBlLmdldENvbnRlbnRBcmVhQ29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudEFyZWFDb250YWluZXJ9LFZOLnByb3RvdHlwZS5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0RWxtfHwodGhpcy50YXJnZXRFbG09TU4uZ2V0KHRoaXMuaWQpKSx0aGlzLnRhcmdldEVsbX0sVk4ucHJvdG90eXBlLmdldFdpbj1mdW5jdGlvbigpe3ZhciBlO3JldHVybiB0aGlzLmNvbnRlbnRXaW5kb3d8fChlPXRoaXMuaWZyYW1lRWxlbWVudCkmJih0aGlzLmNvbnRlbnRXaW5kb3c9ZS5jb250ZW50V2luZG93KSx0aGlzLmNvbnRlbnRXaW5kb3d9LFZOLnByb3RvdHlwZS5nZXREb2M9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gdGhpcy5jb250ZW50RG9jdW1lbnR8fChlPXRoaXMuZ2V0V2luKCkpJiYodGhpcy5jb250ZW50RG9jdW1lbnQ9ZS5kb2N1bWVudCksdGhpcy5jb250ZW50RG9jdW1lbnR9LFZOLnByb3RvdHlwZS5nZXRCb2R5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXREb2MoKTtyZXR1cm4gdGhpcy5ib2R5RWxlbWVudHx8KGU/ZS5ib2R5Om51bGwpfSxWTi5wcm90b3R5cGUuY29udmVydFVSTD1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5zZXR0aW5ncztyZXR1cm4gci51cmxjb252ZXJ0ZXJfY2FsbGJhY2s/dGhpcy5leGVjQ2FsbGJhY2soInVybGNvbnZlcnRlcl9jYWxsYmFjayIsZSxuLCEwLHQpOiFyLmNvbnZlcnRfdXJsc3x8biYmIkxJTksiPT09bi5ub2RlTmFtZXx8MD09PWUuaW5kZXhPZigiZmlsZToiKXx8MD09PWUubGVuZ3RoP2U6ci5yZWxhdGl2ZV91cmxzP3RoaXMuZG9jdW1lbnRCYXNlVVJJLnRvUmVsYXRpdmUoZSk6ZT10aGlzLmRvY3VtZW50QmFzZVVSSS50b0Fic29sdXRlKGUsci5yZW1vdmVfc2NyaXB0X2hvc3QpfSxWTi5wcm90b3R5cGUuYWRkVmlzdWFsPWZ1bmN0aW9uKGUpe3ZhciBuLHI9dGhpcyxvPXIuc2V0dGluZ3MsaT1yLmRvbTtlPWV8fHIuZ2V0Qm9keSgpLHIuaGFzVmlzdWFsPT09dW5kZWZpbmVkJiYoci5oYXNWaXN1YWw9by52aXN1YWwpLFVOKGkuc2VsZWN0KCJ0YWJsZSxhIixlKSxmdW5jdGlvbihlKXt2YXIgdDtzd2l0Y2goZS5ub2RlTmFtZSl7Y2FzZSJUQUJMRSI6cmV0dXJuIG49by52aXN1YWxfdGFibGVfY2xhc3N8fCJtY2UtaXRlbS10YWJsZSIsdm9pZCgodD1pLmdldEF0dHJpYihlLCJib3JkZXIiKSkmJiIwIiE9PXR8fCFyLmhhc1Zpc3VhbD9pLnJlbW92ZUNsYXNzKGUsbik6aS5hZGRDbGFzcyhlLG4pKTtjYXNlIkEiOnJldHVybiB2b2lkKGkuZ2V0QXR0cmliKGUsImhyZWYiKXx8KHQ9aS5nZXRBdHRyaWIoZSwibmFtZSIpfHxlLmlkLG49by52aXN1YWxfYW5jaG9yX2NsYXNzfHwibWNlLWl0ZW0tYW5jaG9yIix0JiZyLmhhc1Zpc3VhbD9pLmFkZENsYXNzKGUsbik6aS5yZW1vdmVDbGFzcyhlLG4pKSl9fSksci5maXJlKCJWaXN1YWxBaWQiLHtlbGVtZW50OmUsaGFzVmlzdWFsOnIuaGFzVmlzdWFsfSl9LFZOLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtxZyh0aGlzKX0sVk4ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7JGcodGhpcyxlKX0sVk4ucHJvdG90eXBlLnVwbG9hZEltYWdlcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lZGl0b3JVcGxvYWQudXBsb2FkSW1hZ2VzKGUpfSxWTi5wcm90b3R5cGUuX3NjYW5Gb3JJbWFnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3JVcGxvYWQuc2NhbkZvckltYWdlcygpfSxWTi5wcm90b3R5cGUuYWRkQnV0dG9uPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJlZGl0b3IuYWRkQnV0dG9uIGhhcyBiZWVuIHJlbW92ZWQgaW4gdGlueW1jZSA1eCwgdXNlIGVkaXRvci51aS5yZWdpc3RyeS5hZGRCdXR0b24gb3IgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZFRvZ2dsZUJ1dHRvbiBvciBlZGl0b3IudWkucmVnaXN0cnkuYWRkU3BsaXRCdXR0b24gaW5zdGVhZCIpfSxWTi5wcm90b3R5cGUuYWRkU2lkZWJhcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiZWRpdG9yLmFkZFNpZGViYXIgaGFzIGJlZW4gcmVtb3ZlZCBpbiB0aW55bWNlIDV4LCB1c2UgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZFNpZGViYXIgaW5zdGVhZCIpfSxWTi5wcm90b3R5cGUuYWRkTWVudUl0ZW09ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoImVkaXRvci5hZGRNZW51SXRlbSBoYXMgYmVlbiByZW1vdmVkIGluIHRpbnltY2UgNXgsIHVzZSBlZGl0b3IudWkucmVnaXN0cnkuYWRkTWVudUl0ZW0gaW5zdGVhZCIpfSxWTi5wcm90b3R5cGUuYWRkQ29udGV4dFRvb2xiYXI9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoImVkaXRvci5hZGRDb250ZXh0VG9vbGJhciBoYXMgYmVlbiByZW1vdmVkIGluIHRpbnltY2UgNXgsIHVzZSBlZGl0b3IudWkucmVnaXN0cnkuYWRkQ29udGV4dFRvb2xiYXIgaW5zdGVhZCIpfSxWTik7ZnVuY3Rpb24gVk4oZSx0LG4pe3ZhciByPXRoaXM7dGhpcy5wbHVnaW5zPXt9LHRoaXMuY29udGVudENTUz1bXSx0aGlzLmNvbnRlbnRTdHlsZXM9W10sdGhpcy5sb2FkZWRDU1M9e30sdGhpcy5pc05vdERpcnR5PSExLHRoaXMuZWRpdG9yTWFuYWdlcj1uLHRoaXMuZG9jdW1lbnRCYXNlVXJsPW4uZG9jdW1lbnRCYXNlVVJMLEZOKHRoaXMsQ04pLHRoaXMuc2V0dGluZ3M9YWgodGhpcyxlLHRoaXMuZG9jdW1lbnRCYXNlVXJsLG4uZGVmYXVsdFNldHRpbmdzLHQpLHRoaXMuc2V0dGluZ3Muc3VmZml4JiYobi5zdWZmaXg9dGhpcy5zZXR0aW5ncy5zdWZmaXgpLHRoaXMuc3VmZml4PW4uc3VmZml4LHRoaXMuc2V0dGluZ3MuYmFzZV91cmwmJm4uX3NldEJhc2VVcmwodGhpcy5zZXR0aW5ncy5iYXNlX3VybCksdGhpcy5iYXNlVXJpPW4uYmFzZVVSSSx0aGlzLnNldHRpbmdzLnJlZmVycmVyX3BvbGljeSYmKFJhLlNjcmlwdExvYWRlci5fc2V0UmVmZXJyZXJQb2xpY3kodGhpcy5zZXR0aW5ncy5yZWZlcnJlcl9wb2xpY3kpLEVhLkRPTS5zdHlsZVNoZWV0TG9hZGVyLl9zZXRSZWZlcnJlclBvbGljeSh0aGlzLnNldHRpbmdzLnJlZmVycmVyX3BvbGljeSkpLEZhLmxhbmd1YWdlTG9hZD10aGlzLnNldHRpbmdzLmxhbmd1YWdlX2xvYWQsRmEuYmFzZVVSTD1uLmJhc2VVUkwsdGhpcy5pZD1lLHRoaXMuc2V0RGlydHkoITEpLHRoaXMuZG9jdW1lbnRCYXNlVVJJPW5ldyBMTih0aGlzLnNldHRpbmdzLmRvY3VtZW50X2Jhc2VfdXJsLHtiYXNlX3VyaTp0aGlzLmJhc2VVcml9KSx0aGlzLmJhc2VVUkk9dGhpcy5iYXNlVXJpLHRoaXMuaW5saW5lPSEhdGhpcy5zZXR0aW5ncy5pbmxpbmUsdGhpcy5zaG9ydGN1dHM9bmV3IFROKHRoaXMpLHRoaXMuZWRpdG9yQ29tbWFuZHM9bmV3IHROKHRoaXMpLHRoaXMuc2V0dGluZ3MuY2FjaGVfc3VmZml4JiYobXQuY2FjaGVTdWZmaXg9dGhpcy5zZXR0aW5ncy5jYWNoZV9zdWZmaXgucmVwbGFjZSgvXltcP1wmXSsvLCIiKSksdGhpcy51aT17cmVnaXN0cnk6QU4oKSxzdHlsZVNoZWV0TG9hZGVyOnVuZGVmaW5lZH07dmFyIG89U04odGhpcyk7dGhpcy5tb2RlPW8sdGhpcy5zZXRNb2RlPW8uc2V0LG4uZmlyZSgiU2V0dXBFZGl0b3IiLHtlZGl0b3I6dGhpc30pLHRoaXMuZXhlY0NhbGxiYWNrKCJzZXR1cCIsdGhpcyksdGhpcy4kPVJpLm92ZXJyaWRlRGVmYXVsdHMoZnVuY3Rpb24oKXtyZXR1cm57Y29udGV4dDpyLmlubGluZT9yLmdldEJvZHkoKTpyLmdldERvYygpLGVsZW1lbnQ6ci5nZXRCb2R5KCl9fSl9dmFyIHFOLCROLFdOPUVhLkRPTSxLTj15dC5leHBsb2RlLFhOPXl0LmVhY2gsWU49eXQuZXh0ZW5kLEdOPTAsSk49ITEsUU49W10sWk49W10sZUU9ZnVuY3Rpb24odCl7dmFyIG49dC50eXBlO1hOKG9FLmdldCgpLGZ1bmN0aW9uKGUpe3N3aXRjaChuKXtjYXNlInNjcm9sbCI6ZS5maXJlKCJTY3JvbGxXaW5kb3ciLHQpO2JyZWFrO2Nhc2UicmVzaXplIjplLmZpcmUoIlJlc2l6ZVdpbmRvdyIsdCl9fSl9LHRFPWZ1bmN0aW9uKGUpe2UhPT1KTiYmKGU/Umkod2luZG93KS5vbigicmVzaXplIHNjcm9sbCIsZUUpOlJpKHdpbmRvdykub2ZmKCJyZXNpemUgc2Nyb2xsIixlRSksSk49ZSl9LG5FPWZ1bmN0aW9uKHQpe3ZhciBlPVpOO2RlbGV0ZSBRTlt0LmlkXTtmb3IodmFyIG49MDtuPFFOLmxlbmd0aDtuKyspaWYoUU5bbl09PT10KXtRTi5zcGxpY2UobiwxKTticmVha31yZXR1cm4gWk49SChaTixmdW5jdGlvbihlKXtyZXR1cm4gdCE9PWV9KSxvRS5hY3RpdmVFZGl0b3I9PT10JiYob0UuYWN0aXZlRWRpdG9yPTA8Wk4ubGVuZ3RoP1pOWzBdOm51bGwpLG9FLmZvY3VzZWRFZGl0b3I9PT10JiYob0UuZm9jdXNlZEVkaXRvcj1udWxsKSxlLmxlbmd0aCE9PVpOLmxlbmd0aH0sckU9IkNTUzFDb21wYXQiIT09Vi5kb2N1bWVudC5jb21wYXRNb2RlLG9FPXhlKHhlKHt9LGdOKSx7YmFzZVVSSTpudWxsLGJhc2VVUkw6bnVsbCxkZWZhdWx0U2V0dGluZ3M6e30sZG9jdW1lbnRCYXNlVVJMOm51bGwsc3VmZml4Om51bGwsJDpSaSxtYWpvclZlcnNpb246IjUiLG1pbm9yVmVyc2lvbjoiNC4xIixyZWxlYXNlRGF0ZToiMjAyMC0wNy0wOCIsZWRpdG9yczpRTixpMThuOklhLGFjdGl2ZUVkaXRvcjpudWxsLGZvY3VzZWRFZGl0b3I6bnVsbCxzZXR0aW5nczp7fSxzZXR1cDpmdW5jdGlvbigpe3ZhciBlLHQsbj0iIjt0PUxOLmdldERvY3VtZW50QmFzZVVybChWLmRvY3VtZW50LmxvY2F0aW9uKSwvXlteOl0rOlwvXC9cLz9bXlwvXStcLy8udGVzdCh0KSYmKHQ9dC5yZXBsYWNlKC9bXD8jXS4qJC8sIiIpLnJlcGxhY2UoL1tcL1xcXVteXC9dKyQvLCIiKSwvW1wvXFxdJC8udGVzdCh0KXx8KHQrPSIvIikpO3ZhciByLG89d2luZG93LnRpbnltY2V8fHdpbmRvdy50aW55TUNFUHJlSW5pdDtpZihvKWU9by5iYXNlfHxvLmJhc2VVUkwsbj1vLnN1ZmZpeDtlbHNle2Zvcih2YXIgaT1WLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxhPTA7YTxpLmxlbmd0aDthKyspe3ZhciB1O2lmKCIiIT09KHU9aVthXS5zcmN8fCIiKSl7dmFyIHM9dS5zdWJzdHJpbmcodS5sYXN0SW5kZXhPZigiLyIpKTtpZigvdGlueW1jZShcLmZ1bGx8XC5qcXVlcnl8KShcLm1pbnxcLmRldnwpXC5qcy8udGVzdCh1KSl7LTEhPT1zLmluZGV4T2YoIi5taW4iKSYmKG49Ii5taW4iKSxlPXUuc3Vic3RyaW5nKDAsdS5sYXN0SW5kZXhPZigiLyIpKTticmVha319fWlmKCFlJiZWLmRvY3VtZW50LmN1cnJlbnRTY3JpcHQpLTEhPT0odT1WLmRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjKS5pbmRleE9mKCIubWluIikmJihuPSIubWluIiksZT11LnN1YnN0cmluZygwLHUubGFzdEluZGV4T2YoIi8iKSl9dGhpcy5iYXNlVVJMPW5ldyBMTih0KS50b0Fic29sdXRlKGUpLHRoaXMuZG9jdW1lbnRCYXNlVVJMPXQsdGhpcy5iYXNlVVJJPW5ldyBMTih0aGlzLmJhc2VVUkwpLHRoaXMuc3VmZml4PW4sKHI9dGhpcykub24oIkFkZEVkaXRvciIsTihIbSxyKSksci5vbigiUmVtb3ZlRWRpdG9yIixOKFZtLHIpKX0sb3ZlcnJpZGVEZWZhdWx0czpmdW5jdGlvbihlKXt2YXIgdD1lLmJhc2VfdXJsO3QmJnRoaXMuX3NldEJhc2VVcmwodCk7dmFyIG49ZS5zdWZmaXg7ZS5zdWZmaXgmJih0aGlzLnN1ZmZpeD1uKTt2YXIgcj0odGhpcy5kZWZhdWx0U2V0dGluZ3M9ZSkucGx1Z2luX2Jhc2VfdXJscztyIT09dW5kZWZpbmVkJiZvZShyLGZ1bmN0aW9uKGUsdCl7RmEuUGx1Z2luTWFuYWdlci51cmxzW3RdPWV9KX0saW5pdDpmdW5jdGlvbihyKXt2YXIgbix1PXRoaXMscz15dC5tYWtlTWFwKCJhcmVhIGJhc2UgYmFzZWZvbnQgYnIgY29sIGZyYW1lIGhyIGltZyBpbnB1dCBpc2luZGV4IGxpbmsgbWV0YSBwYXJhbSBlbWJlZCBzb3VyY2Ugd2JyIHRyYWNrIGNvbGdyb3VwIG9wdGlvbiB0YWJsZSB0Ym9keSB0Zm9vdCB0aGVhZCB0ciB0aCB0ZCBzY3JpcHQgbm9zY3JpcHQgc3R5bGUgdGV4dGFyZWEgdmlkZW8gYXVkaW8gaWZyYW1lIG9iamVjdCBtZW51IiwiICIpLGM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pZDtyZXR1cm4gdHx8KHQ9ZGUoZSwibmFtZSIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hV04uZ2V0KGUpfSkuZ2V0T3JUaHVuayhXTi51bmlxdWVJZCksZS5zZXRBdHRyaWJ1dGUoImlkIix0KSksdH0sbD1mdW5jdGlvbihlLHQpe3JldHVybiB0LmNvbnN0cnVjdG9yPT09UmVnRXhwP3QudGVzdChlLmNsYXNzTmFtZSk6V04uaGFzQ2xhc3MoZSx0KX0sZj1mdW5jdGlvbihlKXtuPWV9LGU9ZnVuY3Rpb24oKXt2YXIgbyxpPTAsYT1bXSxuPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uZXcgSE4oZSx0LHUpO2EucHVzaChyKSxyLm9uKCJpbml0IixmdW5jdGlvbigpeysraT09PW8ubGVuZ3RoJiZmKGEpfSksci50YXJnZXRFbG09ci50YXJnZXRFbG18fG4sci5yZW5kZXIoKX07V04udW5iaW5kKHdpbmRvdywicmVhZHkiLGUpLGZ1bmN0aW9uKGUpe3ZhciB0PXJbZV07aWYodCl0LmFwcGx5KHUsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX0oIm9ucGFnZWxvYWQiKSxvPVJpLnVuaXF1ZShmdW5jdGlvbih0KXt2YXIgbj1bXTtpZihtdC5icm93c2VyLmlzSUUoKSYmbXQuYnJvd3Nlci52ZXJzaW9uLm1ham9yPDExKXJldHVybiBfaCgiVGlueU1DRSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBicm93c2VyIHlvdSBhcmUgdXNpbmcuIEZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIGJyb3dzZXJzIHBsZWFzZSBzZWU6IGh0dHBzOi8vd3d3LnRpbnltY2UuY29tL2RvY3MvZ2V0LXN0YXJ0ZWQvc3lzdGVtLXJlcXVpcmVtZW50cy8iKSxbXTtpZihyRSlyZXR1cm4gX2goIkZhaWxlZCB0byBpbml0aWFsaXplIHRoZSBlZGl0b3IgYXMgdGhlIGRvY3VtZW50IGlzIG5vdCBpbiBzdGFuZGFyZHMgbW9kZS4gVGlueU1DRSByZXF1aXJlcyBzdGFuZGFyZHMgbW9kZS4iKSxbXTtpZih0LnR5cGVzKXJldHVybiBYTih0LnR5cGVzLGZ1bmN0aW9uKGUpe249bi5jb25jYXQoV04uc2VsZWN0KGUuc2VsZWN0b3IpKX0pLG47aWYodC5zZWxlY3RvcilyZXR1cm4gV04uc2VsZWN0KHQuc2VsZWN0b3IpO2lmKHQudGFyZ2V0KXJldHVyblt0LnRhcmdldF07c3dpdGNoKHQubW9kZSl7Y2FzZSJleGFjdCI6dmFyIGU9dC5lbGVtZW50c3x8IiI7MDxlLmxlbmd0aCYmWE4oS04oZSksZnVuY3Rpb24odCl7dmFyIGU9V04uZ2V0KHQpO2U/bi5wdXNoKGUpOlhOKFYuZG9jdW1lbnQuZm9ybXMsZnVuY3Rpb24oZSl7WE4oZS5lbGVtZW50cyxmdW5jdGlvbihlKXtlLm5hbWU9PT10JiYodD0ibWNlX2VkaXRvcl8iK0dOKyssV04uc2V0QXR0cmliKGUsImlkIix0KSxuLnB1c2goZSkpfSl9KX0pO2JyZWFrO2Nhc2UidGV4dGFyZWFzIjpjYXNlInNwZWNpZmljX3RleHRhcmVhcyI6WE4oV04uc2VsZWN0KCJ0ZXh0YXJlYSIpLGZ1bmN0aW9uKGUpe3QuZWRpdG9yX2Rlc2VsZWN0b3ImJmwoZSx0LmVkaXRvcl9kZXNlbGVjdG9yKXx8dC5lZGl0b3Jfc2VsZWN0b3ImJiFsKGUsdC5lZGl0b3Jfc2VsZWN0b3IpfHxuLnB1c2goZSl9KX1yZXR1cm4gbn0ocikpLHIudHlwZXM/WE4oci50eXBlcyxmdW5jdGlvbih0KXt5dC5lYWNoKG8sZnVuY3Rpb24oZSl7cmV0dXJuIVdOLmlzKGUsdC5zZWxlY3Rvcil8fChuKGMoZSksWU4oe30scix0KSxlKSwhMSl9KX0pOih5dC5lYWNoKG8sZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9dS5nZXQoZS5pZCkpJiZ0LmluaXRpYWxpemVkJiYhKHQuZ2V0Q29udGFpbmVyKCl8fHQuZ2V0Qm9keSgpKS5wYXJlbnROb2RlJiYobkUodCksdC51bmJpbmRBbGxOYXRpdmVFdmVudHMoKSx0LmRlc3Ryb3koITApLHQucmVtb3ZlZD0hMCx0PW51bGwpfSksMD09PShvPXl0LmdyZXAobyxmdW5jdGlvbihlKXtyZXR1cm4hdS5nZXQoZS5pZCl9KSkubGVuZ3RoP2YoW10pOlhOKG8sZnVuY3Rpb24oZSl7dmFyIHQ7dD1lLHIuaW5saW5lJiZ0LnRhZ05hbWUudG9Mb3dlckNhc2UoKWluIHM/X2goIkNvdWxkIG5vdCBpbml0aWFsaXplIGlubGluZSBlZGl0b3Igb24gaW52YWxpZCBpbmxpbmUgdGFyZ2V0IGVsZW1lbnQiLGUpOm4oYyhlKSxyLGUpfSkpfTtyZXR1cm4gdS5zZXR0aW5ncz1yLFdOLmJpbmQod2luZG93LCJyZWFkeSIsZSksbmV3IGVhKGZ1bmN0aW9uKHQpe24/dChuKTpmPWZ1bmN0aW9uKGUpe3QoZSl9fSl9LGdldDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/Wk4uc2xpY2UoMCk6cSh0KT9LKFpOLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09dH0pLmdldE9yKG51bGwpOkQodCkmJlpOW3RdP1pOW3RdOm51bGx9LGFkZDpmdW5jdGlvbihlKXt2YXIgbj10aGlzO3JldHVybiBRTltlLmlkXT09PWV8fChudWxsPT09bi5nZXQoZS5pZCkmJigibGVuZ3RoIiE9PWUuaWQmJihRTltlLmlkXT1lKSxRTi5wdXNoKGUpLFpOLnB1c2goZSkpLHRFKCEwKSxuLmFjdGl2ZUVkaXRvcj1lLG4uZmlyZSgiQWRkRWRpdG9yIix7ZWRpdG9yOmV9KSxxTnx8KHFOPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZmlyZSgiQmVmb3JlVW5sb2FkIik7aWYodC5yZXR1cm5WYWx1ZSlyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLGUucmV0dXJuVmFsdWU9dC5yZXR1cm5WYWx1ZSx0LnJldHVyblZhbHVlfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIixxTikpKSxlfSxjcmVhdGVFZGl0b3I6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hZGQobmV3IEhOKGUsdCx0aGlzKSl9LHJlbW92ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcztpZihlKXtpZighcShlKSlyZXR1cm4gbj1lLF8oci5nZXQobi5pZCkpP251bGw6KG5FKG4pJiZyLmZpcmUoIlJlbW92ZUVkaXRvciIse2VkaXRvcjpufSksMD09PVpOLmxlbmd0aCYmd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImJlZm9yZXVubG9hZCIscU4pLG4ucmVtb3ZlKCksdEUoMDxaTi5sZW5ndGgpLG4pO1hOKFdOLnNlbGVjdChlKSxmdW5jdGlvbihlKXsobj1yLmdldChlLmlkKSkmJnIucmVtb3ZlKG4pfSl9ZWxzZSBmb3IodD1aTi5sZW5ndGgtMTswPD10O3QtLSlyLnJlbW92ZShaTlt0XSl9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLmdldChuKTtzd2l0Y2goZSl7Y2FzZSJtY2VBZGRFZGl0b3IiOnJldHVybiB0aGlzLmdldChuKXx8bmV3IEhOKG4sdGhpcy5zZXR0aW5ncyx0aGlzKS5yZW5kZXIoKSwhMDtjYXNlIm1jZVJlbW92ZUVkaXRvciI6cmV0dXJuIHImJnIucmVtb3ZlKCksITA7Y2FzZSJtY2VUb2dnbGVFZGl0b3IiOnJldHVybiByPyhyLmlzSGlkZGVuKCk/ci5zaG93KCk6ci5oaWRlKCksITApOih0aGlzLmV4ZWNDb21tYW5kKCJtY2VBZGRFZGl0b3IiLDAsbiksITApfXJldHVybiEhdGhpcy5hY3RpdmVFZGl0b3ImJnRoaXMuYWN0aXZlRWRpdG9yLmV4ZWNDb21tYW5kKGUsdCxuKX0sdHJpZ2dlclNhdmU6ZnVuY3Rpb24oKXtYTihaTixmdW5jdGlvbihlKXtlLnNhdmUoKX0pfSxhZGRJMThuOmZ1bmN0aW9uKGUsdCl7SWEuYWRkKGUsdCl9LHRyYW5zbGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gSWEudHJhbnNsYXRlKGUpfSxzZXRBY3RpdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5hY3RpdmVFZGl0b3I7dGhpcy5hY3RpdmVFZGl0b3IhPT1lJiYodCYmdC5maXJlKCJkZWFjdGl2YXRlIix7cmVsYXRlZFRhcmdldDplfSksZS5maXJlKCJhY3RpdmF0ZSIse3JlbGF0ZWRUYXJnZXQ6dH0pKSx0aGlzLmFjdGl2ZUVkaXRvcj1lfSxfc2V0QmFzZVVybDpmdW5jdGlvbihlKXt0aGlzLmJhc2VVUkw9bmV3IExOKHRoaXMuZG9jdW1lbnRCYXNlVVJMKS50b0Fic29sdXRlKGUucmVwbGFjZSgvXC8rJC8sIiIpKSx0aGlzLmJhc2VVUkk9bmV3IExOKHRoaXMuYmFzZVVSTCl9fSk7ZnVuY3Rpb24gaUUobil7cmV0dXJue3dhbGs6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcmYobixlLHQpfSxzcGxpdDpvcCxub3JtYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIGx2KG4sdCkuZm9sZCh4KCExKSxmdW5jdGlvbihlKXtyZXR1cm4gdC5zZXRTdGFydChlLnN0YXJ0Q29udGFpbmVyLGUuc3RhcnRPZmZzZXQpLHQuc2V0RW5kKGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KSwhMH0pfX19b0Uuc2V0dXAoKSwoJE49aUU9aUV8fHt9KS5jb21wYXJlUmFuZ2VzPXJ2LCROLmdldENhcmV0UmFuZ2VGcm9tUG9pbnQ9SmgsJE4uZ2V0U2VsZWN0ZWROb2RlPWp1LCROLmdldE5vZGU9SHU7dmFyIGFFLHVFLHNFLGNFLGxFPWlFLGZFPShhRT17fSx1RT17fSx7bG9hZDpmdW5jdGlvbihyLG8pe3ZhciBpPSdTY3JpcHQgYXQgVVJMICInK28rJyIgZmFpbGVkIHRvIGxvYWQnLGE9J1NjcmlwdCBhdCBVUkwgIicrbysiXCIgZGlkIG5vdCBjYWxsIGB0aW55bWNlLlJlc291cmNlLmFkZCgnIityKyInLCBkYXRhKWAgd2l0aGluIDEgc2Vjb25kIjtpZihhRVtyXSE9PXVuZGVmaW5lZClyZXR1cm4gYUVbcl07dmFyIGU9bmV3IGVhKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPTFlMyk7dmFyIHI9ITEsbz1udWxsLGk9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3J8fChyPSEwLG51bGwhPT1vJiYoVi5jbGVhclRpbWVvdXQobyksbz1udWxsKSxuLmFwcGx5KG51bGwsZSkpfX0sYT1pKGUpLHU9aSh0KTtyZXR1cm57c3RhcnQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cnx8bnVsbCE9PW98fChvPVYuc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB1LmFwcGx5KG51bGwsZSl9LG4pKX0scmVzb2x2ZTphLHJlamVjdDp1fX0oZSx0KTt1RVtyXT1uLnJlc29sdmUsUmEuU2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQobyxmdW5jdGlvbigpe3JldHVybiBuLnN0YXJ0KGEpfSxmdW5jdGlvbigpe3JldHVybiBuLnJlamVjdChpKX0pfSk7cmV0dXJuIGFFW3JdPWV9LGFkZDpmdW5jdGlvbihlLHQpe3VFW2VdIT09dW5kZWZpbmVkJiYodUVbZV0odCksZGVsZXRlIHVFW2VdKSxhRVtlXT1lYS5yZXNvbHZlKHQpfX0pLGRFPU1hdGgubWluLG1FPU1hdGgubWF4LHBFPU1hdGgucm91bmQsZ0U9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQueCxvPXQueSxpPWUudyxhPWUuaCx1PXQudyxzPXQuaDtyZXR1cm4iYiI9PT0obj0obnx8IiIpLnNwbGl0KCIiKSlbMF0mJihvKz1zKSwiciI9PT1uWzFdJiYocis9dSksImMiPT09blswXSYmKG8rPXBFKHMvMikpLCJjIj09PW5bMV0mJihyKz1wRSh1LzIpKSwiYiI9PT1uWzNdJiYoby09YSksInIiPT09bls0XSYmKHItPWkpLCJjIj09PW5bM10mJihvLT1wRShhLzIpKSwiYyI9PT1uWzRdJiYoci09cEUoaS8yKSksaEUocixvLGksYSl9LGhFPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybnt4OmUseTp0LHc6bixoOnJ9fSx2RT17aW5mbGF0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGhFKGUueC10LGUueS1uLGUudysyKnQsZS5oKzIqbil9LHJlbGF0aXZlUG9zaXRpb246Z0UsZmluZEJlc3RSZWxhdGl2ZVBvc2l0aW9uOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGk7Zm9yKGk9MDtpPHIubGVuZ3RoO2krKylpZigobz1nRShlLHQscltpXSkpLng+PW4ueCYmby54K28udzw9bi53K24ueCYmby55Pj1uLnkmJm8ueStvLmg8PW4uaCtuLnkpcmV0dXJuIHJbaV07cmV0dXJuIG51bGx9LGludGVyc2VjdDpmdW5jdGlvbihlLHQpe3ZhciBuPW1FKGUueCx0LngpLHI9bUUoZS55LHQueSksbz1kRShlLngrZS53LHQueCt0LncpLGk9ZEUoZS55K2UuaCx0LnkrdC5oKTtyZXR1cm4gby1uPDB8fGktcjwwP251bGw6aEUobixyLG8tbixpLXIpfSxjbGFtcDpmdW5jdGlvbihlLHQsbil7dmFyIHI9ZS54LG89ZS55LGk9ZS54K2UudyxhPWUueStlLmgsdT10LngrdC53LHM9dC55K3QuaCxjPW1FKDAsdC54LXIpLGw9bUUoMCx0LnktbyksZj1tRSgwLGktdSksZD1tRSgwLGEtcyk7cmV0dXJuIHIrPWMsbys9bCxuJiYoaSs9YyxhKz1sLHItPWYsby09ZCksaEUocixvLChpLT1mKS1yLChhLT1kKS1vKX0sY3JlYXRlOmhFLGZyb21DbGllbnRSZWN0OmZ1bmN0aW9uKGUpe3JldHVybiBoRShlLmxlZnQsZS50b3AsZS53aWR0aCxlLmhlaWdodCl9fSx5RT15dC5lYWNoLGJFPXl0LmV4dGVuZCxDRT1mdW5jdGlvbigpe307Q0UuZXh0ZW5kPXNFPWZ1bmN0aW9uKG4pe3ZhciBvPXRoaXMucHJvdG90eXBlLHI9ZnVuY3Rpb24oKXt2YXIgZSx0LG47aWYoIWNFJiYodGhpcy5pbml0JiZ0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHQ9dGhpcy5NaXhpbnMpKWZvcihlPXQubGVuZ3RoO2UtLTspKG49dFtlXSkuaW5pdCYmbi5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtjRT0hMDt2YXIgaT1uZXcgdGhpcztyZXR1cm4gY0U9ITEsbi5NaXhpbnMmJih5RShuLk1peGlucyxmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSkiaW5pdCIhPT10JiYoblt0XT1lW3RdKX0pLG8uTWl4aW5zJiYobi5NaXhpbnM9by5NaXhpbnMuY29uY2F0KG4uTWl4aW5zKSkpLG4uTWV0aG9kcyYmeUUobi5NZXRob2RzLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7bltlXT10fSksbi5Qcm9wZXJ0aWVzJiZ5RShuLlByb3BlcnRpZXMuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD0iXyIrZTtuW2VdPWZ1bmN0aW9uKGUpe3JldHVybiBlIT09dW5kZWZpbmVkPyh0aGlzW3RdPWUsdGhpcyk6dGhpc1t0XX19KSxuLlN0YXRpY3MmJnlFKG4uU3RhdGljcyxmdW5jdGlvbihlLHQpe3JbdF09ZX0pLG4uRGVmYXVsdHMmJm8uRGVmYXVsdHMmJihuLkRlZmF1bHRzPWJFKHt9LG8uRGVmYXVsdHMsbi5EZWZhdWx0cykpLG9lKG4sZnVuY3Rpb24oZSx0KXt2YXIgbixyOyJmdW5jdGlvbiI9PXR5cGVvZiBlJiZvW3RdP2lbdF09KG49dCxyPWUsZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9zdXBlcjt0aGlzLl9zdXBlcj1vW25dO3ZhciB0PXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzLl9zdXBlcj1lLHR9KTppW3RdPWV9KSxyLnByb3RvdHlwZT1pLChyLmNvbnN0cnVjdG9yPXIpLmV4dGVuZD1zRSxyfTt2YXIgd0U9TWF0aC5taW4seEU9TWF0aC5tYXgsU0U9TWF0aC5yb3VuZCxORT17c2VyaWFsaXplOmZ1bmN0aW9uKGUpe3ZhciB0PUpTT04uc3RyaW5naWZ5KGUpO3JldHVybiBxKHQpP3QucmVwbGFjZSgvW1x1MDA4MC1cdUZGRkZdL2csZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KTtyZXR1cm4iXFx1IisiMDAwMCIuc3Vic3RyaW5nKHQubGVuZ3RoKSt0fSk6dH0scGFyc2U6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKHQpe319fSxFRT17Y2FsbGJhY2tzOnt9LGNvdW50OjAsc2VuZDpmdW5jdGlvbih0KXt2YXIgbj10aGlzLHI9RWEuRE9NLG89dC5jb3VudCE9PXVuZGVmaW5lZD90LmNvdW50Om4uY291bnQsaT0idGlueW1jZV9qc29ucF8iK287bi5jYWxsYmFja3Nbb109ZnVuY3Rpb24oZSl7ci5yZW1vdmUoaSksZGVsZXRlIG4uY2FsbGJhY2tzW29dLHQuY2FsbGJhY2soZSl9LHIuYWRkKHIuZG9jLmJvZHksInNjcmlwdCIse2lkOmksc3JjOnQudXJsLHR5cGU6InRleHQvamF2YXNjcmlwdCJ9KSxuLmNvdW50Kyt9fSxrRT14ZSh4ZSh7fSxnTikse3NlbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbj0wLHI9ZnVuY3Rpb24oKXshZS5hc3luY3x8ND09PXQucmVhZHlTdGF0ZXx8MWU0PG4rKz8oZS5zdWNjZXNzJiZuPDFlNCYmMjAwPT09dC5zdGF0dXM/ZS5zdWNjZXNzLmNhbGwoZS5zdWNjZXNzX3Njb3BlLCIiK3QucmVzcG9uc2VUZXh0LHQsZSk6ZS5lcnJvciYmZS5lcnJvci5jYWxsKGUuZXJyb3Jfc2NvcGUsMWU0PG4/IlRJTUVEX09VVCI6IkdFTkVSQUwiLHQsZSksdD1udWxsKTpmYS5zZXRUaW1lb3V0KHIsMTApfTtpZihlLnNjb3BlPWUuc2NvcGV8fHRoaXMsZS5zdWNjZXNzX3Njb3BlPWUuc3VjY2Vzc19zY29wZXx8ZS5zY29wZSxlLmVycm9yX3Njb3BlPWUuZXJyb3Jfc2NvcGV8fGUuc2NvcGUsZS5hc3luYz0hMSE9PWUuYXN5bmMsZS5kYXRhPWUuZGF0YXx8IiIsa0UuZmlyZSgiYmVmb3JlSW5pdGlhbGl6ZSIse3NldHRpbmdzOmV9KSx0PW5ldyBWLlhNTEh0dHBSZXF1ZXN0KXtpZih0Lm92ZXJyaWRlTWltZVR5cGUmJnQub3ZlcnJpZGVNaW1lVHlwZShlLmNvbnRlbnRfdHlwZSksdC5vcGVuKGUudHlwZXx8KGUuZGF0YT8iUE9TVCI6IkdFVCIpLGUudXJsLGUuYXN5bmMpLGUuY3Jvc3NEb21haW4mJih0LndpdGhDcmVkZW50aWFscz0hMCksZS5jb250ZW50X3R5cGUmJnQuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixlLmNvbnRlbnRfdHlwZSksZS5yZXF1ZXN0aGVhZGVycyYmeXQuZWFjaChlLnJlcXVlc3RoZWFkZXJzLGZ1bmN0aW9uKGUpe3Quc2V0UmVxdWVzdEhlYWRlcihlLmtleSxlLnZhbHVlKX0pLHQuc2V0UmVxdWVzdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsIlhNTEh0dHBSZXF1ZXN0IiksKHQ9a0UuZmlyZSgiYmVmb3JlU2VuZCIse3hocjp0LHNldHRpbmdzOmV9KS54aHIpLnNlbmQoZS5kYXRhKSwhZS5hc3luYylyZXR1cm4gcigpO2ZhLnNldFRpbWVvdXQociwxMCl9fX0pLF9FPXl0LmV4dGVuZCxURT0oUkUuc2VuZFJQQz1mdW5jdGlvbihlKXtyZXR1cm4obmV3IFJFKS5zZW5kKGUpfSxSRS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXt2YXIgbj1lLmVycm9yLHI9ZS5zdWNjZXNzLG89X0UodGhpcy5zZXR0aW5ncyxlKTtvLnN1Y2Nlc3M9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT0oZT1ORS5wYXJzZShlKSkmJihlPXtlcnJvcjoiSlNPTiBQYXJzZSBlcnJvci4ifSksZS5lcnJvcj9uLmNhbGwoby5lcnJvcl9zY29wZXx8by5zY29wZSxlLmVycm9yLHQpOnIuY2FsbChvLnN1Y2Nlc3Nfc2NvcGV8fG8uc2NvcGUsZS5yZXN1bHQpfSxvLmVycm9yPWZ1bmN0aW9uKGUsdCl7biYmbi5jYWxsKG8uZXJyb3Jfc2NvcGV8fG8uc2NvcGUsZSx0KX0sby5kYXRhPU5FLnNlcmlhbGl6ZSh7aWQ6ZS5pZHx8ImMiK3RoaXMuY291bnQrKyxtZXRob2Q6ZS5tZXRob2QscGFyYW1zOmUucGFyYW1zfSksby5jb250ZW50X3R5cGU9ImFwcGxpY2F0aW9uL2pzb24iLGtFLnNlbmQobyl9LFJFKTtmdW5jdGlvbiBSRShlKXt0aGlzLnNldHRpbmdzPV9FKHt9LGUpLHRoaXMuY291bnQ9MH12YXIgQUU7dHJ5e3ZhciBERT0iX19zdG9yYWdlX3Rlc3RfXyI7KEFFPVYud2luZG93LmxvY2FsU3RvcmFnZSkuc2V0SXRlbShERSxERSksQUUucmVtb3ZlSXRlbShERSl9Y2F0Y2goTEUpe0FFPWZ1bmN0aW9uKCl7cmV0dXJuIG49e30scj1bXSxlPXtnZXRJdGVtOmZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07cmV0dXJuIHR8fG51bGx9LHNldEl0ZW06ZnVuY3Rpb24oZSx0KXtyLnB1c2goZSksbltlXT1TdHJpbmcodCl9LGtleTpmdW5jdGlvbihlKXtyZXR1cm4gcltlXX0scmVtb3ZlSXRlbTpmdW5jdGlvbih0KXtyPXIuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pLGRlbGV0ZSBuW3RdfSxjbGVhcjpmdW5jdGlvbigpe3I9W10sbj17fX0sbGVuZ3RoOjB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJsZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5sZW5ndGh9LGNvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiExfSksZTt2YXIgbixyLGV9KCl9dmFyIE9FLEJFPXtnZW9tOntSZWN0OnZFfSx1dGlsOntQcm9taXNlOmVhLERlbGF5OmZhLFRvb2xzOnl0LFZLOnZ2LFVSSTpMTixDbGFzczpDRSxFdmVudERpc3BhdGNoZXI6Zk4sT2JzZXJ2YWJsZTpnTixJMThuOklhLFhIUjprRSxKU09OOk5FLEpTT05SZXF1ZXN0OlRFLEpTT05QOkVFLExvY2FsU3RvcmFnZTpBRSxDb2xvcjpmdW5jdGlvbihlKXt2YXIgbj17fSx1PTAscz0wLGM9MCx0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiJvYmplY3QiPT10eXBlb2YgZT8iciJpbiBlPyh1PWUucixzPWUuZyxjPWUuYik6InYiaW4gZSYmZnVuY3Rpb24oZSx0LG4pe2lmKGU9KHBhcnNlSW50KGUsMTApfHwwKSUzNjAsdD1wYXJzZUludCh0LDEwKS8xMDAsbj1wYXJzZUludChuLDEwKS8xMDAsdD14RSgwLHdFKHQsMSkpLG49eEUoMCx3RShuLDEpKSwwIT09dCl7dmFyIHI9ZS82MCxvPW4qdCxpPW8qKDEtTWF0aC5hYnMociUyLTEpKSxhPW4tbztzd2l0Y2goTWF0aC5mbG9vcihyKSl7Y2FzZSAwOnU9byxzPWksYz0wO2JyZWFrO2Nhc2UgMTp1PWkscz1vLGM9MDticmVhaztjYXNlIDI6dT0wLHM9byxjPWk7YnJlYWs7Y2FzZSAzOnU9MCxzPWksYz1vO2JyZWFrO2Nhc2UgNDp1PWkscz0wLGM9bzticmVhaztjYXNlIDU6dT1vLHM9MCxjPWk7YnJlYWs7ZGVmYXVsdDp1PXM9Yz0wfXU9U0UoMjU1Kih1K2EpKSxzPVNFKDI1NSoocythKSksYz1TRSgyNTUqKGMrYSkpfWVsc2UgdT1zPWM9U0UoMjU1Km4pfShlLmgsZS5zLGUudik6KHQ9L3JnYlxzKlwoXHMqKFswLTldKylccyosXHMqKFswLTldKylccyosXHMqKFswLTldKylbXlwpXSpcKS9naS5leGVjKGUpKT8odT1wYXJzZUludCh0WzFdLDEwKSxzPXBhcnNlSW50KHRbMl0sMTApLGM9cGFyc2VJbnQodFszXSwxMCkpOih0PS8jKFswLUZdezJ9KShbMC1GXXsyfSkoWzAtRl17Mn0pL2dpLmV4ZWMoZSkpPyh1PXBhcnNlSW50KHRbMV0sMTYpLHM9cGFyc2VJbnQodFsyXSwxNiksYz1wYXJzZUludCh0WzNdLDE2KSk6KHQ9LyMoWzAtRl0pKFswLUZdKShbMC1GXSkvZ2kuZXhlYyhlKSkmJih1PXBhcnNlSW50KHRbMV0rdFsxXSwxNikscz1wYXJzZUludCh0WzJdK3RbMl0sMTYpLGM9cGFyc2VJbnQodFszXSt0WzNdLDE2KSksdT11PDA/MDoyNTU8dT8yNTU6dSxzPXM8MD8wOjI1NTxzPzI1NTpzLGM9YzwwPzA6MjU1PGM/MjU1OmMsbn07cmV0dXJuIGUmJnQoZSksbi50b1JnYj1mdW5jdGlvbigpe3JldHVybntyOnUsZzpzLGI6Y319LG4udG9Ic3Y9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87bz0wO3ZhciBpPXdFKGUvPTI1NSx3RSh0Lz0yNTUsbi89MjU1KSksYT14RShlLHhFKHQsbikpO3JldHVybiBpPT09YT97aDowLHM6MCx2OjEwMCoobz1pKX06KHI9KGEtaSkvYSx7aDpTRSg2MCooKGU9PT1pPzM6bj09PWk/MTo1KS0oZT09PWk/dC1uOm49PT1pP2UtdDpuLWUpLygobz1hKS1pKSkpLHM6U0UoMTAwKnIpLHY6U0UoMTAwKm8pfSl9KHUscyxjKX0sbi50b0hleD1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUpe3JldHVybiAxPChlPXBhcnNlSW50KGUsMTApLnRvU3RyaW5nKDE2KSkubGVuZ3RoP2U6IjAiK2V9O3JldHVybiIjIitlKHUpK2UocykrZShjKX0sbi5wYXJzZT10LG59fSxkb206e0V2ZW50VXRpbHM6SHIsU2l6emxlOlZvLERvbVF1ZXJ5OlJpLFRyZWVXYWxrZXI6QWksVGV4dFNlZWtlcjp2dSxET01VdGlsczpFYSxTY3JpcHRMb2FkZXI6UmEsUmFuZ2VVdGlsczpsRSxTZXJpYWxpemVyOlh2LFN0eWxlU2hlZXRMb2FkZXI6ZGEsQ29udHJvbFNlbGVjdGlvbjpDdixCb29rbWFya01hbmFnZXI6Z3YsU2VsZWN0aW9uOk52LEV2ZW50OkhyLkV2ZW50fSxodG1sOntTdHlsZXM6QnIsRW50aXRpZXM6eXIsTm9kZTpUZixTY2hlbWE6UnIsU2F4UGFyc2VyOkhmLERvbVBhcnNlcjpWdixXcml0ZXI6RGYsU2VyaWFsaXplcjpPZn0sRW52Om10LEFkZE9uTWFuYWdlcjpGYSxBbm5vdGF0b3I6eGYsRm9ybWF0dGVyOmx5LFVuZG9NYW5hZ2VyOmR5LEVkaXRvckNvbW1hbmRzOnROLFdpbmRvd01hbmFnZXI6d2gsTm90aWZpY2F0aW9uTWFuYWdlcjp5aCxFZGl0b3JPYnNlcnZhYmxlOkNOLFNob3J0Y3V0czpUTixFZGl0b3I6SE4sRm9jdXNNYW5hZ2VyOk1tLEVkaXRvck1hbmFnZXI6b0UsRE9NOkVhLkRPTSxTY3JpcHRMb2FkZXI6UmEuU2NyaXB0TG9hZGVyLFBsdWdpbk1hbmFnZXI6RmEuUGx1Z2luTWFuYWdlcixUaGVtZU1hbmFnZXI6RmEuVGhlbWVNYW5hZ2VyLEljb25NYW5hZ2VyOmNoLFJlc291cmNlOmZFLHRyaW06eXQudHJpbSxpc0FycmF5Onl0LmlzQXJyYXksaXM6eXQuaXMsdG9BcnJheTp5dC50b0FycmF5LG1ha2VNYXA6eXQubWFrZU1hcCxlYWNoOnl0LmVhY2gsbWFwOnl0Lm1hcCxncmVwOnl0LmdyZXAsaW5BcnJheTp5dC5pbkFycmF5LGV4dGVuZDp5dC5leHRlbmQsY3JlYXRlOnl0LmNyZWF0ZSx3YWxrOnl0LndhbGssY3JlYXRlTlM6eXQuY3JlYXRlTlMscmVzb2x2ZTp5dC5yZXNvbHZlLGV4cGxvZGU6eXQuZXhwbG9kZSxfYWRkQ2FjaGVTdWZmaXg6eXQuX2FkZENhY2hlU3VmZml4LGlzT3BlcmE6bXQub3BlcmEsaXNXZWJLaXQ6bXQud2Via2l0LGlzSUU6bXQuaWUsaXNHZWNrbzptdC5nZWNrbyxpc01hYzptdC5tYWN9LFBFPXl0LmV4dGVuZChvRSxCRSk7T0U9UEUsd2luZG93LnRpbnltY2U9T0Usd2luZG93LnRpbnlNQ0U9T0UsZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUpdHJ5e21vZHVsZS5leHBvcnRzPWV9Y2F0Y2godCl7fX0oUEUpfSh3aW5kb3cpOw==</text>
      </register>
      <register name=":" type="4">
        <text>action Find</text>
      </register>
    </registers>
  </component>
  <component name="VimSearchSettings">
    <search>
      <last-dir>0</last-dir>
      <show-last>false</show-last>
    </search>
  </component>
  <component name="VimSettings">
    <state version="6" enabled="true" />
    <notifications>
      <idea-join enabled="false" />
      <idea-put enabled="false" />
    </notifications>
  </component>
</application>